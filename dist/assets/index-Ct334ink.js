(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();var tM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function D_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Dm={exports:{}},Cc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g1;function eM(){if(g1)return Cc;g1=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:n,type:i,key:l,ref:s!==void 0?s:null,props:a}}return Cc.Fragment=t,Cc.jsx=e,Cc.jsxs=e,Cc}var y1;function nM(){return y1||(y1=1,Dm.exports=eM()),Dm.exports}var V=nM(),jm={exports:{}},Qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _1;function iM(){if(_1)return Qe;_1=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),_=Symbol.iterator;function S(Y){return Y===null||typeof Y!="object"?null:(Y=_&&Y[_]||Y["@@iterator"],typeof Y=="function"?Y:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function N(Y,Z,at){this.props=Y,this.context=Z,this.refs=T,this.updater=at||x}N.prototype.isReactComponent={},N.prototype.setState=function(Y,Z){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,Z,"setState")},N.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function M(){}M.prototype=N.prototype;function D(Y,Z,at){this.props=Y,this.context=Z,this.refs=T,this.updater=at||x}var I=D.prototype=new M;I.constructor=D,E(I,N.prototype),I.isPureReactComponent=!0;var R=Array.isArray;function z(){}var j={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function J(Y,Z,at){var Tt=at.ref;return{$$typeof:n,type:Y,key:Z,ref:Tt!==void 0?Tt:null,props:at}}function tt(Y,Z){return J(Y.type,Z,Y.props)}function ot(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===n}function G(Y){var Z={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(at){return Z[at]})}var dt=/\/+/g;function ht(Y,Z){return typeof Y=="object"&&Y!==null&&Y.key!=null?G(""+Y.key):Z.toString(36)}function ut(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(z,z):(Y.status="pending",Y.then(function(Z){Y.status==="pending"&&(Y.status="fulfilled",Y.value=Z)},function(Z){Y.status==="pending"&&(Y.status="rejected",Y.reason=Z)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function rt(Y,Z,at,Tt,gt){var Ut=typeof Y;(Ut==="undefined"||Ut==="boolean")&&(Y=null);var _t=!1;if(Y===null)_t=!0;else switch(Ut){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(Y.$$typeof){case n:case t:_t=!0;break;case g:return _t=Y._init,rt(_t(Y._payload),Z,at,Tt,gt)}}if(_t)return gt=gt(Y),_t=Tt===""?"."+ht(Y,0):Tt,R(gt)?(at="",_t!=null&&(at=_t.replace(dt,"$&/")+"/"),rt(gt,Z,at,"",function(Mt){return Mt})):gt!=null&&(ot(gt)&&(gt=tt(gt,at+(gt.key==null||Y&&Y.key===gt.key?"":(""+gt.key).replace(dt,"$&/")+"/")+_t)),Z.push(gt)),1;_t=0;var ct=Tt===""?".":Tt+":";if(R(Y))for(var vt=0;vt<Y.length;vt++)Tt=Y[vt],Ut=ct+ht(Tt,vt),_t+=rt(Tt,Z,at,Ut,gt);else if(vt=S(Y),typeof vt=="function")for(Y=vt.call(Y),vt=0;!(Tt=Y.next()).done;)Tt=Tt.value,Ut=ct+ht(Tt,vt++),_t+=rt(Tt,Z,at,Ut,gt);else if(Ut==="object"){if(typeof Y.then=="function")return rt(ut(Y),Z,at,Tt,gt);throw Z=String(Y),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return _t}function lt(Y,Z,at){if(Y==null)return Y;var Tt=[],gt=0;return rt(Y,Tt,"","",function(Ut){return Z.call(at,Ut,gt++)}),Tt}function et(Y){if(Y._status===-1){var Z=Y._result;Z=Z(),Z.then(function(at){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=at)},function(at){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=at)}),Y._status===-1&&(Y._status=0,Y._result=Z)}if(Y._status===1)return Y._result.default;throw Y._result}var Pt=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},nt={map:lt,forEach:function(Y,Z,at){lt(Y,function(){Z.apply(this,arguments)},at)},count:function(Y){var Z=0;return lt(Y,function(){Z++}),Z},toArray:function(Y){return lt(Y,function(Z){return Z})||[]},only:function(Y){if(!ot(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return Qe.Activity=y,Qe.Children=nt,Qe.Component=N,Qe.Fragment=e,Qe.Profiler=s,Qe.PureComponent=D,Qe.StrictMode=i,Qe.Suspense=f,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return j.H.useMemoCache(Y)}},Qe.cache=function(Y){return function(){return Y.apply(null,arguments)}},Qe.cacheSignal=function(){return null},Qe.cloneElement=function(Y,Z,at){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var Tt=E({},Y.props),gt=Y.key;if(Z!=null)for(Ut in Z.key!==void 0&&(gt=""+Z.key),Z)!W.call(Z,Ut)||Ut==="key"||Ut==="__self"||Ut==="__source"||Ut==="ref"&&Z.ref===void 0||(Tt[Ut]=Z[Ut]);var Ut=arguments.length-2;if(Ut===1)Tt.children=at;else if(1<Ut){for(var _t=Array(Ut),ct=0;ct<Ut;ct++)_t[ct]=arguments[ct+2];Tt.children=_t}return J(Y.type,gt,Tt)},Qe.createContext=function(Y){return Y={$$typeof:l,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:a,_context:Y},Y},Qe.createElement=function(Y,Z,at){var Tt,gt={},Ut=null;if(Z!=null)for(Tt in Z.key!==void 0&&(Ut=""+Z.key),Z)W.call(Z,Tt)&&Tt!=="key"&&Tt!=="__self"&&Tt!=="__source"&&(gt[Tt]=Z[Tt]);var _t=arguments.length-2;if(_t===1)gt.children=at;else if(1<_t){for(var ct=Array(_t),vt=0;vt<_t;vt++)ct[vt]=arguments[vt+2];gt.children=ct}if(Y&&Y.defaultProps)for(Tt in _t=Y.defaultProps,_t)gt[Tt]===void 0&&(gt[Tt]=_t[Tt]);return J(Y,Ut,gt)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(Y){return{$$typeof:c,render:Y}},Qe.isValidElement=ot,Qe.lazy=function(Y){return{$$typeof:g,_payload:{_status:-1,_result:Y},_init:et}},Qe.memo=function(Y,Z){return{$$typeof:d,type:Y,compare:Z===void 0?null:Z}},Qe.startTransition=function(Y){var Z=j.T,at={};j.T=at;try{var Tt=Y(),gt=j.S;gt!==null&&gt(at,Tt),typeof Tt=="object"&&Tt!==null&&typeof Tt.then=="function"&&Tt.then(z,Pt)}catch(Ut){Pt(Ut)}finally{Z!==null&&at.types!==null&&(Z.types=at.types),j.T=Z}},Qe.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Qe.use=function(Y){return j.H.use(Y)},Qe.useActionState=function(Y,Z,at){return j.H.useActionState(Y,Z,at)},Qe.useCallback=function(Y,Z){return j.H.useCallback(Y,Z)},Qe.useContext=function(Y){return j.H.useContext(Y)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(Y,Z){return j.H.useDeferredValue(Y,Z)},Qe.useEffect=function(Y,Z){return j.H.useEffect(Y,Z)},Qe.useEffectEvent=function(Y){return j.H.useEffectEvent(Y)},Qe.useId=function(){return j.H.useId()},Qe.useImperativeHandle=function(Y,Z,at){return j.H.useImperativeHandle(Y,Z,at)},Qe.useInsertionEffect=function(Y,Z){return j.H.useInsertionEffect(Y,Z)},Qe.useLayoutEffect=function(Y,Z){return j.H.useLayoutEffect(Y,Z)},Qe.useMemo=function(Y,Z){return j.H.useMemo(Y,Z)},Qe.useOptimistic=function(Y,Z){return j.H.useOptimistic(Y,Z)},Qe.useReducer=function(Y,Z,at){return j.H.useReducer(Y,Z,at)},Qe.useRef=function(Y){return j.H.useRef(Y)},Qe.useState=function(Y){return j.H.useState(Y)},Qe.useSyncExternalStore=function(Y,Z,at){return j.H.useSyncExternalStore(Y,Z,at)},Qe.useTransition=function(){return j.H.useTransition()},Qe.version="19.2.0",Qe}var b1;function j_(){return b1||(b1=1,jm.exports=iM()),jm.exports}var Ee=j_();const oa=D_(Ee);var Im={exports:{}},Nc={},zm={exports:{}},Bm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1;function rM(){return v1||(v1=1,(function(n){function t(rt,lt){var et=rt.length;rt.push(lt);t:for(;0<et;){var Pt=et-1>>>1,nt=rt[Pt];if(0<s(nt,lt))rt[Pt]=lt,rt[et]=nt,et=Pt;else break t}}function e(rt){return rt.length===0?null:rt[0]}function i(rt){if(rt.length===0)return null;var lt=rt[0],et=rt.pop();if(et!==lt){rt[0]=et;t:for(var Pt=0,nt=rt.length,Y=nt>>>1;Pt<Y;){var Z=2*(Pt+1)-1,at=rt[Z],Tt=Z+1,gt=rt[Tt];if(0>s(at,et))Tt<nt&&0>s(gt,at)?(rt[Pt]=gt,rt[Tt]=et,Pt=Tt):(rt[Pt]=at,rt[Z]=et,Pt=Z);else if(Tt<nt&&0>s(gt,et))rt[Pt]=gt,rt[Tt]=et,Pt=Tt;else break t}}return lt}function s(rt,lt){var et=rt.sortIndex-lt.sortIndex;return et!==0?et:rt.id-lt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],d=[],g=1,y=null,_=3,S=!1,x=!1,E=!1,T=!1,N=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function I(rt){for(var lt=e(d);lt!==null;){if(lt.callback===null)i(d);else if(lt.startTime<=rt)i(d),lt.sortIndex=lt.expirationTime,t(f,lt);else break;lt=e(d)}}function R(rt){if(E=!1,I(rt),!x)if(e(f)!==null)x=!0,z||(z=!0,G());else{var lt=e(d);lt!==null&&ut(R,lt.startTime-rt)}}var z=!1,j=-1,W=5,J=-1;function tt(){return T?!0:!(n.unstable_now()-J<W)}function ot(){if(T=!1,z){var rt=n.unstable_now();J=rt;var lt=!0;try{t:{x=!1,E&&(E=!1,M(j),j=-1),S=!0;var et=_;try{e:{for(I(rt),y=e(f);y!==null&&!(y.expirationTime>rt&&tt());){var Pt=y.callback;if(typeof Pt=="function"){y.callback=null,_=y.priorityLevel;var nt=Pt(y.expirationTime<=rt);if(rt=n.unstable_now(),typeof nt=="function"){y.callback=nt,I(rt),lt=!0;break e}y===e(f)&&i(f),I(rt)}else i(f);y=e(f)}if(y!==null)lt=!0;else{var Y=e(d);Y!==null&&ut(R,Y.startTime-rt),lt=!1}}break t}finally{y=null,_=et,S=!1}lt=void 0}}finally{lt?G():z=!1}}}var G;if(typeof D=="function")G=function(){D(ot)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,ht=dt.port2;dt.port1.onmessage=ot,G=function(){ht.postMessage(null)}}else G=function(){N(ot,0)};function ut(rt,lt){j=N(function(){rt(n.unstable_now())},lt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(rt){rt.callback=null},n.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<rt?Math.floor(1e3/rt):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(rt){switch(_){case 1:case 2:case 3:var lt=3;break;default:lt=_}var et=_;_=lt;try{return rt()}finally{_=et}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(rt,lt){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var et=_;_=rt;try{return lt()}finally{_=et}},n.unstable_scheduleCallback=function(rt,lt,et){var Pt=n.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?Pt+et:Pt):et=Pt,rt){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=et+nt,rt={id:g++,callback:lt,priorityLevel:rt,startTime:et,expirationTime:nt,sortIndex:-1},et>Pt?(rt.sortIndex=et,t(d,rt),e(f)===null&&rt===e(d)&&(E?(M(j),j=-1):E=!0,ut(R,et-Pt))):(rt.sortIndex=nt,t(f,rt),x||S||(x=!0,z||(z=!0,G()))),rt},n.unstable_shouldYield=tt,n.unstable_wrapCallback=function(rt){var lt=_;return function(){var et=_;_=lt;try{return rt.apply(this,arguments)}finally{_=et}}}})(Bm)),Bm}var w1;function sM(){return w1||(w1=1,zm.exports=rM()),zm.exports}var Um={exports:{}},or={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x1;function oM(){if(x1)return or;x1=1;var n=j_();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(f,d,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:f,containerInfo:d,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return or.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,or.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(f,d,null,g)},or.flushSync=function(f){var d=l.T,g=i.p;try{if(l.T=null,i.p=2,f)return f()}finally{l.T=d,i.p=g,i.d.f()}},or.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},or.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},or.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,y=c(g,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,S=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:S}):g==="script"&&i.d.X(f,{crossOrigin:y,integrity:_,fetchPriority:S,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},or.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=c(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},or.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,y=c(g,d.crossOrigin);i.d.L(f,g,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},or.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=c(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},or.requestFormReset=function(f){i.d.r(f)},or.unstable_batchedUpdates=function(f,d){return f(d)},or.useFormState=function(f,d,g){return l.H.useFormState(f,d,g)},or.useFormStatus=function(){return l.H.useHostTransitionStatus()},or.version="19.2.0",or}var S1;function BS(){if(S1)return Um.exports;S1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Um.exports=oM(),Um.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1;function aM(){if(E1)return Nc;E1=1;var n=sM(),t=j_(),e=BS();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)o+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,h=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(h=o.return),r=o.return;while(r)}return o.tag===3?h:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function c(r){if(r.tag===31){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function f(r){if(a(r)!==r)throw Error(i(188))}function d(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var h=r,m=o;;){var w=h.return;if(w===null)break;var k=w.alternate;if(k===null){if(m=w.return,m!==null){h=m;continue}break}if(w.child===k.child){for(k=w.child;k;){if(k===h)return f(w),r;if(k===m)return f(w),o;k=k.sibling}throw Error(i(188))}if(h.return!==m.return)h=w,m=k;else{for(var H=!1,Q=w.child;Q;){if(Q===h){H=!0,h=w,m=k;break}if(Q===m){H=!0,m=w,h=k;break}Q=Q.sibling}if(!H){for(Q=k.child;Q;){if(Q===h){H=!0,h=k,m=w;break}if(Q===m){H=!0,m=k,h=w;break}Q=Q.sibling}if(!H)throw Error(i(189))}}if(h.alternate!==m)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?r:o}function g(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=g(r),o!==null)return o;r=r.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),D=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),tt=Symbol.for("react.memo_cache_sentinel"),ot=Symbol.iterator;function G(r){return r===null||typeof r!="object"?null:(r=ot&&r[ot]||r["@@iterator"],typeof r=="function"?r:null)}var dt=Symbol.for("react.client.reference");function ht(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===dt?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case N:return"Profiler";case T:return"StrictMode";case R:return"Suspense";case z:return"SuspenseList";case J:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case x:return"Portal";case D:return r.displayName||"Context";case M:return(r._context.displayName||"Context")+".Consumer";case I:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case j:return o=r.displayName||null,o!==null?o:ht(r.type)||"Memo";case W:o=r._payload,r=r._init;try{return ht(r(o))}catch{}}return null}var ut=Array.isArray,rt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},Pt=[],nt=-1;function Y(r){return{current:r}}function Z(r){0>nt||(r.current=Pt[nt],Pt[nt]=null,nt--)}function at(r,o){nt++,Pt[nt]=r.current,r.current=o}var Tt=Y(null),gt=Y(null),Ut=Y(null),_t=Y(null);function ct(r,o){switch(at(Ut,o),at(gt,r),at(Tt,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?B0(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=B0(o),r=U0(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Z(Tt),at(Tt,r)}function vt(){Z(Tt),Z(gt),Z(Ut)}function Mt(r){r.memoizedState!==null&&at(_t,r);var o=Tt.current,h=U0(o,r.type);o!==h&&(at(gt,r),at(Tt,h))}function Rt(r){gt.current===r&&(Z(Tt),Z(gt)),_t.current===r&&(Z(_t),Tc._currentValue=et)}var At,ce;function Jt(r){if(At===void 0)try{throw Error()}catch(h){var o=h.stack.trim().match(/\n( *(at )?)/);At=o&&o[1]||"",ce=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+At+r+ce}var ft=!1;function Et(r,o){if(!r||ft)return"";ft=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(ne){var Qt=ne}Reflect.construct(r,[],_e)}else{try{_e.call()}catch(ne){Qt=ne}r.call(_e.prototype)}}else{try{throw Error()}catch(ne){Qt=ne}(_e=r())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(ne){if(ne&&Qt&&typeof ne.stack=="string")return[ne.stack,Qt.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=m.DetermineComponentFrameRoot(),H=k[0],Q=k[1];if(H&&Q){var St=H.split(`
`),Zt=Q.split(`
`);for(w=m=0;m<St.length&&!St[m].includes("DetermineComponentFrameRoot");)m++;for(;w<Zt.length&&!Zt[w].includes("DetermineComponentFrameRoot");)w++;if(m===St.length||w===Zt.length)for(m=St.length-1,w=Zt.length-1;1<=m&&0<=w&&St[m]!==Zt[w];)w--;for(;1<=m&&0<=w;m--,w--)if(St[m]!==Zt[w]){if(m!==1||w!==1)do if(m--,w--,0>w||St[m]!==Zt[w]){var de=`
`+St[m].replace(" at new "," at ");return r.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",r.displayName)),de}while(1<=m&&0<=w);break}}}finally{ft=!1,Error.prepareStackTrace=h}return(h=r?r.displayName||r.name:"")?Jt(h):""}function Vt(r,o){switch(r.tag){case 26:case 27:case 5:return Jt(r.type);case 16:return Jt("Lazy");case 13:return r.child!==o&&o!==null?Jt("Suspense Fallback"):Jt("Suspense");case 19:return Jt("SuspenseList");case 0:case 15:return Et(r.type,!1);case 11:return Et(r.type.render,!1);case 1:return Et(r.type,!0);case 31:return Jt("Activity");default:return""}}function ie(r){try{var o="",h=null;do o+=Vt(r,h),h=r,r=r.return;while(r);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var re=Object.prototype.hasOwnProperty,he=n.unstable_scheduleCallback,wt=n.unstable_cancelCallback,fe=n.unstable_shouldYield,ve=n.unstable_requestPaint,Xt=n.unstable_now,Ke=n.unstable_getCurrentPriorityLevel,C=n.unstable_ImmediatePriority,F=n.unstable_UserBlockingPriority,K=n.unstable_NormalPriority,bt=n.unstable_LowPriority,Bt=n.unstable_IdlePriority,ee=n.log,we=n.unstable_setDisableYieldValue,Ot=null,Wt=null;function Pe(r){if(typeof ee=="function"&&we(r),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(Ot,r)}catch{}}var ue=Math.clz32?Math.clz32:Ci,Fe=Math.log,Ye=Math.LN2;function Ci(r){return r>>>=0,r===0?32:31-(Fe(r)/Ye|0)|0}var Te=256,Pn=262144,di=4194304;function vi(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function wi(r,o,h){var m=r.pendingLanes;if(m===0)return 0;var w=0,k=r.suspendedLanes,H=r.pingedLanes;r=r.warmLanes;var Q=m&134217727;return Q!==0?(m=Q&~k,m!==0?w=vi(m):(H&=Q,H!==0?w=vi(H):h||(h=Q&~r,h!==0&&(w=vi(h))))):(Q=m&~k,Q!==0?w=vi(Q):H!==0?w=vi(H):h||(h=m&~r,h!==0&&(w=vi(h)))),w===0?0:o!==0&&o!==w&&(o&k)===0&&(k=w&-w,h=o&-o,k>=h||k===32&&(h&4194048)!==0)?o:w}function Kn(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function Ks(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yr(){var r=di;return di<<=1,(di&62914560)===0&&(di=4194304),r}function zi(r){for(var o=[],h=0;31>h;h++)o.push(r);return o}function it(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function pt(r,o,h,m,w,k){var H=r.pendingLanes;r.pendingLanes=h,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=h,r.entangledLanes&=h,r.errorRecoveryDisabledLanes&=h,r.shellSuspendCounter=0;var Q=r.entanglements,St=r.expirationTimes,Zt=r.hiddenUpdates;for(h=H&~h;0<h;){var de=31-ue(h),_e=1<<de;Q[de]=0,St[de]=-1;var Qt=Zt[de];if(Qt!==null)for(Zt[de]=null,de=0;de<Qt.length;de++){var ne=Qt[de];ne!==null&&(ne.lane&=-536870913)}h&=~_e}m!==0&&xe(r,m,0),k!==0&&w===0&&r.tag!==0&&(r.suspendedLanes|=k&~(H&~o))}function xe(r,o,h){r.pendingLanes|=o,r.suspendedLanes&=~o;var m=31-ue(o);r.entangledLanes|=o,r.entanglements[m]=r.entanglements[m]|1073741824|h&261930}function be(r,o){var h=r.entangledLanes|=o;for(r=r.entanglements;h;){var m=31-ue(h),w=1<<m;w&o|r[m]&o&&(r[m]|=o),h&=~w}}function Me(r,o){var h=o&-o;return h=(h&42)!==0?1:cn(h),(h&(r.suspendedLanes|o))!==0?0:h}function cn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Re(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function oi(){var r=lt.p;return r!==0?r:(r=window.event,r===void 0?32:u1(r.type))}function Ji(r,o){var h=lt.p;try{return lt.p=r,o()}finally{lt.p=h}}var Ni=Math.random().toString(36).slice(2),pn="__reactFiber$"+Ni,kn="__reactProps$"+Ni,Hn="__reactContainer$"+Ni,qn="__reactEvents$"+Ni,pr="__reactListeners$"+Ni,xi="__reactHandles$"+Ni,Bi="__reactResources$"+Ni,Yn="__reactMarker$"+Ni;function pa(r){delete r[pn],delete r[kn],delete r[qn],delete r[pr],delete r[xi]}function Zr(r){var o=r[pn];if(o)return o;for(var h=r.parentNode;h;){if(o=h[Hn]||h[pn]){if(h=o.alternate,o.child!==null||h!==null&&h.child!==null)for(r=Y0(r);r!==null;){if(h=r[pn])return h;r=Y0(r)}return o}r=h,h=r.parentNode}return null}function Mn(r){if(r=r[pn]||r[Hn]){var o=r.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return r}return null}function Ui(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function Fi(r){var o=r[Bi];return o||(o=r[Bi]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function ti(r){r[Yn]=!0}var ks=new Set,So={};function Xr(r,o){Mr(r,o),Mr(r+"Capture",o)}function Mr(r,o){for(So[r]=o,r=0;r<o.length;r++)ks.add(o[r])}var mr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ma={},Ys={};function Zs(r){return re.call(Ys,r)?!0:re.call(ma,r)?!1:mr.test(r)?Ys[r]=!0:(ma[r]=!0,!1)}function je(r,o,h){if(Zs(o))if(h===null)r.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+h)}}function Sn(r,o,h){if(h===null)r.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+h)}}function Ki(r,o,h,m){if(m===null)r.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(h);return}r.setAttributeNS(o,h,""+m)}}function Xn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function gr(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ga(r,o,h){var m=Object.getOwnPropertyDescriptor(r.constructor.prototype,o);if(!r.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var w=m.get,k=m.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return w.call(this)},set:function(H){h=""+H,k.call(this,H)}}),Object.defineProperty(r,o,{enumerable:m.enumerable}),{getValue:function(){return h},setValue:function(H){h=""+H},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Ge(r){if(!r._valueTracker){var o=gr(r)?"checked":"value";r._valueTracker=ga(r,o,""+r[o])}}function Un(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var h=o.getValue(),m="";return r&&(m=gr(r)?r.checked?"true":"false":r.value),r=m,r!==h?(o.setValue(r),!0):!1}function mn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var hs=/[\n"\\]/g;function En(r){return r.replace(hs,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ds(r,o,h,m,w,k,H,Q){r.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?r.type=H:r.removeAttribute("type"),o!=null?H==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+Xn(o)):r.value!==""+Xn(o)&&(r.value=""+Xn(o)):H!=="submit"&&H!=="reset"||r.removeAttribute("value"),o!=null?yr(r,H,Xn(o)):h!=null?yr(r,H,Xn(h)):m!=null&&r.removeAttribute("value"),w==null&&k!=null&&(r.defaultChecked=!!k),w!=null&&(r.checked=w&&typeof w!="function"&&typeof w!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?r.name=""+Xn(Q):r.removeAttribute("name")}function Ms(r,o,h,m,w,k,H,Q){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(r.type=k),o!=null||h!=null){if(!(k!=="submit"&&k!=="reset"||o!=null)){Ge(r);return}h=h!=null?""+Xn(h):"",o=o!=null?""+Xn(o):h,Q||o===r.value||(r.value=o),r.defaultValue=o}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=Q?r.checked:!!m,r.defaultChecked=!!m,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(r.name=H),Ge(r)}function yr(r,o,h){o==="number"&&mn(r.ownerDocument)===r||r.defaultValue===""+h||(r.defaultValue=""+h)}function _n(r,o,h,m){if(r=r.options,o){o={};for(var w=0;w<h.length;w++)o["$"+h[w]]=!0;for(h=0;h<r.length;h++)w=o.hasOwnProperty("$"+r[h].value),r[h].selected!==w&&(r[h].selected=w),w&&m&&(r[h].defaultSelected=!0)}else{for(h=""+Xn(h),o=null,w=0;w<r.length;w++){if(r[w].value===h){r[w].selected=!0,m&&(r[w].defaultSelected=!0);return}o!==null||r[w].disabled||(o=r[w])}o!==null&&(o.selected=!0)}}function Gr(r,o,h){if(o!=null&&(o=""+Xn(o),o!==r.value&&(r.value=o),h==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=h!=null?""+Xn(h):""}function $r(r,o,h,m){if(o==null){if(m!=null){if(h!=null)throw Error(i(92));if(ut(m)){if(1<m.length)throw Error(i(93));m=m[0]}h=m}h==null&&(h=""),o=h}h=Xn(o),r.defaultValue=h,m=r.textContent,m===h&&m!==""&&m!==null&&(r.value=m),Ge(r)}function _r(r,o){if(o){var h=r.firstChild;if(h&&h===r.lastChild&&h.nodeType===3){h.nodeValue=o;return}}r.textContent=o}var ul=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function en(r,o,h){var m=o.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?m?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":m?r.setProperty(o,h):typeof h!="number"||h===0||ul.has(o)?o==="float"?r.cssFloat=h:r[o]=(""+h).trim():r[o]=h+"px"}function Eo(r,o,h){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,h!=null){for(var m in h)!h.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var w in o)m=o[w],o.hasOwnProperty(w)&&h[w]!==m&&en(r,w,m)}else for(var k in o)o.hasOwnProperty(k)&&en(r,k,o[k])}function Ao(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ya=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ri=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function br(r){return Ri.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Li(){}var vr=null;function Xs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Os=null,Ie=null;function Gn(r){var o=Mn(r);if(o&&(r=o.stateNode)){var h=r[kn]||null;t:switch(r=o.stateNode,o.type){case"input":if(ds(r,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),o=h.name,h.type==="radio"&&o!=null){for(h=r;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+En(""+o)+'"][type="radio"]'),o=0;o<h.length;o++){var m=h[o];if(m!==r&&m.form===r.form){var w=m[kn]||null;if(!w)throw Error(i(90));ds(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(o=0;o<h.length;o++)m=h[o],m.form===r.form&&Un(m)}break t;case"textarea":Gr(r,h.value,h.defaultValue);break t;case"select":o=h.value,o!=null&&_n(r,!!h.multiple,o,!1)}}}var fn=!1;function Cs(r,o,h){if(fn)return r(o,h);fn=!0;try{var m=r(o);return m}finally{if(fn=!1,(Os!==null||Ie!==null)&&(lh(),Os&&(o=Os,r=Ie,Ie=Os=null,Gn(o),r)))for(o=0;o<r.length;o++)Gn(r[o])}}function Qr(r,o){var h=r.stateNode;if(h===null)return null;var m=h[kn]||null;if(m===null)return null;h=m[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break t;default:r=!1}if(r)return null;if(h&&typeof h!="function")throw Error(i(231,o,typeof h));return h}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),To=!1;if(ai)try{var $n={};Object.defineProperty($n,"passive",{get:function(){To=!0}}),window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{To=!1}var tr=null,ps=null,Vn=null;function er(){if(Vn)return Vn;var r,o=ps,h=o.length,m,w="value"in tr?tr.value:tr.textContent,k=w.length;for(r=0;r<h&&o[r]===w[r];r++);var H=h-r;for(m=1;m<=H&&o[h-m]===w[k-m];m++);return Vn=w.slice(r,1<m?1-m:void 0)}function Ns(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Gs(){return!0}function Xl(){return!1}function ei(r){function o(h,m,w,k,H){this._reactName=h,this._targetInst=w,this.type=m,this.nativeEvent=k,this.target=H,this.currentTarget=null;for(var Q in r)r.hasOwnProperty(Q)&&(h=r[Q],this[Q]=h?h(k):k[Q]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Gs:Xl,this.isPropagationStopped=Xl,this}return y(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Gs)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Gs)},persist:function(){},isPersistent:Gs}),o}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_a=ei(Jr),ts=y({},Jr,{view:0,detail:0}),nn=ei(ts),ko,Yi,es,Mo=y({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ls,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==es&&(es&&r.type==="mousemove"?(ko=r.screenX-es.screenX,Yi=r.screenY-es.screenY):Yi=ko=0,es=r),ko)},movementY:function(r){return"movementY"in r?r.movementY:Yi}}),ba=ei(Mo),Oo=y({},Mo,{dataTransfer:0}),Gl=ei(Oo),Co=y({},ts,{relatedTarget:0}),$s=ei(Co),va=y({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),wa=ei(va),Yu=y({},Jr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Pi=ei(Yu),cl=y({},Jr,{data:0}),No=ei(cl),Or={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rs(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=pi[r])?!!o[r]:!1}function Ls(){return Rs}var fl=y({},ts,{key:function(r){if(r.key){var o=Or[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Ns(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?xa[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ls,charCode:function(r){return r.type==="keypress"?Ns(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ns(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ro=ei(fl),$l=y({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hl=ei($l),Qs=y({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ls}),dl=ei(Qs),ms=y({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sa=ei(ms),Js=y({},Mo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Cr=ei(Js),pl=y({},Jr,{newState:0,oldState:0}),to=ei(pl),nr=[9,13,27,32],eo=ai&&"CompositionEvent"in window,ns=null;ai&&"documentMode"in document&&(ns=document.documentMode);var Zu=ai&&"TextEvent"in window&&!ns,no=ai&&(!eo||ns&&8<ns&&11>=ns),io=" ",Ql=!1;function ml(r,o){switch(r){case"keyup":return nr.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gl(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ps=!1;function ir(r,o){switch(r){case"compositionend":return gl(o);case"keypress":return o.which!==32?null:(Ql=!0,io);case"textInput":return r=o.data,r===io&&Ql?null:r;default:return null}}function ro(r,o){if(Ps)return r==="compositionend"||!eo&&ml(r,o)?(r=er(),Vn=ps=tr=null,Ps=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return no&&o.locale!=="ko"?null:o.data;default:return null}}var Jl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rr(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!Jl[r.type]:o==="textarea"}function yl(r,o,h,m){Os?Ie?Ie.push(m):Ie=[m]:Os=m,o=mh(o,"onChange"),0<o.length&&(h=new _a("onChange","change",null,h,m),r.push({event:h,listeners:o}))}var wr=null,Lo=null;function Po(r){L0(r,0)}function Do(r){var o=Ui(r);if(Un(o))return r}function gs(r,o){if(r==="change")return o}var Nr=!1;if(ai){var gn;if(ai){var is="oninput"in document;if(!is){var Zi=document.createElement("div");Zi.setAttribute("oninput","return;"),is=typeof Zi.oninput=="function"}gn=is}else gn=!1;Nr=gn&&(!document.documentMode||9<document.documentMode)}function Ea(){wr&&(wr.detachEvent("onpropertychange",Aa),Lo=wr=null)}function Aa(r){if(r.propertyName==="value"&&Do(Lo)){var o=[];yl(o,Lo,r,Xs(r)),Cs(Po,o)}}function Rr(r,o,h){r==="focusin"?(Ea(),wr=o,Lo=h,wr.attachEvent("onpropertychange",Aa)):r==="focusout"&&Ea()}function Ds(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Do(Lo)}function ys(r,o){if(r==="click")return Do(o)}function so(r,o){if(r==="input"||r==="change")return Do(o)}function Si(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var mi=typeof Object.is=="function"?Object.is:Si;function b(r,o){if(mi(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var h=Object.keys(r),m=Object.keys(o);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var w=h[m];if(!re.call(o,w)||!mi(r[w],o[w]))return!1}return!0}function A(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function P(r,o){var h=A(r);r=0;for(var m;h;){if(h.nodeType===3){if(m=r+h.textContent.length,r<=o&&m>=o)return{node:h,offset:o-r};r=m}t:{for(;h;){if(h.nextSibling){h=h.nextSibling;break t}h=h.parentNode}h=void 0}h=A(h)}}function B(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?B(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function q(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=mn(r.document);o instanceof r.HTMLIFrameElement;){try{var h=typeof o.contentWindow.location.href=="string"}catch{h=!1}if(h)r=o.contentWindow;else break;o=mn(r.document)}return o}function X(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var st=ai&&"documentMode"in document&&11>=document.documentMode,mt=null,kt=null,Ct=null,zt=!1;function xt(r,o,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;zt||mt==null||mt!==mn(m)||(m=mt,"selectionStart"in m&&X(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ct&&b(Ct,m)||(Ct=m,m=mh(kt,"onSelect"),0<m.length&&(o=new _a("onSelect","select",null,o,h),r.push({event:o,listeners:m}),o.target=mt)))}function Ft(r,o){var h={};return h[r.toLowerCase()]=o.toLowerCase(),h["Webkit"+r]="webkit"+o,h["Moz"+r]="moz"+o,h}var Nt={animationend:Ft("Animation","AnimationEnd"),animationiteration:Ft("Animation","AnimationIteration"),animationstart:Ft("Animation","AnimationStart"),transitionrun:Ft("Transition","TransitionRun"),transitionstart:Ft("Transition","TransitionStart"),transitioncancel:Ft("Transition","TransitionCancel"),transitionend:Ft("Transition","TransitionEnd")},Dt={},It={};ai&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete Nt.animationend.animation,delete Nt.animationiteration.animation,delete Nt.animationstart.animation),"TransitionEvent"in window||delete Nt.transitionend.transition);function jt(r){if(Dt[r])return Dt[r];if(!Nt[r])return r;var o=Nt[r],h;for(h in o)if(o.hasOwnProperty(h)&&h in It)return Dt[r]=o[h];return r}var Kt=jt("animationend"),Gt=jt("animationiteration"),se=jt("animationstart"),ge=jt("transitionrun"),ke=jt("transitionstart"),Ne=jt("transitioncancel"),Se=jt("transitionend"),Oe=new Map,Ce="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ce.push("scrollEnd");function Ae(r,o){Oe.set(r,o),Xr(o,[r])}var De=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},He=[],qe=0,$e=0;function gi(){for(var r=qe,o=$e=qe=0;o<r;){var h=He[o];He[o++]=null;var m=He[o];He[o++]=null;var w=He[o];He[o++]=null;var k=He[o];if(He[o++]=null,m!==null&&w!==null){var H=m.pending;H===null?w.next=w:(w.next=H.next,H.next=w),m.pending=w}k!==0&&rs(h,w,k)}}function We(r,o,h,m){He[qe++]=r,He[qe++]=o,He[qe++]=h,He[qe++]=m,$e|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function li(r,o,h,m){return We(r,o,h,m),ni(r)}function On(r,o){return We(r,null,null,o),ni(r)}function rs(r,o,h){r.lanes|=h;var m=r.alternate;m!==null&&(m.lanes|=h);for(var w=!1,k=r.return;k!==null;)k.childLanes|=h,m=k.alternate,m!==null&&(m.childLanes|=h),k.tag===22&&(r=k.stateNode,r===null||r._visibility&1||(w=!0)),r=k,k=k.return;return r.tag===3?(k=r.stateNode,w&&o!==null&&(w=31-ue(h),r=k.hiddenUpdates,m=r[w],m===null?r[w]=[o]:m.push(o),o.lane=h|536870912),k):null}function ni(r){if(50<bc)throw bc=0,sm=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Xi={};function _l(r,o,h,m){this.tag=r,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(r,o,h,m){return new _l(r,o,h,m)}function tu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function _s(r,o){var h=r.alternate;return h===null?(h=sr(r.tag,o,r.key,r.mode),h.elementType=r.elementType,h.type=r.type,h.stateNode=r.stateNode,h.alternate=r,r.alternate=h):(h.pendingProps=o,h.type=r.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=r.flags&65011712,h.childLanes=r.childLanes,h.lanes=r.lanes,h.child=r.child,h.memoizedProps=r.memoizedProps,h.memoizedState=r.memoizedState,h.updateQueue=r.updateQueue,o=r.dependencies,h.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},h.sibling=r.sibling,h.index=r.index,h.ref=r.ref,h.refCleanup=r.refCleanup,h}function Xu(r,o){r.flags&=65011714;var h=r.alternate;return h===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=h.childLanes,r.lanes=h.lanes,r.child=h.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=h.memoizedProps,r.memoizedState=h.memoizedState,r.updateQueue=h.updateQueue,r.type=h.type,o=h.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function bl(r,o,h,m,w,k){var H=0;if(m=r,typeof r=="function")tu(r)&&(H=1);else if(typeof r=="string")H=Hk(r,h,Tt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case J:return r=sr(31,h,o,w),r.elementType=J,r.lanes=k,r;case E:return jo(h.children,w,k,o);case T:H=8,w|=24;break;case N:return r=sr(12,h,o,w|2),r.elementType=N,r.lanes=k,r;case R:return r=sr(13,h,o,w),r.elementType=R,r.lanes=k,r;case z:return r=sr(19,h,o,w),r.elementType=z,r.lanes=k,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:H=10;break t;case M:H=9;break t;case I:H=11;break t;case j:H=14;break t;case W:H=16,m=null;break t}H=29,h=Error(i(130,r===null?"null":typeof r,"")),m=null}return o=sr(H,h,o,w),o.elementType=r,o.type=m,o.lanes=k,o}function jo(r,o,h,m){return r=sr(7,r,m,o),r.lanes=h,r}function eu(r,o,h){return r=sr(6,r,null,o),r.lanes=h,r}function Gu(r){var o=sr(18,null,null,0);return o.stateNode=r,o}function $u(r,o,h){return o=sr(4,r.children!==null?r.children:[],r.key,o),o.lanes=h,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var u=new WeakMap;function p(r,o){if(typeof r=="object"&&r!==null){var h=u.get(r);return h!==void 0?h:(o={value:r,source:o,stack:ie(o)},u.set(r,o),o)}return{value:r,source:o,stack:ie(o)}}var v=[],O=0,U=null,$=0,yt=[],qt=0,$t=null,ye=1,Le="";function Ue(r,o){v[O++]=$,v[O++]=U,U=r,$=o}function rn(r,o,h){yt[qt++]=ye,yt[qt++]=Le,yt[qt++]=$t,$t=r;var m=ye;r=Le;var w=32-ue(m)-1;m&=~(1<<w),h+=1;var k=32-ue(o)+w;if(30<k){var H=w-w%5;k=(m&(1<<H)-1).toString(32),m>>=H,w-=H,ye=1<<32-ue(o)+w|h<<w|m,Le=k+r}else ye=1<<k|h<<w|m,Le=r}function Di(r){r.return!==null&&(Ue(r,1),rn(r,1,0))}function ui(r){for(;r===U;)U=v[--O],v[O]=null,$=v[--O],v[O]=null;for(;r===$t;)$t=yt[--qt],yt[qt]=null,Le=yt[--qt],yt[qt]=null,ye=yt[--qt],yt[qt]=null}function xr(r,o){yt[qt++]=ye,yt[qt++]=Le,yt[qt++]=$t,ye=o.id,Le=o.overflow,$t=r}var bn=null,vn=null,an=!1,oo=null,Lr=!1,nu=Error(i(519));function ao(r){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(p(o,r)),nu}function Qu(r){var o=r.stateNode,h=r.type,m=r.memoizedProps;switch(o[pn]=r,o[kn]=m,h){case"dialog":un("cancel",o),un("close",o);break;case"iframe":case"object":case"embed":un("load",o);break;case"video":case"audio":for(h=0;h<wc.length;h++)un(wc[h],o);break;case"source":un("error",o);break;case"img":case"image":case"link":un("error",o),un("load",o);break;case"details":un("toggle",o);break;case"input":un("invalid",o),Ms(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":un("invalid",o);break;case"textarea":un("invalid",o),$r(o,m.value,m.defaultValue,m.children)}h=m.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||o.textContent===""+h||m.suppressHydrationWarning===!0||I0(o.textContent,h)?(m.popover!=null&&(un("beforetoggle",o),un("toggle",o)),m.onScroll!=null&&un("scroll",o),m.onScrollEnd!=null&&un("scrollend",o),m.onClick!=null&&(o.onclick=Li),o=!0):o=!1,o||ao(r,!0)}function ii(r){for(bn=r.return;bn;)switch(bn.tag){case 5:case 31:case 13:Lr=!1;return;case 27:case 3:Lr=!0;return;default:bn=bn.return}}function js(r){if(r!==bn)return!1;if(!an)return ii(r),an=!0,!1;var o=r.tag,h;if((h=o!==3&&o!==27)&&((h=o===5)&&(h=r.type,h=!(h!=="form"&&h!=="button")||vm(r.type,r.memoizedProps)),h=!h),h&&vn&&ao(r),ii(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));vn=K0(r)}else if(o===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));vn=K0(r)}else o===27?(o=vn,Ba(r.type)?(r=Am,Am=null,vn=r):vn=o):vn=bn?vs(r.stateNode.nextSibling):null;return!0}function Io(){vn=bn=null,an=!1}function Ju(){var r=oo;return r!==null&&(Ir===null?Ir=r:Ir.push.apply(Ir,r),oo=null),r}function vl(r){oo===null?oo=[r]:oo.push(r)}var wl=Y(null),lo=null,Is=null;function Ta(r,o,h){at(wl,o._currentValue),o._currentValue=h}function zo(r){r._currentValue=wl.current,Z(wl)}function sp(r,o,h){for(;r!==null;){var m=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),r===h)break;r=r.return}}function op(r,o,h,m){var w=r.child;for(w!==null&&(w.return=r);w!==null;){var k=w.dependencies;if(k!==null){var H=w.child;k=k.firstContext;t:for(;k!==null;){var Q=k;k=w;for(var St=0;St<o.length;St++)if(Q.context===o[St]){k.lanes|=h,Q=k.alternate,Q!==null&&(Q.lanes|=h),sp(k.return,h,r),m||(H=null);break t}k=Q.next}}else if(w.tag===18){if(H=w.return,H===null)throw Error(i(341));H.lanes|=h,k=H.alternate,k!==null&&(k.lanes|=h),sp(H,h,r),H=null}else H=w.child;if(H!==null)H.return=w;else for(H=w;H!==null;){if(H===r){H=null;break}if(w=H.sibling,w!==null){w.return=H.return,H=w;break}H=H.return}w=H}}function iu(r,o,h,m){r=null;for(var w=o,k=!1;w!==null;){if(!k){if((w.flags&524288)!==0)k=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var H=w.alternate;if(H===null)throw Error(i(387));if(H=H.memoizedProps,H!==null){var Q=w.type;mi(w.pendingProps.value,H.value)||(r!==null?r.push(Q):r=[Q])}}else if(w===_t.current){if(H=w.alternate,H===null)throw Error(i(387));H.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(r!==null?r.push(Tc):r=[Tc])}w=w.return}r!==null&&op(o,r,h,m),o.flags|=262144}function Pf(r){for(r=r.firstContext;r!==null;){if(!mi(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function xl(r){lo=r,Is=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Gi(r){return xb(lo,r)}function Df(r,o){return lo===null&&xl(r),xb(r,o)}function xb(r,o){var h=o._currentValue;if(o={context:o,memoizedValue:h,next:null},Is===null){if(r===null)throw Error(i(308));Is=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Is=Is.next=o;return h}var zT=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(h,m){r.push(m)}};this.abort=function(){o.aborted=!0,r.forEach(function(h){return h()})}},BT=n.unstable_scheduleCallback,UT=n.unstable_NormalPriority,Ei={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ap(){return{controller:new zT,data:new Map,refCount:0}}function tc(r){r.refCount--,r.refCount===0&&BT(UT,function(){r.controller.abort()})}var ec=null,lp=0,ru=0,su=null;function FT(r,o){if(ec===null){var h=ec=[];lp=0,ru=fm(),su={status:"pending",value:void 0,then:function(m){h.push(m)}}}return lp++,o.then(Sb,Sb),o}function Sb(){if(--lp===0&&ec!==null){su!==null&&(su.status="fulfilled");var r=ec;ec=null,ru=0,su=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function HT(r,o){var h=[],m={status:"pending",value:null,reason:null,then:function(w){h.push(w)}};return r.then(function(){m.status="fulfilled",m.value=o;for(var w=0;w<h.length;w++)(0,h[w])(o)},function(w){for(m.status="rejected",m.reason=w,w=0;w<h.length;w++)(0,h[w])(void 0)}),m}var Eb=rt.S;rt.S=function(r,o){a0=Xt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&FT(r,o),Eb!==null&&Eb(r,o)};var Sl=Y(null);function up(){var r=Sl.current;return r!==null?r:Fn.pooledCache}function jf(r,o){o===null?at(Sl,Sl.current):at(Sl,o.pool)}function Ab(){var r=up();return r===null?null:{parent:Ei._currentValue,pool:r}}var ou=Error(i(460)),cp=Error(i(474)),If=Error(i(542)),zf={then:function(){}};function Tb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function kb(r,o,h){switch(h=r[h],h===void 0?r.push(o):h!==o&&(o.then(Li,Li),o=h),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Ob(r),r;default:if(typeof o.status=="string")o.then(Li,Li);else{if(r=Fn,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(m){if(o.status==="pending"){var w=o;w.status="fulfilled",w.value=m}},function(m){if(o.status==="pending"){var w=o;w.status="rejected",w.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Ob(r),r}throw Al=o,ou}}function El(r){try{var o=r._init;return o(r._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Al=h,ou):h}}var Al=null;function Mb(){if(Al===null)throw Error(i(459));var r=Al;return Al=null,r}function Ob(r){if(r===ou||r===If)throw Error(i(483))}var au=null,nc=0;function Bf(r){var o=nc;return nc+=1,au===null&&(au=[]),kb(au,r,o)}function ic(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Uf(r,o){throw o.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function Cb(r){function o(Ht,Lt){if(r){var Yt=Ht.deletions;Yt===null?(Ht.deletions=[Lt],Ht.flags|=16):Yt.push(Lt)}}function h(Ht,Lt){if(!r)return null;for(;Lt!==null;)o(Ht,Lt),Lt=Lt.sibling;return null}function m(Ht){for(var Lt=new Map;Ht!==null;)Ht.key!==null?Lt.set(Ht.key,Ht):Lt.set(Ht.index,Ht),Ht=Ht.sibling;return Lt}function w(Ht,Lt){return Ht=_s(Ht,Lt),Ht.index=0,Ht.sibling=null,Ht}function k(Ht,Lt,Yt){return Ht.index=Yt,r?(Yt=Ht.alternate,Yt!==null?(Yt=Yt.index,Yt<Lt?(Ht.flags|=67108866,Lt):Yt):(Ht.flags|=67108866,Lt)):(Ht.flags|=1048576,Lt)}function H(Ht){return r&&Ht.alternate===null&&(Ht.flags|=67108866),Ht}function Q(Ht,Lt,Yt,me){return Lt===null||Lt.tag!==6?(Lt=eu(Yt,Ht.mode,me),Lt.return=Ht,Lt):(Lt=w(Lt,Yt),Lt.return=Ht,Lt)}function St(Ht,Lt,Yt,me){var Ve=Yt.type;return Ve===E?de(Ht,Lt,Yt.props.children,me,Yt.key):Lt!==null&&(Lt.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===W&&El(Ve)===Lt.type)?(Lt=w(Lt,Yt.props),ic(Lt,Yt),Lt.return=Ht,Lt):(Lt=bl(Yt.type,Yt.key,Yt.props,null,Ht.mode,me),ic(Lt,Yt),Lt.return=Ht,Lt)}function Zt(Ht,Lt,Yt,me){return Lt===null||Lt.tag!==4||Lt.stateNode.containerInfo!==Yt.containerInfo||Lt.stateNode.implementation!==Yt.implementation?(Lt=$u(Yt,Ht.mode,me),Lt.return=Ht,Lt):(Lt=w(Lt,Yt.children||[]),Lt.return=Ht,Lt)}function de(Ht,Lt,Yt,me,Ve){return Lt===null||Lt.tag!==7?(Lt=jo(Yt,Ht.mode,me,Ve),Lt.return=Ht,Lt):(Lt=w(Lt,Yt),Lt.return=Ht,Lt)}function _e(Ht,Lt,Yt){if(typeof Lt=="string"&&Lt!==""||typeof Lt=="number"||typeof Lt=="bigint")return Lt=eu(""+Lt,Ht.mode,Yt),Lt.return=Ht,Lt;if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case S:return Yt=bl(Lt.type,Lt.key,Lt.props,null,Ht.mode,Yt),ic(Yt,Lt),Yt.return=Ht,Yt;case x:return Lt=$u(Lt,Ht.mode,Yt),Lt.return=Ht,Lt;case W:return Lt=El(Lt),_e(Ht,Lt,Yt)}if(ut(Lt)||G(Lt))return Lt=jo(Lt,Ht.mode,Yt,null),Lt.return=Ht,Lt;if(typeof Lt.then=="function")return _e(Ht,Bf(Lt),Yt);if(Lt.$$typeof===D)return _e(Ht,Df(Ht,Lt),Yt);Uf(Ht,Lt)}return null}function Qt(Ht,Lt,Yt,me){var Ve=Lt!==null?Lt.key:null;if(typeof Yt=="string"&&Yt!==""||typeof Yt=="number"||typeof Yt=="bigint")return Ve!==null?null:Q(Ht,Lt,""+Yt,me);if(typeof Yt=="object"&&Yt!==null){switch(Yt.$$typeof){case S:return Yt.key===Ve?St(Ht,Lt,Yt,me):null;case x:return Yt.key===Ve?Zt(Ht,Lt,Yt,me):null;case W:return Yt=El(Yt),Qt(Ht,Lt,Yt,me)}if(ut(Yt)||G(Yt))return Ve!==null?null:de(Ht,Lt,Yt,me,null);if(typeof Yt.then=="function")return Qt(Ht,Lt,Bf(Yt),me);if(Yt.$$typeof===D)return Qt(Ht,Lt,Df(Ht,Yt),me);Uf(Ht,Yt)}return null}function ne(Ht,Lt,Yt,me,Ve){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return Ht=Ht.get(Yt)||null,Q(Lt,Ht,""+me,Ve);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case S:return Ht=Ht.get(me.key===null?Yt:me.key)||null,St(Lt,Ht,me,Ve);case x:return Ht=Ht.get(me.key===null?Yt:me.key)||null,Zt(Lt,Ht,me,Ve);case W:return me=El(me),ne(Ht,Lt,Yt,me,Ve)}if(ut(me)||G(me))return Ht=Ht.get(Yt)||null,de(Lt,Ht,me,Ve,null);if(typeof me.then=="function")return ne(Ht,Lt,Yt,Bf(me),Ve);if(me.$$typeof===D)return ne(Ht,Lt,Yt,Df(Lt,me),Ve);Uf(Lt,me)}return null}function ze(Ht,Lt,Yt,me){for(var Ve=null,wn=null,Be=Lt,sn=Lt=0,dn=null;Be!==null&&sn<Yt.length;sn++){Be.index>sn?(dn=Be,Be=null):dn=Be.sibling;var xn=Qt(Ht,Be,Yt[sn],me);if(xn===null){Be===null&&(Be=dn);break}r&&Be&&xn.alternate===null&&o(Ht,Be),Lt=k(xn,Lt,sn),wn===null?Ve=xn:wn.sibling=xn,wn=xn,Be=dn}if(sn===Yt.length)return h(Ht,Be),an&&Ue(Ht,sn),Ve;if(Be===null){for(;sn<Yt.length;sn++)Be=_e(Ht,Yt[sn],me),Be!==null&&(Lt=k(Be,Lt,sn),wn===null?Ve=Be:wn.sibling=Be,wn=Be);return an&&Ue(Ht,sn),Ve}for(Be=m(Be);sn<Yt.length;sn++)dn=ne(Be,Ht,sn,Yt[sn],me),dn!==null&&(r&&dn.alternate!==null&&Be.delete(dn.key===null?sn:dn.key),Lt=k(dn,Lt,sn),wn===null?Ve=dn:wn.sibling=dn,wn=dn);return r&&Be.forEach(function(Va){return o(Ht,Va)}),an&&Ue(Ht,sn),Ve}function Ze(Ht,Lt,Yt,me){if(Yt==null)throw Error(i(151));for(var Ve=null,wn=null,Be=Lt,sn=Lt=0,dn=null,xn=Yt.next();Be!==null&&!xn.done;sn++,xn=Yt.next()){Be.index>sn?(dn=Be,Be=null):dn=Be.sibling;var Va=Qt(Ht,Be,xn.value,me);if(Va===null){Be===null&&(Be=dn);break}r&&Be&&Va.alternate===null&&o(Ht,Be),Lt=k(Va,Lt,sn),wn===null?Ve=Va:wn.sibling=Va,wn=Va,Be=dn}if(xn.done)return h(Ht,Be),an&&Ue(Ht,sn),Ve;if(Be===null){for(;!xn.done;sn++,xn=Yt.next())xn=_e(Ht,xn.value,me),xn!==null&&(Lt=k(xn,Lt,sn),wn===null?Ve=xn:wn.sibling=xn,wn=xn);return an&&Ue(Ht,sn),Ve}for(Be=m(Be);!xn.done;sn++,xn=Yt.next())xn=ne(Be,Ht,sn,xn.value,me),xn!==null&&(r&&xn.alternate!==null&&Be.delete(xn.key===null?sn:xn.key),Lt=k(xn,Lt,sn),wn===null?Ve=xn:wn.sibling=xn,wn=xn);return r&&Be.forEach(function(Jk){return o(Ht,Jk)}),an&&Ue(Ht,sn),Ve}function In(Ht,Lt,Yt,me){if(typeof Yt=="object"&&Yt!==null&&Yt.type===E&&Yt.key===null&&(Yt=Yt.props.children),typeof Yt=="object"&&Yt!==null){switch(Yt.$$typeof){case S:t:{for(var Ve=Yt.key;Lt!==null;){if(Lt.key===Ve){if(Ve=Yt.type,Ve===E){if(Lt.tag===7){h(Ht,Lt.sibling),me=w(Lt,Yt.props.children),me.return=Ht,Ht=me;break t}}else if(Lt.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===W&&El(Ve)===Lt.type){h(Ht,Lt.sibling),me=w(Lt,Yt.props),ic(me,Yt),me.return=Ht,Ht=me;break t}h(Ht,Lt);break}else o(Ht,Lt);Lt=Lt.sibling}Yt.type===E?(me=jo(Yt.props.children,Ht.mode,me,Yt.key),me.return=Ht,Ht=me):(me=bl(Yt.type,Yt.key,Yt.props,null,Ht.mode,me),ic(me,Yt),me.return=Ht,Ht=me)}return H(Ht);case x:t:{for(Ve=Yt.key;Lt!==null;){if(Lt.key===Ve)if(Lt.tag===4&&Lt.stateNode.containerInfo===Yt.containerInfo&&Lt.stateNode.implementation===Yt.implementation){h(Ht,Lt.sibling),me=w(Lt,Yt.children||[]),me.return=Ht,Ht=me;break t}else{h(Ht,Lt);break}else o(Ht,Lt);Lt=Lt.sibling}me=$u(Yt,Ht.mode,me),me.return=Ht,Ht=me}return H(Ht);case W:return Yt=El(Yt),In(Ht,Lt,Yt,me)}if(ut(Yt))return ze(Ht,Lt,Yt,me);if(G(Yt)){if(Ve=G(Yt),typeof Ve!="function")throw Error(i(150));return Yt=Ve.call(Yt),Ze(Ht,Lt,Yt,me)}if(typeof Yt.then=="function")return In(Ht,Lt,Bf(Yt),me);if(Yt.$$typeof===D)return In(Ht,Lt,Df(Ht,Yt),me);Uf(Ht,Yt)}return typeof Yt=="string"&&Yt!==""||typeof Yt=="number"||typeof Yt=="bigint"?(Yt=""+Yt,Lt!==null&&Lt.tag===6?(h(Ht,Lt.sibling),me=w(Lt,Yt),me.return=Ht,Ht=me):(h(Ht,Lt),me=eu(Yt,Ht.mode,me),me.return=Ht,Ht=me),H(Ht)):h(Ht,Lt)}return function(Ht,Lt,Yt,me){try{nc=0;var Ve=In(Ht,Lt,Yt,me);return au=null,Ve}catch(Be){if(Be===ou||Be===If)throw Be;var wn=sr(29,Be,null,Ht.mode);return wn.lanes=me,wn.return=Ht,wn}finally{}}}var Tl=Cb(!0),Nb=Cb(!1),ka=!1;function fp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hp(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ma(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Oa(r,o,h){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(An&2)!==0){var w=m.pending;return w===null?o.next=o:(o.next=w.next,w.next=o),m.pending=o,o=ni(r),rs(r,null,h),o}return We(r,m,o,h),ni(r)}function rc(r,o,h){if(o=o.updateQueue,o!==null&&(o=o.shared,(h&4194048)!==0)){var m=o.lanes;m&=r.pendingLanes,h|=m,o.lanes=h,be(r,h)}}function dp(r,o){var h=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var w=null,k=null;if(h=h.firstBaseUpdate,h!==null){do{var H={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};k===null?w=k=H:k=k.next=H,h=h.next}while(h!==null);k===null?w=k=o:k=k.next=o}else w=k=o;h={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:k,shared:m.shared,callbacks:m.callbacks},r.updateQueue=h;return}r=h.lastBaseUpdate,r===null?h.firstBaseUpdate=o:r.next=o,h.lastBaseUpdate=o}var pp=!1;function sc(){if(pp){var r=su;if(r!==null)throw r}}function oc(r,o,h,m){pp=!1;var w=r.updateQueue;ka=!1;var k=w.firstBaseUpdate,H=w.lastBaseUpdate,Q=w.shared.pending;if(Q!==null){w.shared.pending=null;var St=Q,Zt=St.next;St.next=null,H===null?k=Zt:H.next=Zt,H=St;var de=r.alternate;de!==null&&(de=de.updateQueue,Q=de.lastBaseUpdate,Q!==H&&(Q===null?de.firstBaseUpdate=Zt:Q.next=Zt,de.lastBaseUpdate=St))}if(k!==null){var _e=w.baseState;H=0,de=Zt=St=null,Q=k;do{var Qt=Q.lane&-536870913,ne=Qt!==Q.lane;if(ne?(hn&Qt)===Qt:(m&Qt)===Qt){Qt!==0&&Qt===ru&&(pp=!0),de!==null&&(de=de.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});t:{var ze=r,Ze=Q;Qt=o;var In=h;switch(Ze.tag){case 1:if(ze=Ze.payload,typeof ze=="function"){_e=ze.call(In,_e,Qt);break t}_e=ze;break t;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Ze.payload,Qt=typeof ze=="function"?ze.call(In,_e,Qt):ze,Qt==null)break t;_e=y({},_e,Qt);break t;case 2:ka=!0}}Qt=Q.callback,Qt!==null&&(r.flags|=64,ne&&(r.flags|=8192),ne=w.callbacks,ne===null?w.callbacks=[Qt]:ne.push(Qt))}else ne={lane:Qt,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},de===null?(Zt=de=ne,St=_e):de=de.next=ne,H|=Qt;if(Q=Q.next,Q===null){if(Q=w.shared.pending,Q===null)break;ne=Q,Q=ne.next,ne.next=null,w.lastBaseUpdate=ne,w.shared.pending=null}}while(!0);de===null&&(St=_e),w.baseState=St,w.firstBaseUpdate=Zt,w.lastBaseUpdate=de,k===null&&(w.shared.lanes=0),Pa|=H,r.lanes=H,r.memoizedState=_e}}function Rb(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function Lb(r,o){var h=r.callbacks;if(h!==null)for(r.callbacks=null,r=0;r<h.length;r++)Rb(h[r],o)}var lu=Y(null),Ff=Y(0);function Pb(r,o){r=Yo,at(Ff,r),at(lu,o),Yo=r|o.baseLanes}function mp(){at(Ff,Yo),at(lu,lu.current)}function gp(){Yo=Ff.current,Z(lu),Z(Ff)}var ss=Y(null),bs=null;function Ca(r){var o=r.alternate;at(yi,yi.current&1),at(ss,r),bs===null&&(o===null||lu.current!==null||o.memoizedState!==null)&&(bs=r)}function yp(r){at(yi,yi.current),at(ss,r),bs===null&&(bs=r)}function Db(r){r.tag===22?(at(yi,yi.current),at(ss,r),bs===null&&(bs=r)):Na()}function Na(){at(yi,yi.current),at(ss,ss.current)}function os(r){Z(ss),bs===r&&(bs=null),Z(yi)}var yi=Y(0);function Hf(r){for(var o=r;o!==null;){if(o.tag===13){var h=o.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Sm(h)||Em(h)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Bo=0,Je=null,Dn=null,Ai=null,qf=!1,uu=!1,kl=!1,Vf=0,ac=0,cu=null,qT=0;function ci(){throw Error(i(321))}function _p(r,o){if(o===null)return!1;for(var h=0;h<o.length&&h<r.length;h++)if(!mi(r[h],o[h]))return!1;return!0}function bp(r,o,h,m,w,k){return Bo=k,Je=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,rt.H=r===null||r.memoizedState===null?_v:Pp,kl=!1,k=h(m,w),kl=!1,uu&&(k=Ib(o,h,m,w)),jb(r),k}function jb(r){rt.H=cc;var o=Dn!==null&&Dn.next!==null;if(Bo=0,Ai=Dn=Je=null,qf=!1,ac=0,cu=null,o)throw Error(i(300));r===null||Ti||(r=r.dependencies,r!==null&&Pf(r)&&(Ti=!0))}function Ib(r,o,h,m){Je=r;var w=0;do{if(uu&&(cu=null),ac=0,uu=!1,25<=w)throw Error(i(301));if(w+=1,Ai=Dn=null,r.updateQueue!=null){var k=r.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}rt.H=bv,k=o(h,m)}while(uu);return k}function VT(){var r=rt.H,o=r.useState()[0];return o=typeof o.then=="function"?lc(o):o,r=r.useState()[0],(Dn!==null?Dn.memoizedState:null)!==r&&(Je.flags|=1024),o}function vp(){var r=Vf!==0;return Vf=0,r}function wp(r,o,h){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~h}function xp(r){if(qf){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}qf=!1}Bo=0,Ai=Dn=Je=null,uu=!1,ac=Vf=0,cu=null}function Sr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ai===null?Je.memoizedState=Ai=r:Ai=Ai.next=r,Ai}function _i(){if(Dn===null){var r=Je.alternate;r=r!==null?r.memoizedState:null}else r=Dn.next;var o=Ai===null?Je.memoizedState:Ai.next;if(o!==null)Ai=o,Dn=r;else{if(r===null)throw Je.alternate===null?Error(i(467)):Error(i(310));Dn=r,r={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},Ai===null?Je.memoizedState=Ai=r:Ai=Ai.next=r}return Ai}function Wf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lc(r){var o=ac;return ac+=1,cu===null&&(cu=[]),r=kb(cu,r,o),o=Je,(Ai===null?o.memoizedState:Ai.next)===null&&(o=o.alternate,rt.H=o===null||o.memoizedState===null?_v:Pp),r}function Kf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return lc(r);if(r.$$typeof===D)return Gi(r)}throw Error(i(438,String(r)))}function Sp(r){var o=null,h=Je.updateQueue;if(h!==null&&(o=h.memoCache),o==null){var m=Je.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(w){return w.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),h===null&&(h=Wf(),Je.updateQueue=h),h.memoCache=o,h=o.data[o.index],h===void 0)for(h=o.data[o.index]=Array(r),m=0;m<r;m++)h[m]=tt;return o.index++,h}function Uo(r,o){return typeof o=="function"?o(r):o}function Yf(r){var o=_i();return Ep(o,Dn,r)}function Ep(r,o,h){var m=r.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=h;var w=r.baseQueue,k=m.pending;if(k!==null){if(w!==null){var H=w.next;w.next=k.next,k.next=H}o.baseQueue=w=k,m.pending=null}if(k=r.baseState,w===null)r.memoizedState=k;else{o=w.next;var Q=H=null,St=null,Zt=o,de=!1;do{var _e=Zt.lane&-536870913;if(_e!==Zt.lane?(hn&_e)===_e:(Bo&_e)===_e){var Qt=Zt.revertLane;if(Qt===0)St!==null&&(St=St.next={lane:0,revertLane:0,gesture:null,action:Zt.action,hasEagerState:Zt.hasEagerState,eagerState:Zt.eagerState,next:null}),_e===ru&&(de=!0);else if((Bo&Qt)===Qt){Zt=Zt.next,Qt===ru&&(de=!0);continue}else _e={lane:0,revertLane:Zt.revertLane,gesture:null,action:Zt.action,hasEagerState:Zt.hasEagerState,eagerState:Zt.eagerState,next:null},St===null?(Q=St=_e,H=k):St=St.next=_e,Je.lanes|=Qt,Pa|=Qt;_e=Zt.action,kl&&h(k,_e),k=Zt.hasEagerState?Zt.eagerState:h(k,_e)}else Qt={lane:_e,revertLane:Zt.revertLane,gesture:Zt.gesture,action:Zt.action,hasEagerState:Zt.hasEagerState,eagerState:Zt.eagerState,next:null},St===null?(Q=St=Qt,H=k):St=St.next=Qt,Je.lanes|=_e,Pa|=_e;Zt=Zt.next}while(Zt!==null&&Zt!==o);if(St===null?H=k:St.next=Q,!mi(k,r.memoizedState)&&(Ti=!0,de&&(h=su,h!==null)))throw h;r.memoizedState=k,r.baseState=H,r.baseQueue=St,m.lastRenderedState=k}return w===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function Ap(r){var o=_i(),h=o.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=r;var m=h.dispatch,w=h.pending,k=o.memoizedState;if(w!==null){h.pending=null;var H=w=w.next;do k=r(k,H.action),H=H.next;while(H!==w);mi(k,o.memoizedState)||(Ti=!0),o.memoizedState=k,o.baseQueue===null&&(o.baseState=k),h.lastRenderedState=k}return[k,m]}function zb(r,o,h){var m=Je,w=_i(),k=an;if(k){if(h===void 0)throw Error(i(407));h=h()}else h=o();var H=!mi((Dn||w).memoizedState,h);if(H&&(w.memoizedState=h,Ti=!0),w=w.queue,Mp(Fb.bind(null,m,w,r),[r]),w.getSnapshot!==o||H||Ai!==null&&Ai.memoizedState.tag&1){if(m.flags|=2048,fu(9,{destroy:void 0},Ub.bind(null,m,w,h,o),null),Fn===null)throw Error(i(349));k||(Bo&127)!==0||Bb(m,o,h)}return h}function Bb(r,o,h){r.flags|=16384,r={getSnapshot:o,value:h},o=Je.updateQueue,o===null?(o=Wf(),Je.updateQueue=o,o.stores=[r]):(h=o.stores,h===null?o.stores=[r]:h.push(r))}function Ub(r,o,h,m){o.value=h,o.getSnapshot=m,Hb(o)&&qb(r)}function Fb(r,o,h){return h(function(){Hb(o)&&qb(r)})}function Hb(r){var o=r.getSnapshot;r=r.value;try{var h=o();return!mi(r,h)}catch{return!0}}function qb(r){var o=On(r,2);o!==null&&zr(o,r,2)}function Tp(r){var o=Sr();if(typeof r=="function"){var h=r;if(r=h(),kl){Pe(!0);try{h()}finally{Pe(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:r},o}function Vb(r,o,h,m){return r.baseState=h,Ep(r,Dn,typeof m=="function"?m:Uo)}function WT(r,o,h,m,w){if(Gf(r))throw Error(i(485));if(r=o.action,r!==null){var k={payload:w,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){k.listeners.push(H)}};rt.T!==null?h(!0):k.isTransition=!1,m(k),h=o.pending,h===null?(k.next=o.pending=k,Wb(o,k)):(k.next=h.next,o.pending=h.next=k)}}function Wb(r,o){var h=o.action,m=o.payload,w=r.state;if(o.isTransition){var k=rt.T,H={};rt.T=H;try{var Q=h(w,m),St=rt.S;St!==null&&St(H,Q),Kb(r,o,Q)}catch(Zt){kp(r,o,Zt)}finally{k!==null&&H.types!==null&&(k.types=H.types),rt.T=k}}else try{k=h(w,m),Kb(r,o,k)}catch(Zt){kp(r,o,Zt)}}function Kb(r,o,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(m){Yb(r,o,m)},function(m){return kp(r,o,m)}):Yb(r,o,h)}function Yb(r,o,h){o.status="fulfilled",o.value=h,Zb(o),r.state=h,o=r.pending,o!==null&&(h=o.next,h===o?r.pending=null:(h=h.next,o.next=h,Wb(r,h)))}function kp(r,o,h){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=h,Zb(o),o=o.next;while(o!==m)}r.action=null}function Zb(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function Xb(r,o){return o}function Gb(r,o){if(an){var h=Fn.formState;if(h!==null){t:{var m=Je;if(an){if(vn){e:{for(var w=vn,k=Lr;w.nodeType!==8;){if(!k){w=null;break e}if(w=vs(w.nextSibling),w===null){w=null;break e}}k=w.data,w=k==="F!"||k==="F"?w:null}if(w){vn=vs(w.nextSibling),m=w.data==="F!";break t}}ao(m)}m=!1}m&&(o=h[0])}}return h=Sr(),h.memoizedState=h.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xb,lastRenderedState:o},h.queue=m,h=mv.bind(null,Je,m),m.dispatch=h,m=Tp(!1),k=Lp.bind(null,Je,!1,m.queue),m=Sr(),w={state:o,dispatch:null,action:r,pending:null},m.queue=w,h=WT.bind(null,Je,w,k,h),w.dispatch=h,m.memoizedState=r,[o,h,!1]}function $b(r){var o=_i();return Qb(o,Dn,r)}function Qb(r,o,h){if(o=Ep(r,o,Xb)[0],r=Yf(Uo)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=lc(o)}catch(H){throw H===ou?If:H}else m=o;o=_i();var w=o.queue,k=w.dispatch;return h!==o.memoizedState&&(Je.flags|=2048,fu(9,{destroy:void 0},KT.bind(null,w,h),null)),[m,k,r]}function KT(r,o){r.action=o}function Jb(r){var o=_i(),h=Dn;if(h!==null)return Qb(o,h,r);_i(),o=o.memoizedState,h=_i();var m=h.queue.dispatch;return h.memoizedState=r,[o,m,!1]}function fu(r,o,h,m){return r={tag:r,create:h,deps:m,inst:o,next:null},o=Je.updateQueue,o===null&&(o=Wf(),Je.updateQueue=o),h=o.lastEffect,h===null?o.lastEffect=r.next=r:(m=h.next,h.next=r,r.next=m,o.lastEffect=r),r}function tv(){return _i().memoizedState}function Zf(r,o,h,m){var w=Sr();Je.flags|=r,w.memoizedState=fu(1|o,{destroy:void 0},h,m===void 0?null:m)}function Xf(r,o,h,m){var w=_i();m=m===void 0?null:m;var k=w.memoizedState.inst;Dn!==null&&m!==null&&_p(m,Dn.memoizedState.deps)?w.memoizedState=fu(o,k,h,m):(Je.flags|=r,w.memoizedState=fu(1|o,k,h,m))}function ev(r,o){Zf(8390656,8,r,o)}function Mp(r,o){Xf(2048,8,r,o)}function YT(r){Je.flags|=4;var o=Je.updateQueue;if(o===null)o=Wf(),Je.updateQueue=o,o.events=[r];else{var h=o.events;h===null?o.events=[r]:h.push(r)}}function nv(r){var o=_i().memoizedState;return YT({ref:o,nextImpl:r}),function(){if((An&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function iv(r,o){return Xf(4,2,r,o)}function rv(r,o){return Xf(4,4,r,o)}function sv(r,o){if(typeof o=="function"){r=r();var h=o(r);return function(){typeof h=="function"?h():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function ov(r,o,h){h=h!=null?h.concat([r]):null,Xf(4,4,sv.bind(null,o,r),h)}function Op(){}function av(r,o){var h=_i();o=o===void 0?null:o;var m=h.memoizedState;return o!==null&&_p(o,m[1])?m[0]:(h.memoizedState=[r,o],r)}function lv(r,o){var h=_i();o=o===void 0?null:o;var m=h.memoizedState;if(o!==null&&_p(o,m[1]))return m[0];if(m=r(),kl){Pe(!0);try{r()}finally{Pe(!1)}}return h.memoizedState=[m,o],m}function Cp(r,o,h){return h===void 0||(Bo&1073741824)!==0&&(hn&261930)===0?r.memoizedState=o:(r.memoizedState=h,r=u0(),Je.lanes|=r,Pa|=r,h)}function uv(r,o,h,m){return mi(h,o)?h:lu.current!==null?(r=Cp(r,h,m),mi(r,o)||(Ti=!0),r):(Bo&42)===0||(Bo&1073741824)!==0&&(hn&261930)===0?(Ti=!0,r.memoizedState=h):(r=u0(),Je.lanes|=r,Pa|=r,o)}function cv(r,o,h,m,w){var k=lt.p;lt.p=k!==0&&8>k?k:8;var H=rt.T,Q={};rt.T=Q,Lp(r,!1,o,h);try{var St=w(),Zt=rt.S;if(Zt!==null&&Zt(Q,St),St!==null&&typeof St=="object"&&typeof St.then=="function"){var de=HT(St,m);uc(r,o,de,us(r))}else uc(r,o,m,us(r))}catch(_e){uc(r,o,{then:function(){},status:"rejected",reason:_e},us())}finally{lt.p=k,H!==null&&Q.types!==null&&(H.types=Q.types),rt.T=H}}function ZT(){}function Np(r,o,h,m){if(r.tag!==5)throw Error(i(476));var w=fv(r).queue;cv(r,w,o,et,h===null?ZT:function(){return hv(r),h(m)})}function fv(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:et},next:null};var h={};return o.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:h},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function hv(r){var o=fv(r);o.next===null&&(o=r.alternate.memoizedState),uc(r,o.next.queue,{},us())}function Rp(){return Gi(Tc)}function dv(){return _i().memoizedState}function pv(){return _i().memoizedState}function XT(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var h=us();r=Ma(h);var m=Oa(o,r,h);m!==null&&(zr(m,o,h),rc(m,o,h)),o={cache:ap()},r.payload=o;return}o=o.return}}function GT(r,o,h){var m=us();h={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Gf(r)?gv(o,h):(h=li(r,o,h,m),h!==null&&(zr(h,r,m),yv(h,o,m)))}function mv(r,o,h){var m=us();uc(r,o,h,m)}function uc(r,o,h,m){var w={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Gf(r))gv(o,w);else{var k=r.alternate;if(r.lanes===0&&(k===null||k.lanes===0)&&(k=o.lastRenderedReducer,k!==null))try{var H=o.lastRenderedState,Q=k(H,h);if(w.hasEagerState=!0,w.eagerState=Q,mi(Q,H))return We(r,o,w,0),Fn===null&&gi(),!1}catch{}finally{}if(h=li(r,o,w,m),h!==null)return zr(h,r,m),yv(h,o,m),!0}return!1}function Lp(r,o,h,m){if(m={lane:2,revertLane:fm(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Gf(r)){if(o)throw Error(i(479))}else o=li(r,h,m,2),o!==null&&zr(o,r,2)}function Gf(r){var o=r.alternate;return r===Je||o!==null&&o===Je}function gv(r,o){uu=qf=!0;var h=r.pending;h===null?o.next=o:(o.next=h.next,h.next=o),r.pending=o}function yv(r,o,h){if((h&4194048)!==0){var m=o.lanes;m&=r.pendingLanes,h|=m,o.lanes=h,be(r,h)}}var cc={readContext:Gi,use:Kf,useCallback:ci,useContext:ci,useEffect:ci,useImperativeHandle:ci,useLayoutEffect:ci,useInsertionEffect:ci,useMemo:ci,useReducer:ci,useRef:ci,useState:ci,useDebugValue:ci,useDeferredValue:ci,useTransition:ci,useSyncExternalStore:ci,useId:ci,useHostTransitionStatus:ci,useFormState:ci,useActionState:ci,useOptimistic:ci,useMemoCache:ci,useCacheRefresh:ci};cc.useEffectEvent=ci;var _v={readContext:Gi,use:Kf,useCallback:function(r,o){return Sr().memoizedState=[r,o===void 0?null:o],r},useContext:Gi,useEffect:ev,useImperativeHandle:function(r,o,h){h=h!=null?h.concat([r]):null,Zf(4194308,4,sv.bind(null,o,r),h)},useLayoutEffect:function(r,o){return Zf(4194308,4,r,o)},useInsertionEffect:function(r,o){Zf(4,2,r,o)},useMemo:function(r,o){var h=Sr();o=o===void 0?null:o;var m=r();if(kl){Pe(!0);try{r()}finally{Pe(!1)}}return h.memoizedState=[m,o],m},useReducer:function(r,o,h){var m=Sr();if(h!==void 0){var w=h(o);if(kl){Pe(!0);try{h(o)}finally{Pe(!1)}}}else w=o;return m.memoizedState=m.baseState=w,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:w},m.queue=r,r=r.dispatch=GT.bind(null,Je,r),[m.memoizedState,r]},useRef:function(r){var o=Sr();return r={current:r},o.memoizedState=r},useState:function(r){r=Tp(r);var o=r.queue,h=mv.bind(null,Je,o);return o.dispatch=h,[r.memoizedState,h]},useDebugValue:Op,useDeferredValue:function(r,o){var h=Sr();return Cp(h,r,o)},useTransition:function(){var r=Tp(!1);return r=cv.bind(null,Je,r.queue,!0,!1),Sr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,h){var m=Je,w=Sr();if(an){if(h===void 0)throw Error(i(407));h=h()}else{if(h=o(),Fn===null)throw Error(i(349));(hn&127)!==0||Bb(m,o,h)}w.memoizedState=h;var k={value:h,getSnapshot:o};return w.queue=k,ev(Fb.bind(null,m,k,r),[r]),m.flags|=2048,fu(9,{destroy:void 0},Ub.bind(null,m,k,h,o),null),h},useId:function(){var r=Sr(),o=Fn.identifierPrefix;if(an){var h=Le,m=ye;h=(m&~(1<<32-ue(m)-1)).toString(32)+h,o="_"+o+"R_"+h,h=Vf++,0<h&&(o+="H"+h.toString(32)),o+="_"}else h=qT++,o="_"+o+"r_"+h.toString(32)+"_";return r.memoizedState=o},useHostTransitionStatus:Rp,useFormState:Gb,useActionState:Gb,useOptimistic:function(r){var o=Sr();o.memoizedState=o.baseState=r;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=h,o=Lp.bind(null,Je,!0,h),h.dispatch=o,[r,o]},useMemoCache:Sp,useCacheRefresh:function(){return Sr().memoizedState=XT.bind(null,Je)},useEffectEvent:function(r){var o=Sr(),h={impl:r};return o.memoizedState=h,function(){if((An&2)!==0)throw Error(i(440));return h.impl.apply(void 0,arguments)}}},Pp={readContext:Gi,use:Kf,useCallback:av,useContext:Gi,useEffect:Mp,useImperativeHandle:ov,useInsertionEffect:iv,useLayoutEffect:rv,useMemo:lv,useReducer:Yf,useRef:tv,useState:function(){return Yf(Uo)},useDebugValue:Op,useDeferredValue:function(r,o){var h=_i();return uv(h,Dn.memoizedState,r,o)},useTransition:function(){var r=Yf(Uo)[0],o=_i().memoizedState;return[typeof r=="boolean"?r:lc(r),o]},useSyncExternalStore:zb,useId:dv,useHostTransitionStatus:Rp,useFormState:$b,useActionState:$b,useOptimistic:function(r,o){var h=_i();return Vb(h,Dn,r,o)},useMemoCache:Sp,useCacheRefresh:pv};Pp.useEffectEvent=nv;var bv={readContext:Gi,use:Kf,useCallback:av,useContext:Gi,useEffect:Mp,useImperativeHandle:ov,useInsertionEffect:iv,useLayoutEffect:rv,useMemo:lv,useReducer:Ap,useRef:tv,useState:function(){return Ap(Uo)},useDebugValue:Op,useDeferredValue:function(r,o){var h=_i();return Dn===null?Cp(h,r,o):uv(h,Dn.memoizedState,r,o)},useTransition:function(){var r=Ap(Uo)[0],o=_i().memoizedState;return[typeof r=="boolean"?r:lc(r),o]},useSyncExternalStore:zb,useId:dv,useHostTransitionStatus:Rp,useFormState:Jb,useActionState:Jb,useOptimistic:function(r,o){var h=_i();return Dn!==null?Vb(h,Dn,r,o):(h.baseState=r,[r,h.queue.dispatch])},useMemoCache:Sp,useCacheRefresh:pv};bv.useEffectEvent=nv;function Dp(r,o,h,m){o=r.memoizedState,h=h(m,o),h=h==null?o:y({},o,h),r.memoizedState=h,r.lanes===0&&(r.updateQueue.baseState=h)}var jp={enqueueSetState:function(r,o,h){r=r._reactInternals;var m=us(),w=Ma(m);w.payload=o,h!=null&&(w.callback=h),o=Oa(r,w,m),o!==null&&(zr(o,r,m),rc(o,r,m))},enqueueReplaceState:function(r,o,h){r=r._reactInternals;var m=us(),w=Ma(m);w.tag=1,w.payload=o,h!=null&&(w.callback=h),o=Oa(r,w,m),o!==null&&(zr(o,r,m),rc(o,r,m))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var h=us(),m=Ma(h);m.tag=2,o!=null&&(m.callback=o),o=Oa(r,m,h),o!==null&&(zr(o,r,h),rc(o,r,h))}};function vv(r,o,h,m,w,k,H){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,k,H):o.prototype&&o.prototype.isPureReactComponent?!b(h,m)||!b(w,k):!0}function wv(r,o,h,m){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(h,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(h,m),o.state!==r&&jp.enqueueReplaceState(o,o.state,null)}function Ml(r,o){var h=o;if("ref"in o){h={};for(var m in o)m!=="ref"&&(h[m]=o[m])}if(r=r.defaultProps){h===o&&(h=y({},h));for(var w in r)h[w]===void 0&&(h[w]=r[w])}return h}function xv(r){De(r)}function Sv(r){console.error(r)}function Ev(r){De(r)}function $f(r,o){try{var h=r.onUncaughtError;h(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function Av(r,o,h){try{var m=r.onCaughtError;m(h.value,{componentStack:h.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Ip(r,o,h){return h=Ma(h),h.tag=3,h.payload={element:null},h.callback=function(){$f(r,o)},h}function Tv(r){return r=Ma(r),r.tag=3,r}function kv(r,o,h,m){var w=h.type.getDerivedStateFromError;if(typeof w=="function"){var k=m.value;r.payload=function(){return w(k)},r.callback=function(){Av(o,h,m)}}var H=h.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(r.callback=function(){Av(o,h,m),typeof w!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var Q=m.stack;this.componentDidCatch(m.value,{componentStack:Q!==null?Q:""})})}function $T(r,o,h,m,w){if(h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=h.alternate,o!==null&&iu(o,h,w,!0),h=ss.current,h!==null){switch(h.tag){case 31:case 13:return bs===null?uh():h.alternate===null&&fi===0&&(fi=3),h.flags&=-257,h.flags|=65536,h.lanes=w,m===zf?h.flags|=16384:(o=h.updateQueue,o===null?h.updateQueue=new Set([m]):o.add(m),lm(r,m,w)),!1;case 22:return h.flags|=65536,m===zf?h.flags|=16384:(o=h.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},h.updateQueue=o):(h=o.retryQueue,h===null?o.retryQueue=new Set([m]):h.add(m)),lm(r,m,w)),!1}throw Error(i(435,h.tag))}return lm(r,m,w),uh(),!1}if(an)return o=ss.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=w,m!==nu&&(r=Error(i(422),{cause:m}),vl(p(r,h)))):(m!==nu&&(o=Error(i(423),{cause:m}),vl(p(o,h))),r=r.current.alternate,r.flags|=65536,w&=-w,r.lanes|=w,m=p(m,h),w=Ip(r.stateNode,m,w),dp(r,w),fi!==4&&(fi=2)),!1;var k=Error(i(520),{cause:m});if(k=p(k,h),_c===null?_c=[k]:_c.push(k),fi!==4&&(fi=2),o===null)return!0;m=p(m,h),h=o;do{switch(h.tag){case 3:return h.flags|=65536,r=w&-w,h.lanes|=r,r=Ip(h.stateNode,m,r),dp(h,r),!1;case 1:if(o=h.type,k=h.stateNode,(h.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Da===null||!Da.has(k))))return h.flags|=65536,w&=-w,h.lanes|=w,w=Tv(w),kv(w,r,h,m),dp(h,w),!1}h=h.return}while(h!==null);return!1}var zp=Error(i(461)),Ti=!1;function $i(r,o,h,m){o.child=r===null?Nb(o,null,h,m):Tl(o,r.child,h,m)}function Mv(r,o,h,m,w){h=h.render;var k=o.ref;if("ref"in m){var H={};for(var Q in m)Q!=="ref"&&(H[Q]=m[Q])}else H=m;return xl(o),m=bp(r,o,h,H,k,w),Q=vp(),r!==null&&!Ti?(wp(r,o,w),Fo(r,o,w)):(an&&Q&&Di(o),o.flags|=1,$i(r,o,m,w),o.child)}function Ov(r,o,h,m,w){if(r===null){var k=h.type;return typeof k=="function"&&!tu(k)&&k.defaultProps===void 0&&h.compare===null?(o.tag=15,o.type=k,Cv(r,o,k,m,w)):(r=bl(h.type,null,m,o,o.mode,w),r.ref=o.ref,r.return=o,o.child=r)}if(k=r.child,!Kp(r,w)){var H=k.memoizedProps;if(h=h.compare,h=h!==null?h:b,h(H,m)&&r.ref===o.ref)return Fo(r,o,w)}return o.flags|=1,r=_s(k,m),r.ref=o.ref,r.return=o,o.child=r}function Cv(r,o,h,m,w){if(r!==null){var k=r.memoizedProps;if(b(k,m)&&r.ref===o.ref)if(Ti=!1,o.pendingProps=m=k,Kp(r,w))(r.flags&131072)!==0&&(Ti=!0);else return o.lanes=r.lanes,Fo(r,o,w)}return Bp(r,o,h,m,w)}function Nv(r,o,h,m){var w=m.children,k=r!==null?r.memoizedState:null;if(r===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(k=k!==null?k.baseLanes|h:h,r!==null){for(m=o.child=r.child,w=0;m!==null;)w=w|m.lanes|m.childLanes,m=m.sibling;m=w&~k}else m=0,o.child=null;return Rv(r,o,k,h,m)}if((h&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&jf(o,k!==null?k.cachePool:null),k!==null?Pb(o,k):mp(),Db(o);else return m=o.lanes=536870912,Rv(r,o,k!==null?k.baseLanes|h:h,h,m)}else k!==null?(jf(o,k.cachePool),Pb(o,k),Na(),o.memoizedState=null):(r!==null&&jf(o,null),mp(),Na());return $i(r,o,w,h),o.child}function fc(r,o){return r!==null&&r.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Rv(r,o,h,m,w){var k=up();return k=k===null?null:{parent:Ei._currentValue,pool:k},o.memoizedState={baseLanes:h,cachePool:k},r!==null&&jf(o,null),mp(),Db(o),r!==null&&iu(r,o,m,!0),o.childLanes=w,null}function Qf(r,o){return o=th({mode:o.mode,children:o.children},r.mode),o.ref=r.ref,r.child=o,o.return=r,o}function Lv(r,o,h){return Tl(o,r.child,null,h),r=Qf(o,o.pendingProps),r.flags|=2,os(o),o.memoizedState=null,r}function QT(r,o,h){var m=o.pendingProps,w=(o.flags&128)!==0;if(o.flags&=-129,r===null){if(an){if(m.mode==="hidden")return r=Qf(o,m),o.lanes=536870912,fc(null,r);if(yp(o),(r=vn)?(r=W0(r,Lr),r=r!==null&&r.data==="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:$t!==null?{id:ye,overflow:Le}:null,retryLane:536870912,hydrationErrors:null},h=Gu(r),h.return=o,o.child=h,bn=o,vn=null)):r=null,r===null)throw ao(o);return o.lanes=536870912,null}return Qf(o,m)}var k=r.memoizedState;if(k!==null){var H=k.dehydrated;if(yp(o),w)if(o.flags&256)o.flags&=-257,o=Lv(r,o,h);else if(o.memoizedState!==null)o.child=r.child,o.flags|=128,o=null;else throw Error(i(558));else if(Ti||iu(r,o,h,!1),w=(h&r.childLanes)!==0,Ti||w){if(m=Fn,m!==null&&(H=Me(m,h),H!==0&&H!==k.retryLane))throw k.retryLane=H,On(r,H),zr(m,r,H),zp;uh(),o=Lv(r,o,h)}else r=k.treeContext,vn=vs(H.nextSibling),bn=o,an=!0,oo=null,Lr=!1,r!==null&&xr(o,r),o=Qf(o,m),o.flags|=4096;return o}return r=_s(r.child,{mode:m.mode,children:m.children}),r.ref=o.ref,o.child=r,r.return=o,r}function Jf(r,o){var h=o.ref;if(h===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(r===null||r.ref!==h)&&(o.flags|=4194816)}}function Bp(r,o,h,m,w){return xl(o),h=bp(r,o,h,m,void 0,w),m=vp(),r!==null&&!Ti?(wp(r,o,w),Fo(r,o,w)):(an&&m&&Di(o),o.flags|=1,$i(r,o,h,w),o.child)}function Pv(r,o,h,m,w,k){return xl(o),o.updateQueue=null,h=Ib(o,m,h,w),jb(r),m=vp(),r!==null&&!Ti?(wp(r,o,k),Fo(r,o,k)):(an&&m&&Di(o),o.flags|=1,$i(r,o,h,k),o.child)}function Dv(r,o,h,m,w){if(xl(o),o.stateNode===null){var k=Xi,H=h.contextType;typeof H=="object"&&H!==null&&(k=Gi(H)),k=new h(m,k),o.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=jp,o.stateNode=k,k._reactInternals=o,k=o.stateNode,k.props=m,k.state=o.memoizedState,k.refs={},fp(o),H=h.contextType,k.context=typeof H=="object"&&H!==null?Gi(H):Xi,k.state=o.memoizedState,H=h.getDerivedStateFromProps,typeof H=="function"&&(Dp(o,h,H,m),k.state=o.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(H=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),H!==k.state&&jp.enqueueReplaceState(k,k.state,null),oc(o,m,k,w),sc(),k.state=o.memoizedState),typeof k.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(r===null){k=o.stateNode;var Q=o.memoizedProps,St=Ml(h,Q);k.props=St;var Zt=k.context,de=h.contextType;H=Xi,typeof de=="object"&&de!==null&&(H=Gi(de));var _e=h.getDerivedStateFromProps;de=typeof _e=="function"||typeof k.getSnapshotBeforeUpdate=="function",Q=o.pendingProps!==Q,de||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(Q||Zt!==H)&&wv(o,k,m,H),ka=!1;var Qt=o.memoizedState;k.state=Qt,oc(o,m,k,w),sc(),Zt=o.memoizedState,Q||Qt!==Zt||ka?(typeof _e=="function"&&(Dp(o,h,_e,m),Zt=o.memoizedState),(St=ka||vv(o,h,St,m,Qt,Zt,H))?(de||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(o.flags|=4194308)):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=Zt),k.props=m,k.state=Zt,k.context=H,m=St):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{k=o.stateNode,hp(r,o),H=o.memoizedProps,de=Ml(h,H),k.props=de,_e=o.pendingProps,Qt=k.context,Zt=h.contextType,St=Xi,typeof Zt=="object"&&Zt!==null&&(St=Gi(Zt)),Q=h.getDerivedStateFromProps,(Zt=typeof Q=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(H!==_e||Qt!==St)&&wv(o,k,m,St),ka=!1,Qt=o.memoizedState,k.state=Qt,oc(o,m,k,w),sc();var ne=o.memoizedState;H!==_e||Qt!==ne||ka||r!==null&&r.dependencies!==null&&Pf(r.dependencies)?(typeof Q=="function"&&(Dp(o,h,Q,m),ne=o.memoizedState),(de=ka||vv(o,h,de,m,Qt,ne,St)||r!==null&&r.dependencies!==null&&Pf(r.dependencies))?(Zt||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(m,ne,St),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(m,ne,St)),typeof k.componentDidUpdate=="function"&&(o.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof k.componentDidUpdate!="function"||H===r.memoizedProps&&Qt===r.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||H===r.memoizedProps&&Qt===r.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=ne),k.props=m,k.state=ne,k.context=St,m=de):(typeof k.componentDidUpdate!="function"||H===r.memoizedProps&&Qt===r.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||H===r.memoizedProps&&Qt===r.memoizedState||(o.flags|=1024),m=!1)}return k=m,Jf(r,o),m=(o.flags&128)!==0,k||m?(k=o.stateNode,h=m&&typeof h.getDerivedStateFromError!="function"?null:k.render(),o.flags|=1,r!==null&&m?(o.child=Tl(o,r.child,null,w),o.child=Tl(o,null,h,w)):$i(r,o,h,w),o.memoizedState=k.state,r=o.child):r=Fo(r,o,w),r}function jv(r,o,h,m){return Io(),o.flags|=256,$i(r,o,h,m),o.child}var Up={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fp(r){return{baseLanes:r,cachePool:Ab()}}function Hp(r,o,h){return r=r!==null?r.childLanes&~h:0,o&&(r|=ls),r}function Iv(r,o,h){var m=o.pendingProps,w=!1,k=(o.flags&128)!==0,H;if((H=k)||(H=r!==null&&r.memoizedState===null?!1:(yi.current&2)!==0),H&&(w=!0,o.flags&=-129),H=(o.flags&32)!==0,o.flags&=-33,r===null){if(an){if(w?Ca(o):Na(),(r=vn)?(r=W0(r,Lr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:$t!==null?{id:ye,overflow:Le}:null,retryLane:536870912,hydrationErrors:null},h=Gu(r),h.return=o,o.child=h,bn=o,vn=null)):r=null,r===null)throw ao(o);return Em(r)?o.lanes=32:o.lanes=536870912,null}var Q=m.children;return m=m.fallback,w?(Na(),w=o.mode,Q=th({mode:"hidden",children:Q},w),m=jo(m,w,h,null),Q.return=o,m.return=o,Q.sibling=m,o.child=Q,m=o.child,m.memoizedState=Fp(h),m.childLanes=Hp(r,H,h),o.memoizedState=Up,fc(null,m)):(Ca(o),qp(o,Q))}var St=r.memoizedState;if(St!==null&&(Q=St.dehydrated,Q!==null)){if(k)o.flags&256?(Ca(o),o.flags&=-257,o=Vp(r,o,h)):o.memoizedState!==null?(Na(),o.child=r.child,o.flags|=128,o=null):(Na(),Q=m.fallback,w=o.mode,m=th({mode:"visible",children:m.children},w),Q=jo(Q,w,h,null),Q.flags|=2,m.return=o,Q.return=o,m.sibling=Q,o.child=m,Tl(o,r.child,null,h),m=o.child,m.memoizedState=Fp(h),m.childLanes=Hp(r,H,h),o.memoizedState=Up,o=fc(null,m));else if(Ca(o),Em(Q)){if(H=Q.nextSibling&&Q.nextSibling.dataset,H)var Zt=H.dgst;H=Zt,m=Error(i(419)),m.stack="",m.digest=H,vl({value:m,source:null,stack:null}),o=Vp(r,o,h)}else if(Ti||iu(r,o,h,!1),H=(h&r.childLanes)!==0,Ti||H){if(H=Fn,H!==null&&(m=Me(H,h),m!==0&&m!==St.retryLane))throw St.retryLane=m,On(r,m),zr(H,r,m),zp;Sm(Q)||uh(),o=Vp(r,o,h)}else Sm(Q)?(o.flags|=192,o.child=r.child,o=null):(r=St.treeContext,vn=vs(Q.nextSibling),bn=o,an=!0,oo=null,Lr=!1,r!==null&&xr(o,r),o=qp(o,m.children),o.flags|=4096);return o}return w?(Na(),Q=m.fallback,w=o.mode,St=r.child,Zt=St.sibling,m=_s(St,{mode:"hidden",children:m.children}),m.subtreeFlags=St.subtreeFlags&65011712,Zt!==null?Q=_s(Zt,Q):(Q=jo(Q,w,h,null),Q.flags|=2),Q.return=o,m.return=o,m.sibling=Q,o.child=m,fc(null,m),m=o.child,Q=r.child.memoizedState,Q===null?Q=Fp(h):(w=Q.cachePool,w!==null?(St=Ei._currentValue,w=w.parent!==St?{parent:St,pool:St}:w):w=Ab(),Q={baseLanes:Q.baseLanes|h,cachePool:w}),m.memoizedState=Q,m.childLanes=Hp(r,H,h),o.memoizedState=Up,fc(r.child,m)):(Ca(o),h=r.child,r=h.sibling,h=_s(h,{mode:"visible",children:m.children}),h.return=o,h.sibling=null,r!==null&&(H=o.deletions,H===null?(o.deletions=[r],o.flags|=16):H.push(r)),o.child=h,o.memoizedState=null,h)}function qp(r,o){return o=th({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function th(r,o){return r=sr(22,r,null,o),r.lanes=0,r}function Vp(r,o,h){return Tl(o,r.child,null,h),r=qp(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function zv(r,o,h){r.lanes|=o;var m=r.alternate;m!==null&&(m.lanes|=o),sp(r.return,o,h)}function Wp(r,o,h,m,w,k){var H=r.memoizedState;H===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:w,treeForkCount:k}:(H.isBackwards=o,H.rendering=null,H.renderingStartTime=0,H.last=m,H.tail=h,H.tailMode=w,H.treeForkCount=k)}function Bv(r,o,h){var m=o.pendingProps,w=m.revealOrder,k=m.tail;m=m.children;var H=yi.current,Q=(H&2)!==0;if(Q?(H=H&1|2,o.flags|=128):H&=1,at(yi,H),$i(r,o,m,h),m=an?$:0,!Q&&r!==null&&(r.flags&128)!==0)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&zv(r,h,o);else if(r.tag===19)zv(r,h,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(w){case"forwards":for(h=o.child,w=null;h!==null;)r=h.alternate,r!==null&&Hf(r)===null&&(w=h),h=h.sibling;h=w,h===null?(w=o.child,o.child=null):(w=h.sibling,h.sibling=null),Wp(o,!1,w,h,k,m);break;case"backwards":case"unstable_legacy-backwards":for(h=null,w=o.child,o.child=null;w!==null;){if(r=w.alternate,r!==null&&Hf(r)===null){o.child=w;break}r=w.sibling,w.sibling=h,h=w,w=r}Wp(o,!0,h,null,k,m);break;case"together":Wp(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function Fo(r,o,h){if(r!==null&&(o.dependencies=r.dependencies),Pa|=o.lanes,(h&o.childLanes)===0)if(r!==null){if(iu(r,o,h,!1),(h&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,h=_s(r,r.pendingProps),o.child=h,h.return=o;r.sibling!==null;)r=r.sibling,h=h.sibling=_s(r,r.pendingProps),h.return=o;h.sibling=null}return o.child}function Kp(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Pf(r)))}function JT(r,o,h){switch(o.tag){case 3:ct(o,o.stateNode.containerInfo),Ta(o,Ei,r.memoizedState.cache),Io();break;case 27:case 5:Mt(o);break;case 4:ct(o,o.stateNode.containerInfo);break;case 10:Ta(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,yp(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(Ca(o),o.flags|=128,null):(h&o.child.childLanes)!==0?Iv(r,o,h):(Ca(o),r=Fo(r,o,h),r!==null?r.sibling:null);Ca(o);break;case 19:var w=(r.flags&128)!==0;if(m=(h&o.childLanes)!==0,m||(iu(r,o,h,!1),m=(h&o.childLanes)!==0),w){if(m)return Bv(r,o,h);o.flags|=128}if(w=o.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),at(yi,yi.current),m)break;return null;case 22:return o.lanes=0,Nv(r,o,h,o.pendingProps);case 24:Ta(o,Ei,r.memoizedState.cache)}return Fo(r,o,h)}function Uv(r,o,h){if(r!==null)if(r.memoizedProps!==o.pendingProps)Ti=!0;else{if(!Kp(r,h)&&(o.flags&128)===0)return Ti=!1,JT(r,o,h);Ti=(r.flags&131072)!==0}else Ti=!1,an&&(o.flags&1048576)!==0&&rn(o,$,o.index);switch(o.lanes=0,o.tag){case 16:t:{var m=o.pendingProps;if(r=El(o.elementType),o.type=r,typeof r=="function")tu(r)?(m=Ml(r,m),o.tag=1,o=Dv(null,o,r,m,h)):(o.tag=0,o=Bp(null,o,r,m,h));else{if(r!=null){var w=r.$$typeof;if(w===I){o.tag=11,o=Mv(null,o,r,m,h);break t}else if(w===j){o.tag=14,o=Ov(null,o,r,m,h);break t}}throw o=ht(r)||r,Error(i(306,o,""))}}return o;case 0:return Bp(r,o,o.type,o.pendingProps,h);case 1:return m=o.type,w=Ml(m,o.pendingProps),Dv(r,o,m,w,h);case 3:t:{if(ct(o,o.stateNode.containerInfo),r===null)throw Error(i(387));m=o.pendingProps;var k=o.memoizedState;w=k.element,hp(r,o),oc(o,m,null,h);var H=o.memoizedState;if(m=H.cache,Ta(o,Ei,m),m!==k.cache&&op(o,[Ei],h,!0),sc(),m=H.element,k.isDehydrated)if(k={element:m,isDehydrated:!1,cache:H.cache},o.updateQueue.baseState=k,o.memoizedState=k,o.flags&256){o=jv(r,o,m,h);break t}else if(m!==w){w=p(Error(i(424)),o),vl(w),o=jv(r,o,m,h);break t}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(vn=vs(r.firstChild),bn=o,an=!0,oo=null,Lr=!0,h=Nb(o,null,m,h),o.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Io(),m===w){o=Fo(r,o,h);break t}$i(r,o,m,h)}o=o.child}return o;case 26:return Jf(r,o),r===null?(h=$0(o.type,null,o.pendingProps,null))?o.memoizedState=h:an||(h=o.type,r=o.pendingProps,m=gh(Ut.current).createElement(h),m[pn]=o,m[kn]=r,Qi(m,h,r),ti(m),o.stateNode=m):o.memoizedState=$0(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Mt(o),r===null&&an&&(m=o.stateNode=Z0(o.type,o.pendingProps,Ut.current),bn=o,Lr=!0,w=vn,Ba(o.type)?(Am=w,vn=vs(m.firstChild)):vn=w),$i(r,o,o.pendingProps.children,h),Jf(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&an&&((w=m=vn)&&(m=Ok(m,o.type,o.pendingProps,Lr),m!==null?(o.stateNode=m,bn=o,vn=vs(m.firstChild),Lr=!1,w=!0):w=!1),w||ao(o)),Mt(o),w=o.type,k=o.pendingProps,H=r!==null?r.memoizedProps:null,m=k.children,vm(w,k)?m=null:H!==null&&vm(w,H)&&(o.flags|=32),o.memoizedState!==null&&(w=bp(r,o,VT,null,null,h),Tc._currentValue=w),Jf(r,o),$i(r,o,m,h),o.child;case 6:return r===null&&an&&((r=h=vn)&&(h=Ck(h,o.pendingProps,Lr),h!==null?(o.stateNode=h,bn=o,vn=null,r=!0):r=!1),r||ao(o)),null;case 13:return Iv(r,o,h);case 4:return ct(o,o.stateNode.containerInfo),m=o.pendingProps,r===null?o.child=Tl(o,null,m,h):$i(r,o,m,h),o.child;case 11:return Mv(r,o,o.type,o.pendingProps,h);case 7:return $i(r,o,o.pendingProps,h),o.child;case 8:return $i(r,o,o.pendingProps.children,h),o.child;case 12:return $i(r,o,o.pendingProps.children,h),o.child;case 10:return m=o.pendingProps,Ta(o,o.type,m.value),$i(r,o,m.children,h),o.child;case 9:return w=o.type._context,m=o.pendingProps.children,xl(o),w=Gi(w),m=m(w),o.flags|=1,$i(r,o,m,h),o.child;case 14:return Ov(r,o,o.type,o.pendingProps,h);case 15:return Cv(r,o,o.type,o.pendingProps,h);case 19:return Bv(r,o,h);case 31:return QT(r,o,h);case 22:return Nv(r,o,h,o.pendingProps);case 24:return xl(o),m=Gi(Ei),r===null?(w=up(),w===null&&(w=Fn,k=ap(),w.pooledCache=k,k.refCount++,k!==null&&(w.pooledCacheLanes|=h),w=k),o.memoizedState={parent:m,cache:w},fp(o),Ta(o,Ei,w)):((r.lanes&h)!==0&&(hp(r,o),oc(o,null,null,h),sc()),w=r.memoizedState,k=o.memoizedState,w.parent!==m?(w={parent:m,cache:m},o.memoizedState=w,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=w),Ta(o,Ei,m)):(m=k.cache,Ta(o,Ei,m),m!==w.cache&&op(o,[Ei],h,!0))),$i(r,o,o.pendingProps.children,h),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Ho(r){r.flags|=4}function Yp(r,o,h,m,w){if((o=(r.mode&32)!==0)&&(o=!1),o){if(r.flags|=16777216,(w&335544128)===w)if(r.stateNode.complete)r.flags|=8192;else if(d0())r.flags|=8192;else throw Al=zf,cp}else r.flags&=-16777217}function Fv(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!n1(o))if(d0())r.flags|=8192;else throw Al=zf,cp}function eh(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Yr():536870912,r.lanes|=o,mu|=o)}function hc(r,o){if(!an)switch(r.tailMode){case"hidden":o=r.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?r.tail=null:h.sibling=null;break;case"collapsed":h=r.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function Zn(r){var o=r.alternate!==null&&r.alternate.child===r.child,h=0,m=0;if(o)for(var w=r.child;w!==null;)h|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=r,w=w.sibling;else for(w=r.child;w!==null;)h|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=r,w=w.sibling;return r.subtreeFlags|=m,r.childLanes=h,o}function tk(r,o,h){var m=o.pendingProps;switch(ui(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(o),null;case 1:return Zn(o),null;case 3:return h=o.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),zo(Ei),vt(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(js(o)?Ho(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ju())),Zn(o),null;case 26:var w=o.type,k=o.memoizedState;return r===null?(Ho(o),k!==null?(Zn(o),Fv(o,k)):(Zn(o),Yp(o,w,null,m,h))):k?k!==r.memoizedState?(Ho(o),Zn(o),Fv(o,k)):(Zn(o),o.flags&=-16777217):(r=r.memoizedProps,r!==m&&Ho(o),Zn(o),Yp(o,w,r,m,h)),null;case 27:if(Rt(o),h=Ut.current,w=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==m&&Ho(o);else{if(!m){if(o.stateNode===null)throw Error(i(166));return Zn(o),null}r=Tt.current,js(o)?Qu(o):(r=Z0(w,m,h),o.stateNode=r,Ho(o))}return Zn(o),null;case 5:if(Rt(o),w=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==m&&Ho(o);else{if(!m){if(o.stateNode===null)throw Error(i(166));return Zn(o),null}if(k=Tt.current,js(o))Qu(o);else{var H=gh(Ut.current);switch(k){case 1:k=H.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:k=H.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":k=H.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":k=H.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":k=H.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof m.is=="string"?H.createElement("select",{is:m.is}):H.createElement("select"),m.multiple?k.multiple=!0:m.size&&(k.size=m.size);break;default:k=typeof m.is=="string"?H.createElement(w,{is:m.is}):H.createElement(w)}}k[pn]=o,k[kn]=m;t:for(H=o.child;H!==null;){if(H.tag===5||H.tag===6)k.appendChild(H.stateNode);else if(H.tag!==4&&H.tag!==27&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===o)break t;for(;H.sibling===null;){if(H.return===null||H.return===o)break t;H=H.return}H.sibling.return=H.return,H=H.sibling}o.stateNode=k;t:switch(Qi(k,w,m),w){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break t;case"img":m=!0;break t;default:m=!1}m&&Ho(o)}}return Zn(o),Yp(o,o.type,r===null?null:r.memoizedProps,o.pendingProps,h),null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==m&&Ho(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(i(166));if(r=Ut.current,js(o)){if(r=o.stateNode,h=o.memoizedProps,m=null,w=bn,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}r[pn]=o,r=!!(r.nodeValue===h||m!==null&&m.suppressHydrationWarning===!0||I0(r.nodeValue,h)),r||ao(o,!0)}else r=gh(r).createTextNode(m),r[pn]=o,o.stateNode=r}return Zn(o),null;case 31:if(h=o.memoizedState,r===null||r.memoizedState!==null){if(m=js(o),h!==null){if(r===null){if(!m)throw Error(i(318));if(r=o.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[pn]=o}else Io(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Zn(o),r=!1}else h=Ju(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),r=!0;if(!r)return o.flags&256?(os(o),o):(os(o),null);if((o.flags&128)!==0)throw Error(i(558))}return Zn(o),null;case 13:if(m=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(w=js(o),m!==null&&m.dehydrated!==null){if(r===null){if(!w)throw Error(i(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(i(317));w[pn]=o}else Io(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Zn(o),w=!1}else w=Ju(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=w),w=!0;if(!w)return o.flags&256?(os(o),o):(os(o),null)}return os(o),(o.flags&128)!==0?(o.lanes=h,o):(h=m!==null,r=r!==null&&r.memoizedState!==null,h&&(m=o.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool),k=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(k=m.memoizedState.cachePool.pool),k!==w&&(m.flags|=2048)),h!==r&&h&&(o.child.flags|=8192),eh(o,o.updateQueue),Zn(o),null);case 4:return vt(),r===null&&mm(o.stateNode.containerInfo),Zn(o),null;case 10:return zo(o.type),Zn(o),null;case 19:if(Z(yi),m=o.memoizedState,m===null)return Zn(o),null;if(w=(o.flags&128)!==0,k=m.rendering,k===null)if(w)hc(m,!1);else{if(fi!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(k=Hf(r),k!==null){for(o.flags|=128,hc(m,!1),r=k.updateQueue,o.updateQueue=r,eh(o,r),o.subtreeFlags=0,r=h,h=o.child;h!==null;)Xu(h,r),h=h.sibling;return at(yi,yi.current&1|2),an&&Ue(o,m.treeForkCount),o.child}r=r.sibling}m.tail!==null&&Xt()>oh&&(o.flags|=128,w=!0,hc(m,!1),o.lanes=4194304)}else{if(!w)if(r=Hf(k),r!==null){if(o.flags|=128,w=!0,r=r.updateQueue,o.updateQueue=r,eh(o,r),hc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!k.alternate&&!an)return Zn(o),null}else 2*Xt()-m.renderingStartTime>oh&&h!==536870912&&(o.flags|=128,w=!0,hc(m,!1),o.lanes=4194304);m.isBackwards?(k.sibling=o.child,o.child=k):(r=m.last,r!==null?r.sibling=k:o.child=k,m.last=k)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=Xt(),r.sibling=null,h=yi.current,at(yi,w?h&1|2:h&1),an&&Ue(o,m.treeForkCount),r):(Zn(o),null);case 22:case 23:return os(o),gp(),m=o.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(h&536870912)!==0&&(o.flags&128)===0&&(Zn(o),o.subtreeFlags&6&&(o.flags|=8192)):Zn(o),h=o.updateQueue,h!==null&&eh(o,h.retryQueue),h=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048),r!==null&&Z(Sl),null;case 24:return h=null,r!==null&&(h=r.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),zo(Ei),Zn(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function ek(r,o){switch(ui(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return zo(Ei),vt(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return Rt(o),null;case 31:if(o.memoizedState!==null){if(os(o),o.alternate===null)throw Error(i(340));Io()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 13:if(os(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Io()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return Z(yi),null;case 4:return vt(),null;case 10:return zo(o.type),null;case 22:case 23:return os(o),gp(),r!==null&&Z(Sl),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return zo(Ei),null;case 25:return null;default:return null}}function Hv(r,o){switch(ui(o),o.tag){case 3:zo(Ei),vt();break;case 26:case 27:case 5:Rt(o);break;case 4:vt();break;case 31:o.memoizedState!==null&&os(o);break;case 13:os(o);break;case 19:Z(yi);break;case 10:zo(o.type);break;case 22:case 23:os(o),gp(),r!==null&&Z(Sl);break;case 24:zo(Ei)}}function dc(r,o){try{var h=o.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var w=m.next;h=w;do{if((h.tag&r)===r){m=void 0;var k=h.create,H=h.inst;m=k(),H.destroy=m}h=h.next}while(h!==w)}}catch(Q){Nn(o,o.return,Q)}}function Ra(r,o,h){try{var m=o.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var k=w.next;m=k;do{if((m.tag&r)===r){var H=m.inst,Q=H.destroy;if(Q!==void 0){H.destroy=void 0,w=o;var St=h,Zt=Q;try{Zt()}catch(de){Nn(w,St,de)}}}m=m.next}while(m!==k)}}catch(de){Nn(o,o.return,de)}}function qv(r){var o=r.updateQueue;if(o!==null){var h=r.stateNode;try{Lb(o,h)}catch(m){Nn(r,r.return,m)}}}function Vv(r,o,h){h.props=Ml(r.type,r.memoizedProps),h.state=r.memoizedState;try{h.componentWillUnmount()}catch(m){Nn(r,o,m)}}function pc(r,o){try{var h=r.ref;if(h!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof h=="function"?r.refCleanup=h(m):h.current=m}}catch(w){Nn(r,o,w)}}function uo(r,o){var h=r.ref,m=r.refCleanup;if(h!==null)if(typeof m=="function")try{m()}catch(w){Nn(r,o,w)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(w){Nn(r,o,w)}else h.current=null}function Wv(r){var o=r.type,h=r.memoizedProps,m=r.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":h.autoFocus&&m.focus();break t;case"img":h.src?m.src=h.src:h.srcSet&&(m.srcset=h.srcSet)}}catch(w){Nn(r,r.return,w)}}function Zp(r,o,h){try{var m=r.stateNode;Sk(m,r.type,h,o),m[kn]=o}catch(w){Nn(r,r.return,w)}}function Kv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ba(r.type)||r.tag===4}function Xp(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||Kv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ba(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Gp(r,o,h){var m=r.tag;if(m===5||m===6)r=r.stateNode,o?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(r,o):(o=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,o.appendChild(r),h=h._reactRootContainer,h!=null||o.onclick!==null||(o.onclick=Li));else if(m!==4&&(m===27&&Ba(r.type)&&(h=r.stateNode,o=null),r=r.child,r!==null))for(Gp(r,o,h),r=r.sibling;r!==null;)Gp(r,o,h),r=r.sibling}function nh(r,o,h){var m=r.tag;if(m===5||m===6)r=r.stateNode,o?h.insertBefore(r,o):h.appendChild(r);else if(m!==4&&(m===27&&Ba(r.type)&&(h=r.stateNode),r=r.child,r!==null))for(nh(r,o,h),r=r.sibling;r!==null;)nh(r,o,h),r=r.sibling}function Yv(r){var o=r.stateNode,h=r.memoizedProps;try{for(var m=r.type,w=o.attributes;w.length;)o.removeAttributeNode(w[0]);Qi(o,m,h),o[pn]=r,o[kn]=h}catch(k){Nn(r,r.return,k)}}var qo=!1,ki=!1,$p=!1,Zv=typeof WeakSet=="function"?WeakSet:Set,Hi=null;function nk(r,o){if(r=r.containerInfo,_m=Sh,r=q(r),X(r)){if("selectionStart"in r)var h={start:r.selectionStart,end:r.selectionEnd};else t:{h=(h=r.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var w=m.anchorOffset,k=m.focusNode;m=m.focusOffset;try{h.nodeType,k.nodeType}catch{h=null;break t}var H=0,Q=-1,St=-1,Zt=0,de=0,_e=r,Qt=null;e:for(;;){for(var ne;_e!==h||w!==0&&_e.nodeType!==3||(Q=H+w),_e!==k||m!==0&&_e.nodeType!==3||(St=H+m),_e.nodeType===3&&(H+=_e.nodeValue.length),(ne=_e.firstChild)!==null;)Qt=_e,_e=ne;for(;;){if(_e===r)break e;if(Qt===h&&++Zt===w&&(Q=H),Qt===k&&++de===m&&(St=H),(ne=_e.nextSibling)!==null)break;_e=Qt,Qt=_e.parentNode}_e=ne}h=Q===-1||St===-1?null:{start:Q,end:St}}else h=null}h=h||{start:0,end:0}}else h=null;for(bm={focusedElem:r,selectionRange:h},Sh=!1,Hi=o;Hi!==null;)if(o=Hi,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,Hi=r;else for(;Hi!==null;){switch(o=Hi,k=o.alternate,r=o.flags,o.tag){case 0:if((r&4)!==0&&(r=o.updateQueue,r=r!==null?r.events:null,r!==null))for(h=0;h<r.length;h++)w=r[h],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&k!==null){r=void 0,h=o,w=k.memoizedProps,k=k.memoizedState,m=h.stateNode;try{var ze=Ml(h.type,w);r=m.getSnapshotBeforeUpdate(ze,k),m.__reactInternalSnapshotBeforeUpdate=r}catch(Ze){Nn(h,h.return,Ze)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,h=r.nodeType,h===9)xm(r);else if(h===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":xm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,Hi=r;break}Hi=o.return}}function Xv(r,o,h){var m=h.flags;switch(h.tag){case 0:case 11:case 15:Wo(r,h),m&4&&dc(5,h);break;case 1:if(Wo(r,h),m&4)if(r=h.stateNode,o===null)try{r.componentDidMount()}catch(H){Nn(h,h.return,H)}else{var w=Ml(h.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(w,o,r.__reactInternalSnapshotBeforeUpdate)}catch(H){Nn(h,h.return,H)}}m&64&&qv(h),m&512&&pc(h,h.return);break;case 3:if(Wo(r,h),m&64&&(r=h.updateQueue,r!==null)){if(o=null,h.child!==null)switch(h.child.tag){case 27:case 5:o=h.child.stateNode;break;case 1:o=h.child.stateNode}try{Lb(r,o)}catch(H){Nn(h,h.return,H)}}break;case 27:o===null&&m&4&&Yv(h);case 26:case 5:Wo(r,h),o===null&&m&4&&Wv(h),m&512&&pc(h,h.return);break;case 12:Wo(r,h);break;case 31:Wo(r,h),m&4&&Qv(r,h);break;case 13:Wo(r,h),m&4&&Jv(r,h),m&64&&(r=h.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(h=fk.bind(null,h),Nk(r,h))));break;case 22:if(m=h.memoizedState!==null||qo,!m){o=o!==null&&o.memoizedState!==null||ki,w=qo;var k=ki;qo=m,(ki=o)&&!k?Ko(r,h,(h.subtreeFlags&8772)!==0):Wo(r,h),qo=w,ki=k}break;case 30:break;default:Wo(r,h)}}function Gv(r){var o=r.alternate;o!==null&&(r.alternate=null,Gv(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&pa(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Qn=null,Pr=!1;function Vo(r,o,h){for(h=h.child;h!==null;)$v(r,o,h),h=h.sibling}function $v(r,o,h){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Ot,h)}catch{}switch(h.tag){case 26:ki||uo(h,o),Vo(r,o,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:ki||uo(h,o);var m=Qn,w=Pr;Ba(h.type)&&(Qn=h.stateNode,Pr=!1),Vo(r,o,h),Sc(h.stateNode),Qn=m,Pr=w;break;case 5:ki||uo(h,o);case 6:if(m=Qn,w=Pr,Qn=null,Vo(r,o,h),Qn=m,Pr=w,Qn!==null)if(Pr)try{(Qn.nodeType===9?Qn.body:Qn.nodeName==="HTML"?Qn.ownerDocument.body:Qn).removeChild(h.stateNode)}catch(k){Nn(h,o,k)}else try{Qn.removeChild(h.stateNode)}catch(k){Nn(h,o,k)}break;case 18:Qn!==null&&(Pr?(r=Qn,q0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,h.stateNode),Su(r)):q0(Qn,h.stateNode));break;case 4:m=Qn,w=Pr,Qn=h.stateNode.containerInfo,Pr=!0,Vo(r,o,h),Qn=m,Pr=w;break;case 0:case 11:case 14:case 15:Ra(2,h,o),ki||Ra(4,h,o),Vo(r,o,h);break;case 1:ki||(uo(h,o),m=h.stateNode,typeof m.componentWillUnmount=="function"&&Vv(h,o,m)),Vo(r,o,h);break;case 21:Vo(r,o,h);break;case 22:ki=(m=ki)||h.memoizedState!==null,Vo(r,o,h),ki=m;break;default:Vo(r,o,h)}}function Qv(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Su(r)}catch(h){Nn(o,o.return,h)}}}function Jv(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Su(r)}catch(h){Nn(o,o.return,h)}}function ik(r){switch(r.tag){case 31:case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new Zv),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new Zv),o;default:throw Error(i(435,r.tag))}}function ih(r,o){var h=ik(r);o.forEach(function(m){if(!h.has(m)){h.add(m);var w=hk.bind(null,r,m);m.then(w,w)}})}function Dr(r,o){var h=o.deletions;if(h!==null)for(var m=0;m<h.length;m++){var w=h[m],k=r,H=o,Q=H;t:for(;Q!==null;){switch(Q.tag){case 27:if(Ba(Q.type)){Qn=Q.stateNode,Pr=!1;break t}break;case 5:Qn=Q.stateNode,Pr=!1;break t;case 3:case 4:Qn=Q.stateNode.containerInfo,Pr=!0;break t}Q=Q.return}if(Qn===null)throw Error(i(160));$v(k,H,w),Qn=null,Pr=!1,k=w.alternate,k!==null&&(k.return=null),w.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)t0(o,r),o=o.sibling}var zs=null;function t0(r,o){var h=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Dr(o,r),jr(r),m&4&&(Ra(3,r,r.return),dc(3,r),Ra(5,r,r.return));break;case 1:Dr(o,r),jr(r),m&512&&(ki||h===null||uo(h,h.return)),m&64&&qo&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(h=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=h===null?m:h.concat(m))));break;case 26:var w=zs;if(Dr(o,r),jr(r),m&512&&(ki||h===null||uo(h,h.return)),m&4){var k=h!==null?h.memoizedState:null;if(m=r.memoizedState,h===null)if(m===null)if(r.stateNode===null){t:{m=r.type,h=r.memoizedProps,w=w.ownerDocument||w;e:switch(m){case"title":k=w.getElementsByTagName("title")[0],(!k||k[Yn]||k[pn]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=w.createElement(m),w.head.insertBefore(k,w.querySelector("head > title"))),Qi(k,m,h),k[pn]=r,ti(k),m=k;break t;case"link":var H=t1("link","href",w).get(m+(h.href||""));if(H){for(var Q=0;Q<H.length;Q++)if(k=H[Q],k.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&k.getAttribute("rel")===(h.rel==null?null:h.rel)&&k.getAttribute("title")===(h.title==null?null:h.title)&&k.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){H.splice(Q,1);break e}}k=w.createElement(m),Qi(k,m,h),w.head.appendChild(k);break;case"meta":if(H=t1("meta","content",w).get(m+(h.content||""))){for(Q=0;Q<H.length;Q++)if(k=H[Q],k.getAttribute("content")===(h.content==null?null:""+h.content)&&k.getAttribute("name")===(h.name==null?null:h.name)&&k.getAttribute("property")===(h.property==null?null:h.property)&&k.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&k.getAttribute("charset")===(h.charSet==null?null:h.charSet)){H.splice(Q,1);break e}}k=w.createElement(m),Qi(k,m,h),w.head.appendChild(k);break;default:throw Error(i(468,m))}k[pn]=r,ti(k),m=k}r.stateNode=m}else e1(w,r.type,r.stateNode);else r.stateNode=J0(w,m,r.memoizedProps);else k!==m?(k===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):k.count--,m===null?e1(w,r.type,r.stateNode):J0(w,m,r.memoizedProps)):m===null&&r.stateNode!==null&&Zp(r,r.memoizedProps,h.memoizedProps)}break;case 27:Dr(o,r),jr(r),m&512&&(ki||h===null||uo(h,h.return)),h!==null&&m&4&&Zp(r,r.memoizedProps,h.memoizedProps);break;case 5:if(Dr(o,r),jr(r),m&512&&(ki||h===null||uo(h,h.return)),r.flags&32){w=r.stateNode;try{_r(w,"")}catch(ze){Nn(r,r.return,ze)}}m&4&&r.stateNode!=null&&(w=r.memoizedProps,Zp(r,w,h!==null?h.memoizedProps:w)),m&1024&&($p=!0);break;case 6:if(Dr(o,r),jr(r),m&4){if(r.stateNode===null)throw Error(i(162));m=r.memoizedProps,h=r.stateNode;try{h.nodeValue=m}catch(ze){Nn(r,r.return,ze)}}break;case 3:if(bh=null,w=zs,zs=yh(o.containerInfo),Dr(o,r),zs=w,jr(r),m&4&&h!==null&&h.memoizedState.isDehydrated)try{Su(o.containerInfo)}catch(ze){Nn(r,r.return,ze)}$p&&($p=!1,e0(r));break;case 4:m=zs,zs=yh(r.stateNode.containerInfo),Dr(o,r),jr(r),zs=m;break;case 12:Dr(o,r),jr(r);break;case 31:Dr(o,r),jr(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,ih(r,m)));break;case 13:Dr(o,r),jr(r),r.child.flags&8192&&r.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(sh=Xt()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,ih(r,m)));break;case 22:w=r.memoizedState!==null;var St=h!==null&&h.memoizedState!==null,Zt=qo,de=ki;if(qo=Zt||w,ki=de||St,Dr(o,r),ki=de,qo=Zt,jr(r),m&8192)t:for(o=r.stateNode,o._visibility=w?o._visibility&-2:o._visibility|1,w&&(h===null||St||qo||ki||Ol(r)),h=null,o=r;;){if(o.tag===5||o.tag===26){if(h===null){St=h=o;try{if(k=St.stateNode,w)H=k.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{Q=St.stateNode;var _e=St.memoizedProps.style,Qt=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;Q.style.display=Qt==null||typeof Qt=="boolean"?"":(""+Qt).trim()}}catch(ze){Nn(St,St.return,ze)}}}else if(o.tag===6){if(h===null){St=o;try{St.stateNode.nodeValue=w?"":St.memoizedProps}catch(ze){Nn(St,St.return,ze)}}}else if(o.tag===18){if(h===null){St=o;try{var ne=St.stateNode;w?V0(ne,!0):V0(St.stateNode,!1)}catch(ze){Nn(St,St.return,ze)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break t;for(;o.sibling===null;){if(o.return===null||o.return===r)break t;h===o&&(h=null),o=o.return}h===o&&(h=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=r.updateQueue,m!==null&&(h=m.retryQueue,h!==null&&(m.retryQueue=null,ih(r,h))));break;case 19:Dr(o,r),jr(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,ih(r,m)));break;case 30:break;case 21:break;default:Dr(o,r),jr(r)}}function jr(r){var o=r.flags;if(o&2){try{for(var h,m=r.return;m!==null;){if(Kv(m)){h=m;break}m=m.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var w=h.stateNode,k=Xp(r);nh(r,k,w);break;case 5:var H=h.stateNode;h.flags&32&&(_r(H,""),h.flags&=-33);var Q=Xp(r);nh(r,Q,H);break;case 3:case 4:var St=h.stateNode.containerInfo,Zt=Xp(r);Gp(r,Zt,St);break;default:throw Error(i(161))}}catch(de){Nn(r,r.return,de)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function e0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;e0(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function Wo(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Xv(r,o.alternate,o),o=o.sibling}function Ol(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:Ra(4,o,o.return),Ol(o);break;case 1:uo(o,o.return);var h=o.stateNode;typeof h.componentWillUnmount=="function"&&Vv(o,o.return,h),Ol(o);break;case 27:Sc(o.stateNode);case 26:case 5:uo(o,o.return),Ol(o);break;case 22:o.memoizedState===null&&Ol(o);break;case 30:Ol(o);break;default:Ol(o)}r=r.sibling}}function Ko(r,o,h){for(h=h&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,w=r,k=o,H=k.flags;switch(k.tag){case 0:case 11:case 15:Ko(w,k,h),dc(4,k);break;case 1:if(Ko(w,k,h),m=k,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Zt){Nn(m,m.return,Zt)}if(m=k,w=m.updateQueue,w!==null){var Q=m.stateNode;try{var St=w.shared.hiddenCallbacks;if(St!==null)for(w.shared.hiddenCallbacks=null,w=0;w<St.length;w++)Rb(St[w],Q)}catch(Zt){Nn(m,m.return,Zt)}}h&&H&64&&qv(k),pc(k,k.return);break;case 27:Yv(k);case 26:case 5:Ko(w,k,h),h&&m===null&&H&4&&Wv(k),pc(k,k.return);break;case 12:Ko(w,k,h);break;case 31:Ko(w,k,h),h&&H&4&&Qv(w,k);break;case 13:Ko(w,k,h),h&&H&4&&Jv(w,k);break;case 22:k.memoizedState===null&&Ko(w,k,h),pc(k,k.return);break;case 30:break;default:Ko(w,k,h)}o=o.sibling}}function Qp(r,o){var h=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==h&&(r!=null&&r.refCount++,h!=null&&tc(h))}function Jp(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&tc(r))}function Bs(r,o,h,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)n0(r,o,h,m),o=o.sibling}function n0(r,o,h,m){var w=o.flags;switch(o.tag){case 0:case 11:case 15:Bs(r,o,h,m),w&2048&&dc(9,o);break;case 1:Bs(r,o,h,m);break;case 3:Bs(r,o,h,m),w&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&tc(r)));break;case 12:if(w&2048){Bs(r,o,h,m),r=o.stateNode;try{var k=o.memoizedProps,H=k.id,Q=k.onPostCommit;typeof Q=="function"&&Q(H,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(St){Nn(o,o.return,St)}}else Bs(r,o,h,m);break;case 31:Bs(r,o,h,m);break;case 13:Bs(r,o,h,m);break;case 23:break;case 22:k=o.stateNode,H=o.alternate,o.memoizedState!==null?k._visibility&2?Bs(r,o,h,m):mc(r,o):k._visibility&2?Bs(r,o,h,m):(k._visibility|=2,hu(r,o,h,m,(o.subtreeFlags&10256)!==0||!1)),w&2048&&Qp(H,o);break;case 24:Bs(r,o,h,m),w&2048&&Jp(o.alternate,o);break;default:Bs(r,o,h,m)}}function hu(r,o,h,m,w){for(w=w&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var k=r,H=o,Q=h,St=m,Zt=H.flags;switch(H.tag){case 0:case 11:case 15:hu(k,H,Q,St,w),dc(8,H);break;case 23:break;case 22:var de=H.stateNode;H.memoizedState!==null?de._visibility&2?hu(k,H,Q,St,w):mc(k,H):(de._visibility|=2,hu(k,H,Q,St,w)),w&&Zt&2048&&Qp(H.alternate,H);break;case 24:hu(k,H,Q,St,w),w&&Zt&2048&&Jp(H.alternate,H);break;default:hu(k,H,Q,St,w)}o=o.sibling}}function mc(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var h=r,m=o,w=m.flags;switch(m.tag){case 22:mc(h,m),w&2048&&Qp(m.alternate,m);break;case 24:mc(h,m),w&2048&&Jp(m.alternate,m);break;default:mc(h,m)}o=o.sibling}}var gc=8192;function du(r,o,h){if(r.subtreeFlags&gc)for(r=r.child;r!==null;)i0(r,o,h),r=r.sibling}function i0(r,o,h){switch(r.tag){case 26:du(r,o,h),r.flags&gc&&r.memoizedState!==null&&qk(h,zs,r.memoizedState,r.memoizedProps);break;case 5:du(r,o,h);break;case 3:case 4:var m=zs;zs=yh(r.stateNode.containerInfo),du(r,o,h),zs=m;break;case 22:r.memoizedState===null&&(m=r.alternate,m!==null&&m.memoizedState!==null?(m=gc,gc=16777216,du(r,o,h),gc=m):du(r,o,h));break;default:du(r,o,h)}}function r0(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function yc(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var h=0;h<o.length;h++){var m=o[h];Hi=m,o0(m,r)}r0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)s0(r),r=r.sibling}function s0(r){switch(r.tag){case 0:case 11:case 15:yc(r),r.flags&2048&&Ra(9,r,r.return);break;case 3:yc(r);break;case 12:yc(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,rh(r)):yc(r);break;default:yc(r)}}function rh(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var h=0;h<o.length;h++){var m=o[h];Hi=m,o0(m,r)}r0(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:Ra(8,o,o.return),rh(o);break;case 22:h=o.stateNode,h._visibility&2&&(h._visibility&=-3,rh(o));break;default:rh(o)}r=r.sibling}}function o0(r,o){for(;Hi!==null;){var h=Hi;switch(h.tag){case 0:case 11:case 15:Ra(8,h,o);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var m=h.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:tc(h.memoizedState.cache)}if(m=h.child,m!==null)m.return=h,Hi=m;else t:for(h=r;Hi!==null;){m=Hi;var w=m.sibling,k=m.return;if(Gv(m),m===h){Hi=null;break t}if(w!==null){w.return=k,Hi=w;break t}Hi=k}}}var rk={getCacheForType:function(r){var o=Gi(Ei),h=o.data.get(r);return h===void 0&&(h=r(),o.data.set(r,h)),h},cacheSignal:function(){return Gi(Ei).controller.signal}},sk=typeof WeakMap=="function"?WeakMap:Map,An=0,Fn=null,ln=null,hn=0,Cn=0,as=null,La=!1,pu=!1,tm=!1,Yo=0,fi=0,Pa=0,Cl=0,em=0,ls=0,mu=0,_c=null,Ir=null,nm=!1,sh=0,a0=0,oh=1/0,ah=null,Da=null,ji=0,ja=null,gu=null,Zo=0,im=0,rm=null,l0=null,bc=0,sm=null;function us(){return(An&2)!==0&&hn!==0?hn&-hn:rt.T!==null?fm():oi()}function u0(){if(ls===0)if((hn&536870912)===0||an){var r=Pn;Pn<<=1,(Pn&3932160)===0&&(Pn=262144),ls=r}else ls=536870912;return r=ss.current,r!==null&&(r.flags|=32),ls}function zr(r,o,h){(r===Fn&&(Cn===2||Cn===9)||r.cancelPendingCommit!==null)&&(yu(r,0),Ia(r,hn,ls,!1)),it(r,h),((An&2)===0||r!==Fn)&&(r===Fn&&((An&2)===0&&(Cl|=h),fi===4&&Ia(r,hn,ls,!1)),co(r))}function c0(r,o,h){if((An&6)!==0)throw Error(i(327));var m=!h&&(o&127)===0&&(o&r.expiredLanes)===0||Kn(r,o),w=m?lk(r,o):am(r,o,!0),k=m;do{if(w===0){pu&&!m&&Ia(r,o,0,!1);break}else{if(h=r.current.alternate,k&&!ok(h)){w=am(r,o,!1),k=!1;continue}if(w===2){if(k=o,r.errorRecoveryDisabledLanes&k)var H=0;else H=r.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){o=H;t:{var Q=r;w=_c;var St=Q.current.memoizedState.isDehydrated;if(St&&(yu(Q,H).flags|=256),H=am(Q,H,!1),H!==2){if(tm&&!St){Q.errorRecoveryDisabledLanes|=k,Cl|=k,w=4;break t}k=Ir,Ir=w,k!==null&&(Ir===null?Ir=k:Ir.push.apply(Ir,k))}w=H}if(k=!1,w!==2)continue}}if(w===1){yu(r,0),Ia(r,o,0,!0);break}t:{switch(m=r,k=w,k){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Ia(m,o,ls,!La);break t;case 2:Ir=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(w=sh+300-Xt(),10<w)){if(Ia(m,o,ls,!La),wi(m,0,!0)!==0)break t;Zo=o,m.timeoutHandle=F0(f0.bind(null,m,h,Ir,ah,nm,o,ls,Cl,mu,La,k,"Throttled",-0,0),w);break t}f0(m,h,Ir,ah,nm,o,ls,Cl,mu,La,k,null,-0,0)}}break}while(!0);co(r)}function f0(r,o,h,m,w,k,H,Q,St,Zt,de,_e,Qt,ne){if(r.timeoutHandle=-1,_e=o.subtreeFlags,_e&8192||(_e&16785408)===16785408){_e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Li},i0(o,k,_e);var ze=(k&62914560)===k?sh-Xt():(k&4194048)===k?a0-Xt():0;if(ze=Vk(_e,ze),ze!==null){Zo=k,r.cancelPendingCommit=ze(b0.bind(null,r,o,k,h,m,w,H,Q,St,de,_e,null,Qt,ne)),Ia(r,k,H,!Zt);return}}b0(r,o,k,h,m,w,H,Q,St)}function ok(r){for(var o=r;;){var h=o.tag;if((h===0||h===11||h===15)&&o.flags&16384&&(h=o.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var m=0;m<h.length;m++){var w=h[m],k=w.getSnapshot;w=w.value;try{if(!mi(k(),w))return!1}catch{return!1}}if(h=o.child,o.subtreeFlags&16384&&h!==null)h.return=o,o=h;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ia(r,o,h,m){o&=~em,o&=~Cl,r.suspendedLanes|=o,r.pingedLanes&=~o,m&&(r.warmLanes|=o),m=r.expirationTimes;for(var w=o;0<w;){var k=31-ue(w),H=1<<k;m[k]=-1,w&=~H}h!==0&&xe(r,h,o)}function lh(){return(An&6)===0?(vc(0),!1):!0}function om(){if(ln!==null){if(Cn===0)var r=ln.return;else r=ln,Is=lo=null,xp(r),au=null,nc=0,r=ln;for(;r!==null;)Hv(r.alternate,r),r=r.return;ln=null}}function yu(r,o){var h=r.timeoutHandle;h!==-1&&(r.timeoutHandle=-1,Tk(h)),h=r.cancelPendingCommit,h!==null&&(r.cancelPendingCommit=null,h()),Zo=0,om(),Fn=r,ln=h=_s(r.current,null),hn=o,Cn=0,as=null,La=!1,pu=Kn(r,o),tm=!1,mu=ls=em=Cl=Pa=fi=0,Ir=_c=null,nm=!1,(o&8)!==0&&(o|=o&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=o;0<m;){var w=31-ue(m),k=1<<w;o|=r[w],m&=~k}return Yo=o,gi(),h}function h0(r,o){Je=null,rt.H=cc,o===ou||o===If?(o=Mb(),Cn=3):o===cp?(o=Mb(),Cn=4):Cn=o===zp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,as=o,ln===null&&(fi=1,$f(r,p(o,r.current)))}function d0(){var r=ss.current;return r===null?!0:(hn&4194048)===hn?bs===null:(hn&62914560)===hn||(hn&536870912)!==0?r===bs:!1}function p0(){var r=rt.H;return rt.H=cc,r===null?cc:r}function m0(){var r=rt.A;return rt.A=rk,r}function uh(){fi=4,La||(hn&4194048)!==hn&&ss.current!==null||(pu=!0),(Pa&134217727)===0&&(Cl&134217727)===0||Fn===null||Ia(Fn,hn,ls,!1)}function am(r,o,h){var m=An;An|=2;var w=p0(),k=m0();(Fn!==r||hn!==o)&&(ah=null,yu(r,o)),o=!1;var H=fi;t:do try{if(Cn!==0&&ln!==null){var Q=ln,St=as;switch(Cn){case 8:om(),H=6;break t;case 3:case 2:case 9:case 6:ss.current===null&&(o=!0);var Zt=Cn;if(Cn=0,as=null,_u(r,Q,St,Zt),h&&pu){H=0;break t}break;default:Zt=Cn,Cn=0,as=null,_u(r,Q,St,Zt)}}ak(),H=fi;break}catch(de){h0(r,de)}while(!0);return o&&r.shellSuspendCounter++,Is=lo=null,An=m,rt.H=w,rt.A=k,ln===null&&(Fn=null,hn=0,gi()),H}function ak(){for(;ln!==null;)g0(ln)}function lk(r,o){var h=An;An|=2;var m=p0(),w=m0();Fn!==r||hn!==o?(ah=null,oh=Xt()+500,yu(r,o)):pu=Kn(r,o);t:do try{if(Cn!==0&&ln!==null){o=ln;var k=as;e:switch(Cn){case 1:Cn=0,as=null,_u(r,o,k,1);break;case 2:case 9:if(Tb(k)){Cn=0,as=null,y0(o);break}o=function(){Cn!==2&&Cn!==9||Fn!==r||(Cn=7),co(r)},k.then(o,o);break t;case 3:Cn=7;break t;case 4:Cn=5;break t;case 7:Tb(k)?(Cn=0,as=null,y0(o)):(Cn=0,as=null,_u(r,o,k,7));break;case 5:var H=null;switch(ln.tag){case 26:H=ln.memoizedState;case 5:case 27:var Q=ln;if(H?n1(H):Q.stateNode.complete){Cn=0,as=null;var St=Q.sibling;if(St!==null)ln=St;else{var Zt=Q.return;Zt!==null?(ln=Zt,ch(Zt)):ln=null}break e}}Cn=0,as=null,_u(r,o,k,5);break;case 6:Cn=0,as=null,_u(r,o,k,6);break;case 8:om(),fi=6;break t;default:throw Error(i(462))}}uk();break}catch(de){h0(r,de)}while(!0);return Is=lo=null,rt.H=m,rt.A=w,An=h,ln!==null?0:(Fn=null,hn=0,gi(),fi)}function uk(){for(;ln!==null&&!fe();)g0(ln)}function g0(r){var o=Uv(r.alternate,r,Yo);r.memoizedProps=r.pendingProps,o===null?ch(r):ln=o}function y0(r){var o=r,h=o.alternate;switch(o.tag){case 15:case 0:o=Pv(h,o,o.pendingProps,o.type,void 0,hn);break;case 11:o=Pv(h,o,o.pendingProps,o.type.render,o.ref,hn);break;case 5:xp(o);default:Hv(h,o),o=ln=Xu(o,Yo),o=Uv(h,o,Yo)}r.memoizedProps=r.pendingProps,o===null?ch(r):ln=o}function _u(r,o,h,m){Is=lo=null,xp(o),au=null,nc=0;var w=o.return;try{if($T(r,w,o,h,hn)){fi=1,$f(r,p(h,r.current)),ln=null;return}}catch(k){if(w!==null)throw ln=w,k;fi=1,$f(r,p(h,r.current)),ln=null;return}o.flags&32768?(an||m===1?r=!0:pu||(hn&536870912)!==0?r=!1:(La=r=!0,(m===2||m===9||m===3||m===6)&&(m=ss.current,m!==null&&m.tag===13&&(m.flags|=16384))),_0(o,r)):ch(o)}function ch(r){var o=r;do{if((o.flags&32768)!==0){_0(o,La);return}r=o.return;var h=tk(o.alternate,o,Yo);if(h!==null){ln=h;return}if(o=o.sibling,o!==null){ln=o;return}ln=o=r}while(o!==null);fi===0&&(fi=5)}function _0(r,o){do{var h=ek(r.alternate,r);if(h!==null){h.flags&=32767,ln=h;return}if(h=r.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!o&&(r=r.sibling,r!==null)){ln=r;return}ln=r=h}while(r!==null);fi=6,ln=null}function b0(r,o,h,m,w,k,H,Q,St){r.cancelPendingCommit=null;do fh();while(ji!==0);if((An&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(k=o.lanes|o.childLanes,k|=$e,pt(r,h,k,H,Q,St),r===Fn&&(ln=Fn=null,hn=0),gu=o,ja=r,Zo=h,im=k,rm=w,l0=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,dk(K,function(){return E0(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=rt.T,rt.T=null,w=lt.p,lt.p=2,H=An,An|=4;try{nk(r,o,h)}finally{An=H,lt.p=w,rt.T=m}}ji=1,v0(),w0(),x0()}}function v0(){if(ji===1){ji=0;var r=ja,o=gu,h=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||h){h=rt.T,rt.T=null;var m=lt.p;lt.p=2;var w=An;An|=4;try{t0(o,r);var k=bm,H=q(r.containerInfo),Q=k.focusedElem,St=k.selectionRange;if(H!==Q&&Q&&Q.ownerDocument&&B(Q.ownerDocument.documentElement,Q)){if(St!==null&&X(Q)){var Zt=St.start,de=St.end;if(de===void 0&&(de=Zt),"selectionStart"in Q)Q.selectionStart=Zt,Q.selectionEnd=Math.min(de,Q.value.length);else{var _e=Q.ownerDocument||document,Qt=_e&&_e.defaultView||window;if(Qt.getSelection){var ne=Qt.getSelection(),ze=Q.textContent.length,Ze=Math.min(St.start,ze),In=St.end===void 0?Ze:Math.min(St.end,ze);!ne.extend&&Ze>In&&(H=In,In=Ze,Ze=H);var Ht=P(Q,Ze),Lt=P(Q,In);if(Ht&&Lt&&(ne.rangeCount!==1||ne.anchorNode!==Ht.node||ne.anchorOffset!==Ht.offset||ne.focusNode!==Lt.node||ne.focusOffset!==Lt.offset)){var Yt=_e.createRange();Yt.setStart(Ht.node,Ht.offset),ne.removeAllRanges(),Ze>In?(ne.addRange(Yt),ne.extend(Lt.node,Lt.offset)):(Yt.setEnd(Lt.node,Lt.offset),ne.addRange(Yt))}}}}for(_e=[],ne=Q;ne=ne.parentNode;)ne.nodeType===1&&_e.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<_e.length;Q++){var me=_e[Q];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}Sh=!!_m,bm=_m=null}finally{An=w,lt.p=m,rt.T=h}}r.current=o,ji=2}}function w0(){if(ji===2){ji=0;var r=ja,o=gu,h=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||h){h=rt.T,rt.T=null;var m=lt.p;lt.p=2;var w=An;An|=4;try{Xv(r,o.alternate,o)}finally{An=w,lt.p=m,rt.T=h}}ji=3}}function x0(){if(ji===4||ji===3){ji=0,ve();var r=ja,o=gu,h=Zo,m=l0;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ji=5:(ji=0,gu=ja=null,S0(r,r.pendingLanes));var w=r.pendingLanes;if(w===0&&(Da=null),Re(h),o=o.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Ot,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=rt.T,w=lt.p,lt.p=2,rt.T=null;try{for(var k=r.onRecoverableError,H=0;H<m.length;H++){var Q=m[H];k(Q.value,{componentStack:Q.stack})}}finally{rt.T=o,lt.p=w}}(Zo&3)!==0&&fh(),co(r),w=r.pendingLanes,(h&261930)!==0&&(w&42)!==0?r===sm?bc++:(bc=0,sm=r):bc=0,vc(0)}}function S0(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,tc(o)))}function fh(){return v0(),w0(),x0(),E0()}function E0(){if(ji!==5)return!1;var r=ja,o=im;im=0;var h=Re(Zo),m=rt.T,w=lt.p;try{lt.p=32>h?32:h,rt.T=null,h=rm,rm=null;var k=ja,H=Zo;if(ji=0,gu=ja=null,Zo=0,(An&6)!==0)throw Error(i(331));var Q=An;if(An|=4,s0(k.current),n0(k,k.current,H,h),An=Q,vc(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Ot,k)}catch{}return!0}finally{lt.p=w,rt.T=m,S0(r,o)}}function A0(r,o,h){o=p(h,o),o=Ip(r.stateNode,o,2),r=Oa(r,o,2),r!==null&&(it(r,2),co(r))}function Nn(r,o,h){if(r.tag===3)A0(r,r,h);else for(;o!==null;){if(o.tag===3){A0(o,r,h);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Da===null||!Da.has(m))){r=p(h,r),h=Tv(2),m=Oa(o,h,2),m!==null&&(kv(h,m,o,r),it(m,2),co(m));break}}o=o.return}}function lm(r,o,h){var m=r.pingCache;if(m===null){m=r.pingCache=new sk;var w=new Set;m.set(o,w)}else w=m.get(o),w===void 0&&(w=new Set,m.set(o,w));w.has(h)||(tm=!0,w.add(h),r=ck.bind(null,r,o,h),o.then(r,r))}function ck(r,o,h){var m=r.pingCache;m!==null&&m.delete(o),r.pingedLanes|=r.suspendedLanes&h,r.warmLanes&=~h,Fn===r&&(hn&h)===h&&(fi===4||fi===3&&(hn&62914560)===hn&&300>Xt()-sh?(An&2)===0&&yu(r,0):em|=h,mu===hn&&(mu=0)),co(r)}function T0(r,o){o===0&&(o=Yr()),r=On(r,o),r!==null&&(it(r,o),co(r))}function fk(r){var o=r.memoizedState,h=0;o!==null&&(h=o.retryLane),T0(r,h)}function hk(r,o){var h=0;switch(r.tag){case 31:case 13:var m=r.stateNode,w=r.memoizedState;w!==null&&(h=w.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(o),T0(r,h)}function dk(r,o){return he(r,o)}var hh=null,bu=null,um=!1,dh=!1,cm=!1,za=0;function co(r){r!==bu&&r.next===null&&(bu===null?hh=bu=r:bu=bu.next=r),dh=!0,um||(um=!0,mk())}function vc(r,o){if(!cm&&dh){cm=!0;do for(var h=!1,m=hh;m!==null;){if(r!==0){var w=m.pendingLanes;if(w===0)var k=0;else{var H=m.suspendedLanes,Q=m.pingedLanes;k=(1<<31-ue(42|r)+1)-1,k&=w&~(H&~Q),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(h=!0,C0(m,k))}else k=hn,k=wi(m,m===Fn?k:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(k&3)===0||Kn(m,k)||(h=!0,C0(m,k));m=m.next}while(h);cm=!1}}function pk(){k0()}function k0(){dh=um=!1;var r=0;za!==0&&Ak()&&(r=za);for(var o=Xt(),h=null,m=hh;m!==null;){var w=m.next,k=M0(m,o);k===0?(m.next=null,h===null?hh=w:h.next=w,w===null&&(bu=h)):(h=m,(r!==0||(k&3)!==0)&&(dh=!0)),m=w}ji!==0&&ji!==5||vc(r),za!==0&&(za=0)}function M0(r,o){for(var h=r.suspendedLanes,m=r.pingedLanes,w=r.expirationTimes,k=r.pendingLanes&-62914561;0<k;){var H=31-ue(k),Q=1<<H,St=w[H];St===-1?((Q&h)===0||(Q&m)!==0)&&(w[H]=Ks(Q,o)):St<=o&&(r.expiredLanes|=Q),k&=~Q}if(o=Fn,h=hn,h=wi(r,r===o?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,h===0||r===o&&(Cn===2||Cn===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&wt(m),r.callbackNode=null,r.callbackPriority=0;if((h&3)===0||Kn(r,h)){if(o=h&-h,o===r.callbackPriority)return o;switch(m!==null&&wt(m),Re(h)){case 2:case 8:h=F;break;case 32:h=K;break;case 268435456:h=Bt;break;default:h=K}return m=O0.bind(null,r),h=he(h,m),r.callbackPriority=o,r.callbackNode=h,o}return m!==null&&m!==null&&wt(m),r.callbackPriority=2,r.callbackNode=null,2}function O0(r,o){if(ji!==0&&ji!==5)return r.callbackNode=null,r.callbackPriority=0,null;var h=r.callbackNode;if(fh()&&r.callbackNode!==h)return null;var m=hn;return m=wi(r,r===Fn?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:(c0(r,m,o),M0(r,Xt()),r.callbackNode!=null&&r.callbackNode===h?O0.bind(null,r):null)}function C0(r,o){if(fh())return null;c0(r,o,!0)}function mk(){kk(function(){(An&6)!==0?he(C,pk):k0()})}function fm(){if(za===0){var r=ru;r===0&&(r=Te,Te<<=1,(Te&261888)===0&&(Te=256)),za=r}return za}function N0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:br(""+r)}function R0(r,o){var h=o.ownerDocument.createElement("input");return h.name=o.name,h.value=o.value,r.id&&h.setAttribute("form",r.id),o.parentNode.insertBefore(h,o),r=new FormData(r),h.parentNode.removeChild(h),r}function gk(r,o,h,m,w){if(o==="submit"&&h&&h.stateNode===w){var k=N0((w[kn]||null).action),H=m.submitter;H&&(o=(o=H[kn]||null)?N0(o.formAction):H.getAttribute("formAction"),o!==null&&(k=o,H=null));var Q=new _a("action","action",null,m,w);r.push({event:Q,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(za!==0){var St=H?R0(w,H):new FormData(w);Np(h,{pending:!0,data:St,method:w.method,action:k},null,St)}}else typeof k=="function"&&(Q.preventDefault(),St=H?R0(w,H):new FormData(w),Np(h,{pending:!0,data:St,method:w.method,action:k},k,St))},currentTarget:w}]})}}for(var hm=0;hm<Ce.length;hm++){var dm=Ce[hm],yk=dm.toLowerCase(),_k=dm[0].toUpperCase()+dm.slice(1);Ae(yk,"on"+_k)}Ae(Kt,"onAnimationEnd"),Ae(Gt,"onAnimationIteration"),Ae(se,"onAnimationStart"),Ae("dblclick","onDoubleClick"),Ae("focusin","onFocus"),Ae("focusout","onBlur"),Ae(ge,"onTransitionRun"),Ae(ke,"onTransitionStart"),Ae(Ne,"onTransitionCancel"),Ae(Se,"onTransitionEnd"),Mr("onMouseEnter",["mouseout","mouseover"]),Mr("onMouseLeave",["mouseout","mouseover"]),Mr("onPointerEnter",["pointerout","pointerover"]),Mr("onPointerLeave",["pointerout","pointerover"]),Xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wc));function L0(r,o){o=(o&4)!==0;for(var h=0;h<r.length;h++){var m=r[h],w=m.event;m=m.listeners;t:{var k=void 0;if(o)for(var H=m.length-1;0<=H;H--){var Q=m[H],St=Q.instance,Zt=Q.currentTarget;if(Q=Q.listener,St!==k&&w.isPropagationStopped())break t;k=Q,w.currentTarget=Zt;try{k(w)}catch(de){De(de)}w.currentTarget=null,k=St}else for(H=0;H<m.length;H++){if(Q=m[H],St=Q.instance,Zt=Q.currentTarget,Q=Q.listener,St!==k&&w.isPropagationStopped())break t;k=Q,w.currentTarget=Zt;try{k(w)}catch(de){De(de)}w.currentTarget=null,k=St}}}}function un(r,o){var h=o[qn];h===void 0&&(h=o[qn]=new Set);var m=r+"__bubble";h.has(m)||(P0(o,r,2,!1),h.add(m))}function pm(r,o,h){var m=0;o&&(m|=4),P0(h,r,m,o)}var ph="_reactListening"+Math.random().toString(36).slice(2);function mm(r){if(!r[ph]){r[ph]=!0,ks.forEach(function(h){h!=="selectionchange"&&(bk.has(h)||pm(h,!1,r),pm(h,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[ph]||(o[ph]=!0,pm("selectionchange",!1,o))}}function P0(r,o,h,m){switch(u1(o)){case 2:var w=Yk;break;case 8:w=Zk;break;default:w=Cm}h=w.bind(null,o,h,r),w=void 0,!To||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(w=!0),m?w!==void 0?r.addEventListener(o,h,{capture:!0,passive:w}):r.addEventListener(o,h,!0):w!==void 0?r.addEventListener(o,h,{passive:w}):r.addEventListener(o,h,!1)}function gm(r,o,h,m,w){var k=m;if((o&1)===0&&(o&2)===0&&m!==null)t:for(;;){if(m===null)return;var H=m.tag;if(H===3||H===4){var Q=m.stateNode.containerInfo;if(Q===w)break;if(H===4)for(H=m.return;H!==null;){var St=H.tag;if((St===3||St===4)&&H.stateNode.containerInfo===w)return;H=H.return}for(;Q!==null;){if(H=Zr(Q),H===null)return;if(St=H.tag,St===5||St===6||St===26||St===27){m=k=H;continue t}Q=Q.parentNode}}m=m.return}Cs(function(){var Zt=k,de=Xs(h),_e=[];t:{var Qt=Oe.get(r);if(Qt!==void 0){var ne=_a,ze=r;switch(r){case"keypress":if(Ns(h)===0)break t;case"keydown":case"keyup":ne=Ro;break;case"focusin":ze="focus",ne=$s;break;case"focusout":ze="blur",ne=$s;break;case"beforeblur":case"afterblur":ne=$s;break;case"click":if(h.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Gl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=dl;break;case Kt:case Gt:case se:ne=wa;break;case Se:ne=Sa;break;case"scroll":case"scrollend":ne=nn;break;case"wheel":ne=Cr;break;case"copy":case"cut":case"paste":ne=Pi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=hl;break;case"toggle":case"beforetoggle":ne=to}var Ze=(o&4)!==0,In=!Ze&&(r==="scroll"||r==="scrollend"),Ht=Ze?Qt!==null?Qt+"Capture":null:Qt;Ze=[];for(var Lt=Zt,Yt;Lt!==null;){var me=Lt;if(Yt=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||Yt===null||Ht===null||(me=Qr(Lt,Ht),me!=null&&Ze.push(xc(Lt,me,Yt))),In)break;Lt=Lt.return}0<Ze.length&&(Qt=new ne(Qt,ze,null,h,de),_e.push({event:Qt,listeners:Ze}))}}if((o&7)===0){t:{if(Qt=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",Qt&&h!==vr&&(ze=h.relatedTarget||h.fromElement)&&(Zr(ze)||ze[Hn]))break t;if((ne||Qt)&&(Qt=de.window===de?de:(Qt=de.ownerDocument)?Qt.defaultView||Qt.parentWindow:window,ne?(ze=h.relatedTarget||h.toElement,ne=Zt,ze=ze?Zr(ze):null,ze!==null&&(In=a(ze),Ze=ze.tag,ze!==In||Ze!==5&&Ze!==27&&Ze!==6)&&(ze=null)):(ne=null,ze=Zt),ne!==ze)){if(Ze=ba,me="onMouseLeave",Ht="onMouseEnter",Lt="mouse",(r==="pointerout"||r==="pointerover")&&(Ze=hl,me="onPointerLeave",Ht="onPointerEnter",Lt="pointer"),In=ne==null?Qt:Ui(ne),Yt=ze==null?Qt:Ui(ze),Qt=new Ze(me,Lt+"leave",ne,h,de),Qt.target=In,Qt.relatedTarget=Yt,me=null,Zr(de)===Zt&&(Ze=new Ze(Ht,Lt+"enter",ze,h,de),Ze.target=Yt,Ze.relatedTarget=In,me=Ze),In=me,ne&&ze)e:{for(Ze=vk,Ht=ne,Lt=ze,Yt=0,me=Ht;me;me=Ze(me))Yt++;me=0;for(var Ve=Lt;Ve;Ve=Ze(Ve))me++;for(;0<Yt-me;)Ht=Ze(Ht),Yt--;for(;0<me-Yt;)Lt=Ze(Lt),me--;for(;Yt--;){if(Ht===Lt||Lt!==null&&Ht===Lt.alternate){Ze=Ht;break e}Ht=Ze(Ht),Lt=Ze(Lt)}Ze=null}else Ze=null;ne!==null&&D0(_e,Qt,ne,Ze,!1),ze!==null&&In!==null&&D0(_e,In,ze,Ze,!0)}}t:{if(Qt=Zt?Ui(Zt):window,ne=Qt.nodeName&&Qt.nodeName.toLowerCase(),ne==="select"||ne==="input"&&Qt.type==="file")var wn=gs;else if(rr(Qt))if(Nr)wn=so;else{wn=Ds;var Be=Rr}else ne=Qt.nodeName,!ne||ne.toLowerCase()!=="input"||Qt.type!=="checkbox"&&Qt.type!=="radio"?Zt&&Ao(Zt.elementType)&&(wn=gs):wn=ys;if(wn&&(wn=wn(r,Zt))){yl(_e,wn,h,de);break t}Be&&Be(r,Qt,Zt),r==="focusout"&&Zt&&Qt.type==="number"&&Zt.memoizedProps.value!=null&&yr(Qt,"number",Qt.value)}switch(Be=Zt?Ui(Zt):window,r){case"focusin":(rr(Be)||Be.contentEditable==="true")&&(mt=Be,kt=Zt,Ct=null);break;case"focusout":Ct=kt=mt=null;break;case"mousedown":zt=!0;break;case"contextmenu":case"mouseup":case"dragend":zt=!1,xt(_e,h,de);break;case"selectionchange":if(st)break;case"keydown":case"keyup":xt(_e,h,de)}var sn;if(eo)t:{switch(r){case"compositionstart":var dn="onCompositionStart";break t;case"compositionend":dn="onCompositionEnd";break t;case"compositionupdate":dn="onCompositionUpdate";break t}dn=void 0}else Ps?ml(r,h)&&(dn="onCompositionEnd"):r==="keydown"&&h.keyCode===229&&(dn="onCompositionStart");dn&&(no&&h.locale!=="ko"&&(Ps||dn!=="onCompositionStart"?dn==="onCompositionEnd"&&Ps&&(sn=er()):(tr=de,ps="value"in tr?tr.value:tr.textContent,Ps=!0)),Be=mh(Zt,dn),0<Be.length&&(dn=new No(dn,r,null,h,de),_e.push({event:dn,listeners:Be}),sn?dn.data=sn:(sn=gl(h),sn!==null&&(dn.data=sn)))),(sn=Zu?ir(r,h):ro(r,h))&&(dn=mh(Zt,"onBeforeInput"),0<dn.length&&(Be=new No("onBeforeInput","beforeinput",null,h,de),_e.push({event:Be,listeners:dn}),Be.data=sn)),gk(_e,r,Zt,h,de)}L0(_e,o)})}function xc(r,o,h){return{instance:r,listener:o,currentTarget:h}}function mh(r,o){for(var h=o+"Capture",m=[];r!==null;){var w=r,k=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||k===null||(w=Qr(r,h),w!=null&&m.unshift(xc(r,w,k)),w=Qr(r,o),w!=null&&m.push(xc(r,w,k))),r.tag===3)return m;r=r.return}return[]}function vk(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function D0(r,o,h,m,w){for(var k=o._reactName,H=[];h!==null&&h!==m;){var Q=h,St=Q.alternate,Zt=Q.stateNode;if(Q=Q.tag,St!==null&&St===m)break;Q!==5&&Q!==26&&Q!==27||Zt===null||(St=Zt,w?(Zt=Qr(h,k),Zt!=null&&H.unshift(xc(h,Zt,St))):w||(Zt=Qr(h,k),Zt!=null&&H.push(xc(h,Zt,St)))),h=h.return}H.length!==0&&r.push({event:o,listeners:H})}var wk=/\r\n?/g,xk=/\u0000|\uFFFD/g;function j0(r){return(typeof r=="string"?r:""+r).replace(wk,`
`).replace(xk,"")}function I0(r,o){return o=j0(o),j0(r)===o}function jn(r,o,h,m,w,k){switch(h){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||_r(r,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&_r(r,""+m);break;case"className":Sn(r,"class",m);break;case"tabIndex":Sn(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(r,h,m);break;case"style":Eo(r,m,k);break;case"data":if(o!=="object"){Sn(r,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||h!=="href")){r.removeAttribute(h);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(h);break}m=br(""+m),r.setAttribute(h,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(h==="formAction"?(o!=="input"&&jn(r,o,"name",w.name,w,null),jn(r,o,"formEncType",w.formEncType,w,null),jn(r,o,"formMethod",w.formMethod,w,null),jn(r,o,"formTarget",w.formTarget,w,null)):(jn(r,o,"encType",w.encType,w,null),jn(r,o,"method",w.method,w,null),jn(r,o,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(h);break}m=br(""+m),r.setAttribute(h,m);break;case"onClick":m!=null&&(r.onclick=Li);break;case"onScroll":m!=null&&un("scroll",r);break;case"onScrollEnd":m!=null&&un("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(h=m.__html,h!=null){if(w.children!=null)throw Error(i(60));r.innerHTML=h}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}h=br(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(h,""+m):r.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(h,""):r.removeAttribute(h);break;case"capture":case"download":m===!0?r.setAttribute(h,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(h,m):r.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(h,m):r.removeAttribute(h);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(h):r.setAttribute(h,m);break;case"popover":un("beforetoggle",r),un("toggle",r),je(r,"popover",m);break;case"xlinkActuate":Ki(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Ki(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Ki(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Ki(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Ki(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Ki(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Ki(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Ki(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Ki(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":je(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=ya.get(h)||h,je(r,h,m))}}function ym(r,o,h,m,w,k){switch(h){case"style":Eo(r,m,k);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(h=m.__html,h!=null){if(w.children!=null)throw Error(i(60));r.innerHTML=h}}break;case"children":typeof m=="string"?_r(r,m):(typeof m=="number"||typeof m=="bigint")&&_r(r,""+m);break;case"onScroll":m!=null&&un("scroll",r);break;case"onScrollEnd":m!=null&&un("scrollend",r);break;case"onClick":m!=null&&(r.onclick=Li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(h))t:{if(h[0]==="o"&&h[1]==="n"&&(w=h.endsWith("Capture"),o=h.slice(2,w?h.length-7:void 0),k=r[kn]||null,k=k!=null?k[h]:null,typeof k=="function"&&r.removeEventListener(o,k,w),typeof m=="function")){typeof k!="function"&&k!==null&&(h in r?r[h]=null:r.hasAttribute(h)&&r.removeAttribute(h)),r.addEventListener(o,m,w);break t}h in r?r[h]=m:m===!0?r.setAttribute(h,""):je(r,h,m)}}}function Qi(r,o,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":un("error",r),un("load",r);var m=!1,w=!1,k;for(k in h)if(h.hasOwnProperty(k)){var H=h[k];if(H!=null)switch(k){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:jn(r,o,k,H,h,null)}}w&&jn(r,o,"srcSet",h.srcSet,h,null),m&&jn(r,o,"src",h.src,h,null);return;case"input":un("invalid",r);var Q=k=H=w=null,St=null,Zt=null;for(m in h)if(h.hasOwnProperty(m)){var de=h[m];if(de!=null)switch(m){case"name":w=de;break;case"type":H=de;break;case"checked":St=de;break;case"defaultChecked":Zt=de;break;case"value":k=de;break;case"defaultValue":Q=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(137,o));break;default:jn(r,o,m,de,h,null)}}Ms(r,k,Q,St,Zt,H,w,!1);return;case"select":un("invalid",r),m=H=k=null;for(w in h)if(h.hasOwnProperty(w)&&(Q=h[w],Q!=null))switch(w){case"value":k=Q;break;case"defaultValue":H=Q;break;case"multiple":m=Q;default:jn(r,o,w,Q,h,null)}o=k,h=H,r.multiple=!!m,o!=null?_n(r,!!m,o,!1):h!=null&&_n(r,!!m,h,!0);return;case"textarea":un("invalid",r),k=w=m=null;for(H in h)if(h.hasOwnProperty(H)&&(Q=h[H],Q!=null))switch(H){case"value":m=Q;break;case"defaultValue":w=Q;break;case"children":k=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(91));break;default:jn(r,o,H,Q,h,null)}$r(r,m,w,k);return;case"option":for(St in h)if(h.hasOwnProperty(St)&&(m=h[St],m!=null))switch(St){case"selected":r.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:jn(r,o,St,m,h,null)}return;case"dialog":un("beforetoggle",r),un("toggle",r),un("cancel",r),un("close",r);break;case"iframe":case"object":un("load",r);break;case"video":case"audio":for(m=0;m<wc.length;m++)un(wc[m],r);break;case"image":un("error",r),un("load",r);break;case"details":un("toggle",r);break;case"embed":case"source":case"link":un("error",r),un("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Zt in h)if(h.hasOwnProperty(Zt)&&(m=h[Zt],m!=null))switch(Zt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:jn(r,o,Zt,m,h,null)}return;default:if(Ao(o)){for(de in h)h.hasOwnProperty(de)&&(m=h[de],m!==void 0&&ym(r,o,de,m,h,void 0));return}}for(Q in h)h.hasOwnProperty(Q)&&(m=h[Q],m!=null&&jn(r,o,Q,m,h,null))}function Sk(r,o,h,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,k=null,H=null,Q=null,St=null,Zt=null,de=null;for(ne in h){var _e=h[ne];if(h.hasOwnProperty(ne)&&_e!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":St=_e;default:m.hasOwnProperty(ne)||jn(r,o,ne,null,m,_e)}}for(var Qt in m){var ne=m[Qt];if(_e=h[Qt],m.hasOwnProperty(Qt)&&(ne!=null||_e!=null))switch(Qt){case"type":k=ne;break;case"name":w=ne;break;case"checked":Zt=ne;break;case"defaultChecked":de=ne;break;case"value":H=ne;break;case"defaultValue":Q=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,o));break;default:ne!==_e&&jn(r,o,Qt,ne,m,_e)}}ds(r,H,Q,St,Zt,de,k,w);return;case"select":ne=H=Q=Qt=null;for(k in h)if(St=h[k],h.hasOwnProperty(k)&&St!=null)switch(k){case"value":break;case"multiple":ne=St;default:m.hasOwnProperty(k)||jn(r,o,k,null,m,St)}for(w in m)if(k=m[w],St=h[w],m.hasOwnProperty(w)&&(k!=null||St!=null))switch(w){case"value":Qt=k;break;case"defaultValue":Q=k;break;case"multiple":H=k;default:k!==St&&jn(r,o,w,k,m,St)}o=Q,h=H,m=ne,Qt!=null?_n(r,!!h,Qt,!1):!!m!=!!h&&(o!=null?_n(r,!!h,o,!0):_n(r,!!h,h?[]:"",!1));return;case"textarea":ne=Qt=null;for(Q in h)if(w=h[Q],h.hasOwnProperty(Q)&&w!=null&&!m.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:jn(r,o,Q,null,m,w)}for(H in m)if(w=m[H],k=h[H],m.hasOwnProperty(H)&&(w!=null||k!=null))switch(H){case"value":Qt=w;break;case"defaultValue":ne=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:w!==k&&jn(r,o,H,w,m,k)}Gr(r,Qt,ne);return;case"option":for(var ze in h)if(Qt=h[ze],h.hasOwnProperty(ze)&&Qt!=null&&!m.hasOwnProperty(ze))switch(ze){case"selected":r.selected=!1;break;default:jn(r,o,ze,null,m,Qt)}for(St in m)if(Qt=m[St],ne=h[St],m.hasOwnProperty(St)&&Qt!==ne&&(Qt!=null||ne!=null))switch(St){case"selected":r.selected=Qt&&typeof Qt!="function"&&typeof Qt!="symbol";break;default:jn(r,o,St,Qt,m,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in h)Qt=h[Ze],h.hasOwnProperty(Ze)&&Qt!=null&&!m.hasOwnProperty(Ze)&&jn(r,o,Ze,null,m,Qt);for(Zt in m)if(Qt=m[Zt],ne=h[Zt],m.hasOwnProperty(Zt)&&Qt!==ne&&(Qt!=null||ne!=null))switch(Zt){case"children":case"dangerouslySetInnerHTML":if(Qt!=null)throw Error(i(137,o));break;default:jn(r,o,Zt,Qt,m,ne)}return;default:if(Ao(o)){for(var In in h)Qt=h[In],h.hasOwnProperty(In)&&Qt!==void 0&&!m.hasOwnProperty(In)&&ym(r,o,In,void 0,m,Qt);for(de in m)Qt=m[de],ne=h[de],!m.hasOwnProperty(de)||Qt===ne||Qt===void 0&&ne===void 0||ym(r,o,de,Qt,m,ne);return}}for(var Ht in h)Qt=h[Ht],h.hasOwnProperty(Ht)&&Qt!=null&&!m.hasOwnProperty(Ht)&&jn(r,o,Ht,null,m,Qt);for(_e in m)Qt=m[_e],ne=h[_e],!m.hasOwnProperty(_e)||Qt===ne||Qt==null&&ne==null||jn(r,o,_e,Qt,m,ne)}function z0(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ek(){if(typeof performance.getEntriesByType=="function"){for(var r=0,o=0,h=performance.getEntriesByType("resource"),m=0;m<h.length;m++){var w=h[m],k=w.transferSize,H=w.initiatorType,Q=w.duration;if(k&&Q&&z0(H)){for(H=0,Q=w.responseEnd,m+=1;m<h.length;m++){var St=h[m],Zt=St.startTime;if(Zt>Q)break;var de=St.transferSize,_e=St.initiatorType;de&&z0(_e)&&(St=St.responseEnd,H+=de*(St<Q?1:(Q-Zt)/(St-Zt)))}if(--m,o+=8*(k+H)/(w.duration/1e3),r++,10<r)break}}if(0<r)return o/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var _m=null,bm=null;function gh(r){return r.nodeType===9?r:r.ownerDocument}function B0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U0(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function vm(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var wm=null;function Ak(){var r=window.event;return r&&r.type==="popstate"?r===wm?!1:(wm=r,!0):(wm=null,!1)}var F0=typeof setTimeout=="function"?setTimeout:void 0,Tk=typeof clearTimeout=="function"?clearTimeout:void 0,H0=typeof Promise=="function"?Promise:void 0,kk=typeof queueMicrotask=="function"?queueMicrotask:typeof H0<"u"?function(r){return H0.resolve(null).then(r).catch(Mk)}:F0;function Mk(r){setTimeout(function(){throw r})}function Ba(r){return r==="head"}function q0(r,o){var h=o,m=0;do{var w=h.nextSibling;if(r.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"||h==="/&"){if(m===0){r.removeChild(w),Su(o);return}m--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")m++;else if(h==="html")Sc(r.ownerDocument.documentElement);else if(h==="head"){h=r.ownerDocument.head,Sc(h);for(var k=h.firstChild;k;){var H=k.nextSibling,Q=k.nodeName;k[Yn]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&k.rel.toLowerCase()==="stylesheet"||h.removeChild(k),k=H}}else h==="body"&&Sc(r.ownerDocument.body);h=w}while(h);Su(o)}function V0(r,o){var h=r;r=0;do{var m=h.nextSibling;if(h.nodeType===1?o?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(o?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),m&&m.nodeType===8)if(h=m.data,h==="/$"){if(r===0)break;r--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||r++;h=m}while(h)}function xm(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var h=o;switch(o=o.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":xm(h),pa(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}r.removeChild(h)}}function Ok(r,o,h,m){for(;r.nodeType===1;){var w=h;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[Yn])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(k=r.getAttribute("rel"),k==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(k!==w.rel||r.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||r.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||r.getAttribute("title")!==(w.title==null?null:w.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(k=r.getAttribute("src"),(k!==(w.src==null?null:w.src)||r.getAttribute("type")!==(w.type==null?null:w.type)||r.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&k&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var k=w.name==null?null:""+w.name;if(w.type==="hidden"&&r.getAttribute("name")===k)return r}else return r;if(r=vs(r.nextSibling),r===null)break}return null}function Ck(r,o,h){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!h||(r=vs(r.nextSibling),r===null))return null;return r}function W0(r,o){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=vs(r.nextSibling),r===null))return null;return r}function Sm(r){return r.data==="$?"||r.data==="$~"}function Em(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function Nk(r,o){var h=r.ownerDocument;if(r.data==="$~")r._reactRetry=o;else if(r.data!=="$?"||h.readyState!=="loading")o();else{var m=function(){o(),h.removeEventListener("DOMContentLoaded",m)};h.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function vs(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return r}var Am=null;function K0(r){r=r.nextSibling;for(var o=0;r;){if(r.nodeType===8){var h=r.data;if(h==="/$"||h==="/&"){if(o===0)return vs(r.nextSibling);o--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||o++}r=r.nextSibling}return null}function Y0(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var h=r.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(o===0)return r;o--}else h!=="/$"&&h!=="/&"||o++}r=r.previousSibling}return null}function Z0(r,o,h){switch(o=gh(h),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Sc(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);pa(r)}var ws=new Map,X0=new Set;function yh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Xo=lt.d;lt.d={f:Rk,r:Lk,D:Pk,C:Dk,L:jk,m:Ik,X:Bk,S:zk,M:Uk};function Rk(){var r=Xo.f(),o=lh();return r||o}function Lk(r){var o=Mn(r);o!==null&&o.tag===5&&o.type==="form"?hv(o):Xo.r(r)}var vu=typeof document>"u"?null:document;function G0(r,o,h){var m=vu;if(m&&typeof o=="string"&&o){var w=En(o);w='link[rel="'+r+'"][href="'+w+'"]',typeof h=="string"&&(w+='[crossorigin="'+h+'"]'),X0.has(w)||(X0.add(w),r={rel:r,crossOrigin:h,href:o},m.querySelector(w)===null&&(o=m.createElement("link"),Qi(o,"link",r),ti(o),m.head.appendChild(o)))}}function Pk(r){Xo.D(r),G0("dns-prefetch",r,null)}function Dk(r,o){Xo.C(r,o),G0("preconnect",r,o)}function jk(r,o,h){Xo.L(r,o,h);var m=vu;if(m&&r&&o){var w='link[rel="preload"][as="'+En(o)+'"]';o==="image"&&h&&h.imageSrcSet?(w+='[imagesrcset="'+En(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(w+='[imagesizes="'+En(h.imageSizes)+'"]')):w+='[href="'+En(r)+'"]';var k=w;switch(o){case"style":k=wu(r);break;case"script":k=xu(r)}ws.has(k)||(r=y({rel:"preload",href:o==="image"&&h&&h.imageSrcSet?void 0:r,as:o},h),ws.set(k,r),m.querySelector(w)!==null||o==="style"&&m.querySelector(Ec(k))||o==="script"&&m.querySelector(Ac(k))||(o=m.createElement("link"),Qi(o,"link",r),ti(o),m.head.appendChild(o)))}}function Ik(r,o){Xo.m(r,o);var h=vu;if(h&&r){var m=o&&typeof o.as=="string"?o.as:"script",w='link[rel="modulepreload"][as="'+En(m)+'"][href="'+En(r)+'"]',k=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=xu(r)}if(!ws.has(k)&&(r=y({rel:"modulepreload",href:r},o),ws.set(k,r),h.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Ac(k)))return}m=h.createElement("link"),Qi(m,"link",r),ti(m),h.head.appendChild(m)}}}function zk(r,o,h){Xo.S(r,o,h);var m=vu;if(m&&r){var w=Fi(m).hoistableStyles,k=wu(r);o=o||"default";var H=w.get(k);if(!H){var Q={loading:0,preload:null};if(H=m.querySelector(Ec(k)))Q.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":o},h),(h=ws.get(k))&&Tm(r,h);var St=H=m.createElement("link");ti(St),Qi(St,"link",r),St._p=new Promise(function(Zt,de){St.onload=Zt,St.onerror=de}),St.addEventListener("load",function(){Q.loading|=1}),St.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,_h(H,o,m)}H={type:"stylesheet",instance:H,count:1,state:Q},w.set(k,H)}}}function Bk(r,o){Xo.X(r,o);var h=vu;if(h&&r){var m=Fi(h).hoistableScripts,w=xu(r),k=m.get(w);k||(k=h.querySelector(Ac(w)),k||(r=y({src:r,async:!0},o),(o=ws.get(w))&&km(r,o),k=h.createElement("script"),ti(k),Qi(k,"link",r),h.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},m.set(w,k))}}function Uk(r,o){Xo.M(r,o);var h=vu;if(h&&r){var m=Fi(h).hoistableScripts,w=xu(r),k=m.get(w);k||(k=h.querySelector(Ac(w)),k||(r=y({src:r,async:!0,type:"module"},o),(o=ws.get(w))&&km(r,o),k=h.createElement("script"),ti(k),Qi(k,"link",r),h.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},m.set(w,k))}}function $0(r,o,h,m){var w=(w=Ut.current)?yh(w):null;if(!w)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(o=wu(h.href),h=Fi(w).hoistableStyles,m=h.get(o),m||(m={type:"style",instance:null,count:0,state:null},h.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){r=wu(h.href);var k=Fi(w).hoistableStyles,H=k.get(r);if(H||(w=w.ownerDocument||w,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(r,H),(k=w.querySelector(Ec(r)))&&!k._p&&(H.instance=k,H.state.loading=5),ws.has(r)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},ws.set(r,h),k||Fk(w,r,h,H.state))),o&&m===null)throw Error(i(528,""));return H}if(o&&m!==null)throw Error(i(529,""));return null;case"script":return o=h.async,h=h.src,typeof h=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=xu(h),h=Fi(w).hoistableScripts,m=h.get(o),m||(m={type:"script",instance:null,count:0,state:null},h.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function wu(r){return'href="'+En(r)+'"'}function Ec(r){return'link[rel="stylesheet"]['+r+"]"}function Q0(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function Fk(r,o,h,m){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=r.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),Qi(o,"link",h),ti(o),r.head.appendChild(o))}function xu(r){return'[src="'+En(r)+'"]'}function Ac(r){return"script[async]"+r}function J0(r,o,h){if(o.count++,o.instance===null)switch(o.type){case"style":var m=r.querySelector('style[data-href~="'+En(h.href)+'"]');if(m)return o.instance=m,ti(m),m;var w=y({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),ti(m),Qi(m,"style",w),_h(m,h.precedence,r),o.instance=m;case"stylesheet":w=wu(h.href);var k=r.querySelector(Ec(w));if(k)return o.state.loading|=4,o.instance=k,ti(k),k;m=Q0(h),(w=ws.get(w))&&Tm(m,w),k=(r.ownerDocument||r).createElement("link"),ti(k);var H=k;return H._p=new Promise(function(Q,St){H.onload=Q,H.onerror=St}),Qi(k,"link",m),o.state.loading|=4,_h(k,h.precedence,r),o.instance=k;case"script":return k=xu(h.src),(w=r.querySelector(Ac(k)))?(o.instance=w,ti(w),w):(m=h,(w=ws.get(k))&&(m=y({},h),km(m,w)),r=r.ownerDocument||r,w=r.createElement("script"),ti(w),Qi(w,"link",m),r.head.appendChild(w),o.instance=w);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,_h(m,h.precedence,r));return o.instance}function _h(r,o,h){for(var m=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,k=w,H=0;H<m.length;H++){var Q=m[H];if(Q.dataset.precedence===o)k=Q;else if(k!==w)break}k?k.parentNode.insertBefore(r,k.nextSibling):(o=h.nodeType===9?h.head:h,o.insertBefore(r,o.firstChild))}function Tm(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function km(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var bh=null;function t1(r,o,h){if(bh===null){var m=new Map,w=bh=new Map;w.set(h,m)}else w=bh,m=w.get(h),m||(m=new Map,w.set(h,m));if(m.has(r))return m;for(m.set(r,null),h=h.getElementsByTagName(r),w=0;w<h.length;w++){var k=h[w];if(!(k[Yn]||k[pn]||r==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var H=k.getAttribute(o)||"";H=r+H;var Q=m.get(H);Q?Q.push(k):m.set(H,[k])}}return m}function e1(r,o,h){r=r.ownerDocument||r,r.head.insertBefore(h,o==="title"?r.querySelector("head > title"):null)}function Hk(r,o,h){if(h===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function n1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function qk(r,o,h,m){if(h.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var w=wu(m.href),k=o.querySelector(Ec(w));if(k){o=k._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(r.count++,r=vh.bind(r),o.then(r,r)),h.state.loading|=4,h.instance=k,ti(k);return}k=o.ownerDocument||o,m=Q0(m),(w=ws.get(w))&&Tm(m,w),k=k.createElement("link"),ti(k);var H=k;H._p=new Promise(function(Q,St){H.onload=Q,H.onerror=St}),Qi(k,"link",m),h.instance=k}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(h,o),(o=h.state.preload)&&(h.state.loading&3)===0&&(r.count++,h=vh.bind(r),o.addEventListener("load",h),o.addEventListener("error",h))}}var Mm=0;function Vk(r,o){return r.stylesheets&&r.count===0&&xh(r,r.stylesheets),0<r.count||0<r.imgCount?function(h){var m=setTimeout(function(){if(r.stylesheets&&xh(r,r.stylesheets),r.unsuspend){var k=r.unsuspend;r.unsuspend=null,k()}},6e4+o);0<r.imgBytes&&Mm===0&&(Mm=62500*Ek());var w=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&xh(r,r.stylesheets),r.unsuspend)){var k=r.unsuspend;r.unsuspend=null,k()}},(r.imgBytes>Mm?50:800)+o);return r.unsuspend=h,function(){r.unsuspend=null,clearTimeout(m),clearTimeout(w)}}:null}function vh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xh(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var wh=null;function xh(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,wh=new Map,o.forEach(Wk,r),wh=null,vh.call(r))}function Wk(r,o){if(!(o.state.loading&4)){var h=wh.get(r);if(h)var m=h.get(null);else{h=new Map,wh.set(r,h);for(var w=r.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<w.length;k++){var H=w[k];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(h.set(H.dataset.precedence,H),m=H)}m&&h.set(null,m)}w=o.instance,H=w.getAttribute("data-precedence"),k=h.get(H)||m,k===m&&h.set(null,w),h.set(H,w),this.count++,m=vh.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),k?k.parentNode.insertBefore(w,k.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(w,r.firstChild)),o.state.loading|=4}}var Tc={$$typeof:D,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function Kk(r,o,h,m,w,k,H,Q,St){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.hiddenUpdates=zi(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=k,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=St,this.incompleteTransitions=new Map}function i1(r,o,h,m,w,k,H,Q,St,Zt,de,_e){return r=new Kk(r,o,h,H,St,Zt,de,_e,Q),o=1,k===!0&&(o|=24),k=sr(3,null,null,o),r.current=k,k.stateNode=r,o=ap(),o.refCount++,r.pooledCache=o,o.refCount++,k.memoizedState={element:m,isDehydrated:h,cache:o},fp(k),r}function r1(r){return r?(r=Xi,r):Xi}function s1(r,o,h,m,w,k){w=r1(w),m.context===null?m.context=w:m.pendingContext=w,m=Ma(o),m.payload={element:h},k=k===void 0?null:k,k!==null&&(m.callback=k),h=Oa(r,m,o),h!==null&&(zr(h,r,o),rc(h,r,o))}function o1(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var h=r.retryLane;r.retryLane=h!==0&&h<o?h:o}}function Om(r,o){o1(r,o),(r=r.alternate)&&o1(r,o)}function a1(r){if(r.tag===13||r.tag===31){var o=On(r,67108864);o!==null&&zr(o,r,67108864),Om(r,67108864)}}function l1(r){if(r.tag===13||r.tag===31){var o=us();o=cn(o);var h=On(r,o);h!==null&&zr(h,r,o),Om(r,o)}}var Sh=!0;function Yk(r,o,h,m){var w=rt.T;rt.T=null;var k=lt.p;try{lt.p=2,Cm(r,o,h,m)}finally{lt.p=k,rt.T=w}}function Zk(r,o,h,m){var w=rt.T;rt.T=null;var k=lt.p;try{lt.p=8,Cm(r,o,h,m)}finally{lt.p=k,rt.T=w}}function Cm(r,o,h,m){if(Sh){var w=Nm(m);if(w===null)gm(r,o,m,Eh,h),c1(r,m);else if(Gk(w,r,o,h,m))m.stopPropagation();else if(c1(r,m),o&4&&-1<Xk.indexOf(r)){for(;w!==null;){var k=Mn(w);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var H=vi(k.pendingLanes);if(H!==0){var Q=k;for(Q.pendingLanes|=2,Q.entangledLanes|=2;H;){var St=1<<31-ue(H);Q.entanglements[1]|=St,H&=~St}co(k),(An&6)===0&&(oh=Xt()+500,vc(0))}}break;case 31:case 13:Q=On(k,2),Q!==null&&zr(Q,k,2),lh(),Om(k,2)}if(k=Nm(m),k===null&&gm(r,o,m,Eh,h),k===w)break;w=k}w!==null&&m.stopPropagation()}else gm(r,o,m,null,h)}}function Nm(r){return r=Xs(r),Rm(r)}var Eh=null;function Rm(r){if(Eh=null,r=Zr(r),r!==null){var o=a(r);if(o===null)r=null;else{var h=o.tag;if(h===13){if(r=l(o),r!==null)return r;r=null}else if(h===31){if(r=c(o),r!==null)return r;r=null}else if(h===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Eh=r,null}function u1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ke()){case C:return 2;case F:return 8;case K:case bt:return 32;case Bt:return 268435456;default:return 32}default:return 32}}var Lm=!1,Ua=null,Fa=null,Ha=null,kc=new Map,Mc=new Map,qa=[],Xk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c1(r,o){switch(r){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":Fa=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":kc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mc.delete(o.pointerId)}}function Oc(r,o,h,m,w,k){return r===null||r.nativeEvent!==k?(r={blockedOn:o,domEventName:h,eventSystemFlags:m,nativeEvent:k,targetContainers:[w]},o!==null&&(o=Mn(o),o!==null&&a1(o)),r):(r.eventSystemFlags|=m,o=r.targetContainers,w!==null&&o.indexOf(w)===-1&&o.push(w),r)}function Gk(r,o,h,m,w){switch(o){case"focusin":return Ua=Oc(Ua,r,o,h,m,w),!0;case"dragenter":return Fa=Oc(Fa,r,o,h,m,w),!0;case"mouseover":return Ha=Oc(Ha,r,o,h,m,w),!0;case"pointerover":var k=w.pointerId;return kc.set(k,Oc(kc.get(k)||null,r,o,h,m,w)),!0;case"gotpointercapture":return k=w.pointerId,Mc.set(k,Oc(Mc.get(k)||null,r,o,h,m,w)),!0}return!1}function f1(r){var o=Zr(r.target);if(o!==null){var h=a(o);if(h!==null){if(o=h.tag,o===13){if(o=l(h),o!==null){r.blockedOn=o,Ji(r.priority,function(){l1(h)});return}}else if(o===31){if(o=c(h),o!==null){r.blockedOn=o,Ji(r.priority,function(){l1(h)});return}}else if(o===3&&h.stateNode.current.memoizedState.isDehydrated){r.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ah(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var h=Nm(r.nativeEvent);if(h===null){h=r.nativeEvent;var m=new h.constructor(h.type,h);vr=m,h.target.dispatchEvent(m),vr=null}else return o=Mn(h),o!==null&&a1(o),r.blockedOn=h,!1;o.shift()}return!0}function h1(r,o,h){Ah(r)&&h.delete(o)}function $k(){Lm=!1,Ua!==null&&Ah(Ua)&&(Ua=null),Fa!==null&&Ah(Fa)&&(Fa=null),Ha!==null&&Ah(Ha)&&(Ha=null),kc.forEach(h1),Mc.forEach(h1)}function Th(r,o){r.blockedOn===o&&(r.blockedOn=null,Lm||(Lm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,$k)))}var kh=null;function d1(r){kh!==r&&(kh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){kh===r&&(kh=null);for(var o=0;o<r.length;o+=3){var h=r[o],m=r[o+1],w=r[o+2];if(typeof m!="function"){if(Rm(m||h)===null)continue;break}var k=Mn(h);k!==null&&(r.splice(o,3),o-=3,Np(k,{pending:!0,data:w,method:h.method,action:m},m,w))}}))}function Su(r){function o(St){return Th(St,r)}Ua!==null&&Th(Ua,r),Fa!==null&&Th(Fa,r),Ha!==null&&Th(Ha,r),kc.forEach(o),Mc.forEach(o);for(var h=0;h<qa.length;h++){var m=qa[h];m.blockedOn===r&&(m.blockedOn=null)}for(;0<qa.length&&(h=qa[0],h.blockedOn===null);)f1(h),h.blockedOn===null&&qa.shift();if(h=(r.ownerDocument||r).$$reactFormReplay,h!=null)for(m=0;m<h.length;m+=3){var w=h[m],k=h[m+1],H=w[kn]||null;if(typeof k=="function")H||d1(h);else if(H){var Q=null;if(k&&k.hasAttribute("formAction")){if(w=k,H=k[kn]||null)Q=H.formAction;else if(Rm(w)!==null)continue}else Q=H.action;typeof Q=="function"?h[m+1]=Q:(h.splice(m,3),m-=3),d1(h)}}}function p1(){function r(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function(H){return w=H})},focusReset:"manual",scroll:"manual"})}function o(){w!==null&&(w(),w=null),m||setTimeout(h,20)}function h(){if(!m&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,w=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(h,100),function(){m=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),w!==null&&(w(),w=null)}}}function Pm(r){this._internalRoot=r}Mh.prototype.render=Pm.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var h=o.current,m=us();s1(h,m,r,o,null,null)},Mh.prototype.unmount=Pm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;s1(r.current,2,null,r,null,null),lh(),o[Hn]=null}};function Mh(r){this._internalRoot=r}Mh.prototype.unstable_scheduleHydration=function(r){if(r){var o=oi();r={blockedOn:null,target:r,priority:o};for(var h=0;h<qa.length&&o!==0&&o<qa[h].priority;h++);qa.splice(h,0,r),h===0&&f1(r)}};var m1=t.version;if(m1!=="19.2.0")throw Error(i(527,m1,"19.2.0"));lt.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(o),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var Qk={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:rt,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{Ot=Oh.inject(Qk),Wt=Oh}catch{}}return Nc.createRoot=function(r,o){if(!s(r))throw Error(i(299));var h=!1,m="",w=xv,k=Sv,H=Ev;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(w=o.onUncaughtError),o.onCaughtError!==void 0&&(k=o.onCaughtError),o.onRecoverableError!==void 0&&(H=o.onRecoverableError)),o=i1(r,1,!1,null,null,h,m,null,w,k,H,p1),r[Hn]=o.current,mm(r),new Pm(o)},Nc.hydrateRoot=function(r,o,h){if(!s(r))throw Error(i(299));var m=!1,w="",k=xv,H=Sv,Q=Ev,St=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(k=h.onUncaughtError),h.onCaughtError!==void 0&&(H=h.onCaughtError),h.onRecoverableError!==void 0&&(Q=h.onRecoverableError),h.formState!==void 0&&(St=h.formState)),o=i1(r,1,!0,o,h??null,m,w,St,k,H,Q,p1),o.context=r1(null),h=o.current,m=us(),m=cn(m),w=Ma(m),w.callback=null,Oa(h,w,m),h=m,o.current.lanes=h,it(o,h),co(o),r[Hn]=o.current,mm(r),new Mh(o)},Nc.version="19.2.0",Nc}var A1;function lM(){if(A1)return Im.exports;A1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Im.exports=aM(),Im.exports}var uM=lM();const T1=n=>{let t;const e=new Set,i=(d,g)=>{const y=typeof d=="function"?d(t):d;if(!Object.is(y,t)){const _=t;t=g??(typeof y!="object"||y===null)?y:Object.assign({},t,y),e.forEach(S=>S(t,_))}},s=()=>t,c={setState:i,getState:s,getInitialState:()=>f,subscribe:d=>(e.add(d),()=>e.delete(d))},f=t=n(i,s,c);return c},cM=(n=>n?T1(n):T1),fM=n=>n;function hM(n,t=fM){const e=oa.useSyncExternalStore(n.subscribe,oa.useCallback(()=>t(n.getState()),[n,t]),oa.useCallback(()=>t(n.getInitialState()),[n,t]));return oa.useDebugValue(e),e}const k1=n=>{const t=cM(n),e=i=>hM(t,i);return Object.assign(e,t),e},ol=(n=>n?k1(n):k1);var I_=Object.defineProperty,dM=Object.getOwnPropertyDescriptor,pM=Object.getOwnPropertyNames,mM=Object.prototype.hasOwnProperty,Kr=(n,t)=>()=>(n&&(t=n(n=0)),t),pe=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports),Hu=(n,t)=>{for(var e in t)I_(n,e,{get:t[e],enumerable:!0})},gM=(n,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of pM(t))!mM.call(n,s)&&s!==e&&I_(n,s,{get:()=>t[s],enumerable:!(i=dM(t,s))||i.enumerable});return n},Bn=n=>gM(I_({},"__esModule",{value:!0}),n),oe=Kr(()=>{}),Wn={};Hu(Wn,{_debugEnd:()=>Qg,_debugProcess:()=>$g,_events:()=>dy,_eventsCount:()=>py,_exiting:()=>Ig,_fatalExceptions:()=>Zg,_getActiveHandles:()=>KS,_getActiveRequests:()=>WS,_kill:()=>Ug,_linkedBinding:()=>qS,_maxListeners:()=>hy,_preload_modules:()=>cy,_rawDebug:()=>Pg,_startProfilerIdleNotifier:()=>Jg,_stopProfilerIdleNotifier:()=>ty,_tickCallback:()=>Gg,abort:()=>ry,addListener:()=>my,allowedNodeEnvironmentFlags:()=>Kg,arch:()=>vg,argv:()=>Sg,argv0:()=>uy,assert:()=>YS,binding:()=>Mg,browser:()=>Lg,chdir:()=>Ng,config:()=>zg,cpuUsage:()=>Kc,cwd:()=>Cg,debugPort:()=>ly,default:()=>B_,dlopen:()=>VS,domain:()=>jg,emit:()=>vy,emitWarning:()=>kg,env:()=>xg,execArgv:()=>Eg,execPath:()=>ay,exit:()=>Vg,features:()=>Yg,hasUncaughtExceptionCaptureCallback:()=>ZS,hrtime:()=>ed,kill:()=>qg,listeners:()=>GS,memoryUsage:()=>Hg,moduleLoadList:()=>Dg,nextTick:()=>FS,off:()=>yy,on:()=>Qo,once:()=>gy,openStdin:()=>Wg,pid:()=>sy,platform:()=>wg,ppid:()=>oy,prependListener:()=>wy,prependOnceListener:()=>xy,reallyExit:()=>Bg,release:()=>Rg,removeAllListeners:()=>by,removeListener:()=>_y,resourceUsage:()=>Fg,setSourceMapsEnabled:()=>fy,setUncaughtExceptionCaptureCallback:()=>Xg,stderr:()=>ny,stdin:()=>iy,stdout:()=>ey,title:()=>bg,umask:()=>Og,uptime:()=>XS,version:()=>Ag,versions:()=>Tg});function z_(n){throw new Error("Node.js process "+n+" is not supported by JSPM core outside of Node.js")}function yM(){!Fl||!zl||(Fl=!1,zl.length?yo=zl.concat(yo):sf=-1,yo.length&&US())}function US(){if(!Fl){var n=setTimeout(yM,0);Fl=!0;for(var t=yo.length;t;){for(zl=yo,yo=[];++sf<t;)zl&&zl[sf].run();sf=-1,t=yo.length}zl=null,Fl=!1,clearTimeout(n)}}function FS(n){var t=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)t[e-1]=arguments[e];yo.push(new HS(n,t)),yo.length===1&&!Fl&&setTimeout(US,0)}function HS(n,t){this.fun=n,this.array=t}function ar(){}function qS(n){z_("_linkedBinding")}function VS(n){z_("dlopen")}function WS(){return[]}function KS(){return[]}function YS(n,t){if(!n)throw new Error(t||"assertion error")}function ZS(){return!1}function XS(){return na.now()/1e3}function ed(n){var t=Math.floor((Date.now()-na.now())*.001),e=na.now()*.001,i=Math.floor(e)+t,s=Math.floor(e%1*1e9);return n&&(i=i-n[0],s=s-n[1],s<0&&(i--,s+=nd)),[i,s]}function Qo(){return B_}function GS(n){return[]}var yo,Fl,zl,sf,bg,vg,wg,xg,Sg,Eg,Ag,Tg,kg,Mg,Og,Cg,Ng,Rg,Lg,Pg,Dg,jg,Ig,zg,Bg,Ug,Kc,Fg,Hg,qg,Vg,Wg,Kg,Yg,Zg,Xg,Gg,$g,Qg,Jg,ty,ey,ny,iy,ry,sy,oy,ay,ly,uy,cy,fy,na,Fm,nd,hy,dy,py,my,gy,yy,_y,by,vy,wy,xy,B_,_M=Kr(()=>{oe(),le(),ae(),yo=[],Fl=!1,sf=-1,HS.prototype.run=function(){this.fun.apply(null,this.array)},bg="browser",vg="x64",wg="browser",xg={PATH:"/usr/bin",LANG:typeof navigator<"u"?navigator.language+".UTF-8":void 0,PWD:"/",HOME:"/home",TMP:"/tmp"},Sg=["/usr/bin/node"],Eg=[],Ag="v16.8.0",Tg={},kg=function(n,t){console.warn((t?t+": ":"")+n)},Mg=function(n){z_("binding")},Og=function(n){return 0},Cg=function(){return"/"},Ng=function(n){},Rg={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Lg=!0,Pg=ar,Dg=[],jg={},Ig=!1,zg={},Bg=ar,Ug=ar,Kc=function(){return{}},Fg=Kc,Hg=Kc,qg=ar,Vg=ar,Wg=ar,Kg={},Yg={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Zg=ar,Xg=ar,Gg=ar,$g=ar,Qg=ar,Jg=ar,ty=ar,ey=void 0,ny=void 0,iy=void 0,ry=ar,sy=2,oy=1,ay="/bin/usr/node",ly=9229,uy="node",cy=[],fy=ar,na={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},na.now===void 0&&(Fm=Date.now(),na.timing&&na.timing.navigationStart&&(Fm=na.timing.navigationStart),na.now=()=>Date.now()-Fm),nd=1e9,ed.bigint=function(n){var t=ed(n);return typeof BigInt>"u"?t[0]*nd+t[1]:BigInt(t[0]*nd)+BigInt(t[1])},hy=10,dy={},py=0,my=Qo,gy=Qo,yy=Qo,_y=Qo,by=Qo,vy=ar,wy=Qo,xy=Qo,B_={version:Ag,versions:Tg,arch:vg,platform:wg,browser:Lg,release:Rg,_rawDebug:Pg,moduleLoadList:Dg,binding:Mg,_linkedBinding:qS,_events:dy,_eventsCount:py,_maxListeners:hy,on:Qo,addListener:my,once:gy,off:yy,removeListener:_y,removeAllListeners:by,emit:vy,prependListener:wy,prependOnceListener:xy,listeners:GS,domain:jg,_exiting:Ig,config:zg,dlopen:VS,uptime:XS,_getActiveRequests:WS,_getActiveHandles:KS,reallyExit:Bg,_kill:Ug,cpuUsage:Kc,resourceUsage:Fg,memoryUsage:Hg,kill:qg,exit:Vg,openStdin:Wg,allowedNodeEnvironmentFlags:Kg,assert:YS,features:Yg,_fatalExceptions:Zg,setUncaughtExceptionCaptureCallback:Xg,hasUncaughtExceptionCaptureCallback:ZS,emitWarning:kg,nextTick:FS,_tickCallback:Gg,_debugProcess:$g,_debugEnd:Qg,_startProfilerIdleNotifier:Jg,_stopProfilerIdleNotifier:ty,stdout:ey,stdin:iy,stderr:ny,abort:ry,umask:Og,chdir:Ng,cwd:Cg,env:xg,title:bg,argv:Sg,execArgv:Eg,pid:sy,ppid:oy,execPath:ay,debugPort:ly,hrtime:ed,argv0:uy,_preload_modules:cy,setSourceMapsEnabled:fy}}),ae=Kr(()=>{_M()});function bM(){if(Sy)return Ou;Sy=!0,Ou.byteLength=c,Ou.toByteArray=d,Ou.fromByteArray=_;for(var n=[],t=[],e=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=i.length;s<a;++s)n[s]=i[s],t[i.charCodeAt(s)]=s;t[45]=62,t[95]=63;function l(S){var x=S.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=S.indexOf("=");E===-1&&(E=x);var T=E===x?0:4-E%4;return[E,T]}function c(S){var x=l(S),E=x[0],T=x[1];return(E+T)*3/4-T}function f(S,x,E){return(x+E)*3/4-E}function d(S){var x,E=l(S),T=E[0],N=E[1],M=new e(f(S,T,N)),D=0,I=N>0?T-4:T,R;for(R=0;R<I;R+=4)x=t[S.charCodeAt(R)]<<18|t[S.charCodeAt(R+1)]<<12|t[S.charCodeAt(R+2)]<<6|t[S.charCodeAt(R+3)],M[D++]=x>>16&255,M[D++]=x>>8&255,M[D++]=x&255;return N===2&&(x=t[S.charCodeAt(R)]<<2|t[S.charCodeAt(R+1)]>>4,M[D++]=x&255),N===1&&(x=t[S.charCodeAt(R)]<<10|t[S.charCodeAt(R+1)]<<4|t[S.charCodeAt(R+2)]>>2,M[D++]=x>>8&255,M[D++]=x&255),M}function g(S){return n[S>>18&63]+n[S>>12&63]+n[S>>6&63]+n[S&63]}function y(S,x,E){for(var T,N=[],M=x;M<E;M+=3)T=(S[M]<<16&16711680)+(S[M+1]<<8&65280)+(S[M+2]&255),N.push(g(T));return N.join("")}function _(S){for(var x,E=S.length,T=E%3,N=[],M=16383,D=0,I=E-T;D<I;D+=M)N.push(y(S,D,D+M>I?I:D+M));return T===1?(x=S[E-1],N.push(n[x>>2]+n[x<<4&63]+"==")):T===2&&(x=(S[E-2]<<8)+S[E-1],N.push(n[x>>10]+n[x>>4&63]+n[x<<2&63]+"=")),N.join("")}return Ou}function vM(){return Ey?Yc:(Ey=!0,Yc.read=function(n,t,e,i,s){var a,l,c=s*8-i-1,f=(1<<c)-1,d=f>>1,g=-7,y=e?s-1:0,_=e?-1:1,S=n[t+y];for(y+=_,a=S&(1<<-g)-1,S>>=-g,g+=c;g>0;a=a*256+n[t+y],y+=_,g-=8);for(l=a&(1<<-g)-1,a>>=-g,g+=i;g>0;l=l*256+n[t+y],y+=_,g-=8);if(a===0)a=1-d;else{if(a===f)return l?NaN:(S?-1:1)*(1/0);l=l+Math.pow(2,i),a=a-d}return(S?-1:1)*l*Math.pow(2,a-i)},Yc.write=function(n,t,e,i,s,a){var l,c,f,d=a*8-s-1,g=(1<<d)-1,y=g>>1,_=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=i?0:a-1,x=i?1:-1,E=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,l=g):(l=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-l))<1&&(l--,f*=2),l+y>=1?t+=_/f:t+=_*Math.pow(2,1-y),t*f>=2&&(l++,f/=2),l+y>=g?(c=0,l=g):l+y>=1?(c=(t*f-1)*Math.pow(2,s),l=l+y):(c=t*Math.pow(2,y-1)*Math.pow(2,s),l=0));s>=8;n[e+S]=c&255,S+=x,c/=256,s-=8);for(l=l<<s|c,d+=s;d>0;n[e+S]=l&255,S+=x,l/=256,d-=8);n[e+S-x]|=E*128},Yc)}function wM(){if(Ay)return Ya;Ay=!0;let n=bM(),t=vM(),e=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Ya.Buffer=l,Ya.SlowBuffer=N,Ya.INSPECT_MAX_BYTES=50;let i=2147483647;Ya.kMaxLength=i,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{let C=new Uint8Array(1),F={foo:function(){return 42}};return Object.setPrototypeOf(F,Uint8Array.prototype),Object.setPrototypeOf(C,F),C.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function a(C){if(C>i)throw new RangeError('The value "'+C+'" is invalid for option "size"');let F=new Uint8Array(C);return Object.setPrototypeOf(F,l.prototype),F}function l(C,F,K){if(typeof C=="number"){if(typeof F=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(C)}return c(C,F,K)}l.poolSize=8192;function c(C,F,K){if(typeof C=="string")return y(C,F);if(ArrayBuffer.isView(C))return S(C);if(C==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C);if(wt(C,ArrayBuffer)||C&&wt(C.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(wt(C,SharedArrayBuffer)||C&&wt(C.buffer,SharedArrayBuffer)))return x(C,F,K);if(typeof C=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let bt=C.valueOf&&C.valueOf();if(bt!=null&&bt!==C)return l.from(bt,F,K);let Bt=E(C);if(Bt)return Bt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof C[Symbol.toPrimitive]=="function")return l.from(C[Symbol.toPrimitive]("string"),F,K);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C)}l.from=function(C,F,K){return c(C,F,K)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function f(C){if(typeof C!="number")throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function d(C,F,K){return f(C),C<=0?a(C):F!==void 0?typeof K=="string"?a(C).fill(F,K):a(C).fill(F):a(C)}l.alloc=function(C,F,K){return d(C,F,K)};function g(C){return f(C),a(C<0?0:T(C)|0)}l.allocUnsafe=function(C){return g(C)},l.allocUnsafeSlow=function(C){return g(C)};function y(C,F){if((typeof F!="string"||F==="")&&(F="utf8"),!l.isEncoding(F))throw new TypeError("Unknown encoding: "+F);let K=M(C,F)|0,bt=a(K),Bt=bt.write(C,F);return Bt!==K&&(bt=bt.slice(0,Bt)),bt}function _(C){let F=C.length<0?0:T(C.length)|0,K=a(F);for(let bt=0;bt<F;bt+=1)K[bt]=C[bt]&255;return K}function S(C){if(wt(C,Uint8Array)){let F=new Uint8Array(C);return x(F.buffer,F.byteOffset,F.byteLength)}return _(C)}function x(C,F,K){if(F<0||C.byteLength<F)throw new RangeError('"offset" is outside of buffer bounds');if(C.byteLength<F+(K||0))throw new RangeError('"length" is outside of buffer bounds');let bt;return F===void 0&&K===void 0?bt=new Uint8Array(C):K===void 0?bt=new Uint8Array(C,F):bt=new Uint8Array(C,F,K),Object.setPrototypeOf(bt,l.prototype),bt}function E(C){if(l.isBuffer(C)){let F=T(C.length)|0,K=a(F);return K.length===0||C.copy(K,0,0,F),K}if(C.length!==void 0)return typeof C.length!="number"||fe(C.length)?a(0):_(C);if(C.type==="Buffer"&&Array.isArray(C.data))return _(C.data)}function T(C){if(C>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return C|0}function N(C){return+C!=C&&(C=0),l.alloc(+C)}l.isBuffer=function(C){return C!=null&&C._isBuffer===!0&&C!==l.prototype},l.compare=function(C,F){if(wt(C,Uint8Array)&&(C=l.from(C,C.offset,C.byteLength)),wt(F,Uint8Array)&&(F=l.from(F,F.offset,F.byteLength)),!l.isBuffer(C)||!l.isBuffer(F))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===F)return 0;let K=C.length,bt=F.length;for(let Bt=0,ee=Math.min(K,bt);Bt<ee;++Bt)if(C[Bt]!==F[Bt]){K=C[Bt],bt=F[Bt];break}return K<bt?-1:bt<K?1:0},l.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(C,F){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return l.alloc(0);let K;if(F===void 0)for(F=0,K=0;K<C.length;++K)F+=C[K].length;let bt=l.allocUnsafe(F),Bt=0;for(K=0;K<C.length;++K){let ee=C[K];if(wt(ee,Uint8Array))Bt+ee.length>bt.length?(l.isBuffer(ee)||(ee=l.from(ee)),ee.copy(bt,Bt)):Uint8Array.prototype.set.call(bt,ee,Bt);else if(l.isBuffer(ee))ee.copy(bt,Bt);else throw new TypeError('"list" argument must be an Array of Buffers');Bt+=ee.length}return bt};function M(C,F){if(l.isBuffer(C))return C.length;if(ArrayBuffer.isView(C)||wt(C,ArrayBuffer))return C.byteLength;if(typeof C!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof C);let K=C.length,bt=arguments.length>2&&arguments[2]===!0;if(!bt&&K===0)return 0;let Bt=!1;for(;;)switch(F){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":return Et(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K*2;case"hex":return K>>>1;case"base64":return re(C).length;default:if(Bt)return bt?-1:Et(C).length;F=(""+F).toLowerCase(),Bt=!0}}l.byteLength=M;function D(C,F,K){let bt=!1;if((F===void 0||F<0)&&(F=0),F>this.length||((K===void 0||K>this.length)&&(K=this.length),K<=0)||(K>>>=0,F>>>=0,K<=F))return"";for(C||(C="utf8");;)switch(C){case"hex":return et(this,F,K);case"utf8":case"utf-8":return dt(this,F,K);case"ascii":return rt(this,F,K);case"latin1":case"binary":return lt(this,F,K);case"base64":return G(this,F,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pt(this,F,K);default:if(bt)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),bt=!0}}l.prototype._isBuffer=!0;function I(C,F,K){let bt=C[F];C[F]=C[K],C[K]=bt}l.prototype.swap16=function(){let C=this.length;if(C%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let F=0;F<C;F+=2)I(this,F,F+1);return this},l.prototype.swap32=function(){let C=this.length;if(C%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let F=0;F<C;F+=4)I(this,F,F+3),I(this,F+1,F+2);return this},l.prototype.swap64=function(){let C=this.length;if(C%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let F=0;F<C;F+=8)I(this,F,F+7),I(this,F+1,F+6),I(this,F+2,F+5),I(this,F+3,F+4);return this},l.prototype.toString=function(){let C=this.length;return C===0?"":arguments.length===0?dt(this,0,C):D.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(C){if(!l.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C?!0:l.compare(this,C)===0},l.prototype.inspect=function(){let C="",F=Ya.INSPECT_MAX_BYTES;return C=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim(),this.length>F&&(C+=" ... "),"<Buffer "+C+">"},e&&(l.prototype[e]=l.prototype.inspect),l.prototype.compare=function(C,F,K,bt,Bt){if(wt(C,Uint8Array)&&(C=l.from(C,C.offset,C.byteLength)),!l.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(F===void 0&&(F=0),K===void 0&&(K=C?C.length:0),bt===void 0&&(bt=0),Bt===void 0&&(Bt=this.length),F<0||K>C.length||bt<0||Bt>this.length)throw new RangeError("out of range index");if(bt>=Bt&&F>=K)return 0;if(bt>=Bt)return-1;if(F>=K)return 1;if(F>>>=0,K>>>=0,bt>>>=0,Bt>>>=0,this===C)return 0;let ee=Bt-bt,we=K-F,Ot=Math.min(ee,we),Wt=this.slice(bt,Bt),Pe=C.slice(F,K);for(let ue=0;ue<Ot;++ue)if(Wt[ue]!==Pe[ue]){ee=Wt[ue],we=Pe[ue];break}return ee<we?-1:we<ee?1:0};function R(C,F,K,bt,Bt){if(C.length===0)return-1;if(typeof K=="string"?(bt=K,K=0):K>2147483647?K=2147483647:K<-2147483648&&(K=-2147483648),K=+K,fe(K)&&(K=Bt?0:C.length-1),K<0&&(K=C.length+K),K>=C.length){if(Bt)return-1;K=C.length-1}else if(K<0)if(Bt)K=0;else return-1;if(typeof F=="string"&&(F=l.from(F,bt)),l.isBuffer(F))return F.length===0?-1:z(C,F,K,bt,Bt);if(typeof F=="number")return F=F&255,typeof Uint8Array.prototype.indexOf=="function"?Bt?Uint8Array.prototype.indexOf.call(C,F,K):Uint8Array.prototype.lastIndexOf.call(C,F,K):z(C,[F],K,bt,Bt);throw new TypeError("val must be string, number or Buffer")}function z(C,F,K,bt,Bt){let ee=1,we=C.length,Ot=F.length;if(bt!==void 0&&(bt=String(bt).toLowerCase(),bt==="ucs2"||bt==="ucs-2"||bt==="utf16le"||bt==="utf-16le")){if(C.length<2||F.length<2)return-1;ee=2,we/=2,Ot/=2,K/=2}function Wt(ue,Fe){return ee===1?ue[Fe]:ue.readUInt16BE(Fe*ee)}let Pe;if(Bt){let ue=-1;for(Pe=K;Pe<we;Pe++)if(Wt(C,Pe)===Wt(F,ue===-1?0:Pe-ue)){if(ue===-1&&(ue=Pe),Pe-ue+1===Ot)return ue*ee}else ue!==-1&&(Pe-=Pe-ue),ue=-1}else for(K+Ot>we&&(K=we-Ot),Pe=K;Pe>=0;Pe--){let ue=!0;for(let Fe=0;Fe<Ot;Fe++)if(Wt(C,Pe+Fe)!==Wt(F,Fe)){ue=!1;break}if(ue)return Pe}return-1}l.prototype.includes=function(C,F,K){return this.indexOf(C,F,K)!==-1},l.prototype.indexOf=function(C,F,K){return R(this,C,F,K,!0)},l.prototype.lastIndexOf=function(C,F,K){return R(this,C,F,K,!1)};function j(C,F,K,bt){K=Number(K)||0;let Bt=C.length-K;bt?(bt=Number(bt),bt>Bt&&(bt=Bt)):bt=Bt;let ee=F.length;bt>ee/2&&(bt=ee/2);let we;for(we=0;we<bt;++we){let Ot=parseInt(F.substr(we*2,2),16);if(fe(Ot))return we;C[K+we]=Ot}return we}function W(C,F,K,bt){return he(Et(F,C.length-K),C,K,bt)}function J(C,F,K,bt){return he(Vt(F),C,K,bt)}function tt(C,F,K,bt){return he(re(F),C,K,bt)}function ot(C,F,K,bt){return he(ie(F,C.length-K),C,K,bt)}l.prototype.write=function(C,F,K,bt){if(F===void 0)bt="utf8",K=this.length,F=0;else if(K===void 0&&typeof F=="string")bt=F,K=this.length,F=0;else if(isFinite(F))F=F>>>0,isFinite(K)?(K=K>>>0,bt===void 0&&(bt="utf8")):(bt=K,K=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let Bt=this.length-F;if((K===void 0||K>Bt)&&(K=Bt),C.length>0&&(K<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");bt||(bt="utf8");let ee=!1;for(;;)switch(bt){case"hex":return j(this,C,F,K);case"utf8":case"utf-8":return W(this,C,F,K);case"ascii":case"latin1":case"binary":return J(this,C,F,K);case"base64":return tt(this,C,F,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ot(this,C,F,K);default:if(ee)throw new TypeError("Unknown encoding: "+bt);bt=(""+bt).toLowerCase(),ee=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function G(C,F,K){return F===0&&K===C.length?n.fromByteArray(C):n.fromByteArray(C.slice(F,K))}function dt(C,F,K){K=Math.min(C.length,K);let bt=[],Bt=F;for(;Bt<K;){let ee=C[Bt],we=null,Ot=ee>239?4:ee>223?3:ee>191?2:1;if(Bt+Ot<=K){let Wt,Pe,ue,Fe;switch(Ot){case 1:ee<128&&(we=ee);break;case 2:Wt=C[Bt+1],(Wt&192)===128&&(Fe=(ee&31)<<6|Wt&63,Fe>127&&(we=Fe));break;case 3:Wt=C[Bt+1],Pe=C[Bt+2],(Wt&192)===128&&(Pe&192)===128&&(Fe=(ee&15)<<12|(Wt&63)<<6|Pe&63,Fe>2047&&(Fe<55296||Fe>57343)&&(we=Fe));break;case 4:Wt=C[Bt+1],Pe=C[Bt+2],ue=C[Bt+3],(Wt&192)===128&&(Pe&192)===128&&(ue&192)===128&&(Fe=(ee&15)<<18|(Wt&63)<<12|(Pe&63)<<6|ue&63,Fe>65535&&Fe<1114112&&(we=Fe))}}we===null?(we=65533,Ot=1):we>65535&&(we-=65536,bt.push(we>>>10&1023|55296),we=56320|we&1023),bt.push(we),Bt+=Ot}return ut(bt)}let ht=4096;function ut(C){let F=C.length;if(F<=ht)return String.fromCharCode.apply(String,C);let K="",bt=0;for(;bt<F;)K+=String.fromCharCode.apply(String,C.slice(bt,bt+=ht));return K}function rt(C,F,K){let bt="";K=Math.min(C.length,K);for(let Bt=F;Bt<K;++Bt)bt+=String.fromCharCode(C[Bt]&127);return bt}function lt(C,F,K){let bt="";K=Math.min(C.length,K);for(let Bt=F;Bt<K;++Bt)bt+=String.fromCharCode(C[Bt]);return bt}function et(C,F,K){let bt=C.length;(!F||F<0)&&(F=0),(!K||K<0||K>bt)&&(K=bt);let Bt="";for(let ee=F;ee<K;++ee)Bt+=ve[C[ee]];return Bt}function Pt(C,F,K){let bt=C.slice(F,K),Bt="";for(let ee=0;ee<bt.length-1;ee+=2)Bt+=String.fromCharCode(bt[ee]+bt[ee+1]*256);return Bt}l.prototype.slice=function(C,F){let K=this.length;C=~~C,F=F===void 0?K:~~F,C<0?(C+=K,C<0&&(C=0)):C>K&&(C=K),F<0?(F+=K,F<0&&(F=0)):F>K&&(F=K),F<C&&(F=C);let bt=this.subarray(C,F);return Object.setPrototypeOf(bt,l.prototype),bt};function nt(C,F,K){if(C%1!==0||C<0)throw new RangeError("offset is not uint");if(C+F>K)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(C,F,K){C=C>>>0,F=F>>>0,K||nt(C,F,this.length);let bt=this[C],Bt=1,ee=0;for(;++ee<F&&(Bt*=256);)bt+=this[C+ee]*Bt;return bt},l.prototype.readUintBE=l.prototype.readUIntBE=function(C,F,K){C=C>>>0,F=F>>>0,K||nt(C,F,this.length);let bt=this[C+--F],Bt=1;for(;F>0&&(Bt*=256);)bt+=this[C+--F]*Bt;return bt},l.prototype.readUint8=l.prototype.readUInt8=function(C,F){return C=C>>>0,F||nt(C,1,this.length),this[C]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(C,F){return C=C>>>0,F||nt(C,2,this.length),this[C]|this[C+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(C,F){return C=C>>>0,F||nt(C,2,this.length),this[C]<<8|this[C+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(C,F){return C=C>>>0,F||nt(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+this[C+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(C,F){return C=C>>>0,F||nt(C,4,this.length),this[C]*16777216+(this[C+1]<<16|this[C+2]<<8|this[C+3])},l.prototype.readBigUInt64LE=Xt(function(C){C=C>>>0,At(C,"offset");let F=this[C],K=this[C+7];(F===void 0||K===void 0)&&ce(C,this.length-8);let bt=F+this[++C]*2**8+this[++C]*2**16+this[++C]*2**24,Bt=this[++C]+this[++C]*2**8+this[++C]*2**16+K*2**24;return BigInt(bt)+(BigInt(Bt)<<BigInt(32))}),l.prototype.readBigUInt64BE=Xt(function(C){C=C>>>0,At(C,"offset");let F=this[C],K=this[C+7];(F===void 0||K===void 0)&&ce(C,this.length-8);let bt=F*2**24+this[++C]*2**16+this[++C]*2**8+this[++C],Bt=this[++C]*2**24+this[++C]*2**16+this[++C]*2**8+K;return(BigInt(bt)<<BigInt(32))+BigInt(Bt)}),l.prototype.readIntLE=function(C,F,K){C=C>>>0,F=F>>>0,K||nt(C,F,this.length);let bt=this[C],Bt=1,ee=0;for(;++ee<F&&(Bt*=256);)bt+=this[C+ee]*Bt;return Bt*=128,bt>=Bt&&(bt-=Math.pow(2,8*F)),bt},l.prototype.readIntBE=function(C,F,K){C=C>>>0,F=F>>>0,K||nt(C,F,this.length);let bt=F,Bt=1,ee=this[C+--bt];for(;bt>0&&(Bt*=256);)ee+=this[C+--bt]*Bt;return Bt*=128,ee>=Bt&&(ee-=Math.pow(2,8*F)),ee},l.prototype.readInt8=function(C,F){return C=C>>>0,F||nt(C,1,this.length),this[C]&128?(255-this[C]+1)*-1:this[C]},l.prototype.readInt16LE=function(C,F){C=C>>>0,F||nt(C,2,this.length);let K=this[C]|this[C+1]<<8;return K&32768?K|4294901760:K},l.prototype.readInt16BE=function(C,F){C=C>>>0,F||nt(C,2,this.length);let K=this[C+1]|this[C]<<8;return K&32768?K|4294901760:K},l.prototype.readInt32LE=function(C,F){return C=C>>>0,F||nt(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},l.prototype.readInt32BE=function(C,F){return C=C>>>0,F||nt(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},l.prototype.readBigInt64LE=Xt(function(C){C=C>>>0,At(C,"offset");let F=this[C],K=this[C+7];(F===void 0||K===void 0)&&ce(C,this.length-8);let bt=this[C+4]+this[C+5]*2**8+this[C+6]*2**16+(K<<24);return(BigInt(bt)<<BigInt(32))+BigInt(F+this[++C]*2**8+this[++C]*2**16+this[++C]*2**24)}),l.prototype.readBigInt64BE=Xt(function(C){C=C>>>0,At(C,"offset");let F=this[C],K=this[C+7];(F===void 0||K===void 0)&&ce(C,this.length-8);let bt=(F<<24)+this[++C]*2**16+this[++C]*2**8+this[++C];return(BigInt(bt)<<BigInt(32))+BigInt(this[++C]*2**24+this[++C]*2**16+this[++C]*2**8+K)}),l.prototype.readFloatLE=function(C,F){return C=C>>>0,F||nt(C,4,this.length),t.read(this,C,!0,23,4)},l.prototype.readFloatBE=function(C,F){return C=C>>>0,F||nt(C,4,this.length),t.read(this,C,!1,23,4)},l.prototype.readDoubleLE=function(C,F){return C=C>>>0,F||nt(C,8,this.length),t.read(this,C,!0,52,8)},l.prototype.readDoubleBE=function(C,F){return C=C>>>0,F||nt(C,8,this.length),t.read(this,C,!1,52,8)};function Y(C,F,K,bt,Bt,ee){if(!l.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(F>Bt||F<ee)throw new RangeError('"value" argument is out of bounds');if(K+bt>C.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(C,F,K,bt){if(C=+C,F=F>>>0,K=K>>>0,!bt){let we=Math.pow(2,8*K)-1;Y(this,C,F,K,we,0)}let Bt=1,ee=0;for(this[F]=C&255;++ee<K&&(Bt*=256);)this[F+ee]=C/Bt&255;return F+K},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(C,F,K,bt){if(C=+C,F=F>>>0,K=K>>>0,!bt){let we=Math.pow(2,8*K)-1;Y(this,C,F,K,we,0)}let Bt=K-1,ee=1;for(this[F+Bt]=C&255;--Bt>=0&&(ee*=256);)this[F+Bt]=C/ee&255;return F+K},l.prototype.writeUint8=l.prototype.writeUInt8=function(C,F,K){return C=+C,F=F>>>0,K||Y(this,C,F,1,255,0),this[F]=C&255,F+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(C,F,K){return C=+C,F=F>>>0,K||Y(this,C,F,2,65535,0),this[F]=C&255,this[F+1]=C>>>8,F+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(C,F,K){return C=+C,F=F>>>0,K||Y(this,C,F,2,65535,0),this[F]=C>>>8,this[F+1]=C&255,F+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(C,F,K){return C=+C,F=F>>>0,K||Y(this,C,F,4,4294967295,0),this[F+3]=C>>>24,this[F+2]=C>>>16,this[F+1]=C>>>8,this[F]=C&255,F+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(C,F,K){return C=+C,F=F>>>0,K||Y(this,C,F,4,4294967295,0),this[F]=C>>>24,this[F+1]=C>>>16,this[F+2]=C>>>8,this[F+3]=C&255,F+4};function Z(C,F,K,bt,Bt){Rt(F,bt,Bt,C,K,7);let ee=Number(F&BigInt(4294967295));C[K++]=ee,ee=ee>>8,C[K++]=ee,ee=ee>>8,C[K++]=ee,ee=ee>>8,C[K++]=ee;let we=Number(F>>BigInt(32)&BigInt(4294967295));return C[K++]=we,we=we>>8,C[K++]=we,we=we>>8,C[K++]=we,we=we>>8,C[K++]=we,K}function at(C,F,K,bt,Bt){Rt(F,bt,Bt,C,K,7);let ee=Number(F&BigInt(4294967295));C[K+7]=ee,ee=ee>>8,C[K+6]=ee,ee=ee>>8,C[K+5]=ee,ee=ee>>8,C[K+4]=ee;let we=Number(F>>BigInt(32)&BigInt(4294967295));return C[K+3]=we,we=we>>8,C[K+2]=we,we=we>>8,C[K+1]=we,we=we>>8,C[K]=we,K+8}l.prototype.writeBigUInt64LE=Xt(function(C,F=0){return Z(this,C,F,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=Xt(function(C,F=0){return at(this,C,F,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(C,F,K,bt){if(C=+C,F=F>>>0,!bt){let Ot=Math.pow(2,8*K-1);Y(this,C,F,K,Ot-1,-Ot)}let Bt=0,ee=1,we=0;for(this[F]=C&255;++Bt<K&&(ee*=256);)C<0&&we===0&&this[F+Bt-1]!==0&&(we=1),this[F+Bt]=(C/ee>>0)-we&255;return F+K},l.prototype.writeIntBE=function(C,F,K,bt){if(C=+C,F=F>>>0,!bt){let Ot=Math.pow(2,8*K-1);Y(this,C,F,K,Ot-1,-Ot)}let Bt=K-1,ee=1,we=0;for(this[F+Bt]=C&255;--Bt>=0&&(ee*=256);)C<0&&we===0&&this[F+Bt+1]!==0&&(we=1),this[F+Bt]=(C/ee>>0)-we&255;return F+K},l.prototype.writeInt8=function(C,F,K){return C=+C,F=F>>>0,K||Y(this,C,F,1,127,-128),C<0&&(C=255+C+1),this[F]=C&255,F+1},l.prototype.writeInt16LE=function(C,F,K){return C=+C,F=F>>>0,K||Y(this,C,F,2,32767,-32768),this[F]=C&255,this[F+1]=C>>>8,F+2},l.prototype.writeInt16BE=function(C,F,K){return C=+C,F=F>>>0,K||Y(this,C,F,2,32767,-32768),this[F]=C>>>8,this[F+1]=C&255,F+2},l.prototype.writeInt32LE=function(C,F,K){return C=+C,F=F>>>0,K||Y(this,C,F,4,2147483647,-2147483648),this[F]=C&255,this[F+1]=C>>>8,this[F+2]=C>>>16,this[F+3]=C>>>24,F+4},l.prototype.writeInt32BE=function(C,F,K){return C=+C,F=F>>>0,K||Y(this,C,F,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[F]=C>>>24,this[F+1]=C>>>16,this[F+2]=C>>>8,this[F+3]=C&255,F+4},l.prototype.writeBigInt64LE=Xt(function(C,F=0){return Z(this,C,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=Xt(function(C,F=0){return at(this,C,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Tt(C,F,K,bt,Bt,ee){if(K+bt>C.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function gt(C,F,K,bt,Bt){return F=+F,K=K>>>0,Bt||Tt(C,F,K,4),t.write(C,F,K,bt,23,4),K+4}l.prototype.writeFloatLE=function(C,F,K){return gt(this,C,F,!0,K)},l.prototype.writeFloatBE=function(C,F,K){return gt(this,C,F,!1,K)};function Ut(C,F,K,bt,Bt){return F=+F,K=K>>>0,Bt||Tt(C,F,K,8),t.write(C,F,K,bt,52,8),K+8}l.prototype.writeDoubleLE=function(C,F,K){return Ut(this,C,F,!0,K)},l.prototype.writeDoubleBE=function(C,F,K){return Ut(this,C,F,!1,K)},l.prototype.copy=function(C,F,K,bt){if(!l.isBuffer(C))throw new TypeError("argument should be a Buffer");if(K||(K=0),!bt&&bt!==0&&(bt=this.length),F>=C.length&&(F=C.length),F||(F=0),bt>0&&bt<K&&(bt=K),bt===K||C.length===0||this.length===0)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(bt<0)throw new RangeError("sourceEnd out of bounds");bt>this.length&&(bt=this.length),C.length-F<bt-K&&(bt=C.length-F+K);let Bt=bt-K;return this===C&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(F,K,bt):Uint8Array.prototype.set.call(C,this.subarray(K,bt),F),Bt},l.prototype.fill=function(C,F,K,bt){if(typeof C=="string"){if(typeof F=="string"?(bt=F,F=0,K=this.length):typeof K=="string"&&(bt=K,K=this.length),bt!==void 0&&typeof bt!="string")throw new TypeError("encoding must be a string");if(typeof bt=="string"&&!l.isEncoding(bt))throw new TypeError("Unknown encoding: "+bt);if(C.length===1){let ee=C.charCodeAt(0);(bt==="utf8"&&ee<128||bt==="latin1")&&(C=ee)}}else typeof C=="number"?C=C&255:typeof C=="boolean"&&(C=Number(C));if(F<0||this.length<F||this.length<K)throw new RangeError("Out of range index");if(K<=F)return this;F=F>>>0,K=K===void 0?this.length:K>>>0,C||(C=0);let Bt;if(typeof C=="number")for(Bt=F;Bt<K;++Bt)this[Bt]=C;else{let ee=l.isBuffer(C)?C:l.from(C,bt),we=ee.length;if(we===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(Bt=0;Bt<K-F;++Bt)this[Bt+F]=ee[Bt%we]}return this};let _t={};function ct(C,F,K){_t[C]=class extends K{constructor(){super(),Object.defineProperty(this,"message",{value:F.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${C}]`,this.stack,delete this.name}get code(){return C}set code(bt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:bt,writable:!0})}toString(){return`${this.name} [${C}]: ${this.message}`}}}ct("ERR_BUFFER_OUT_OF_BOUNDS",function(C){return C?`${C} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ct("ERR_INVALID_ARG_TYPE",function(C,F){return`The "${C}" argument must be of type number. Received type ${typeof F}`},TypeError),ct("ERR_OUT_OF_RANGE",function(C,F,K){let bt=`The value of "${C}" is out of range.`,Bt=K;return Number.isInteger(K)&&Math.abs(K)>2**32?Bt=vt(String(K)):typeof K=="bigint"&&(Bt=String(K),(K>BigInt(2)**BigInt(32)||K<-(BigInt(2)**BigInt(32)))&&(Bt=vt(Bt)),Bt+="n"),bt+=` It must be ${F}. Received ${Bt}`,bt},RangeError);function vt(C){let F="",K=C.length,bt=C[0]==="-"?1:0;for(;K>=bt+4;K-=3)F=`_${C.slice(K-3,K)}${F}`;return`${C.slice(0,K)}${F}`}function Mt(C,F,K){At(F,"offset"),(C[F]===void 0||C[F+K]===void 0)&&ce(F,C.length-(K+1))}function Rt(C,F,K,bt,Bt,ee){if(C>K||C<F){let we=typeof F=="bigint"?"n":"",Ot;throw F===0||F===BigInt(0)?Ot=`>= 0${we} and < 2${we} ** ${(ee+1)*8}${we}`:Ot=`>= -(2${we} ** ${(ee+1)*8-1}${we}) and < 2 ** ${(ee+1)*8-1}${we}`,new _t.ERR_OUT_OF_RANGE("value",Ot,C)}Mt(bt,Bt,ee)}function At(C,F){if(typeof C!="number")throw new _t.ERR_INVALID_ARG_TYPE(F,"number",C)}function ce(C,F,K){throw Math.floor(C)!==C?(At(C,K),new _t.ERR_OUT_OF_RANGE("offset","an integer",C)):F<0?new _t.ERR_BUFFER_OUT_OF_BOUNDS:new _t.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${F}`,C)}let Jt=/[^+/0-9A-Za-z-_]/g;function ft(C){if(C=C.split("=")[0],C=C.trim().replace(Jt,""),C.length<2)return"";for(;C.length%4!==0;)C=C+"=";return C}function Et(C,F){F=F||1/0;let K,bt=C.length,Bt=null,ee=[];for(let we=0;we<bt;++we){if(K=C.charCodeAt(we),K>55295&&K<57344){if(!Bt){if(K>56319){(F-=3)>-1&&ee.push(239,191,189);continue}else if(we+1===bt){(F-=3)>-1&&ee.push(239,191,189);continue}Bt=K;continue}if(K<56320){(F-=3)>-1&&ee.push(239,191,189),Bt=K;continue}K=(Bt-55296<<10|K-56320)+65536}else Bt&&(F-=3)>-1&&ee.push(239,191,189);if(Bt=null,K<128){if((F-=1)<0)break;ee.push(K)}else if(K<2048){if((F-=2)<0)break;ee.push(K>>6|192,K&63|128)}else if(K<65536){if((F-=3)<0)break;ee.push(K>>12|224,K>>6&63|128,K&63|128)}else if(K<1114112){if((F-=4)<0)break;ee.push(K>>18|240,K>>12&63|128,K>>6&63|128,K&63|128)}else throw new Error("Invalid code point")}return ee}function Vt(C){let F=[];for(let K=0;K<C.length;++K)F.push(C.charCodeAt(K)&255);return F}function ie(C,F){let K,bt,Bt,ee=[];for(let we=0;we<C.length&&!((F-=2)<0);++we)K=C.charCodeAt(we),bt=K>>8,Bt=K%256,ee.push(Bt),ee.push(bt);return ee}function re(C){return n.toByteArray(ft(C))}function he(C,F,K,bt){let Bt;for(Bt=0;Bt<bt&&!(Bt+K>=F.length||Bt>=C.length);++Bt)F[Bt+K]=C[Bt];return Bt}function wt(C,F){return C instanceof F||C!=null&&C.constructor!=null&&C.constructor.name!=null&&C.constructor.name===F.name}function fe(C){return C!==C}let ve=(function(){let C="0123456789abcdef",F=new Array(256);for(let K=0;K<16;++K){let bt=K*16;for(let Bt=0;Bt<16;++Bt)F[bt+Bt]=C[K]+C[Bt]}return F})();function Xt(C){return typeof BigInt>"u"?Ke:C}function Ke(){throw new Error("BigInt not supported")}return Ya}var Ou,Sy,Yc,Ey,Ya,Ay,xM=Kr(()=>{oe(),le(),ae(),Ou={},Sy=!1,Yc={},Ey=!1,Ya={},Ay=!1}),Vi={};Hu(Vi,{Buffer:()=>Nd,INSPECT_MAX_BYTES:()=>$S,default:()=>Jo,kMaxLength:()=>QS});var Jo,Nd,$S,QS,Wi=Kr(()=>{oe(),le(),ae(),xM(),Jo=wM(),Jo.Buffer,Jo.SlowBuffer,Jo.INSPECT_MAX_BYTES,Jo.kMaxLength,Nd=Jo.Buffer,$S=Jo.INSPECT_MAX_BYTES,QS=Jo.kMaxLength}),le=Kr(()=>{Wi()}),si=pe((n,t)=>{oe(),le(),ae();var e=class extends Error{constructor(i){if(!Array.isArray(i))throw new TypeError(`Expected input to be an Array, got ${typeof i}`);let s="";for(let a=0;a<i.length;a++)s+=`    ${i[a].stack}
`;super(s),this.name="AggregateError",this.errors=i}};t.exports={AggregateError:e,ArrayIsArray(i){return Array.isArray(i)},ArrayPrototypeIncludes(i,s){return i.includes(s)},ArrayPrototypeIndexOf(i,s){return i.indexOf(s)},ArrayPrototypeJoin(i,s){return i.join(s)},ArrayPrototypeMap(i,s){return i.map(s)},ArrayPrototypePop(i,s){return i.pop(s)},ArrayPrototypePush(i,s){return i.push(s)},ArrayPrototypeSlice(i,s,a){return i.slice(s,a)},Error,FunctionPrototypeCall(i,s,...a){return i.call(s,...a)},FunctionPrototypeSymbolHasInstance(i,s){return Function.prototype[Symbol.hasInstance].call(i,s)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(i,s){return Object.defineProperties(i,s)},ObjectDefineProperty(i,s,a){return Object.defineProperty(i,s,a)},ObjectGetOwnPropertyDescriptor(i,s){return Object.getOwnPropertyDescriptor(i,s)},ObjectKeys(i){return Object.keys(i)},ObjectSetPrototypeOf(i,s){return Object.setPrototypeOf(i,s)},Promise,PromisePrototypeCatch(i,s){return i.catch(s)},PromisePrototypeThen(i,s,a){return i.then(s,a)},PromiseReject(i){return Promise.reject(i)},PromiseResolve(i){return Promise.resolve(i)},ReflectApply:Reflect.apply,RegExpPrototypeTest(i,s){return i.test(s)},SafeSet:Set,String,StringPrototypeSlice(i,s,a){return i.slice(s,a)},StringPrototypeToLowerCase(i){return i.toLowerCase()},StringPrototypeToUpperCase(i){return i.toUpperCase()},StringPrototypeTrim(i){return i.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(i,s,a){return i.set(s,a)},Boolean,Uint8Array}}),JS=pe((n,t)=>{oe(),le(),ae(),t.exports={format(e,...i){return e.replace(/%([sdifj])/g,function(...[s,a]){let l=i.shift();return a==="f"?l.toFixed(6):a==="j"?JSON.stringify(l):a==="s"&&typeof l=="object"?`${l.constructor!==Object?l.constructor.name:""} {}`.trim():l.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}}),Tr=pe((n,t)=>{oe(),le(),ae();var{format:e,inspect:i}=JS(),{AggregateError:s}=si(),a=globalThis.AggregateError||s,l=Symbol("kIsNodeError"),c=["string","function","number","object","Function","Object","boolean","bigint","symbol"],f=/^([A-Z][a-z0-9]*)+$/,d="__node_internal_",g={};function y(M,D){if(!M)throw new g.ERR_INTERNAL_ASSERTION(D)}function _(M){let D="",I=M.length,R=M[0]==="-"?1:0;for(;I>=R+4;I-=3)D=`_${M.slice(I-3,I)}${D}`;return`${M.slice(0,I)}${D}`}function S(M,D,I){if(typeof D=="function")return y(D.length<=I.length,`Code: ${M}; The provided arguments length (${I.length}) does not match the required ones (${D.length}).`),D(...I);let R=(D.match(/%[dfijoOs]/g)||[]).length;return y(R===I.length,`Code: ${M}; The provided arguments length (${I.length}) does not match the required ones (${R}).`),I.length===0?D:e(D,...I)}function x(M,D,I){I||(I=Error);class R extends I{constructor(...j){super(S(M,D,j))}toString(){return`${this.name} [${M}]: ${this.message}`}}Object.defineProperties(R.prototype,{name:{value:I.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${M}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),R.prototype.code=M,R.prototype[l]=!0,g[M]=R}function E(M){let D=d+M.name;return Object.defineProperty(M,"name",{value:D}),M}function T(M,D){if(M&&D&&M!==D){if(Array.isArray(D.errors))return D.errors.push(M),D;let I=new a([D,M],D.message);return I.code=D.code,I}return M||D}var N=class extends Error{constructor(M="The operation was aborted",D=void 0){if(D!==void 0&&typeof D!="object")throw new g.ERR_INVALID_ARG_TYPE("options","Object",D);super(M,D),this.code="ABORT_ERR",this.name="AbortError"}};x("ERR_ASSERTION","%s",Error),x("ERR_INVALID_ARG_TYPE",(M,D,I)=>{y(typeof M=="string","'name' must be a string"),Array.isArray(D)||(D=[D]);let R="The ";M.endsWith(" argument")?R+=`${M} `:R+=`"${M}" ${M.includes(".")?"property":"argument"} `,R+="must be ";let z=[],j=[],W=[];for(let tt of D)y(typeof tt=="string","All expected entries have to be of type string"),c.includes(tt)?z.push(tt.toLowerCase()):f.test(tt)?j.push(tt):(y(tt!=="object",'The value "object" should be written as "Object"'),W.push(tt));if(j.length>0){let tt=z.indexOf("object");tt!==-1&&(z.splice(z,tt,1),j.push("Object"))}if(z.length>0){switch(z.length){case 1:R+=`of type ${z[0]}`;break;case 2:R+=`one of type ${z[0]} or ${z[1]}`;break;default:{let tt=z.pop();R+=`one of type ${z.join(", ")}, or ${tt}`}}(j.length>0||W.length>0)&&(R+=" or ")}if(j.length>0){switch(j.length){case 1:R+=`an instance of ${j[0]}`;break;case 2:R+=`an instance of ${j[0]} or ${j[1]}`;break;default:{let tt=j.pop();R+=`an instance of ${j.join(", ")}, or ${tt}`}}W.length>0&&(R+=" or ")}switch(W.length){case 0:break;case 1:W[0].toLowerCase()!==W[0]&&(R+="an "),R+=`${W[0]}`;break;case 2:R+=`one of ${W[0]} or ${W[1]}`;break;default:{let tt=W.pop();R+=`one of ${W.join(", ")}, or ${tt}`}}if(I==null)R+=`. Received ${I}`;else if(typeof I=="function"&&I.name)R+=`. Received function ${I.name}`;else if(typeof I=="object"){var J;if((J=I.constructor)!==null&&J!==void 0&&J.name)R+=`. Received an instance of ${I.constructor.name}`;else{let tt=i(I,{depth:-1});R+=`. Received ${tt}`}}else{let tt=i(I,{colors:!1});tt.length>25&&(tt=`${tt.slice(0,25)}...`),R+=`. Received type ${typeof I} (${tt})`}return R},TypeError),x("ERR_INVALID_ARG_VALUE",(M,D,I="is invalid")=>{let R=i(D);return R.length>128&&(R=R.slice(0,128)+"..."),`The ${M.includes(".")?"property":"argument"} '${M}' ${I}. Received ${R}`},TypeError),x("ERR_INVALID_RETURN_VALUE",(M,D,I)=>{var R;let z=I!=null&&(R=I.constructor)!==null&&R!==void 0&&R.name?`instance of ${I.constructor.name}`:`type ${typeof I}`;return`Expected ${M} to be returned from the "${D}" function but got ${z}.`},TypeError),x("ERR_MISSING_ARGS",(...M)=>{y(M.length>0,"At least one arg needs to be specified");let D,I=M.length;switch(M=(Array.isArray(M)?M:[M]).map(R=>`"${R}"`).join(" or "),I){case 1:D+=`The ${M[0]} argument`;break;case 2:D+=`The ${M[0]} and ${M[1]} arguments`;break;default:{let R=M.pop();D+=`The ${M.join(", ")}, and ${R} arguments`}break}return`${D} must be specified`},TypeError),x("ERR_OUT_OF_RANGE",(M,D,I)=>{y(D,'Missing "range" argument');let R;if(Number.isInteger(I)&&Math.abs(I)>2**32)R=_(String(I));else if(typeof I=="bigint"){R=String(I);let z=BigInt(2)**BigInt(32);(I>z||I<-z)&&(R=_(R)),R+="n"}else R=i(I);return`The value of "${M}" is out of range. It must be ${D}. Received ${R}`},RangeError),x("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),x("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),x("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),x("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),x("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),x("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),x("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),x("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),x("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),x("ERR_STREAM_WRITE_AFTER_END","write after end",Error),x("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError:N,aggregateTwoErrors:E(T),hideStackFrames:E,codes:g}}),yf=pe((n,t)=>{oe(),le(),ae();var{AbortController:e,AbortSignal:i}=typeof self<"u"?self:typeof window<"u"?window:void 0;t.exports=e,t.exports.AbortSignal=i,t.exports.default=e}),al={};Hu(al,{EventEmitter:()=>t2,default:()=>Cu,defaultMaxListeners:()=>e2,init:()=>n2,listenerCount:()=>i2,on:()=>r2,once:()=>s2});function SM(){if(Ty)return Zc;Ty=!0;var n=typeof Reflect=="object"?Reflect:null,t=n&&typeof n.apply=="function"?n.apply:function(I,R,z){return Function.prototype.apply.call(I,R,z)},e;n&&typeof n.ownKeys=="function"?e=n.ownKeys:Object.getOwnPropertySymbols?e=function(I){return Object.getOwnPropertyNames(I).concat(Object.getOwnPropertySymbols(I))}:e=function(I){return Object.getOwnPropertyNames(I)};function i(I){console&&console.warn&&console.warn(I)}var s=Number.isNaN||function(I){return I!==I};function a(){a.init.call(this)}Zc=a,Zc.once=N,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var l=10;function c(I){if(typeof I!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof I)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(I){if(typeof I!="number"||I<0||s(I))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+I+".");l=I}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(I){if(typeof I!="number"||I<0||s(I))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+I+".");return this._maxListeners=I,this};function f(I){return I._maxListeners===void 0?a.defaultMaxListeners:I._maxListeners}a.prototype.getMaxListeners=function(){return f(this)},a.prototype.emit=function(I){for(var R=[],z=1;z<arguments.length;z++)R.push(arguments[z]);var j=I==="error",W=this._events;if(W!==void 0)j=j&&W.error===void 0;else if(!j)return!1;if(j){var J;if(R.length>0&&(J=R[0]),J instanceof Error)throw J;var tt=new Error("Unhandled error."+(J?" ("+J.message+")":""));throw tt.context=J,tt}var ot=W[I];if(ot===void 0)return!1;if(typeof ot=="function")t(ot,this,R);else for(var G=ot.length,dt=x(ot,G),z=0;z<G;++z)t(dt[z],this,R);return!0};function d(I,R,z,j){var W,J,tt;if(c(z),J=I._events,J===void 0?(J=I._events=Object.create(null),I._eventsCount=0):(J.newListener!==void 0&&(I.emit("newListener",R,z.listener?z.listener:z),J=I._events),tt=J[R]),tt===void 0)tt=J[R]=z,++I._eventsCount;else if(typeof tt=="function"?tt=J[R]=j?[z,tt]:[tt,z]:j?tt.unshift(z):tt.push(z),W=f(I),W>0&&tt.length>W&&!tt.warned){tt.warned=!0;var ot=new Error("Possible EventEmitter memory leak detected. "+tt.length+" "+String(R)+" listeners added. Use emitter.setMaxListeners() to increase limit");ot.name="MaxListenersExceededWarning",ot.emitter=I,ot.type=R,ot.count=tt.length,i(ot)}return I}a.prototype.addListener=function(I,R){return d(this,I,R,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(I,R){return d(this,I,R,!0)};function g(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(I,R,z){var j={fired:!1,wrapFn:void 0,target:I,type:R,listener:z},W=g.bind(j);return W.listener=z,j.wrapFn=W,W}a.prototype.once=function(I,R){return c(R),this.on(I,y(this,I,R)),this},a.prototype.prependOnceListener=function(I,R){return c(R),this.prependListener(I,y(this,I,R)),this},a.prototype.removeListener=function(I,R){var z,j,W,J,tt;if(c(R),j=this._events,j===void 0)return this;if(z=j[I],z===void 0)return this;if(z===R||z.listener===R)--this._eventsCount===0?this._events=Object.create(null):(delete j[I],j.removeListener&&this.emit("removeListener",I,z.listener||R));else if(typeof z!="function"){for(W=-1,J=z.length-1;J>=0;J--)if(z[J]===R||z[J].listener===R){tt=z[J].listener,W=J;break}if(W<0)return this;W===0?z.shift():E(z,W),z.length===1&&(j[I]=z[0]),j.removeListener!==void 0&&this.emit("removeListener",I,tt||R)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(I){var R,z,j;if(z=this._events,z===void 0)return this;if(z.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):z[I]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete z[I]),this;if(arguments.length===0){var W=Object.keys(z),J;for(j=0;j<W.length;++j)J=W[j],J!=="removeListener"&&this.removeAllListeners(J);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(R=z[I],typeof R=="function")this.removeListener(I,R);else if(R!==void 0)for(j=R.length-1;j>=0;j--)this.removeListener(I,R[j]);return this};function _(I,R,z){var j=I._events;if(j===void 0)return[];var W=j[R];return W===void 0?[]:typeof W=="function"?z?[W.listener||W]:[W]:z?T(W):x(W,W.length)}a.prototype.listeners=function(I){return _(this,I,!0)},a.prototype.rawListeners=function(I){return _(this,I,!1)},a.listenerCount=function(I,R){return typeof I.listenerCount=="function"?I.listenerCount(R):S.call(I,R)},a.prototype.listenerCount=S;function S(I){var R=this._events;if(R!==void 0){var z=R[I];if(typeof z=="function")return 1;if(z!==void 0)return z.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]};function x(I,R){for(var z=new Array(R),j=0;j<R;++j)z[j]=I[j];return z}function E(I,R){for(;R+1<I.length;R++)I[R]=I[R+1];I.pop()}function T(I){for(var R=new Array(I.length),z=0;z<R.length;++z)R[z]=I[z].listener||I[z];return R}function N(I,R){return new Promise(function(z,j){function W(tt){I.removeListener(R,J),j(tt)}function J(){typeof I.removeListener=="function"&&I.removeListener("error",W),z([].slice.call(arguments))}D(I,R,J,{once:!0}),R!=="error"&&M(I,W,{once:!0})})}function M(I,R,z){typeof I.on=="function"&&D(I,"error",R,z)}function D(I,R,z,j){if(typeof I.on=="function")j.once?I.once(R,z):I.on(R,z);else if(typeof I.addEventListener=="function")I.addEventListener(R,function W(J){j.once&&I.removeEventListener(R,W),z(J)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof I)}return Zc}var Zc,Ty,Cu,t2,e2,n2,i2,r2,s2,Wl=Kr(()=>{oe(),le(),ae(),Zc={},Ty=!1,Cu=SM(),Cu.once,Cu.once=function(n,t){return new Promise((e,i)=>{function s(...l){a!==void 0&&n.removeListener("error",a),e(l)}let a;t!=="error"&&(a=l=>{n.removeListener(name,s),i(l)},n.once("error",a)),n.once(t,s)})},Cu.on=function(n,t){let e=[],i=[],s=null,a=!1,l={async next(){let d=e.shift();if(d)return createIterResult(d,!1);if(s){let g=Promise.reject(s);return s=null,g}return a?createIterResult(void 0,!0):new Promise((g,y)=>i.push({resolve:g,reject:y}))},async return(){n.removeListener(t,c),n.removeListener("error",f),a=!0;for(let d of i)d.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(d){s=d,n.removeListener(t,c),n.removeListener("error",f)},[Symbol.asyncIterator](){return this}};return n.on(t,c),n.on("error",f),l;function c(...d){let g=i.shift();g?g.resolve(createIterResult(d,!1)):e.push(d)}function f(d){a=!0;let g=i.shift();g?g.reject(d):s=d,l.return()}},{EventEmitter:t2,defaultMaxListeners:e2,init:n2,listenerCount:i2,on:r2,once:s2}=Cu}),Wr=pe((n,t)=>{oe(),le(),ae();var e=(Wi(),Bn(Vi)),{format:i,inspect:s}=JS(),{codes:{ERR_INVALID_ARG_TYPE:a}}=Tr(),{kResistStopPropagation:l,AggregateError:c,SymbolDispose:f}=si(),d=globalThis.AbortSignal||yf().AbortSignal,g=globalThis.AbortController||yf().AbortController,y=Object.getPrototypeOf(async function(){}).constructor,_=globalThis.Blob||e.Blob,S=typeof _<"u"?function(T){return T instanceof _}:function(T){return!1},x=(T,N)=>{if(T!==void 0&&(T===null||typeof T!="object"||!("aborted"in T)))throw new a(N,"AbortSignal",T)},E=(T,N)=>{if(typeof T!="function")throw new a(N,"Function",T)};t.exports={AggregateError:c,kEmptyObject:Object.freeze({}),once(T){let N=!1;return function(...M){N||(N=!0,T.apply(this,M))}},createDeferredPromise:function(){let T,N;return{promise:new Promise((M,D)=>{T=M,N=D}),resolve:T,reject:N}},promisify(T){return new Promise((N,M)=>{T((D,...I)=>D?M(D):N(...I))})},debuglog(){return function(){}},format:i,inspect:s,types:{isAsyncFunction(T){return T instanceof y},isArrayBufferView(T){return ArrayBuffer.isView(T)}},isBlob:S,deprecate(T,N){return T},addAbortListener:(Wl(),Bn(al)).addAbortListener||function(T,N){if(T===void 0)throw new a("signal","AbortSignal",T);x(T,"signal"),E(N,"listener");let M;return T.aborted?queueMicrotask(()=>N()):(T.addEventListener("abort",N,{__proto__:null,once:!0,[l]:!0}),M=()=>{T.removeEventListener("abort",N)}),{__proto__:null,[f](){var D;(D=M)===null||D===void 0||D()}}},AbortSignalAny:d.any||function(T){if(T.length===1)return T[0];let N=new g,M=()=>N.abort();return T.forEach(D=>{x(D,"signals"),D.addEventListener("abort",M,{once:!0})}),N.signal.addEventListener("abort",()=>{T.forEach(D=>D.removeEventListener("abort",M))},{once:!0}),N.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),kf=pe((n,t)=>{oe(),le(),ae();var{ArrayIsArray:e,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:s,ArrayPrototypeMap:a,NumberIsInteger:l,NumberIsNaN:c,NumberMAX_SAFE_INTEGER:f,NumberMIN_SAFE_INTEGER:d,NumberParseInt:g,ObjectPrototypeHasOwnProperty:y,RegExpPrototypeExec:_,String:S,StringPrototypeToUpperCase:x,StringPrototypeTrim:E}=si(),{hideStackFrames:T,codes:{ERR_SOCKET_BAD_PORT:N,ERR_INVALID_ARG_TYPE:M,ERR_INVALID_ARG_VALUE:D,ERR_OUT_OF_RANGE:I,ERR_UNKNOWN_SIGNAL:R}}=Tr(),{normalizeEncoding:z}=Wr(),{isAsyncFunction:j,isArrayBufferView:W}=Wr().types,J={};function tt(wt){return wt===(wt|0)}function ot(wt){return wt===wt>>>0}var G=/^[0-7]+$/,dt="must be a 32-bit unsigned integer or an octal string";function ht(wt,fe,ve){if(typeof wt>"u"&&(wt=ve),typeof wt=="string"){if(_(G,wt)===null)throw new D(fe,wt,dt);wt=g(wt,8)}return lt(wt,fe),wt}var ut=T((wt,fe,ve=d,Xt=f)=>{if(typeof wt!="number")throw new M(fe,"number",wt);if(!l(wt))throw new I(fe,"an integer",wt);if(wt<ve||wt>Xt)throw new I(fe,`>= ${ve} && <= ${Xt}`,wt)}),rt=T((wt,fe,ve=-2147483648,Xt=2147483647)=>{if(typeof wt!="number")throw new M(fe,"number",wt);if(!l(wt))throw new I(fe,"an integer",wt);if(wt<ve||wt>Xt)throw new I(fe,`>= ${ve} && <= ${Xt}`,wt)}),lt=T((wt,fe,ve=!1)=>{if(typeof wt!="number")throw new M(fe,"number",wt);if(!l(wt))throw new I(fe,"an integer",wt);let Xt=ve?1:0,Ke=4294967295;if(wt<Xt||wt>Ke)throw new I(fe,`>= ${Xt} && <= ${Ke}`,wt)});function et(wt,fe){if(typeof wt!="string")throw new M(fe,"string",wt)}function Pt(wt,fe,ve=void 0,Xt){if(typeof wt!="number")throw new M(fe,"number",wt);if(ve!=null&&wt<ve||Xt!=null&&wt>Xt||(ve!=null||Xt!=null)&&c(wt))throw new I(fe,`${ve!=null?`>= ${ve}`:""}${ve!=null&&Xt!=null?" && ":""}${Xt!=null?`<= ${Xt}`:""}`,wt)}var nt=T((wt,fe,ve)=>{if(!i(ve,wt)){let Xt="must be one of: "+s(a(ve,Ke=>typeof Ke=="string"?`'${Ke}'`:S(Ke)),", ");throw new D(fe,wt,Xt)}});function Y(wt,fe){if(typeof wt!="boolean")throw new M(fe,"boolean",wt)}function Z(wt,fe,ve){return wt==null||!y(wt,fe)?ve:wt[fe]}var at=T((wt,fe,ve=null)=>{let Xt=Z(ve,"allowArray",!1),Ke=Z(ve,"allowFunction",!1);if(!Z(ve,"nullable",!1)&&wt===null||!Xt&&e(wt)||typeof wt!="object"&&(!Ke||typeof wt!="function"))throw new M(fe,"Object",wt)}),Tt=T((wt,fe)=>{if(wt!=null&&typeof wt!="object"&&typeof wt!="function")throw new M(fe,"a dictionary",wt)}),gt=T((wt,fe,ve=0)=>{if(!e(wt))throw new M(fe,"Array",wt);if(wt.length<ve){let Xt=`must be longer than ${ve}`;throw new D(fe,wt,Xt)}});function Ut(wt,fe){gt(wt,fe);for(let ve=0;ve<wt.length;ve++)et(wt[ve],`${fe}[${ve}]`)}function _t(wt,fe){gt(wt,fe);for(let ve=0;ve<wt.length;ve++)Y(wt[ve],`${fe}[${ve}]`)}function ct(wt,fe){gt(wt,fe);for(let ve=0;ve<wt.length;ve++){let Xt=wt[ve],Ke=`${fe}[${ve}]`;if(Xt==null)throw new M(Ke,"AbortSignal",Xt);ce(Xt,Ke)}}function vt(wt,fe="signal"){if(et(wt,fe),J[wt]===void 0)throw J[x(wt)]!==void 0?new R(wt+" (signals must use all capital letters)"):new R(wt)}var Mt=T((wt,fe="buffer")=>{if(!W(wt))throw new M(fe,["Buffer","TypedArray","DataView"],wt)});function Rt(wt,fe){let ve=z(fe),Xt=wt.length;if(ve==="hex"&&Xt%2!==0)throw new D("encoding",fe,`is invalid for data of length ${Xt}`)}function At(wt,fe="Port",ve=!0){if(typeof wt!="number"&&typeof wt!="string"||typeof wt=="string"&&E(wt).length===0||+wt!==+wt>>>0||wt>65535||wt===0&&!ve)throw new N(fe,wt,ve);return wt|0}var ce=T((wt,fe)=>{if(wt!==void 0&&(wt===null||typeof wt!="object"||!("aborted"in wt)))throw new M(fe,"AbortSignal",wt)}),Jt=T((wt,fe)=>{if(typeof wt!="function")throw new M(fe,"Function",wt)}),ft=T((wt,fe)=>{if(typeof wt!="function"||j(wt))throw new M(fe,"Function",wt)}),Et=T((wt,fe)=>{if(wt!==void 0)throw new M(fe,"undefined",wt)});function Vt(wt,fe,ve){if(!i(ve,wt))throw new M(fe,`('${s(ve,"|")}')`,wt)}var ie=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function re(wt,fe){if(typeof wt>"u"||!_(ie,wt))throw new D(fe,wt,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function he(wt){if(typeof wt=="string")return re(wt,"hints"),wt;if(e(wt)){let fe=wt.length,ve="";if(fe===0)return ve;for(let Xt=0;Xt<fe;Xt++){let Ke=wt[Xt];re(Ke,"hints"),ve+=Ke,Xt!==fe-1&&(ve+=", ")}return ve}throw new D("hints",wt,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}t.exports={isInt32:tt,isUint32:ot,parseFileMode:ht,validateArray:gt,validateStringArray:Ut,validateBooleanArray:_t,validateAbortSignalArray:ct,validateBoolean:Y,validateBuffer:Mt,validateDictionary:Tt,validateEncoding:Rt,validateFunction:Jt,validateInt32:rt,validateInteger:ut,validateNumber:Pt,validateObject:at,validateOneOf:nt,validatePlainFunction:ft,validatePort:At,validateSignalName:vt,validateString:et,validateUint32:lt,validateUndefined:Et,validateUnion:Vt,validateAbortSignal:ce,validateLinkHeaderValue:he}}),Kl=pe((n,t)=>{oe(),le(),ae();var e=t.exports={},i,s;function a(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?i=setTimeout:i=a}catch{i=a}try{typeof clearTimeout=="function"?s=clearTimeout:s=l}catch{s=l}})();function c(N){if(i===setTimeout)return setTimeout(N,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(N,0);try{return i(N,0)}catch{try{return i.call(null,N,0)}catch{return i.call(this,N,0)}}}function f(N){if(s===clearTimeout)return clearTimeout(N);if((s===l||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(N);try{return s(N)}catch{try{return s.call(null,N)}catch{return s.call(this,N)}}}var d=[],g=!1,y,_=-1;function S(){!g||!y||(g=!1,y.length?d=y.concat(d):_=-1,d.length&&x())}function x(){if(!g){var N=c(S);g=!0;for(var M=d.length;M;){for(y=d,d=[];++_<M;)y&&y[_].run();_=-1,M=d.length}y=null,g=!1,f(N)}}e.nextTick=function(N){var M=new Array(arguments.length-1);if(arguments.length>1)for(var D=1;D<arguments.length;D++)M[D-1]=arguments[D];d.push(new E(N,M)),d.length===1&&!g&&c(x)};function E(N,M){this.fun=N,this.array=M}E.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function T(){}e.on=T,e.addListener=T,e.once=T,e.off=T,e.removeListener=T,e.removeAllListeners=T,e.emit=T,e.prependListener=T,e.prependOnceListener=T,e.listeners=function(N){return[]},e.binding=function(N){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(N){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}}),fa=pe((n,t)=>{oe(),le(),ae();var{SymbolAsyncIterator:e,SymbolIterator:i,SymbolFor:s}=si(),a=s("nodejs.stream.destroyed"),l=s("nodejs.stream.errored"),c=s("nodejs.stream.readable"),f=s("nodejs.stream.writable"),d=s("nodejs.stream.disturbed"),g=s("nodejs.webstream.isClosedPromise"),y=s("nodejs.webstream.controllerErrorFunction");function _(Z,at=!1){var Tt;return!!(Z&&typeof Z.pipe=="function"&&typeof Z.on=="function"&&(!at||typeof Z.pause=="function"&&typeof Z.resume=="function")&&(!Z._writableState||((Tt=Z._readableState)===null||Tt===void 0?void 0:Tt.readable)!==!1)&&(!Z._writableState||Z._readableState))}function S(Z){var at;return!!(Z&&typeof Z.write=="function"&&typeof Z.on=="function"&&(!Z._readableState||((at=Z._writableState)===null||at===void 0?void 0:at.writable)!==!1))}function x(Z){return!!(Z&&typeof Z.pipe=="function"&&Z._readableState&&typeof Z.on=="function"&&typeof Z.write=="function")}function E(Z){return Z&&(Z._readableState||Z._writableState||typeof Z.write=="function"&&typeof Z.on=="function"||typeof Z.pipe=="function"&&typeof Z.on=="function")}function T(Z){return!!(Z&&!E(Z)&&typeof Z.pipeThrough=="function"&&typeof Z.getReader=="function"&&typeof Z.cancel=="function")}function N(Z){return!!(Z&&!E(Z)&&typeof Z.getWriter=="function"&&typeof Z.abort=="function")}function M(Z){return!!(Z&&!E(Z)&&typeof Z.readable=="object"&&typeof Z.writable=="object")}function D(Z){return T(Z)||N(Z)||M(Z)}function I(Z,at){return Z==null?!1:at===!0?typeof Z[e]=="function":at===!1?typeof Z[i]=="function":typeof Z[e]=="function"||typeof Z[i]=="function"}function R(Z){if(!E(Z))return null;let at=Z._writableState,Tt=Z._readableState,gt=at||Tt;return!!(Z.destroyed||Z[a]||gt!=null&&gt.destroyed)}function z(Z){if(!S(Z))return null;if(Z.writableEnded===!0)return!0;let at=Z._writableState;return at!=null&&at.errored?!1:typeof at?.ended!="boolean"?null:at.ended}function j(Z,at){if(!S(Z))return null;if(Z.writableFinished===!0)return!0;let Tt=Z._writableState;return Tt!=null&&Tt.errored?!1:typeof Tt?.finished!="boolean"?null:!!(Tt.finished||at===!1&&Tt.ended===!0&&Tt.length===0)}function W(Z){if(!_(Z))return null;if(Z.readableEnded===!0)return!0;let at=Z._readableState;return!at||at.errored?!1:typeof at?.ended!="boolean"?null:at.ended}function J(Z,at){if(!_(Z))return null;let Tt=Z._readableState;return Tt!=null&&Tt.errored?!1:typeof Tt?.endEmitted!="boolean"?null:!!(Tt.endEmitted||at===!1&&Tt.ended===!0&&Tt.length===0)}function tt(Z){return Z&&Z[c]!=null?Z[c]:typeof Z?.readable!="boolean"?null:R(Z)?!1:_(Z)&&Z.readable&&!J(Z)}function ot(Z){return Z&&Z[f]!=null?Z[f]:typeof Z?.writable!="boolean"?null:R(Z)?!1:S(Z)&&Z.writable&&!z(Z)}function G(Z,at){return E(Z)?R(Z)?!0:!(at?.readable!==!1&&tt(Z)||at?.writable!==!1&&ot(Z)):null}function dt(Z){var at,Tt;return E(Z)?Z.writableErrored?Z.writableErrored:(at=(Tt=Z._writableState)===null||Tt===void 0?void 0:Tt.errored)!==null&&at!==void 0?at:null:null}function ht(Z){var at,Tt;return E(Z)?Z.readableErrored?Z.readableErrored:(at=(Tt=Z._readableState)===null||Tt===void 0?void 0:Tt.errored)!==null&&at!==void 0?at:null:null}function ut(Z){if(!E(Z))return null;if(typeof Z.closed=="boolean")return Z.closed;let at=Z._writableState,Tt=Z._readableState;return typeof at?.closed=="boolean"||typeof Tt?.closed=="boolean"?at?.closed||Tt?.closed:typeof Z._closed=="boolean"&&rt(Z)?Z._closed:null}function rt(Z){return typeof Z._closed=="boolean"&&typeof Z._defaultKeepAlive=="boolean"&&typeof Z._removedConnection=="boolean"&&typeof Z._removedContLen=="boolean"}function lt(Z){return typeof Z._sent100=="boolean"&&rt(Z)}function et(Z){var at;return typeof Z._consuming=="boolean"&&typeof Z._dumped=="boolean"&&((at=Z.req)===null||at===void 0?void 0:at.upgradeOrConnect)===void 0}function Pt(Z){if(!E(Z))return null;let at=Z._writableState,Tt=Z._readableState,gt=at||Tt;return!gt&&lt(Z)||!!(gt&&gt.autoDestroy&&gt.emitClose&&gt.closed===!1)}function nt(Z){var at;return!!(Z&&((at=Z[d])!==null&&at!==void 0?at:Z.readableDidRead||Z.readableAborted))}function Y(Z){var at,Tt,gt,Ut,_t,ct,vt,Mt,Rt,At;return!!(Z&&((at=(Tt=(gt=(Ut=(_t=(ct=Z[l])!==null&&ct!==void 0?ct:Z.readableErrored)!==null&&_t!==void 0?_t:Z.writableErrored)!==null&&Ut!==void 0?Ut:(vt=Z._readableState)===null||vt===void 0?void 0:vt.errorEmitted)!==null&&gt!==void 0?gt:(Mt=Z._writableState)===null||Mt===void 0?void 0:Mt.errorEmitted)!==null&&Tt!==void 0?Tt:(Rt=Z._readableState)===null||Rt===void 0?void 0:Rt.errored)!==null&&at!==void 0?at:!((At=Z._writableState)===null||At===void 0)&&At.errored))}t.exports={isDestroyed:R,kIsDestroyed:a,isDisturbed:nt,kIsDisturbed:d,isErrored:Y,kIsErrored:l,isReadable:tt,kIsReadable:c,kIsClosedPromise:g,kControllerErrorFunction:y,kIsWritable:f,isClosed:ut,isDuplexNodeStream:x,isFinished:G,isIterable:I,isReadableNodeStream:_,isReadableStream:T,isReadableEnded:W,isReadableFinished:J,isReadableErrored:ht,isNodeStream:E,isWebStream:D,isWritable:ot,isWritableNodeStream:S,isWritableStream:N,isWritableEnded:z,isWritableFinished:j,isWritableErrored:dt,isServerRequest:et,isServerResponse:lt,willEmitClose:Pt,isTransformStream:M}}),ll=pe((n,t)=>{oe(),le(),ae();var e=Kl(),{AbortError:i,codes:s}=Tr(),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:l}=s,{kEmptyObject:c,once:f}=Wr(),{validateAbortSignal:d,validateFunction:g,validateObject:y,validateBoolean:_}=kf(),{Promise:S,PromisePrototypeThen:x,SymbolDispose:E}=si(),{isClosed:T,isReadable:N,isReadableNodeStream:M,isReadableStream:D,isReadableFinished:I,isReadableErrored:R,isWritable:z,isWritableNodeStream:j,isWritableStream:W,isWritableFinished:J,isWritableErrored:tt,isNodeStream:ot,willEmitClose:G,kIsClosedPromise:dt}=fa(),ht;function ut(nt){return nt.setHeader&&typeof nt.abort=="function"}var rt=()=>{};function lt(nt,Y,Z){var at,Tt;if(arguments.length===2?(Z=Y,Y=c):Y==null?Y=c:y(Y,"options"),g(Z,"callback"),d(Y.signal,"options.signal"),Z=f(Z),D(nt)||W(nt))return et(nt,Y,Z);if(!ot(nt))throw new a("stream",["ReadableStream","WritableStream","Stream"],nt);let gt=(at=Y.readable)!==null&&at!==void 0?at:M(nt),Ut=(Tt=Y.writable)!==null&&Tt!==void 0?Tt:j(nt),_t=nt._writableState,ct=nt._readableState,vt=()=>{nt.writable||At()},Mt=G(nt)&&M(nt)===gt&&j(nt)===Ut,Rt=J(nt,!1),At=()=>{Rt=!0,nt.destroyed&&(Mt=!1),!(Mt&&(!nt.readable||gt))&&(!gt||ce)&&Z.call(nt)},ce=I(nt,!1),Jt=()=>{ce=!0,nt.destroyed&&(Mt=!1),!(Mt&&(!nt.writable||Ut))&&(!Ut||Rt)&&Z.call(nt)},ft=wt=>{Z.call(nt,wt)},Et=T(nt),Vt=()=>{Et=!0;let wt=tt(nt)||R(nt);if(wt&&typeof wt!="boolean")return Z.call(nt,wt);if(gt&&!ce&&M(nt,!0)&&!I(nt,!1))return Z.call(nt,new l);if(Ut&&!Rt&&!J(nt,!1))return Z.call(nt,new l);Z.call(nt)},ie=()=>{Et=!0;let wt=tt(nt)||R(nt);if(wt&&typeof wt!="boolean")return Z.call(nt,wt);Z.call(nt)},re=()=>{nt.req.on("finish",At)};ut(nt)?(nt.on("complete",At),Mt||nt.on("abort",Vt),nt.req?re():nt.on("request",re)):Ut&&!_t&&(nt.on("end",vt),nt.on("close",vt)),!Mt&&typeof nt.aborted=="boolean"&&nt.on("aborted",Vt),nt.on("end",Jt),nt.on("finish",At),Y.error!==!1&&nt.on("error",ft),nt.on("close",Vt),Et?e.nextTick(Vt):_t!=null&&_t.errorEmitted||ct!=null&&ct.errorEmitted?Mt||e.nextTick(ie):(!gt&&(!Mt||N(nt))&&(Rt||z(nt)===!1)||!Ut&&(!Mt||z(nt))&&(ce||N(nt)===!1)||ct&&nt.req&&nt.aborted)&&e.nextTick(ie);let he=()=>{Z=rt,nt.removeListener("aborted",Vt),nt.removeListener("complete",At),nt.removeListener("abort",Vt),nt.removeListener("request",re),nt.req&&nt.req.removeListener("finish",At),nt.removeListener("end",vt),nt.removeListener("close",vt),nt.removeListener("finish",At),nt.removeListener("end",Jt),nt.removeListener("error",ft),nt.removeListener("close",Vt)};if(Y.signal&&!Et){let wt=()=>{let fe=Z;he(),fe.call(nt,new i(void 0,{cause:Y.signal.reason}))};if(Y.signal.aborted)e.nextTick(wt);else{ht=ht||Wr().addAbortListener;let fe=ht(Y.signal,wt),ve=Z;Z=f((...Xt)=>{fe[E](),ve.apply(nt,Xt)})}}return he}function et(nt,Y,Z){let at=!1,Tt=rt;if(Y.signal)if(Tt=()=>{at=!0,Z.call(nt,new i(void 0,{cause:Y.signal.reason}))},Y.signal.aborted)e.nextTick(Tt);else{ht=ht||Wr().addAbortListener;let Ut=ht(Y.signal,Tt),_t=Z;Z=f((...ct)=>{Ut[E](),_t.apply(nt,ct)})}let gt=(...Ut)=>{at||e.nextTick(()=>Z.apply(nt,Ut))};return x(nt[dt].promise,gt,gt),rt}function Pt(nt,Y){var Z;let at=!1;return Y===null&&(Y=c),(Z=Y)!==null&&Z!==void 0&&Z.cleanup&&(_(Y.cleanup,"cleanup"),at=Y.cleanup),new S((Tt,gt)=>{let Ut=lt(nt,Y,_t=>{at&&Ut(),_t?gt(_t):Tt()})})}t.exports=lt,t.exports.finished=Pt}),qu=pe((n,t)=>{oe(),le(),ae();var e=Kl(),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:s},AbortError:a}=Tr(),{Symbol:l}=si(),{kIsDestroyed:c,isDestroyed:f,isFinished:d,isServerRequest:g}=fa(),y=l("kDestroy"),_=l("kConstruct");function S(G,dt,ht){G&&(G.stack,dt&&!dt.errored&&(dt.errored=G),ht&&!ht.errored&&(ht.errored=G))}function x(G,dt){let ht=this._readableState,ut=this._writableState,rt=ut||ht;return ut!=null&&ut.destroyed||ht!=null&&ht.destroyed?(typeof dt=="function"&&dt(),this):(S(G,ut,ht),ut&&(ut.destroyed=!0),ht&&(ht.destroyed=!0),rt.constructed?E(this,G,dt):this.once(y,function(lt){E(this,i(lt,G),dt)}),this)}function E(G,dt,ht){let ut=!1;function rt(lt){if(ut)return;ut=!0;let et=G._readableState,Pt=G._writableState;S(lt,Pt,et),Pt&&(Pt.closed=!0),et&&(et.closed=!0),typeof ht=="function"&&ht(lt),lt?e.nextTick(T,G,lt):e.nextTick(N,G)}try{G._destroy(dt||null,rt)}catch(lt){rt(lt)}}function T(G,dt){M(G,dt),N(G)}function N(G){let dt=G._readableState,ht=G._writableState;ht&&(ht.closeEmitted=!0),dt&&(dt.closeEmitted=!0),(ht!=null&&ht.emitClose||dt!=null&&dt.emitClose)&&G.emit("close")}function M(G,dt){let ht=G._readableState,ut=G._writableState;ut!=null&&ut.errorEmitted||ht!=null&&ht.errorEmitted||(ut&&(ut.errorEmitted=!0),ht&&(ht.errorEmitted=!0),G.emit("error",dt))}function D(){let G=this._readableState,dt=this._writableState;G&&(G.constructed=!0,G.closed=!1,G.closeEmitted=!1,G.destroyed=!1,G.errored=null,G.errorEmitted=!1,G.reading=!1,G.ended=G.readable===!1,G.endEmitted=G.readable===!1),dt&&(dt.constructed=!0,dt.destroyed=!1,dt.closed=!1,dt.closeEmitted=!1,dt.errored=null,dt.errorEmitted=!1,dt.finalCalled=!1,dt.prefinished=!1,dt.ended=dt.writable===!1,dt.ending=dt.writable===!1,dt.finished=dt.writable===!1)}function I(G,dt,ht){let ut=G._readableState,rt=G._writableState;if(rt!=null&&rt.destroyed||ut!=null&&ut.destroyed)return this;ut!=null&&ut.autoDestroy||rt!=null&&rt.autoDestroy?G.destroy(dt):dt&&(dt.stack,rt&&!rt.errored&&(rt.errored=dt),ut&&!ut.errored&&(ut.errored=dt),ht?e.nextTick(M,G,dt):M(G,dt))}function R(G,dt){if(typeof G._construct!="function")return;let ht=G._readableState,ut=G._writableState;ht&&(ht.constructed=!1),ut&&(ut.constructed=!1),G.once(_,dt),!(G.listenerCount(_)>1)&&e.nextTick(z,G)}function z(G){let dt=!1;function ht(ut){if(dt){I(G,ut??new s);return}dt=!0;let rt=G._readableState,lt=G._writableState,et=lt||rt;rt&&(rt.constructed=!0),lt&&(lt.constructed=!0),et.destroyed?G.emit(y,ut):ut?I(G,ut,!0):e.nextTick(j,G)}try{G._construct(ut=>{e.nextTick(ht,ut)})}catch(ut){e.nextTick(ht,ut)}}function j(G){G.emit(_)}function W(G){return G?.setHeader&&typeof G.abort=="function"}function J(G){G.emit("close")}function tt(G,dt){G.emit("error",dt),e.nextTick(J,G)}function ot(G,dt){!G||f(G)||(!dt&&!d(G)&&(dt=new a),g(G)?(G.socket=null,G.destroy(dt)):W(G)?G.abort():W(G.req)?G.req.abort():typeof G.destroy=="function"?G.destroy(dt):typeof G.close=="function"?G.close():dt?e.nextTick(tt,G,dt):e.nextTick(J,G),G.destroyed||(G[c]=!0))}t.exports={construct:R,destroyer:ot,destroy:x,undestroy:D,errorOrDestroy:I}}),U_=pe((n,t)=>{oe(),le(),ae();var{ArrayIsArray:e,ObjectSetPrototypeOf:i}=si(),{EventEmitter:s}=(Wl(),Bn(al));function a(c){s.call(this,c)}i(a.prototype,s.prototype),i(a,s),a.prototype.pipe=function(c,f){let d=this;function g(N){c.writable&&c.write(N)===!1&&d.pause&&d.pause()}d.on("data",g);function y(){d.readable&&d.resume&&d.resume()}c.on("drain",y),!c._isStdio&&(!f||f.end!==!1)&&(d.on("end",S),d.on("close",x));let _=!1;function S(){_||(_=!0,c.end())}function x(){_||(_=!0,typeof c.destroy=="function"&&c.destroy())}function E(N){T(),s.listenerCount(this,"error")===0&&this.emit("error",N)}l(d,"error",E),l(c,"error",E);function T(){d.removeListener("data",g),c.removeListener("drain",y),d.removeListener("end",S),d.removeListener("close",x),d.removeListener("error",E),c.removeListener("error",E),d.removeListener("end",T),d.removeListener("close",T),c.removeListener("close",T)}return d.on("end",T),d.on("close",T),c.on("close",T),c.emit("pipe",d),c};function l(c,f,d){if(typeof c.prependListener=="function")return c.prependListener(f,d);!c._events||!c._events[f]?c.on(f,d):e(c._events[f])?c._events[f].unshift(d):c._events[f]=[d,c._events[f]]}t.exports={Stream:a,prependListener:l}}),Vd=pe((n,t)=>{oe(),le(),ae();var{SymbolDispose:e}=si(),{AbortError:i,codes:s}=Tr(),{isNodeStream:a,isWebStream:l,kControllerErrorFunction:c}=fa(),f=ll(),{ERR_INVALID_ARG_TYPE:d}=s,g,y=(_,S)=>{if(typeof _!="object"||!("aborted"in _))throw new d(S,"AbortSignal",_)};t.exports.addAbortSignal=function(_,S){if(y(_,"signal"),!a(S)&&!l(S))throw new d("stream",["ReadableStream","WritableStream","Stream"],S);return t.exports.addAbortSignalNoValidate(_,S)},t.exports.addAbortSignalNoValidate=function(_,S){if(typeof _!="object"||!("aborted"in _))return S;let x=a(S)?()=>{S.destroy(new i(void 0,{cause:_.reason}))}:()=>{S[c](new i(void 0,{cause:_.reason}))};if(_.aborted)x();else{g=g||Wr().addAbortListener;let E=g(_,x);f(S,E[e])}return S}}),EM=pe((n,t)=>{oe(),le(),ae();var{StringPrototypeSlice:e,SymbolIterator:i,TypedArrayPrototypeSet:s,Uint8Array:a}=si(),{Buffer:l}=(Wi(),Bn(Vi)),{inspect:c}=Wr();t.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(f){let d={data:f,next:null};this.length>0?this.tail.next=d:this.head=d,this.tail=d,++this.length}unshift(f){let d={data:f,next:this.head};this.length===0&&(this.tail=d),this.head=d,++this.length}shift(){if(this.length===0)return;let f=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,f}clear(){this.head=this.tail=null,this.length=0}join(f){if(this.length===0)return"";let d=this.head,g=""+d.data;for(;(d=d.next)!==null;)g+=f+d.data;return g}concat(f){if(this.length===0)return l.alloc(0);let d=l.allocUnsafe(f>>>0),g=this.head,y=0;for(;g;)s(d,g.data,y),y+=g.data.length,g=g.next;return d}consume(f,d){let g=this.head.data;if(f<g.length){let y=g.slice(0,f);return this.head.data=g.slice(f),y}return f===g.length?this.shift():d?this._getString(f):this._getBuffer(f)}first(){return this.head.data}*[i](){for(let f=this.head;f;f=f.next)yield f.data}_getString(f){let d="",g=this.head,y=0;do{let _=g.data;if(f>_.length)d+=_,f-=_.length;else{f===_.length?(d+=_,++y,g.next?this.head=g.next:this.head=this.tail=null):(d+=e(_,0,f),this.head=g,g.data=e(_,f));break}++y}while((g=g.next)!==null);return this.length-=y,d}_getBuffer(f){let d=l.allocUnsafe(f),g=f,y=this.head,_=0;do{let S=y.data;if(f>S.length)s(d,S,g-f),f-=S.length;else{f===S.length?(s(d,S,g-f),++_,y.next?this.head=y.next:this.head=this.tail=null):(s(d,new a(S.buffer,S.byteOffset,f),g-f),this.head=y,y.data=S.slice(f));break}++_}while((y=y.next)!==null);return this.length-=_,d}[Symbol.for("nodejs.util.inspect.custom")](f,d){return c(this,{...d,depth:0,customInspect:!1})}}}),Wd=pe((n,t)=>{oe(),le(),ae();var{MathFloor:e,NumberIsInteger:i}=si(),{validateInteger:s}=kf(),{ERR_INVALID_ARG_VALUE:a}=Tr().codes,l=16*1024,c=16;function f(_,S,x){return _.highWaterMark!=null?_.highWaterMark:S?_[x]:null}function d(_){return _?c:l}function g(_,S){s(S,"value",0),_?c=S:l=S}function y(_,S,x,E){let T=f(S,E,x);if(T!=null){if(!i(T)||T<0){let N=E?`options.${x}`:"options.highWaterMark";throw new a(N,T)}return e(T)}return d(_.objectMode)}t.exports={getHighWaterMark:y,getDefaultHighWaterMark:d,setDefaultHighWaterMark:g}}),AM=pe((n,t)=>{oe(),le(),ae();var e=(Wi(),Bn(Vi)),i=e.Buffer;function s(l,c){for(var f in l)c[f]=l[f]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=e:(s(e,n),n.Buffer=a);function a(l,c,f){return i(l,c,f)}a.prototype=Object.create(i.prototype),s(i,a),a.from=function(l,c,f){if(typeof l=="number")throw new TypeError("Argument must not be a number");return i(l,c,f)},a.alloc=function(l,c,f){if(typeof l!="number")throw new TypeError("Argument must be a number");var d=i(l);return c!==void 0?typeof f=="string"?d.fill(c,f):d.fill(c):d.fill(0),d},a.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return i(l)},a.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(l)}}),TM=pe(n=>{oe(),le(),ae();var t=AM().Buffer,e=t.isEncoding||function(M){switch(M=""+M,M&&M.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(M){if(!M)return"utf8";for(var D;;)switch(M){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return M;default:if(D)return;M=(""+M).toLowerCase(),D=!0}}function s(M){var D=i(M);if(typeof D!="string"&&(t.isEncoding===e||!e(M)))throw new Error("Unknown encoding: "+M);return D||M}n.StringDecoder=a;function a(M){this.encoding=s(M);var D;switch(this.encoding){case"utf16le":this.text=_,this.end=S,D=4;break;case"utf8":this.fillLast=d,D=4;break;case"base64":this.text=x,this.end=E,D=3;break;default:this.write=T,this.end=N;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(D)}a.prototype.write=function(M){if(M.length===0)return"";var D,I;if(this.lastNeed){if(D=this.fillLast(M),D===void 0)return"";I=this.lastNeed,this.lastNeed=0}else I=0;return I<M.length?D?D+this.text(M,I):this.text(M,I):D||""},a.prototype.end=y,a.prototype.text=g,a.prototype.fillLast=function(M){if(this.lastNeed<=M.length)return M.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);M.copy(this.lastChar,this.lastTotal-this.lastNeed,0,M.length),this.lastNeed-=M.length};function l(M){return M<=127?0:M>>5===6?2:M>>4===14?3:M>>3===30?4:M>>6===2?-1:-2}function c(M,D,I){var R=D.length-1;if(R<I)return 0;var z=l(D[R]);return z>=0?(z>0&&(M.lastNeed=z-1),z):--R<I||z===-2?0:(z=l(D[R]),z>=0?(z>0&&(M.lastNeed=z-2),z):--R<I||z===-2?0:(z=l(D[R]),z>=0?(z>0&&(z===2?z=0:M.lastNeed=z-3),z):0))}function f(M,D,I){if((D[0]&192)!==128)return M.lastNeed=0,"�";if(M.lastNeed>1&&D.length>1){if((D[1]&192)!==128)return M.lastNeed=1,"�";if(M.lastNeed>2&&D.length>2&&(D[2]&192)!==128)return M.lastNeed=2,"�"}}function d(M){var D=this.lastTotal-this.lastNeed,I=f(this,M);if(I!==void 0)return I;if(this.lastNeed<=M.length)return M.copy(this.lastChar,D,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);M.copy(this.lastChar,D,0,M.length),this.lastNeed-=M.length}function g(M,D){var I=c(this,M,D);if(!this.lastNeed)return M.toString("utf8",D);this.lastTotal=I;var R=M.length-(I-this.lastNeed);return M.copy(this.lastChar,0,R),M.toString("utf8",D,R)}function y(M){var D=M&&M.length?this.write(M):"";return this.lastNeed?D+"�":D}function _(M,D){if((M.length-D)%2===0){var I=M.toString("utf16le",D);if(I){var R=I.charCodeAt(I.length-1);if(R>=55296&&R<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=M[M.length-2],this.lastChar[1]=M[M.length-1],I.slice(0,-1)}return I}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=M[M.length-1],M.toString("utf16le",D,M.length-1)}function S(M){var D=M&&M.length?this.write(M):"";if(this.lastNeed){var I=this.lastTotal-this.lastNeed;return D+this.lastChar.toString("utf16le",0,I)}return D}function x(M,D){var I=(M.length-D)%3;return I===0?M.toString("base64",D):(this.lastNeed=3-I,this.lastTotal=3,I===1?this.lastChar[0]=M[M.length-1]:(this.lastChar[0]=M[M.length-2],this.lastChar[1]=M[M.length-1]),M.toString("base64",D,M.length-I))}function E(M){var D=M&&M.length?this.write(M):"";return this.lastNeed?D+this.lastChar.toString("base64",0,3-this.lastNeed):D}function T(M){return M.toString(this.encoding)}function N(M){return M&&M.length?this.write(M):""}}),o2=pe((n,t)=>{oe(),le(),ae();var e=Kl(),{PromisePrototypeThen:i,SymbolAsyncIterator:s,SymbolIterator:a}=si(),{Buffer:l}=(Wi(),Bn(Vi)),{ERR_INVALID_ARG_TYPE:c,ERR_STREAM_NULL_VALUES:f}=Tr().codes;function d(g,y,_){let S;if(typeof y=="string"||y instanceof l)return new g({objectMode:!0,..._,read(){this.push(y),this.push(null)}});let x;if(y&&y[s])x=!0,S=y[s]();else if(y&&y[a])x=!1,S=y[a]();else throw new c("iterable",["Iterable"],y);let E=new g({objectMode:!0,highWaterMark:1,..._}),T=!1;E._read=function(){T||(T=!0,M())},E._destroy=function(D,I){i(N(D),()=>e.nextTick(I,D),R=>e.nextTick(I,R||D))};async function N(D){let I=D!=null,R=typeof S.throw=="function";if(I&&R){let{value:z,done:j}=await S.throw(D);if(await z,j)return}if(typeof S.return=="function"){let{value:z}=await S.return();await z}}async function M(){for(;;){try{let{value:D,done:I}=x?await S.next():S.next();if(I)E.push(null);else{let R=D&&typeof D.then=="function"?await D:D;if(R===null)throw T=!1,new f;if(E.push(R))continue;T=!1}}catch(D){E.destroy(D)}break}}return E}t.exports=d}),Kd=pe((n,t)=>{oe(),le(),ae();var e=Kl(),{ArrayPrototypeIndexOf:i,NumberIsInteger:s,NumberIsNaN:a,NumberParseInt:l,ObjectDefineProperties:c,ObjectKeys:f,ObjectSetPrototypeOf:d,Promise:g,SafeSet:y,SymbolAsyncDispose:_,SymbolAsyncIterator:S,Symbol:x}=si();t.exports=Xt,Xt.ReadableState=ve;var{EventEmitter:E}=(Wl(),Bn(al)),{Stream:T,prependListener:N}=U_(),{Buffer:M}=(Wi(),Bn(Vi)),{addAbortSignal:D}=Vd(),I=ll(),R=Wr().debuglog("stream",it=>{R=it}),z=EM(),j=qu(),{getHighWaterMark:W,getDefaultHighWaterMark:J}=Wd(),{aggregateTwoErrors:tt,codes:{ERR_INVALID_ARG_TYPE:ot,ERR_METHOD_NOT_IMPLEMENTED:G,ERR_OUT_OF_RANGE:dt,ERR_STREAM_PUSH_AFTER_EOF:ht,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:ut},AbortError:rt}=Tr(),{validateObject:lt}=kf(),et=x("kPaused"),{StringDecoder:Pt}=TM(),nt=o2();d(Xt.prototype,T.prototype),d(Xt,T);var Y=()=>{},{errorOrDestroy:Z}=j,at=1,Tt=2,gt=4,Ut=8,_t=16,ct=32,vt=64,Mt=128,Rt=256,At=512,ce=1024,Jt=2048,ft=4096,Et=8192,Vt=16384,ie=32768,re=65536,he=1<<17,wt=1<<18;function fe(it){return{enumerable:!1,get(){return(this.state&it)!==0},set(pt){pt?this.state|=it:this.state&=~it}}}c(ve.prototype,{objectMode:fe(at),ended:fe(Tt),endEmitted:fe(gt),reading:fe(Ut),constructed:fe(_t),sync:fe(ct),needReadable:fe(vt),emittedReadable:fe(Mt),readableListening:fe(Rt),resumeScheduled:fe(At),errorEmitted:fe(ce),emitClose:fe(Jt),autoDestroy:fe(ft),destroyed:fe(Et),closed:fe(Vt),closeEmitted:fe(ie),multiAwaitDrain:fe(re),readingMore:fe(he),dataEmitted:fe(wt)});function ve(it,pt,xe){typeof xe!="boolean"&&(xe=pt instanceof ua()),this.state=Jt|ft|_t|ct,it&&it.objectMode&&(this.state|=at),xe&&it&&it.readableObjectMode&&(this.state|=at),this.highWaterMark=it?W(this,it,"readableHighWaterMark",xe):J(!1),this.buffer=new z,this.length=0,this.pipes=[],this.flowing=null,this[et]=null,it&&it.emitClose===!1&&(this.state&=~Jt),it&&it.autoDestroy===!1&&(this.state&=~ft),this.errored=null,this.defaultEncoding=it&&it.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,it&&it.encoding&&(this.decoder=new Pt(it.encoding),this.encoding=it.encoding)}function Xt(it){if(!(this instanceof Xt))return new Xt(it);let pt=this instanceof ua();this._readableState=new ve(it,this,pt),it&&(typeof it.read=="function"&&(this._read=it.read),typeof it.destroy=="function"&&(this._destroy=it.destroy),typeof it.construct=="function"&&(this._construct=it.construct),it.signal&&!pt&&D(it.signal,this)),T.call(this,it),j.construct(this,()=>{this._readableState.needReadable&&Ot(this,this._readableState)})}Xt.prototype.destroy=j.destroy,Xt.prototype._undestroy=j.undestroy,Xt.prototype._destroy=function(it,pt){pt(it)},Xt.prototype[E.captureRejectionSymbol]=function(it){this.destroy(it)},Xt.prototype[_]=function(){let it;return this.destroyed||(it=this.readableEnded?null:new rt,this.destroy(it)),new g((pt,xe)=>I(this,be=>be&&be!==it?xe(be):pt(null)))},Xt.prototype.push=function(it,pt){return Ke(this,it,pt,!1)},Xt.prototype.unshift=function(it,pt){return Ke(this,it,pt,!0)};function Ke(it,pt,xe,be){R("readableAddChunk",pt);let Me=it._readableState,cn;if((Me.state&at)===0&&(typeof pt=="string"?(xe=xe||Me.defaultEncoding,Me.encoding!==xe&&(be&&Me.encoding?pt=M.from(pt,xe).toString(Me.encoding):(pt=M.from(pt,xe),xe=""))):pt instanceof M?xe="":T._isUint8Array(pt)?(pt=T._uint8ArrayToBuffer(pt),xe=""):pt!=null&&(cn=new ot("chunk",["string","Buffer","Uint8Array"],pt))),cn)Z(it,cn);else if(pt===null)Me.state&=~Ut,Bt(it,Me);else if((Me.state&at)!==0||pt&&pt.length>0)if(be)if((Me.state&gt)!==0)Z(it,new ut);else{if(Me.destroyed||Me.errored)return!1;C(it,Me,pt,!0)}else if(Me.ended)Z(it,new ht);else{if(Me.destroyed||Me.errored)return!1;Me.state&=~Ut,Me.decoder&&!xe?(pt=Me.decoder.write(pt),Me.objectMode||pt.length!==0?C(it,Me,pt,!1):Ot(it,Me)):C(it,Me,pt,!1)}else be||(Me.state&=~Ut,Ot(it,Me));return!Me.ended&&(Me.length<Me.highWaterMark||Me.length===0)}function C(it,pt,xe,be){pt.flowing&&pt.length===0&&!pt.sync&&it.listenerCount("data")>0?((pt.state&re)!==0?pt.awaitDrainWriters.clear():pt.awaitDrainWriters=null,pt.dataEmitted=!0,it.emit("data",xe)):(pt.length+=pt.objectMode?1:xe.length,be?pt.buffer.unshift(xe):pt.buffer.push(xe),(pt.state&vt)!==0&&ee(it)),Ot(it,pt)}Xt.prototype.isPaused=function(){let it=this._readableState;return it[et]===!0||it.flowing===!1},Xt.prototype.setEncoding=function(it){let pt=new Pt(it);this._readableState.decoder=pt,this._readableState.encoding=this._readableState.decoder.encoding;let xe=this._readableState.buffer,be="";for(let Me of xe)be+=pt.write(Me);return xe.clear(),be!==""&&xe.push(be),this._readableState.length=be.length,this};var F=1073741824;function K(it){if(it>F)throw new dt("size","<= 1GiB",it);return it--,it|=it>>>1,it|=it>>>2,it|=it>>>4,it|=it>>>8,it|=it>>>16,it++,it}function bt(it,pt){return it<=0||pt.length===0&&pt.ended?0:(pt.state&at)!==0?1:a(it)?pt.flowing&&pt.length?pt.buffer.first().length:pt.length:it<=pt.length?it:pt.ended?pt.length:0}Xt.prototype.read=function(it){R("read",it),it===void 0?it=NaN:s(it)||(it=l(it,10));let pt=this._readableState,xe=it;if(it>pt.highWaterMark&&(pt.highWaterMark=K(it)),it!==0&&(pt.state&=~Mt),it===0&&pt.needReadable&&((pt.highWaterMark!==0?pt.length>=pt.highWaterMark:pt.length>0)||pt.ended))return R("read: emitReadable",pt.length,pt.ended),pt.length===0&&pt.ended?wi(this):ee(this),null;if(it=bt(it,pt),it===0&&pt.ended)return pt.length===0&&wi(this),null;let be=(pt.state&vt)!==0;if(R("need readable",be),(pt.length===0||pt.length-it<pt.highWaterMark)&&(be=!0,R("length less than watermark",be)),pt.ended||pt.reading||pt.destroyed||pt.errored||!pt.constructed)be=!1,R("reading, ended or constructing",be);else if(be){R("do read"),pt.state|=Ut|ct,pt.length===0&&(pt.state|=vt);try{this._read(pt.highWaterMark)}catch(cn){Z(this,cn)}pt.state&=~ct,pt.reading||(it=bt(xe,pt))}let Me;return it>0?Me=vi(it,pt):Me=null,Me===null?(pt.needReadable=pt.length<=pt.highWaterMark,it=0):(pt.length-=it,pt.multiAwaitDrain?pt.awaitDrainWriters.clear():pt.awaitDrainWriters=null),pt.length===0&&(pt.ended||(pt.needReadable=!0),xe!==it&&pt.ended&&wi(this)),Me!==null&&!pt.errorEmitted&&!pt.closeEmitted&&(pt.dataEmitted=!0,this.emit("data",Me)),Me};function Bt(it,pt){if(R("onEofChunk"),!pt.ended){if(pt.decoder){let xe=pt.decoder.end();xe&&xe.length&&(pt.buffer.push(xe),pt.length+=pt.objectMode?1:xe.length)}pt.ended=!0,pt.sync?ee(it):(pt.needReadable=!1,pt.emittedReadable=!0,we(it))}}function ee(it){let pt=it._readableState;R("emitReadable",pt.needReadable,pt.emittedReadable),pt.needReadable=!1,pt.emittedReadable||(R("emitReadable",pt.flowing),pt.emittedReadable=!0,e.nextTick(we,it))}function we(it){let pt=it._readableState;R("emitReadable_",pt.destroyed,pt.length,pt.ended),!pt.destroyed&&!pt.errored&&(pt.length||pt.ended)&&(it.emit("readable"),pt.emittedReadable=!1),pt.needReadable=!pt.flowing&&!pt.ended&&pt.length<=pt.highWaterMark,Te(it)}function Ot(it,pt){!pt.readingMore&&pt.constructed&&(pt.readingMore=!0,e.nextTick(Wt,it,pt))}function Wt(it,pt){for(;!pt.reading&&!pt.ended&&(pt.length<pt.highWaterMark||pt.flowing&&pt.length===0);){let xe=pt.length;if(R("maybeReadMore read 0"),it.read(0),xe===pt.length)break}pt.readingMore=!1}Xt.prototype._read=function(it){throw new G("_read()")},Xt.prototype.pipe=function(it,pt){let xe=this,be=this._readableState;be.pipes.length===1&&(be.multiAwaitDrain||(be.multiAwaitDrain=!0,be.awaitDrainWriters=new y(be.awaitDrainWriters?[be.awaitDrainWriters]:[]))),be.pipes.push(it),R("pipe count=%d opts=%j",be.pipes.length,pt);let Me=(!pt||pt.end!==!1)&&it!==e.stdout&&it!==e.stderr?Re:xi;be.endEmitted?e.nextTick(Me):xe.once("end",Me),it.on("unpipe",cn);function cn(Bi,Yn){R("onunpipe"),Bi===xe&&Yn&&Yn.hasUnpiped===!1&&(Yn.hasUnpiped=!0,Ni())}function Re(){R("onend"),it.end()}let oi,Ji=!1;function Ni(){R("cleanup"),it.removeListener("close",qn),it.removeListener("finish",pr),oi&&it.removeListener("drain",oi),it.removeListener("error",Hn),it.removeListener("unpipe",cn),xe.removeListener("end",Re),xe.removeListener("end",xi),xe.removeListener("data",kn),Ji=!0,oi&&be.awaitDrainWriters&&(!it._writableState||it._writableState.needDrain)&&oi()}function pn(){Ji||(be.pipes.length===1&&be.pipes[0]===it?(R("false write response, pause",0),be.awaitDrainWriters=it,be.multiAwaitDrain=!1):be.pipes.length>1&&be.pipes.includes(it)&&(R("false write response, pause",be.awaitDrainWriters.size),be.awaitDrainWriters.add(it)),xe.pause()),oi||(oi=Pe(xe,it),it.on("drain",oi))}xe.on("data",kn);function kn(Bi){R("ondata");let Yn=it.write(Bi);R("dest.write",Yn),Yn===!1&&pn()}function Hn(Bi){if(R("onerror",Bi),xi(),it.removeListener("error",Hn),it.listenerCount("error")===0){let Yn=it._writableState||it._readableState;Yn&&!Yn.errorEmitted?Z(it,Bi):it.emit("error",Bi)}}N(it,"error",Hn);function qn(){it.removeListener("finish",pr),xi()}it.once("close",qn);function pr(){R("onfinish"),it.removeListener("close",qn),xi()}it.once("finish",pr);function xi(){R("unpipe"),xe.unpipe(it)}return it.emit("pipe",xe),it.writableNeedDrain===!0?pn():be.flowing||(R("pipe resume"),xe.resume()),it};function Pe(it,pt){return function(){let xe=it._readableState;xe.awaitDrainWriters===pt?(R("pipeOnDrain",1),xe.awaitDrainWriters=null):xe.multiAwaitDrain&&(R("pipeOnDrain",xe.awaitDrainWriters.size),xe.awaitDrainWriters.delete(pt)),(!xe.awaitDrainWriters||xe.awaitDrainWriters.size===0)&&it.listenerCount("data")&&it.resume()}}Xt.prototype.unpipe=function(it){let pt=this._readableState,xe={hasUnpiped:!1};if(pt.pipes.length===0)return this;if(!it){let Me=pt.pipes;pt.pipes=[],this.pause();for(let cn=0;cn<Me.length;cn++)Me[cn].emit("unpipe",this,{hasUnpiped:!1});return this}let be=i(pt.pipes,it);return be===-1?this:(pt.pipes.splice(be,1),pt.pipes.length===0&&this.pause(),it.emit("unpipe",this,xe),this)},Xt.prototype.on=function(it,pt){let xe=T.prototype.on.call(this,it,pt),be=this._readableState;return it==="data"?(be.readableListening=this.listenerCount("readable")>0,be.flowing!==!1&&this.resume()):it==="readable"&&!be.endEmitted&&!be.readableListening&&(be.readableListening=be.needReadable=!0,be.flowing=!1,be.emittedReadable=!1,R("on readable",be.length,be.reading),be.length?ee(this):be.reading||e.nextTick(Fe,this)),xe},Xt.prototype.addListener=Xt.prototype.on,Xt.prototype.removeListener=function(it,pt){let xe=T.prototype.removeListener.call(this,it,pt);return it==="readable"&&e.nextTick(ue,this),xe},Xt.prototype.off=Xt.prototype.removeListener,Xt.prototype.removeAllListeners=function(it){let pt=T.prototype.removeAllListeners.apply(this,arguments);return(it==="readable"||it===void 0)&&e.nextTick(ue,this),pt};function ue(it){let pt=it._readableState;pt.readableListening=it.listenerCount("readable")>0,pt.resumeScheduled&&pt[et]===!1?pt.flowing=!0:it.listenerCount("data")>0?it.resume():pt.readableListening||(pt.flowing=null)}function Fe(it){R("readable nexttick read 0"),it.read(0)}Xt.prototype.resume=function(){let it=this._readableState;return it.flowing||(R("resume"),it.flowing=!it.readableListening,Ye(this,it)),it[et]=!1,this};function Ye(it,pt){pt.resumeScheduled||(pt.resumeScheduled=!0,e.nextTick(Ci,it,pt))}function Ci(it,pt){R("resume",pt.reading),pt.reading||it.read(0),pt.resumeScheduled=!1,it.emit("resume"),Te(it),pt.flowing&&!pt.reading&&it.read(0)}Xt.prototype.pause=function(){return R("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(R("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[et]=!0,this};function Te(it){let pt=it._readableState;for(R("flow",pt.flowing);pt.flowing&&it.read()!==null;);}Xt.prototype.wrap=function(it){let pt=!1;it.on("data",be=>{!this.push(be)&&it.pause&&(pt=!0,it.pause())}),it.on("end",()=>{this.push(null)}),it.on("error",be=>{Z(this,be)}),it.on("close",()=>{this.destroy()}),it.on("destroy",()=>{this.destroy()}),this._read=()=>{pt&&it.resume&&(pt=!1,it.resume())};let xe=f(it);for(let be=1;be<xe.length;be++){let Me=xe[be];this[Me]===void 0&&typeof it[Me]=="function"&&(this[Me]=it[Me].bind(it))}return this},Xt.prototype[S]=function(){return Pn(this)},Xt.prototype.iterator=function(it){return it!==void 0&&lt(it,"options"),Pn(this,it)};function Pn(it,pt){typeof it.read!="function"&&(it=Xt.wrap(it,{objectMode:!0}));let xe=di(it,pt);return xe.stream=it,xe}async function*di(it,pt){let xe=Y;function be(Re){this===it?(xe(),xe=Y):xe=Re}it.on("readable",be);let Me,cn=I(it,{writable:!1},Re=>{Me=Re?tt(Me,Re):null,xe(),xe=Y});try{for(;;){let Re=it.destroyed?null:it.read();if(Re!==null)yield Re;else{if(Me)throw Me;if(Me===null)return;await new g(be)}}}catch(Re){throw Me=tt(Me,Re),Me}finally{(Me||pt?.destroyOnReturn!==!1)&&(Me===void 0||it._readableState.autoDestroy)?j.destroyer(it,null):(it.off("readable",be),cn())}}c(Xt.prototype,{readable:{__proto__:null,get(){let it=this._readableState;return!!it&&it.readable!==!1&&!it.destroyed&&!it.errorEmitted&&!it.endEmitted},set(it){this._readableState&&(this._readableState.readable=!!it)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(it){this._readableState&&(this._readableState.flowing=it)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(it){this._readableState&&(this._readableState.destroyed=it)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),c(ve.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[et]!==!1},set(it){this[et]=!!it}}}),Xt._fromList=vi;function vi(it,pt){if(pt.length===0)return null;let xe;return pt.objectMode?xe=pt.buffer.shift():!it||it>=pt.length?(pt.decoder?xe=pt.buffer.join(""):pt.buffer.length===1?xe=pt.buffer.first():xe=pt.buffer.concat(pt.length),pt.buffer.clear()):xe=pt.buffer.consume(it,pt.decoder),xe}function wi(it){let pt=it._readableState;R("endReadable",pt.endEmitted),pt.endEmitted||(pt.ended=!0,e.nextTick(Kn,pt,it))}function Kn(it,pt){if(R("endReadableNT",it.endEmitted,it.length),!it.errored&&!it.closeEmitted&&!it.endEmitted&&it.length===0){if(it.endEmitted=!0,pt.emit("end"),pt.writable&&pt.allowHalfOpen===!1)e.nextTick(Ks,pt);else if(it.autoDestroy){let xe=pt._writableState;(!xe||xe.autoDestroy&&(xe.finished||xe.writable===!1))&&pt.destroy()}}}function Ks(it){it.writable&&!it.writableEnded&&!it.destroyed&&it.end()}Xt.from=function(it,pt){return nt(Xt,it,pt)};var Yr;function zi(){return Yr===void 0&&(Yr={}),Yr}Xt.fromWeb=function(it,pt){return zi().newStreamReadableFromReadableStream(it,pt)},Xt.toWeb=function(it,pt){return zi().newReadableStreamFromStreamReadable(it,pt)},Xt.wrap=function(it,pt){var xe,be;return new Xt({objectMode:(xe=(be=it.readableObjectMode)!==null&&be!==void 0?be:it.objectMode)!==null&&xe!==void 0?xe:!0,...pt,destroy(Me,cn){j.destroyer(it,Me),cn(Me)}}).wrap(it)}}),F_=pe((n,t)=>{oe(),le(),ae();var e=Kl(),{ArrayPrototypeSlice:i,Error:s,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:l,ObjectDefineProperties:c,ObjectSetPrototypeOf:f,StringPrototypeToLowerCase:d,Symbol:g,SymbolHasInstance:y}=si();t.exports=lt,lt.WritableState=ut;var{EventEmitter:_}=(Wl(),Bn(al)),S=U_().Stream,{Buffer:x}=(Wi(),Bn(Vi)),E=qu(),{addAbortSignal:T}=Vd(),{getHighWaterMark:N,getDefaultHighWaterMark:M}=Wd(),{ERR_INVALID_ARG_TYPE:D,ERR_METHOD_NOT_IMPLEMENTED:I,ERR_MULTIPLE_CALLBACK:R,ERR_STREAM_CANNOT_PIPE:z,ERR_STREAM_DESTROYED:j,ERR_STREAM_ALREADY_FINISHED:W,ERR_STREAM_NULL_VALUES:J,ERR_STREAM_WRITE_AFTER_END:tt,ERR_UNKNOWN_ENCODING:ot}=Tr().codes,{errorOrDestroy:G}=E;f(lt.prototype,S.prototype),f(lt,S);function dt(){}var ht=g("kOnFinished");function ut(ft,Et,Vt){typeof Vt!="boolean"&&(Vt=Et instanceof ua()),this.objectMode=!!(ft&&ft.objectMode),Vt&&(this.objectMode=this.objectMode||!!(ft&&ft.writableObjectMode)),this.highWaterMark=ft?N(this,ft,"writableHighWaterMark",Vt):M(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let ie=!!(ft&&ft.decodeStrings===!1);this.decodeStrings=!ie,this.defaultEncoding=ft&&ft.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Z.bind(void 0,Et),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,rt(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!ft||ft.emitClose!==!1,this.autoDestroy=!ft||ft.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ht]=[]}function rt(ft){ft.buffered=[],ft.bufferedIndex=0,ft.allBuffers=!0,ft.allNoop=!0}ut.prototype.getBuffer=function(){return i(this.buffered,this.bufferedIndex)},l(ut.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function lt(ft){let Et=this instanceof ua();if(!Et&&!a(lt,this))return new lt(ft);this._writableState=new ut(ft,this,Et),ft&&(typeof ft.write=="function"&&(this._write=ft.write),typeof ft.writev=="function"&&(this._writev=ft.writev),typeof ft.destroy=="function"&&(this._destroy=ft.destroy),typeof ft.final=="function"&&(this._final=ft.final),typeof ft.construct=="function"&&(this._construct=ft.construct),ft.signal&&T(ft.signal,this)),S.call(this,ft),E.construct(this,()=>{let Vt=this._writableState;Vt.writing||Ut(this,Vt),Mt(this,Vt)})}l(lt,y,{__proto__:null,value:function(ft){return a(this,ft)?!0:this!==lt?!1:ft&&ft._writableState instanceof ut}}),lt.prototype.pipe=function(){G(this,new z)};function et(ft,Et,Vt,ie){let re=ft._writableState;if(typeof Vt=="function")ie=Vt,Vt=re.defaultEncoding;else{if(!Vt)Vt=re.defaultEncoding;else if(Vt!=="buffer"&&!x.isEncoding(Vt))throw new ot(Vt);typeof ie!="function"&&(ie=dt)}if(Et===null)throw new J;if(!re.objectMode)if(typeof Et=="string")re.decodeStrings!==!1&&(Et=x.from(Et,Vt),Vt="buffer");else if(Et instanceof x)Vt="buffer";else if(S._isUint8Array(Et))Et=S._uint8ArrayToBuffer(Et),Vt="buffer";else throw new D("chunk",["string","Buffer","Uint8Array"],Et);let he;return re.ending?he=new tt:re.destroyed&&(he=new j("write")),he?(e.nextTick(ie,he),G(ft,he,!0),he):(re.pendingcb++,Pt(ft,re,Et,Vt,ie))}lt.prototype.write=function(ft,Et,Vt){return et(this,ft,Et,Vt)===!0},lt.prototype.cork=function(){this._writableState.corked++},lt.prototype.uncork=function(){let ft=this._writableState;ft.corked&&(ft.corked--,ft.writing||Ut(this,ft))},lt.prototype.setDefaultEncoding=function(ft){if(typeof ft=="string"&&(ft=d(ft)),!x.isEncoding(ft))throw new ot(ft);return this._writableState.defaultEncoding=ft,this};function Pt(ft,Et,Vt,ie,re){let he=Et.objectMode?1:Vt.length;Et.length+=he;let wt=Et.length<Et.highWaterMark;return wt||(Et.needDrain=!0),Et.writing||Et.corked||Et.errored||!Et.constructed?(Et.buffered.push({chunk:Vt,encoding:ie,callback:re}),Et.allBuffers&&ie!=="buffer"&&(Et.allBuffers=!1),Et.allNoop&&re!==dt&&(Et.allNoop=!1)):(Et.writelen=he,Et.writecb=re,Et.writing=!0,Et.sync=!0,ft._write(Vt,ie,Et.onwrite),Et.sync=!1),wt&&!Et.errored&&!Et.destroyed}function nt(ft,Et,Vt,ie,re,he,wt){Et.writelen=ie,Et.writecb=wt,Et.writing=!0,Et.sync=!0,Et.destroyed?Et.onwrite(new j("write")):Vt?ft._writev(re,Et.onwrite):ft._write(re,he,Et.onwrite),Et.sync=!1}function Y(ft,Et,Vt,ie){--Et.pendingcb,ie(Vt),gt(Et),G(ft,Vt)}function Z(ft,Et){let Vt=ft._writableState,ie=Vt.sync,re=Vt.writecb;if(typeof re!="function"){G(ft,new R);return}Vt.writing=!1,Vt.writecb=null,Vt.length-=Vt.writelen,Vt.writelen=0,Et?(Et.stack,Vt.errored||(Vt.errored=Et),ft._readableState&&!ft._readableState.errored&&(ft._readableState.errored=Et),ie?e.nextTick(Y,ft,Vt,Et,re):Y(ft,Vt,Et,re)):(Vt.buffered.length>Vt.bufferedIndex&&Ut(ft,Vt),ie?Vt.afterWriteTickInfo!==null&&Vt.afterWriteTickInfo.cb===re?Vt.afterWriteTickInfo.count++:(Vt.afterWriteTickInfo={count:1,cb:re,stream:ft,state:Vt},e.nextTick(at,Vt.afterWriteTickInfo)):Tt(ft,Vt,1,re))}function at({stream:ft,state:Et,count:Vt,cb:ie}){return Et.afterWriteTickInfo=null,Tt(ft,Et,Vt,ie)}function Tt(ft,Et,Vt,ie){for(!Et.ending&&!ft.destroyed&&Et.length===0&&Et.needDrain&&(Et.needDrain=!1,ft.emit("drain"));Vt-- >0;)Et.pendingcb--,ie();Et.destroyed&&gt(Et),Mt(ft,Et)}function gt(ft){if(ft.writing)return;for(let re=ft.bufferedIndex;re<ft.buffered.length;++re){var Et;let{chunk:he,callback:wt}=ft.buffered[re],fe=ft.objectMode?1:he.length;ft.length-=fe,wt((Et=ft.errored)!==null&&Et!==void 0?Et:new j("write"))}let Vt=ft[ht].splice(0);for(let re=0;re<Vt.length;re++){var ie;Vt[re]((ie=ft.errored)!==null&&ie!==void 0?ie:new j("end"))}rt(ft)}function Ut(ft,Et){if(Et.corked||Et.bufferProcessing||Et.destroyed||!Et.constructed)return;let{buffered:Vt,bufferedIndex:ie,objectMode:re}=Et,he=Vt.length-ie;if(!he)return;let wt=ie;if(Et.bufferProcessing=!0,he>1&&ft._writev){Et.pendingcb-=he-1;let fe=Et.allNoop?dt:Xt=>{for(let Ke=wt;Ke<Vt.length;++Ke)Vt[Ke].callback(Xt)},ve=Et.allNoop&&wt===0?Vt:i(Vt,wt);ve.allBuffers=Et.allBuffers,nt(ft,Et,!0,Et.length,ve,"",fe),rt(Et)}else{do{let{chunk:fe,encoding:ve,callback:Xt}=Vt[wt];Vt[wt++]=null;let Ke=re?1:fe.length;nt(ft,Et,!1,Ke,fe,ve,Xt)}while(wt<Vt.length&&!Et.writing);wt===Vt.length?rt(Et):wt>256?(Vt.splice(0,wt),Et.bufferedIndex=0):Et.bufferedIndex=wt}Et.bufferProcessing=!1}lt.prototype._write=function(ft,Et,Vt){if(this._writev)this._writev([{chunk:ft,encoding:Et}],Vt);else throw new I("_write()")},lt.prototype._writev=null,lt.prototype.end=function(ft,Et,Vt){let ie=this._writableState;typeof ft=="function"?(Vt=ft,ft=null,Et=null):typeof Et=="function"&&(Vt=Et,Et=null);let re;if(ft!=null){let he=et(this,ft,Et);he instanceof s&&(re=he)}return ie.corked&&(ie.corked=1,this.uncork()),re||(!ie.errored&&!ie.ending?(ie.ending=!0,Mt(this,ie,!0),ie.ended=!0):ie.finished?re=new W("end"):ie.destroyed&&(re=new j("end"))),typeof Vt=="function"&&(re||ie.finished?e.nextTick(Vt,re):ie[ht].push(Vt)),this};function _t(ft){return ft.ending&&!ft.destroyed&&ft.constructed&&ft.length===0&&!ft.errored&&ft.buffered.length===0&&!ft.finished&&!ft.writing&&!ft.errorEmitted&&!ft.closeEmitted}function ct(ft,Et){let Vt=!1;function ie(re){if(Vt){G(ft,re??R());return}if(Vt=!0,Et.pendingcb--,re){let he=Et[ht].splice(0);for(let wt=0;wt<he.length;wt++)he[wt](re);G(ft,re,Et.sync)}else _t(Et)&&(Et.prefinished=!0,ft.emit("prefinish"),Et.pendingcb++,e.nextTick(Rt,ft,Et))}Et.sync=!0,Et.pendingcb++;try{ft._final(ie)}catch(re){ie(re)}Et.sync=!1}function vt(ft,Et){!Et.prefinished&&!Et.finalCalled&&(typeof ft._final=="function"&&!Et.destroyed?(Et.finalCalled=!0,ct(ft,Et)):(Et.prefinished=!0,ft.emit("prefinish")))}function Mt(ft,Et,Vt){_t(Et)&&(vt(ft,Et),Et.pendingcb===0&&(Vt?(Et.pendingcb++,e.nextTick((ie,re)=>{_t(re)?Rt(ie,re):re.pendingcb--},ft,Et)):_t(Et)&&(Et.pendingcb++,Rt(ft,Et))))}function Rt(ft,Et){Et.pendingcb--,Et.finished=!0;let Vt=Et[ht].splice(0);for(let ie=0;ie<Vt.length;ie++)Vt[ie]();if(ft.emit("finish"),Et.autoDestroy){let ie=ft._readableState;(!ie||ie.autoDestroy&&(ie.endEmitted||ie.readable===!1))&&ft.destroy()}}c(lt.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(ft){this._writableState&&(this._writableState.destroyed=ft)}},writable:{__proto__:null,get(){let ft=this._writableState;return!!ft&&ft.writable!==!1&&!ft.destroyed&&!ft.errored&&!ft.ending&&!ft.ended},set(ft){this._writableState&&(this._writableState.writable=!!ft)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let ft=this._writableState;return ft?!ft.destroyed&&!ft.ending&&ft.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var At=E.destroy;lt.prototype.destroy=function(ft,Et){let Vt=this._writableState;return!Vt.destroyed&&(Vt.bufferedIndex<Vt.buffered.length||Vt[ht].length)&&e.nextTick(gt,Vt),At.call(this,ft,Et),this},lt.prototype._undestroy=E.undestroy,lt.prototype._destroy=function(ft,Et){Et(ft)},lt.prototype[_.captureRejectionSymbol]=function(ft){this.destroy(ft)};var ce;function Jt(){return ce===void 0&&(ce={}),ce}lt.fromWeb=function(ft,Et){return Jt().newStreamWritableFromWritableStream(ft,Et)},lt.toWeb=function(ft){return Jt().newWritableStreamFromStreamWritable(ft)}}),kM=pe((n,t)=>{oe(),le(),ae();var e=Kl(),i=(Wi(),Bn(Vi)),{isReadable:s,isWritable:a,isIterable:l,isNodeStream:c,isReadableNodeStream:f,isWritableNodeStream:d,isDuplexNodeStream:g,isReadableStream:y,isWritableStream:_}=fa(),S=ll(),{AbortError:x,codes:{ERR_INVALID_ARG_TYPE:E,ERR_INVALID_RETURN_VALUE:T}}=Tr(),{destroyer:N}=qu(),M=ua(),D=Kd(),I=F_(),{createDeferredPromise:R}=Wr(),z=o2(),j=globalThis.Blob||i.Blob,W=typeof j<"u"?function(ht){return ht instanceof j}:function(ht){return!1},J=globalThis.AbortController||yf().AbortController,{FunctionPrototypeCall:tt}=si(),ot=class extends M{constructor(ht){super(ht),ht?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),ht?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};t.exports=function ht(ut,rt){if(g(ut))return ut;if(f(ut))return dt({readable:ut});if(d(ut))return dt({writable:ut});if(c(ut))return dt({writable:!1,readable:!1});if(y(ut))return dt({readable:D.fromWeb(ut)});if(_(ut))return dt({writable:I.fromWeb(ut)});if(typeof ut=="function"){let{value:et,write:Pt,final:nt,destroy:Y}=G(ut);if(l(et))return z(ot,et,{objectMode:!0,write:Pt,final:nt,destroy:Y});let Z=et?.then;if(typeof Z=="function"){let at,Tt=tt(Z,et,gt=>{if(gt!=null)throw new T("nully","body",gt)},gt=>{N(at,gt)});return at=new ot({objectMode:!0,readable:!1,write:Pt,final(gt){nt(async()=>{try{await Tt,e.nextTick(gt,null)}catch(Ut){e.nextTick(gt,Ut)}})},destroy:Y})}throw new T("Iterable, AsyncIterable or AsyncFunction",rt,et)}if(W(ut))return ht(ut.arrayBuffer());if(l(ut))return z(ot,ut,{objectMode:!0,writable:!1});if(y(ut?.readable)&&_(ut?.writable))return ot.fromWeb(ut);if(typeof ut?.writable=="object"||typeof ut?.readable=="object"){let et=ut!=null&&ut.readable?f(ut?.readable)?ut?.readable:ht(ut.readable):void 0,Pt=ut!=null&&ut.writable?d(ut?.writable)?ut?.writable:ht(ut.writable):void 0;return dt({readable:et,writable:Pt})}let lt=ut?.then;if(typeof lt=="function"){let et;return tt(lt,ut,Pt=>{Pt!=null&&et.push(Pt),et.push(null)},Pt=>{N(et,Pt)}),et=new ot({objectMode:!0,writable:!1,read(){}})}throw new E(rt,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],ut)};function G(ht){let{promise:ut,resolve:rt}=R(),lt=new J,et=lt.signal;return{value:ht((async function*(){for(;;){let Pt=ut;ut=null;let{chunk:nt,done:Y,cb:Z}=await Pt;if(e.nextTick(Z),Y)return;if(et.aborted)throw new x(void 0,{cause:et.reason});({promise:ut,resolve:rt}=R()),yield nt}})(),{signal:et}),write(Pt,nt,Y){let Z=rt;rt=null,Z({chunk:Pt,done:!1,cb:Y})},final(Pt){let nt=rt;rt=null,nt({done:!0,cb:Pt})},destroy(Pt,nt){lt.abort(),nt(Pt)}}}function dt(ht){let ut=ht.readable&&typeof ht.readable.read!="function"?D.wrap(ht.readable):ht.readable,rt=ht.writable,lt=!!s(ut),et=!!a(rt),Pt,nt,Y,Z,at;function Tt(gt){let Ut=Z;Z=null,Ut?Ut(gt):gt&&at.destroy(gt)}return at=new ot({readableObjectMode:!!(ut!=null&&ut.readableObjectMode),writableObjectMode:!!(rt!=null&&rt.writableObjectMode),readable:lt,writable:et}),et&&(S(rt,gt=>{et=!1,gt&&N(ut,gt),Tt(gt)}),at._write=function(gt,Ut,_t){rt.write(gt,Ut)?_t():Pt=_t},at._final=function(gt){rt.end(),nt=gt},rt.on("drain",function(){if(Pt){let gt=Pt;Pt=null,gt()}}),rt.on("finish",function(){if(nt){let gt=nt;nt=null,gt()}})),lt&&(S(ut,gt=>{lt=!1,gt&&N(ut,gt),Tt(gt)}),ut.on("readable",function(){if(Y){let gt=Y;Y=null,gt()}}),ut.on("end",function(){at.push(null)}),at._read=function(){for(;;){let gt=ut.read();if(gt===null){Y=at._read;return}if(!at.push(gt))return}}),at._destroy=function(gt,Ut){!gt&&Z!==null&&(gt=new x),Y=null,Pt=null,nt=null,Z===null?Ut(gt):(Z=Ut,N(rt,gt),N(ut,gt))},at}}),ua=pe((n,t)=>{oe(),le(),ae();var{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:i,ObjectKeys:s,ObjectSetPrototypeOf:a}=si();t.exports=f;var l=Kd(),c=F_();a(f.prototype,l.prototype),a(f,l);{let _=s(c.prototype);for(let S=0;S<_.length;S++){let x=_[S];f.prototype[x]||(f.prototype[x]=c.prototype[x])}}function f(_){if(!(this instanceof f))return new f(_);l.call(this,_),c.call(this,_),_?(this.allowHalfOpen=_.allowHalfOpen!==!1,_.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),_.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(f.prototype,{writable:{__proto__:null,...i(c.prototype,"writable")},writableHighWaterMark:{__proto__:null,...i(c.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...i(c.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...i(c.prototype,"writableBuffer")},writableLength:{__proto__:null,...i(c.prototype,"writableLength")},writableFinished:{__proto__:null,...i(c.prototype,"writableFinished")},writableCorked:{__proto__:null,...i(c.prototype,"writableCorked")},writableEnded:{__proto__:null,...i(c.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...i(c.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(_){this._readableState&&this._writableState&&(this._readableState.destroyed=_,this._writableState.destroyed=_)}}});var d;function g(){return d===void 0&&(d={}),d}f.fromWeb=function(_,S){return g().newStreamDuplexFromReadableWritablePair(_,S)},f.toWeb=function(_){return g().newReadableWritablePairFromDuplex(_)};var y;f.from=function(_){return y||(y=kM()),y(_,"body")}}),a2=pe((n,t)=>{oe(),le(),ae();var{ObjectSetPrototypeOf:e,Symbol:i}=si();t.exports=f;var{ERR_METHOD_NOT_IMPLEMENTED:s}=Tr().codes,a=ua(),{getHighWaterMark:l}=Wd();e(f.prototype,a.prototype),e(f,a);var c=i("kCallback");function f(y){if(!(this instanceof f))return new f(y);let _=y?l(this,y,"readableHighWaterMark",!0):null;_===0&&(y={...y,highWaterMark:null,readableHighWaterMark:_,writableHighWaterMark:y.writableHighWaterMark||0}),a.call(this,y),this._readableState.sync=!1,this[c]=null,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",g)}function d(y){typeof this._flush=="function"&&!this.destroyed?this._flush((_,S)=>{if(_){y?y(_):this.destroy(_);return}S!=null&&this.push(S),this.push(null),y&&y()}):(this.push(null),y&&y())}function g(){this._final!==d&&d.call(this)}f.prototype._final=d,f.prototype._transform=function(y,_,S){throw new s("_transform()")},f.prototype._write=function(y,_,S){let x=this._readableState,E=this._writableState,T=x.length;this._transform(y,_,(N,M)=>{if(N){S(N);return}M!=null&&this.push(M),E.ended||T===x.length||x.length<x.highWaterMark?S():this[c]=S})},f.prototype._read=function(){if(this[c]){let y=this[c];this[c]=null,y()}}}),l2=pe((n,t)=>{oe(),le(),ae();var{ObjectSetPrototypeOf:e}=si();t.exports=s;var i=a2();e(s.prototype,i.prototype),e(s,i);function s(a){if(!(this instanceof s))return new s(a);i.call(this,a)}s.prototype._transform=function(a,l,c){c(null,a)}}),H_=pe((n,t)=>{oe(),le(),ae();var e=Kl(),{ArrayIsArray:i,Promise:s,SymbolAsyncIterator:a,SymbolDispose:l}=si(),c=ll(),{once:f}=Wr(),d=qu(),g=ua(),{aggregateTwoErrors:y,codes:{ERR_INVALID_ARG_TYPE:_,ERR_INVALID_RETURN_VALUE:S,ERR_MISSING_ARGS:x,ERR_STREAM_DESTROYED:E,ERR_STREAM_PREMATURE_CLOSE:T},AbortError:N}=Tr(),{validateFunction:M,validateAbortSignal:D}=kf(),{isIterable:I,isReadable:R,isReadableNodeStream:z,isNodeStream:j,isTransformStream:W,isWebStream:J,isReadableStream:tt,isReadableFinished:ot}=fa(),G=globalThis.AbortController||yf().AbortController,dt,ht,ut;function rt(gt,Ut,_t){let ct=!1;gt.on("close",()=>{ct=!0});let vt=c(gt,{readable:Ut,writable:_t},Mt=>{ct=!Mt});return{destroy:Mt=>{ct||(ct=!0,d.destroyer(gt,Mt||new E("pipe")))},cleanup:vt}}function lt(gt){return M(gt[gt.length-1],"streams[stream.length - 1]"),gt.pop()}function et(gt){if(I(gt))return gt;if(z(gt))return Pt(gt);throw new _("val",["Readable","Iterable","AsyncIterable"],gt)}async function*Pt(gt){ht||(ht=Kd()),yield*ht.prototype[a].call(gt)}async function nt(gt,Ut,_t,{end:ct}){let vt,Mt=null,Rt=Jt=>{if(Jt&&(vt=Jt),Mt){let ft=Mt;Mt=null,ft()}},At=()=>new s((Jt,ft)=>{vt?ft(vt):Mt=()=>{vt?ft(vt):Jt()}});Ut.on("drain",Rt);let ce=c(Ut,{readable:!1},Rt);try{Ut.writableNeedDrain&&await At();for await(let Jt of gt)Ut.write(Jt)||await At();ct&&(Ut.end(),await At()),_t()}catch(Jt){_t(vt!==Jt?y(vt,Jt):Jt)}finally{ce(),Ut.off("drain",Rt)}}async function Y(gt,Ut,_t,{end:ct}){W(Ut)&&(Ut=Ut.writable);let vt=Ut.getWriter();try{for await(let Mt of gt)await vt.ready,vt.write(Mt).catch(()=>{});await vt.ready,ct&&await vt.close(),_t()}catch(Mt){try{await vt.abort(Mt),_t(Mt)}catch(Rt){_t(Rt)}}}function Z(...gt){return at(gt,f(lt(gt)))}function at(gt,Ut,_t){if(gt.length===1&&i(gt[0])&&(gt=gt[0]),gt.length<2)throw new x("streams");let ct=new G,vt=ct.signal,Mt=_t?.signal,Rt=[];D(Mt,"options.signal");function At(){re(new N)}ut=ut||Wr().addAbortListener;let ce;Mt&&(ce=ut(Mt,At));let Jt,ft,Et=[],Vt=0;function ie(ve){re(ve,--Vt===0)}function re(ve,Xt){var Ke;if(ve&&(!Jt||Jt.code==="ERR_STREAM_PREMATURE_CLOSE")&&(Jt=ve),!(!Jt&&!Xt)){for(;Et.length;)Et.shift()(Jt);(Ke=ce)===null||Ke===void 0||Ke[l](),ct.abort(),Xt&&(Jt||Rt.forEach(C=>C()),e.nextTick(Ut,Jt,ft))}}let he;for(let ve=0;ve<gt.length;ve++){let Xt=gt[ve],Ke=ve<gt.length-1,C=ve>0,F=Ke||_t?.end!==!1,K=ve===gt.length-1;if(j(Xt)){let bt=function(Bt){Bt&&Bt.name!=="AbortError"&&Bt.code!=="ERR_STREAM_PREMATURE_CLOSE"&&ie(Bt)};if(F){let{destroy:Bt,cleanup:ee}=rt(Xt,Ke,C);Et.push(Bt),R(Xt)&&K&&Rt.push(ee)}Xt.on("error",bt),R(Xt)&&K&&Rt.push(()=>{Xt.removeListener("error",bt)})}if(ve===0)if(typeof Xt=="function"){if(he=Xt({signal:vt}),!I(he))throw new S("Iterable, AsyncIterable or Stream","source",he)}else I(Xt)||z(Xt)||W(Xt)?he=Xt:he=g.from(Xt);else if(typeof Xt=="function"){if(W(he)){var wt;he=et((wt=he)===null||wt===void 0?void 0:wt.readable)}else he=et(he);if(he=Xt(he,{signal:vt}),Ke){if(!I(he,!0))throw new S("AsyncIterable",`transform[${ve-1}]`,he)}else{var fe;dt||(dt=l2());let bt=new dt({objectMode:!0}),Bt=(fe=he)===null||fe===void 0?void 0:fe.then;if(typeof Bt=="function")Vt++,Bt.call(he,Ot=>{ft=Ot,Ot!=null&&bt.write(Ot),F&&bt.end(),e.nextTick(ie)},Ot=>{bt.destroy(Ot),e.nextTick(ie,Ot)});else if(I(he,!0))Vt++,nt(he,bt,ie,{end:F});else if(tt(he)||W(he)){let Ot=he.readable||he;Vt++,nt(Ot,bt,ie,{end:F})}else throw new S("AsyncIterable or Promise","destination",he);he=bt;let{destroy:ee,cleanup:we}=rt(he,!1,!0);Et.push(ee),K&&Rt.push(we)}}else if(j(Xt)){if(z(he)){Vt+=2;let bt=Tt(he,Xt,ie,{end:F});R(Xt)&&K&&Rt.push(bt)}else if(W(he)||tt(he)){let bt=he.readable||he;Vt++,nt(bt,Xt,ie,{end:F})}else if(I(he))Vt++,nt(he,Xt,ie,{end:F});else throw new _("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],he);he=Xt}else if(J(Xt)){if(z(he))Vt++,Y(et(he),Xt,ie,{end:F});else if(tt(he)||I(he))Vt++,Y(he,Xt,ie,{end:F});else if(W(he))Vt++,Y(he.readable,Xt,ie,{end:F});else throw new _("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],he);he=Xt}else he=g.from(Xt)}return(vt!=null&&vt.aborted||Mt!=null&&Mt.aborted)&&e.nextTick(At),he}function Tt(gt,Ut,_t,{end:ct}){let vt=!1;if(Ut.on("close",()=>{vt||_t(new T)}),gt.pipe(Ut,{end:!1}),ct){let Mt=function(){vt=!0,Ut.end()};ot(gt)?e.nextTick(Mt):gt.once("end",Mt)}else _t();return c(gt,{readable:!0,writable:!1},Mt=>{let Rt=gt._readableState;Mt&&Mt.code==="ERR_STREAM_PREMATURE_CLOSE"&&Rt&&Rt.ended&&!Rt.errored&&!Rt.errorEmitted?gt.once("end",_t).once("error",_t):_t(Mt)}),c(Ut,{readable:!1,writable:!0},_t)}t.exports={pipelineImpl:at,pipeline:Z}}),u2=pe((n,t)=>{oe(),le(),ae();var{pipeline:e}=H_(),i=ua(),{destroyer:s}=qu(),{isNodeStream:a,isReadable:l,isWritable:c,isWebStream:f,isTransformStream:d,isWritableStream:g,isReadableStream:y}=fa(),{AbortError:_,codes:{ERR_INVALID_ARG_VALUE:S,ERR_MISSING_ARGS:x}}=Tr(),E=ll();t.exports=function(...T){if(T.length===0)throw new x("streams");if(T.length===1)return i.from(T[0]);let N=[...T];if(typeof T[0]=="function"&&(T[0]=i.from(T[0])),typeof T[T.length-1]=="function"){let G=T.length-1;T[G]=i.from(T[G])}for(let G=0;G<T.length;++G)if(!(!a(T[G])&&!f(T[G]))){if(G<T.length-1&&!(l(T[G])||y(T[G])||d(T[G])))throw new S(`streams[${G}]`,N[G],"must be readable");if(G>0&&!(c(T[G])||g(T[G])||d(T[G])))throw new S(`streams[${G}]`,N[G],"must be writable")}let M,D,I,R,z;function j(G){let dt=R;R=null,dt?dt(G):G?z.destroy(G):!ot&&!tt&&z.destroy()}let W=T[0],J=e(T,j),tt=!!(c(W)||g(W)||d(W)),ot=!!(l(J)||y(J)||d(J));if(z=new i({writableObjectMode:!!(W!=null&&W.writableObjectMode),readableObjectMode:!!(J!=null&&J.readableObjectMode),writable:tt,readable:ot}),tt){if(a(W))z._write=function(dt,ht,ut){W.write(dt,ht)?ut():M=ut},z._final=function(dt){W.end(),D=dt},W.on("drain",function(){if(M){let dt=M;M=null,dt()}});else if(f(W)){let dt=(d(W)?W.writable:W).getWriter();z._write=async function(ht,ut,rt){try{await dt.ready,dt.write(ht).catch(()=>{}),rt()}catch(lt){rt(lt)}},z._final=async function(ht){try{await dt.ready,dt.close().catch(()=>{}),D=ht}catch(ut){ht(ut)}}}let G=d(J)?J.readable:J;E(G,()=>{if(D){let dt=D;D=null,dt()}})}if(ot){if(a(J))J.on("readable",function(){if(I){let G=I;I=null,G()}}),J.on("end",function(){z.push(null)}),z._read=function(){for(;;){let G=J.read();if(G===null){I=z._read;return}if(!z.push(G))return}};else if(f(J)){let G=(d(J)?J.readable:J).getReader();z._read=async function(){for(;;)try{let{value:dt,done:ht}=await G.read();if(!z.push(dt))return;if(ht){z.push(null);return}}catch{return}}}}return z._destroy=function(G,dt){!G&&R!==null&&(G=new _),I=null,M=null,D=null,R===null?dt(G):(R=dt,a(J)&&s(J,G))},z}}),MM=pe((n,t)=>{oe(),le(),ae();var e=globalThis.AbortController||yf().AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:s,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:l},AbortError:c}=Tr(),{validateAbortSignal:f,validateInteger:d,validateObject:g}=kf(),y=si().Symbol("kWeak"),_=si().Symbol("kResistStopPropagation"),{finished:S}=ll(),x=u2(),{addAbortSignalNoValidate:E}=Vd(),{isWritable:T,isNodeStream:N}=fa(),{deprecate:M}=Wr(),{ArrayPrototypePush:D,Boolean:I,MathFloor:R,Number:z,NumberIsNaN:j,Promise:W,PromiseReject:J,PromiseResolve:tt,PromisePrototypeThen:ot,Symbol:G}=si(),dt=G("kEmpty"),ht=G("kEof");function ut(Mt,Rt){if(Rt!=null&&g(Rt,"options"),Rt?.signal!=null&&f(Rt.signal,"options.signal"),N(Mt)&&!T(Mt))throw new i("stream",Mt,"must be writable");let At=x(this,Mt);return Rt!=null&&Rt.signal&&E(Rt.signal,At),At}function rt(Mt,Rt){if(typeof Mt!="function")throw new s("fn",["Function","AsyncFunction"],Mt);Rt!=null&&g(Rt,"options"),Rt?.signal!=null&&f(Rt.signal,"options.signal");let At=1;Rt?.concurrency!=null&&(At=R(Rt.concurrency));let ce=At-1;return Rt?.highWaterMark!=null&&(ce=R(Rt.highWaterMark)),d(At,"options.concurrency",1),d(ce,"options.highWaterMark",0),ce+=At,(async function*(){let Jt=Wr().AbortSignalAny([Rt?.signal].filter(I)),ft=this,Et=[],Vt={signal:Jt},ie,re,he=!1,wt=0;function fe(){he=!0,ve()}function ve(){wt-=1,Xt()}function Xt(){re&&!he&&wt<At&&Et.length<ce&&(re(),re=null)}async function Ke(){try{for await(let C of ft){if(he)return;if(Jt.aborted)throw new c;try{if(C=Mt(C,Vt),C===dt)continue;C=tt(C)}catch(F){C=J(F)}wt+=1,ot(C,ve,fe),Et.push(C),ie&&(ie(),ie=null),!he&&(Et.length>=ce||wt>=At)&&await new W(F=>{re=F})}Et.push(ht)}catch(C){let F=J(C);ot(F,ve,fe),Et.push(F)}finally{he=!0,ie&&(ie(),ie=null)}}Ke();try{for(;;){for(;Et.length>0;){let C=await Et[0];if(C===ht)return;if(Jt.aborted)throw new c;C!==dt&&(yield C),Et.shift(),Xt()}await new W(C=>{ie=C})}}finally{he=!0,re&&(re(),re=null)}}).call(this)}function lt(Mt=void 0){return Mt!=null&&g(Mt,"options"),Mt?.signal!=null&&f(Mt.signal,"options.signal"),(async function*(){let Rt=0;for await(let ce of this){var At;if(Mt!=null&&(At=Mt.signal)!==null&&At!==void 0&&At.aborted)throw new c({cause:Mt.signal.reason});yield[Rt++,ce]}}).call(this)}async function et(Mt,Rt=void 0){for await(let At of Z.call(this,Mt,Rt))return!0;return!1}async function Pt(Mt,Rt=void 0){if(typeof Mt!="function")throw new s("fn",["Function","AsyncFunction"],Mt);return!await et.call(this,async(...At)=>!await Mt(...At),Rt)}async function nt(Mt,Rt){for await(let At of Z.call(this,Mt,Rt))return At}async function Y(Mt,Rt){if(typeof Mt!="function")throw new s("fn",["Function","AsyncFunction"],Mt);async function At(ce,Jt){return await Mt(ce,Jt),dt}for await(let ce of rt.call(this,At,Rt));}function Z(Mt,Rt){if(typeof Mt!="function")throw new s("fn",["Function","AsyncFunction"],Mt);async function At(ce,Jt){return await Mt(ce,Jt)?ce:dt}return rt.call(this,At,Rt)}var at=class extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function Tt(Mt,Rt,At){var ce;if(typeof Mt!="function")throw new s("reducer",["Function","AsyncFunction"],Mt);At!=null&&g(At,"options"),At?.signal!=null&&f(At.signal,"options.signal");let Jt=arguments.length>1;if(At!=null&&(ce=At.signal)!==null&&ce!==void 0&&ce.aborted){let re=new c(void 0,{cause:At.signal.reason});throw this.once("error",()=>{}),await S(this.destroy(re)),re}let ft=new e,Et=ft.signal;if(At!=null&&At.signal){let re={once:!0,[y]:this,[_]:!0};At.signal.addEventListener("abort",()=>ft.abort(),re)}let Vt=!1;try{for await(let re of this){var ie;if(Vt=!0,At!=null&&(ie=At.signal)!==null&&ie!==void 0&&ie.aborted)throw new c;Jt?Rt=await Mt(Rt,re,{signal:Et}):(Rt=re,Jt=!0)}if(!Vt&&!Jt)throw new at}finally{ft.abort()}return Rt}async function gt(Mt){Mt!=null&&g(Mt,"options"),Mt?.signal!=null&&f(Mt.signal,"options.signal");let Rt=[];for await(let ce of this){var At;if(Mt!=null&&(At=Mt.signal)!==null&&At!==void 0&&At.aborted)throw new c(void 0,{cause:Mt.signal.reason});D(Rt,ce)}return Rt}function Ut(Mt,Rt){let At=rt.call(this,Mt,Rt);return(async function*(){for await(let ce of At)yield*ce}).call(this)}function _t(Mt){if(Mt=z(Mt),j(Mt))return 0;if(Mt<0)throw new l("number",">= 0",Mt);return Mt}function ct(Mt,Rt=void 0){return Rt!=null&&g(Rt,"options"),Rt?.signal!=null&&f(Rt.signal,"options.signal"),Mt=_t(Mt),(async function*(){var At;if(Rt!=null&&(At=Rt.signal)!==null&&At!==void 0&&At.aborted)throw new c;for await(let Jt of this){var ce;if(Rt!=null&&(ce=Rt.signal)!==null&&ce!==void 0&&ce.aborted)throw new c;Mt--<=0&&(yield Jt)}}).call(this)}function vt(Mt,Rt=void 0){return Rt!=null&&g(Rt,"options"),Rt?.signal!=null&&f(Rt.signal,"options.signal"),Mt=_t(Mt),(async function*(){var At;if(Rt!=null&&(At=Rt.signal)!==null&&At!==void 0&&At.aborted)throw new c;for await(let Jt of this){var ce;if(Rt!=null&&(ce=Rt.signal)!==null&&ce!==void 0&&ce.aborted)throw new c;if(Mt-- >0&&(yield Jt),Mt<=0)return}}).call(this)}t.exports.streamReturningOperators={asIndexedPairs:M(lt,"readable.asIndexedPairs will be removed in a future version."),drop:ct,filter:Z,flatMap:Ut,map:rt,take:vt,compose:ut},t.exports.promiseReturningOperators={every:Pt,forEach:Y,reduce:Tt,toArray:gt,some:et,find:nt}}),c2=pe((n,t)=>{oe(),le(),ae();var{ArrayPrototypePop:e,Promise:i}=si(),{isIterable:s,isNodeStream:a,isWebStream:l}=fa(),{pipelineImpl:c}=H_(),{finished:f}=ll();f2();function d(...g){return new i((y,_)=>{let S,x,E=g[g.length-1];if(E&&typeof E=="object"&&!a(E)&&!s(E)&&!l(E)){let T=e(g);S=T.signal,x=T.end}c(g,(T,N)=>{T?_(T):y(N)},{signal:S,end:x})})}t.exports={finished:f,pipeline:d}}),f2=pe((n,t)=>{oe(),le(),ae();var{Buffer:e}=(Wi(),Bn(Vi)),{ObjectDefineProperty:i,ObjectKeys:s,ReflectApply:a}=si(),{promisify:{custom:l}}=Wr(),{streamReturningOperators:c,promiseReturningOperators:f}=MM(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:d}}=Tr(),g=u2(),{setDefaultHighWaterMark:y,getDefaultHighWaterMark:_}=Wd(),{pipeline:S}=H_(),{destroyer:x}=qu(),E=ll(),T=c2(),N=fa(),M=t.exports=U_().Stream;M.isDestroyed=N.isDestroyed,M.isDisturbed=N.isDisturbed,M.isErrored=N.isErrored,M.isReadable=N.isReadable,M.isWritable=N.isWritable,M.Readable=Kd();for(let I of s(c)){let R=function(...j){if(new.target)throw d();return M.Readable.from(a(z,this,j))},z=c[I];i(R,"name",{__proto__:null,value:z.name}),i(R,"length",{__proto__:null,value:z.length}),i(M.Readable.prototype,I,{__proto__:null,value:R,enumerable:!1,configurable:!0,writable:!0})}for(let I of s(f)){let R=function(...j){if(new.target)throw d();return a(z,this,j)},z=f[I];i(R,"name",{__proto__:null,value:z.name}),i(R,"length",{__proto__:null,value:z.length}),i(M.Readable.prototype,I,{__proto__:null,value:R,enumerable:!1,configurable:!0,writable:!0})}M.Writable=F_(),M.Duplex=ua(),M.Transform=a2(),M.PassThrough=l2(),M.pipeline=S;var{addAbortSignal:D}=Vd();M.addAbortSignal=D,M.finished=E,M.destroy=x,M.compose=g,M.setDefaultHighWaterMark=y,M.getDefaultHighWaterMark=_,i(M,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return T}}),i(S,l,{__proto__:null,enumerable:!0,get(){return T.pipeline}}),i(E,l,{__proto__:null,enumerable:!0,get(){return T.finished}}),M.Stream=M,M._isUint8Array=function(I){return I instanceof Uint8Array},M._uint8ArrayToBuffer=function(I){return e.from(I.buffer,I.byteOffset,I.byteLength)}}),Yl=pe((n,t)=>{oe(),le(),ae();var e=f2(),i=c2(),s=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=s,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return i}}),t.exports.Stream=e.Stream,t.exports.default=t.exports}),OM=pe((n,t)=>{oe(),le(),ae(),typeof Object.create=="function"?t.exports=function(e,i){i&&(e.super_=i,e.prototype=Object.create(i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,i){if(i){e.super_=i;var s=function(){};s.prototype=i.prototype,e.prototype=new s,e.prototype.constructor=e}}}),CM=pe((n,t)=>{oe(),le(),ae();var{Buffer:e}=(Wi(),Bn(Vi)),i=Symbol.for("BufferList");function s(a){if(!(this instanceof s))return new s(a);s._init.call(this,a)}s._init=function(a){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,a&&this.append(a)},s.prototype._new=function(a){return new s(a)},s.prototype._offset=function(a){if(a===0)return[0,0];let l=0;for(let c=0;c<this._bufs.length;c++){let f=l+this._bufs[c].length;if(a<f||c===this._bufs.length-1)return[c,a-l];l=f}},s.prototype._reverseOffset=function(a){let l=a[0],c=a[1];for(let f=0;f<l;f++)c+=this._bufs[f].length;return c},s.prototype.getBuffers=function(){return this._bufs},s.prototype.get=function(a){if(a>this.length||a<0)return;let l=this._offset(a);return this._bufs[l[0]][l[1]]},s.prototype.slice=function(a,l){return typeof a=="number"&&a<0&&(a+=this.length),typeof l=="number"&&l<0&&(l+=this.length),this.copy(null,0,a,l)},s.prototype.copy=function(a,l,c,f){if((typeof c!="number"||c<0)&&(c=0),(typeof f!="number"||f>this.length)&&(f=this.length),c>=this.length||f<=0)return a||e.alloc(0);let d=!!a,g=this._offset(c),y=f-c,_=y,S=d&&l||0,x=g[1];if(c===0&&f===this.length){if(!d)return this._bufs.length===1?this._bufs[0]:e.concat(this._bufs,this.length);for(let E=0;E<this._bufs.length;E++)this._bufs[E].copy(a,S),S+=this._bufs[E].length;return a}if(_<=this._bufs[g[0]].length-x)return d?this._bufs[g[0]].copy(a,l,x,x+_):this._bufs[g[0]].slice(x,x+_);d||(a=e.allocUnsafe(y));for(let E=g[0];E<this._bufs.length;E++){let T=this._bufs[E].length-x;if(_>T)this._bufs[E].copy(a,S,x),S+=T;else{this._bufs[E].copy(a,S,x,x+_),S+=T;break}_-=T,x&&(x=0)}return a.length>S?a.slice(0,S):a},s.prototype.shallowSlice=function(a,l){if(a=a||0,l=typeof l!="number"?this.length:l,a<0&&(a+=this.length),l<0&&(l+=this.length),a===l)return this._new();let c=this._offset(a),f=this._offset(l),d=this._bufs.slice(c[0],f[0]+1);return f[1]===0?d.pop():d[d.length-1]=d[d.length-1].slice(0,f[1]),c[1]!==0&&(d[0]=d[0].slice(c[1])),this._new(d)},s.prototype.toString=function(a,l,c){return this.slice(l,c).toString(a)},s.prototype.consume=function(a){if(a=Math.trunc(a),Number.isNaN(a)||a<=0)return this;for(;this._bufs.length;)if(a>=this._bufs[0].length)a-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(a),this.length-=a;break}return this},s.prototype.duplicate=function(){let a=this._new();for(let l=0;l<this._bufs.length;l++)a.append(this._bufs[l]);return a},s.prototype.append=function(a){return this._attach(a,s.prototype._appendBuffer)},s.prototype.prepend=function(a){return this._attach(a,s.prototype._prependBuffer,!0)},s.prototype._attach=function(a,l,c){if(a==null)return this;if(a.buffer)l.call(this,e.from(a.buffer,a.byteOffset,a.byteLength));else if(Array.isArray(a)){let[f,d]=c?[a.length-1,-1]:[0,1];for(let g=f;g>=0&&g<a.length;g+=d)this._attach(a[g],l,c)}else if(this._isBufferList(a)){let[f,d]=c?[a._bufs.length-1,-1]:[0,1];for(let g=f;g>=0&&g<a._bufs.length;g+=d)this._attach(a._bufs[g],l,c)}else typeof a=="number"&&(a=a.toString()),l.call(this,e.from(a));return this},s.prototype._appendBuffer=function(a){this._bufs.push(a),this.length+=a.length},s.prototype._prependBuffer=function(a){this._bufs.unshift(a),this.length+=a.length},s.prototype.indexOf=function(a,l,c){if(c===void 0&&typeof l=="string"&&(c=l,l=void 0),typeof a=="function"||Array.isArray(a))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof a=="number"?a=e.from([a]):typeof a=="string"?a=e.from(a,c):this._isBufferList(a)?a=a.slice():Array.isArray(a.buffer)?a=e.from(a.buffer,a.byteOffset,a.byteLength):e.isBuffer(a)||(a=e.from(a)),l=Number(l||0),isNaN(l)&&(l=0),l<0&&(l=this.length+l),l<0&&(l=0),a.length===0)return l>this.length?this.length:l;let f=this._offset(l),d=f[0],g=f[1];for(;d<this._bufs.length;d++){let y=this._bufs[d];for(;g<y.length;)if(y.length-g>=a.length){let _=y.indexOf(a,g);if(_!==-1)return this._reverseOffset([d,_]);g=y.length-a.length+1}else{let _=this._reverseOffset([d,g]);if(this._match(_,a))return _;g++}g=0}return-1},s.prototype._match=function(a,l){if(this.length-a<l.length)return!1;for(let c=0;c<l.length;c++)if(this.get(a+c)!==l[c])return!1;return!0},(function(){let a={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let l in a)(function(c){a[c]===null?s.prototype[c]=function(f,d){return this.slice(f,f+d)[c](0,d)}:s.prototype[c]=function(f=0){return this.slice(f,f+a[c])[c](0)}})(l)})(),s.prototype._isBufferList=function(a){return a instanceof s||s.isBufferList(a)},s.isBufferList=function(a){return a!=null&&a[i]},t.exports=s}),NM=pe((n,t)=>{oe(),le(),ae();var e=Yl().Duplex,i=OM(),s=CM();function a(l){if(!(this instanceof a))return new a(l);if(typeof l=="function"){this._callback=l;let c=(function(f){this._callback&&(this._callback(f),this._callback=null)}).bind(this);this.on("pipe",function(f){f.on("error",c)}),this.on("unpipe",function(f){f.removeListener("error",c)}),l=null}s._init.call(this,l),e.call(this)}i(a,e),Object.assign(a.prototype,s.prototype),a.prototype._new=function(l){return new a(l)},a.prototype._write=function(l,c,f){this._appendBuffer(l),typeof f=="function"&&f()},a.prototype._read=function(l){if(!this.length)return this.push(null);l=Math.min(l,this.length),this.push(this.slice(0,l)),this.consume(l)},a.prototype.end=function(l){e.prototype.end.call(this,l),this._callback&&(this._callback(null,this.slice()),this._callback=null)},a.prototype._destroy=function(l,c){this._bufs.length=0,this.length=0,c(l)},a.prototype._isBufferList=function(l){return l instanceof a||l instanceof s||a.isBufferList(l)},a.isBufferList=s.isBufferList,t.exports=a,t.exports.BufferListStream=a,t.exports.BufferList=s}),RM=pe((n,t)=>{oe(),le(),ae();var e=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};t.exports=e}),h2=pe((n,t)=>{oe(),le(),ae();var e=t.exports,{Buffer:i}=(Wi(),Bn(Vi));e.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},e.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},e.requiredHeaderFlagsErrors={};for(let a in e.requiredHeaderFlags){let l=e.requiredHeaderFlags[a];e.requiredHeaderFlagsErrors[a]="Invalid header flag bits, must be 0x"+l.toString(16)+" for "+e.types[a]+" packet"}e.codes={};for(let a in e.types){let l=e.types[a];e.codes[l]=a}e.CMD_SHIFT=4,e.CMD_MASK=240,e.DUP_MASK=8,e.QOS_MASK=3,e.QOS_SHIFT=1,e.RETAIN_MASK=1,e.VARBYTEINT_MASK=127,e.VARBYTEINT_FIN_MASK=128,e.VARBYTEINT_MAX=268435455,e.SESSIONPRESENT_MASK=1,e.SESSIONPRESENT_HEADER=i.from([e.SESSIONPRESENT_MASK]),e.CONNACK_HEADER=i.from([e.codes.connack<<e.CMD_SHIFT]),e.USERNAME_MASK=128,e.PASSWORD_MASK=64,e.WILL_RETAIN_MASK=32,e.WILL_QOS_MASK=24,e.WILL_QOS_SHIFT=3,e.WILL_FLAG_MASK=4,e.CLEAN_SESSION_MASK=2,e.CONNECT_HEADER=i.from([e.codes.connect<<e.CMD_SHIFT]),e.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},e.propertiesCodes={};for(let a in e.properties){let l=e.properties[a];e.propertiesCodes[l]=a}e.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function s(a){return[0,1,2].map(l=>[0,1].map(c=>[0,1].map(f=>{let d=i.alloc(1);return d.writeUInt8(e.codes[a]<<e.CMD_SHIFT|(c?e.DUP_MASK:0)|l<<e.QOS_SHIFT|f,0,!0),d})))}e.PUBLISH_HEADER=s("publish"),e.SUBSCRIBE_HEADER=s("subscribe"),e.SUBSCRIBE_OPTIONS_QOS_MASK=3,e.SUBSCRIBE_OPTIONS_NL_MASK=1,e.SUBSCRIBE_OPTIONS_NL_SHIFT=2,e.SUBSCRIBE_OPTIONS_RAP_MASK=1,e.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,e.SUBSCRIBE_OPTIONS_RH_MASK=3,e.SUBSCRIBE_OPTIONS_RH_SHIFT=4,e.SUBSCRIBE_OPTIONS_RH=[0,16,32],e.SUBSCRIBE_OPTIONS_NL=4,e.SUBSCRIBE_OPTIONS_RAP=8,e.SUBSCRIBE_OPTIONS_QOS=[0,1,2],e.UNSUBSCRIBE_HEADER=s("unsubscribe"),e.ACKS={unsuback:s("unsuback"),puback:s("puback"),pubcomp:s("pubcomp"),pubrel:s("pubrel"),pubrec:s("pubrec")},e.SUBACK_HEADER=i.from([e.codes.suback<<e.CMD_SHIFT]),e.VERSION3=i.from([3]),e.VERSION4=i.from([4]),e.VERSION5=i.from([5]),e.VERSION131=i.from([131]),e.VERSION132=i.from([132]),e.QOS=[0,1,2].map(a=>i.from([a])),e.EMPTY={pingreq:i.from([e.codes.pingreq<<4,0]),pingresp:i.from([e.codes.pingresp<<4,0]),disconnect:i.from([e.codes.disconnect<<4,0])},e.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},e.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},e.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},e.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},e.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},e.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),LM=pe((n,t)=>{oe(),le(),ae();var e=1e3,i=e*60,s=i*60,a=s*24,l=a*7,c=a*365.25;t.exports=function(_,S){S=S||{};var x=typeof _;if(x==="string"&&_.length>0)return f(_);if(x==="number"&&isFinite(_))return S.long?g(_):d(_);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(_))};function f(_){if(_=String(_),!(_.length>100)){var S=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(_);if(S){var x=parseFloat(S[1]),E=(S[2]||"ms").toLowerCase();switch(E){case"years":case"year":case"yrs":case"yr":case"y":return x*c;case"weeks":case"week":case"w":return x*l;case"days":case"day":case"d":return x*a;case"hours":case"hour":case"hrs":case"hr":case"h":return x*s;case"minutes":case"minute":case"mins":case"min":case"m":return x*i;case"seconds":case"second":case"secs":case"sec":case"s":return x*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return x;default:return}}}}function d(_){var S=Math.abs(_);return S>=a?Math.round(_/a)+"d":S>=s?Math.round(_/s)+"h":S>=i?Math.round(_/i)+"m":S>=e?Math.round(_/e)+"s":_+"ms"}function g(_){var S=Math.abs(_);return S>=a?y(_,S,a,"day"):S>=s?y(_,S,s,"hour"):S>=i?y(_,S,i,"minute"):S>=e?y(_,S,e,"second"):_+" ms"}function y(_,S,x,E){var T=S>=x*1.5;return Math.round(_/x)+" "+E+(T?"s":"")}}),PM=pe((n,t)=>{oe(),le(),ae();function e(i){a.debug=a,a.default=a,a.coerce=y,a.disable=d,a.enable=c,a.enabled=g,a.humanize=LM(),a.destroy=_,Object.keys(i).forEach(S=>{a[S]=i[S]}),a.names=[],a.skips=[],a.formatters={};function s(S){let x=0;for(let E=0;E<S.length;E++)x=(x<<5)-x+S.charCodeAt(E),x|=0;return a.colors[Math.abs(x)%a.colors.length]}a.selectColor=s;function a(S){let x,E=null,T,N;function M(...D){if(!M.enabled)return;let I=M,R=Number(new Date),z=R-(x||R);I.diff=z,I.prev=x,I.curr=R,x=R,D[0]=a.coerce(D[0]),typeof D[0]!="string"&&D.unshift("%O");let j=0;D[0]=D[0].replace(/%([a-zA-Z%])/g,(W,J)=>{if(W==="%%")return"%";j++;let tt=a.formatters[J];if(typeof tt=="function"){let ot=D[j];W=tt.call(I,ot),D.splice(j,1),j--}return W}),a.formatArgs.call(I,D),(I.log||a.log).apply(I,D)}return M.namespace=S,M.useColors=a.useColors(),M.color=a.selectColor(S),M.extend=l,M.destroy=a.destroy,Object.defineProperty(M,"enabled",{enumerable:!0,configurable:!1,get:()=>E!==null?E:(T!==a.namespaces&&(T=a.namespaces,N=a.enabled(S)),N),set:D=>{E=D}}),typeof a.init=="function"&&a.init(M),M}function l(S,x){let E=a(this.namespace+(typeof x>"u"?":":x)+S);return E.log=this.log,E}function c(S){a.save(S),a.namespaces=S,a.names=[],a.skips=[];let x=(typeof S=="string"?S:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let E of x)E[0]==="-"?a.skips.push(E.slice(1)):a.names.push(E)}function f(S,x){let E=0,T=0,N=-1,M=0;for(;E<S.length;)if(T<x.length&&(x[T]===S[E]||x[T]==="*"))x[T]==="*"?(N=T,M=E,T++):(E++,T++);else if(N!==-1)T=N+1,M++,E=M;else return!1;for(;T<x.length&&x[T]==="*";)T++;return T===x.length}function d(){let S=[...a.names,...a.skips.map(x=>"-"+x)].join(",");return a.enable(""),S}function g(S){for(let x of a.skips)if(f(S,x))return!1;for(let x of a.names)if(f(S,x))return!0;return!1}function y(S){return S instanceof Error?S.stack||S.message:S}function _(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return a.enable(a.load()),a}t.exports=e}),ca=pe((n,t)=>{oe(),le(),ae(),n.formatArgs=i,n.save=s,n.load=a,n.useColors=e,n.storage=l(),n.destroy=(()=>{let f=!1;return()=>{f||(f=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function e(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let f;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(f=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(f[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(f){if(f[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+f[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let d="color: "+this.color;f.splice(1,0,d,"color: inherit");let g=0,y=0;f[0].replace(/%[a-zA-Z%]/g,_=>{_!=="%%"&&(g++,_==="%c"&&(y=g))}),f.splice(y,0,d)}n.log=console.debug||console.log||(()=>{});function s(f){try{f?n.storage.setItem("debug",f):n.storage.removeItem("debug")}catch{}}function a(){let f;try{f=n.storage.getItem("debug")||n.storage.getItem("DEBUG")}catch{}return!f&&typeof Wn<"u"&&"env"in Wn&&(f=Wn.env.DEBUG),f}function l(){try{return localStorage}catch{}}t.exports=PM()(n);var{formatters:c}=t.exports;c.j=function(f){try{return JSON.stringify(f)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}}),DM=pe((n,t)=>{oe(),le(),ae();var e=NM(),{EventEmitter:i}=(Wl(),Bn(al)),s=RM(),a=h2(),l=ca()("mqtt-packet:parser"),c=class ky extends i{constructor(){super(),this.parser=this.constructor.parser}static parser(d){return this instanceof ky?(this.settings=d||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new ky().parser(d)}_resetState(){l("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new s,this.error=null,this._list=e(),this._stateCounter=0}parse(d){for(this.error&&this._resetState(),this._list.append(d),l("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,l("parse: state complete. _stateCounter is now: %d",this._stateCounter),l("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return l("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let d=this._list.readUInt8(0),g=d>>a.CMD_SHIFT;this.packet.cmd=a.types[g];let y=d&15,_=a.requiredHeaderFlags[g];return _!=null&&y!==_?this._emitError(new Error(a.requiredHeaderFlagsErrors[g])):(this.packet.retain=(d&a.RETAIN_MASK)!==0,this.packet.qos=d>>a.QOS_SHIFT&a.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(d&a.DUP_MASK)!==0,l("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let d=this._parseVarByteNum(!0);return d&&(this.packet.length=d.value,this._list.consume(d.bytes)),l("_parseLength %d",d.value),!!d}_parsePayload(){l("_parsePayload: payload %O",this._list);let d=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}d=!0}return l("_parsePayload complete result: %s",d),d}_parseConnect(){l("_parseConnect");let d,g,y,_,S={},x=this.packet,E=this._parseString();if(E===null)return this._emitError(new Error("Cannot parse protocolId"));if(E!=="MQTT"&&E!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(x.protocolId=E,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(x.protocolVersion=this._list.readUInt8(this._pos),x.protocolVersion>=128&&(x.bridgeMode=!0,x.protocolVersion=x.protocolVersion-128),x.protocolVersion!==3&&x.protocolVersion!==4&&x.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));S.username=this._list.readUInt8(this._pos)&a.USERNAME_MASK,S.password=this._list.readUInt8(this._pos)&a.PASSWORD_MASK,S.will=this._list.readUInt8(this._pos)&a.WILL_FLAG_MASK;let T=!!(this._list.readUInt8(this._pos)&a.WILL_RETAIN_MASK),N=(this._list.readUInt8(this._pos)&a.WILL_QOS_MASK)>>a.WILL_QOS_SHIFT;if(S.will)x.will={},x.will.retain=T,x.will.qos=N;else{if(T)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(N)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(x.clean=(this._list.readUInt8(this._pos)&a.CLEAN_SESSION_MASK)!==0,this._pos++,x.keepalive=this._parseNum(),x.keepalive===-1)return this._emitError(new Error("Packet too short"));if(x.protocolVersion===5){let D=this._parseProperties();Object.getOwnPropertyNames(D).length&&(x.properties=D)}let M=this._parseString();if(M===null)return this._emitError(new Error("Packet too short"));if(x.clientId=M,l("_parseConnect: packet.clientId: %s",x.clientId),S.will){if(x.protocolVersion===5){let D=this._parseProperties();Object.getOwnPropertyNames(D).length&&(x.will.properties=D)}if(d=this._parseString(),d===null)return this._emitError(new Error("Cannot parse will topic"));if(x.will.topic=d,l("_parseConnect: packet.will.topic: %s",x.will.topic),g=this._parseBuffer(),g===null)return this._emitError(new Error("Cannot parse will payload"));x.will.payload=g,l("_parseConnect: packet.will.paylaod: %s",x.will.payload)}if(S.username){if(_=this._parseString(),_===null)return this._emitError(new Error("Cannot parse username"));x.username=_,l("_parseConnect: packet.username: %s",x.username)}if(S.password){if(y=this._parseBuffer(),y===null)return this._emitError(new Error("Cannot parse password"));x.password=y}return this.settings=x,l("_parseConnect: complete"),x}_parseConnack(){l("_parseConnack");let d=this.packet;if(this._list.length<1)return null;let g=this._list.readUInt8(this._pos++);if(g>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(d.sessionPresent=!!(g&a.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?d.reasonCode=this._list.readUInt8(this._pos++):d.reasonCode=0;else{if(this._list.length<2)return null;d.returnCode=this._list.readUInt8(this._pos++)}if(d.returnCode===-1||d.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let y=this._parseProperties();Object.getOwnPropertyNames(y).length&&(d.properties=y)}l("_parseConnack: complete")}_parsePublish(){l("_parsePublish");let d=this.packet;if(d.topic=this._parseString(),d.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(d.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let g=this._parseProperties();Object.getOwnPropertyNames(g).length&&(d.properties=g)}d.payload=this._list.slice(this._pos,d.length),l("_parsePublish: payload from buffer list: %o",d.payload)}}_parseSubscribe(){l("_parseSubscribe");let d=this.packet,g,y,_,S,x,E,T;if(d.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let N=this._parseProperties();Object.getOwnPropertyNames(N).length&&(d.properties=N)}if(d.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<d.length;){if(g=this._parseString(),g===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=d.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(y=this._parseByte(),this.settings.protocolVersion===5){if(y&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(y&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(_=y&a.SUBSCRIBE_OPTIONS_QOS_MASK,_>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(E=(y>>a.SUBSCRIBE_OPTIONS_NL_SHIFT&a.SUBSCRIBE_OPTIONS_NL_MASK)!==0,x=(y>>a.SUBSCRIBE_OPTIONS_RAP_SHIFT&a.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,S=y>>a.SUBSCRIBE_OPTIONS_RH_SHIFT&a.SUBSCRIBE_OPTIONS_RH_MASK,S>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));T={topic:g,qos:_},this.settings.protocolVersion===5?(T.nl=E,T.rap=x,T.rh=S):this.settings.bridgeMode&&(T.rh=0,T.rap=!0,T.nl=!0),l("_parseSubscribe: push subscription `%s` to subscription",T),d.subscriptions.push(T)}}}_parseSuback(){l("_parseSuback");let d=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let g=this._parseProperties();Object.getOwnPropertyNames(g).length&&(d.properties=g)}if(d.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let g=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!a.MQTT5_SUBACK_CODES[g])return this._emitError(new Error("Invalid suback code"))}else if(g>2&&g!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(g)}}}_parseUnsubscribe(){l("_parseUnsubscribe");let d=this.packet;if(d.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let g=this._parseProperties();Object.getOwnPropertyNames(g).length&&(d.properties=g)}if(d.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<d.length;){let g=this._parseString();if(g===null)return this._emitError(new Error("Cannot parse topic"));l("_parseUnsubscribe: push topic `%s` to unsubscriptions",g),d.unsubscriptions.push(g)}}}_parseUnsuback(){l("_parseUnsuback");let d=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&d.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(d.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let g=this._parseProperties();for(Object.getOwnPropertyNames(g).length&&(d.properties=g),d.granted=[];this._pos<this.packet.length;){let y=this._list.readUInt8(this._pos++);if(!a.MQTT5_UNSUBACK_CODES[y])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(y)}}}_parseConfirmation(){l("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let d=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(d.length>2){switch(d.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!a.MQTT5_PUBACK_PUBREC_CODES[d.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!a.MQTT5_PUBREL_PUBCOMP_CODES[d.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}l("_parseConfirmation: packet.reasonCode `%d`",d.reasonCode)}else d.reasonCode=0;if(d.length>3){let g=this._parseProperties();Object.getOwnPropertyNames(g).length&&(d.properties=g)}}return!0}_parseDisconnect(){let d=this.packet;if(l("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(d.reasonCode=this._parseByte(),a.MQTT5_DISCONNECT_CODES[d.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):d.reasonCode=0;let g=this._parseProperties();Object.getOwnPropertyNames(g).length&&(d.properties=g)}return l("_parseDisconnect result: true"),!0}_parseAuth(){l("_parseAuth");let d=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(d.reasonCode=this._parseByte(),!a.MQTT5_AUTH_CODES[d.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let g=this._parseProperties();return Object.getOwnPropertyNames(g).length&&(d.properties=g),l("_parseAuth: result: true"),!0}_parseMessageId(){let d=this.packet;return d.messageId=this._parseNum(),d.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(l("_parseMessageId: packet.messageId %d",d.messageId),!0)}_parseString(d){let g=this._parseNum(),y=g+this._pos;if(g===-1||y>this._list.length||y>this.packet.length)return null;let _=this._list.toString("utf8",this._pos,y);return this._pos+=g,l("_parseString: result: %s",_),_}_parseStringPair(){return l("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let d=this._parseNum(),g=d+this._pos;if(d===-1||g>this._list.length||g>this.packet.length)return null;let y=this._list.slice(this._pos,g);return this._pos+=d,l("_parseBuffer: result: %o",y),y}_parseNum(){if(this._list.length-this._pos<2)return-1;let d=this._list.readUInt16BE(this._pos);return this._pos+=2,l("_parseNum: result: %s",d),d}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let d=this._list.readUInt32BE(this._pos);return this._pos+=4,l("_parse4ByteNum: result: %s",d),d}_parseVarByteNum(d){l("_parseVarByteNum");let g=4,y=0,_=1,S=0,x=!1,E,T=this._pos?this._pos:0;for(;y<g&&T+y<this._list.length;){if(E=this._list.readUInt8(T+y++),S+=_*(E&a.VARBYTEINT_MASK),_*=128,(E&a.VARBYTEINT_FIN_MASK)===0){x=!0;break}if(this._list.length<=y)break}return!x&&y===g&&this._list.length>=y&&this._emitError(new Error("Invalid variable byte integer")),T&&(this._pos+=y),x?d?x={bytes:y,value:S}:x=S:x=!1,l("_parseVarByteNum: result: %o",x),x}_parseByte(){let d;return this._pos<this._list.length&&(d=this._list.readUInt8(this._pos),this._pos++),l("_parseByte: result: %o",d),d}_parseByType(d){switch(l("_parseByType: type: %s",d),d){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){l("_parseProperties");let d=this._parseVarByteNum(),g=this._pos+d,y={};for(;this._pos<g;){let _=this._parseByte();if(!_)return this._emitError(new Error("Cannot parse property code type")),!1;let S=a.propertiesCodes[_];if(!S)return this._emitError(new Error("Unknown property")),!1;if(S==="userProperties"){y[S]||(y[S]=Object.create(null));let x=this._parseByType(a.propertiesTypes[S]);if(y[S][x.name])if(Array.isArray(y[S][x.name]))y[S][x.name].push(x.value);else{let E=y[S][x.name];y[S][x.name]=[E],y[S][x.name].push(x.value)}else y[S][x.name]=x.value;continue}y[S]?Array.isArray(y[S])?y[S].push(this._parseByType(a.propertiesTypes[S])):(y[S]=[y[S]],y[S].push(this._parseByType(a.propertiesTypes[S]))):y[S]=this._parseByType(a.propertiesTypes[S])}return y}_newPacket(){return l("_newPacket"),this.packet&&(this._list.consume(this.packet.length),l("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),l("_newPacket: new packet"),this.packet=new s,this._pos=0,!0}_emitError(d){l("_emitError",d),this.error=d,this.emit("error",d)}};t.exports=c}),jM=pe((n,t)=>{oe(),le(),ae();var{Buffer:e}=(Wi(),Bn(Vi)),i=65536,s={},a=e.isBuffer(e.from([1,2]).subarray(0,1));function l(g){let y=e.allocUnsafe(2);return y.writeUInt8(g>>8,0),y.writeUInt8(g&255,1),y}function c(){for(let g=0;g<i;g++)s[g]=l(g)}function f(g){let y=0,_=0,S=e.allocUnsafe(4);do y=g%128|0,g=g/128|0,g>0&&(y=y|128),S.writeUInt8(y,_++);while(g>0&&_<4);return g>0&&(_=0),a?S.subarray(0,_):S.slice(0,_)}function d(g){let y=e.allocUnsafe(4);return y.writeUInt32BE(g,0),y}t.exports={cache:s,generateCache:c,generateNumber:l,genBufVariableByteInt:f,generate4ByteBuffer:d}}),IM=pe((n,t)=>{oe(),le(),ae(),typeof Wn>"u"||!Wn.version||Wn.version.indexOf("v0.")===0||Wn.version.indexOf("v1.")===0&&Wn.version.indexOf("v1.8.")!==0?t.exports={nextTick:e}:t.exports=Wn;function e(i,s,a,l){if(typeof i!="function")throw new TypeError('"callback" argument must be a function');var c=arguments.length,f,d;switch(c){case 0:case 1:return Wn.nextTick(i);case 2:return Wn.nextTick(function(){i.call(null,s)});case 3:return Wn.nextTick(function(){i.call(null,s,a)});case 4:return Wn.nextTick(function(){i.call(null,s,a,l)});default:for(f=new Array(c-1),d=0;d<f.length;)f[d++]=arguments[d];return Wn.nextTick(function(){i.apply(null,f)})}}}),d2=pe((n,t)=>{oe(),le(),ae();var e=h2(),{Buffer:i}=(Wi(),Bn(Vi)),s=i.allocUnsafe(0),a=i.from([0]),l=jM(),c=IM().nextTick,f=ca()("mqtt-packet:writeToStream"),d=l.cache,g=l.generateNumber,y=l.generateCache,_=l.genBufVariableByteInt,S=l.generate4ByteBuffer,x=lt,E=!0;function T(_t,ct,vt){switch(f("generate called"),ct.cork&&(ct.cork(),c(N,ct)),E&&(E=!1,y()),f("generate: packet.cmd: %s",_t.cmd),_t.cmd){case"connect":return M(_t,ct);case"connack":return D(_t,ct,vt);case"publish":return I(_t,ct,vt);case"puback":case"pubrec":case"pubrel":case"pubcomp":return R(_t,ct,vt);case"subscribe":return z(_t,ct,vt);case"suback":return j(_t,ct,vt);case"unsubscribe":return W(_t,ct,vt);case"unsuback":return J(_t,ct,vt);case"pingreq":case"pingresp":return tt(_t,ct);case"disconnect":return ot(_t,ct,vt);case"auth":return G(_t,ct,vt);default:return ct.destroy(new Error("Unknown command")),!1}}Object.defineProperty(T,"cacheNumbers",{get(){return x===lt},set(_t){_t?((!d||Object.keys(d).length===0)&&(E=!0),x=lt):(E=!1,x=et)}});function N(_t){_t.uncork()}function M(_t,ct,vt){let Mt=_t||{},Rt=Mt.protocolId||"MQTT",At=Mt.protocolVersion||4,ce=Mt.will,Jt=Mt.clean,ft=Mt.keepalive||0,Et=Mt.clientId||"",Vt=Mt.username,ie=Mt.password,re=Mt.properties;Jt===void 0&&(Jt=!0);let he=0;if(typeof Rt!="string"&&!i.isBuffer(Rt))return ct.destroy(new Error("Invalid protocolId")),!1;if(he+=Rt.length+2,At!==3&&At!==4&&At!==5)return ct.destroy(new Error("Invalid protocol version")),!1;if(he+=1,(typeof Et=="string"||i.isBuffer(Et))&&(Et||At>=4)&&(Et||Jt))he+=i.byteLength(Et)+2;else{if(At<4)return ct.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(Jt*1===0)return ct.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof ft!="number"||ft<0||ft>65535||ft%1!==0)return ct.destroy(new Error("Invalid keepalive")),!1;he+=2,he+=1;let wt,fe;if(At===5){if(wt=Y(ct,re),!wt)return!1;he+=wt.length}if(ce){if(typeof ce!="object")return ct.destroy(new Error("Invalid will")),!1;if(!ce.topic||typeof ce.topic!="string")return ct.destroy(new Error("Invalid will topic")),!1;if(he+=i.byteLength(ce.topic)+2,he+=2,ce.payload)if(ce.payload.length>=0)typeof ce.payload=="string"?he+=i.byteLength(ce.payload):he+=ce.payload.length;else return ct.destroy(new Error("Invalid will payload")),!1;if(fe={},At===5){if(fe=Y(ct,ce.properties),!fe)return!1;he+=fe.length}}let ve=!1;if(Vt!=null)if(Ut(Vt))ve=!0,he+=i.byteLength(Vt)+2;else return ct.destroy(new Error("Invalid username")),!1;if(ie!=null){if(!ve)return ct.destroy(new Error("Username is required to use password")),!1;if(Ut(ie))he+=gt(ie)+2;else return ct.destroy(new Error("Invalid password")),!1}ct.write(e.CONNECT_HEADER),ht(ct,he),nt(ct,Rt),Mt.bridgeMode&&(At+=128),ct.write(At===131?e.VERSION131:At===132?e.VERSION132:At===4?e.VERSION4:At===5?e.VERSION5:e.VERSION3);let Xt=0;return Xt|=Vt!=null?e.USERNAME_MASK:0,Xt|=ie!=null?e.PASSWORD_MASK:0,Xt|=ce&&ce.retain?e.WILL_RETAIN_MASK:0,Xt|=ce&&ce.qos?ce.qos<<e.WILL_QOS_SHIFT:0,Xt|=ce?e.WILL_FLAG_MASK:0,Xt|=Jt?e.CLEAN_SESSION_MASK:0,ct.write(i.from([Xt])),x(ct,ft),At===5&&wt.write(),nt(ct,Et),ce&&(At===5&&fe.write(),ut(ct,ce.topic),nt(ct,ce.payload)),Vt!=null&&nt(ct,Vt),ie!=null&&nt(ct,ie),!0}function D(_t,ct,vt){let Mt=vt?vt.protocolVersion:4,Rt=_t||{},At=Mt===5?Rt.reasonCode:Rt.returnCode,ce=Rt.properties,Jt=2;if(typeof At!="number")return ct.destroy(new Error("Invalid return code")),!1;let ft=null;if(Mt===5){if(ft=Y(ct,ce),!ft)return!1;Jt+=ft.length}return ct.write(e.CONNACK_HEADER),ht(ct,Jt),ct.write(Rt.sessionPresent?e.SESSIONPRESENT_HEADER:a),ct.write(i.from([At])),ft?.write(),!0}function I(_t,ct,vt){f("publish: packet: %o",_t);let Mt=vt?vt.protocolVersion:4,Rt=_t||{},At=Rt.qos||0,ce=Rt.retain?e.RETAIN_MASK:0,Jt=Rt.topic,ft=Rt.payload||s,Et=Rt.messageId,Vt=Rt.properties,ie=0;if(typeof Jt=="string")ie+=i.byteLength(Jt)+2;else if(i.isBuffer(Jt))ie+=Jt.length+2;else return ct.destroy(new Error("Invalid topic")),!1;if(i.isBuffer(ft)?ie+=ft.length:ie+=i.byteLength(ft),At&&typeof Et!="number")return ct.destroy(new Error("Invalid messageId")),!1;At&&(ie+=2);let re=null;if(Mt===5){if(re=Y(ct,Vt),!re)return!1;ie+=re.length}return ct.write(e.PUBLISH_HEADER[At][Rt.dup?1:0][ce?1:0]),ht(ct,ie),x(ct,gt(Jt)),ct.write(Jt),At>0&&x(ct,Et),re?.write(),f("publish: payload: %o",ft),ct.write(ft)}function R(_t,ct,vt){let Mt=vt?vt.protocolVersion:4,Rt=_t||{},At=Rt.cmd||"puback",ce=Rt.messageId,Jt=Rt.dup&&At==="pubrel"?e.DUP_MASK:0,ft=0,Et=Rt.reasonCode,Vt=Rt.properties,ie=Mt===5?3:2;if(At==="pubrel"&&(ft=1),typeof ce!="number")return ct.destroy(new Error("Invalid messageId")),!1;let re=null;if(Mt===5&&typeof Vt=="object"){if(re=Z(ct,Vt,vt,ie),!re)return!1;ie+=re.length}return ct.write(e.ACKS[At][ft][Jt][0]),ie===3&&(ie+=Et!==0?1:-1),ht(ct,ie),x(ct,ce),Mt===5&&ie!==2&&ct.write(i.from([Et])),re!==null?re.write():ie===4&&ct.write(i.from([0])),!0}function z(_t,ct,vt){f("subscribe: packet: ");let Mt=vt?vt.protocolVersion:4,Rt=_t||{},At=Rt.dup?e.DUP_MASK:0,ce=Rt.messageId,Jt=Rt.subscriptions,ft=Rt.properties,Et=0;if(typeof ce!="number")return ct.destroy(new Error("Invalid messageId")),!1;Et+=2;let Vt=null;if(Mt===5){if(Vt=Y(ct,ft),!Vt)return!1;Et+=Vt.length}if(typeof Jt=="object"&&Jt.length)for(let re=0;re<Jt.length;re+=1){let he=Jt[re].topic,wt=Jt[re].qos;if(typeof he!="string")return ct.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof wt!="number")return ct.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(Mt===5){if(typeof(Jt[re].nl||!1)!="boolean")return ct.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(Jt[re].rap||!1)!="boolean")return ct.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let fe=Jt[re].rh||0;if(typeof fe!="number"||fe>2)return ct.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}Et+=i.byteLength(he)+2+1}else return ct.destroy(new Error("Invalid subscriptions")),!1;f("subscribe: writing to stream: %o",e.SUBSCRIBE_HEADER),ct.write(e.SUBSCRIBE_HEADER[1][At?1:0][0]),ht(ct,Et),x(ct,ce),Vt!==null&&Vt.write();let ie=!0;for(let re of Jt){let he=re.topic,wt=re.qos,fe=+re.nl,ve=+re.rap,Xt=re.rh,Ke;ut(ct,he),Ke=e.SUBSCRIBE_OPTIONS_QOS[wt],Mt===5&&(Ke|=fe?e.SUBSCRIBE_OPTIONS_NL:0,Ke|=ve?e.SUBSCRIBE_OPTIONS_RAP:0,Ke|=Xt?e.SUBSCRIBE_OPTIONS_RH[Xt]:0),ie=ct.write(i.from([Ke]))}return ie}function j(_t,ct,vt){let Mt=vt?vt.protocolVersion:4,Rt=_t||{},At=Rt.messageId,ce=Rt.granted,Jt=Rt.properties,ft=0;if(typeof At!="number")return ct.destroy(new Error("Invalid messageId")),!1;if(ft+=2,typeof ce=="object"&&ce.length)for(let Vt=0;Vt<ce.length;Vt+=1){if(typeof ce[Vt]!="number")return ct.destroy(new Error("Invalid qos vector")),!1;ft+=1}else return ct.destroy(new Error("Invalid qos vector")),!1;let Et=null;if(Mt===5){if(Et=Z(ct,Jt,vt,ft),!Et)return!1;ft+=Et.length}return ct.write(e.SUBACK_HEADER),ht(ct,ft),x(ct,At),Et!==null&&Et.write(),ct.write(i.from(ce))}function W(_t,ct,vt){let Mt=vt?vt.protocolVersion:4,Rt=_t||{},At=Rt.messageId,ce=Rt.dup?e.DUP_MASK:0,Jt=Rt.unsubscriptions,ft=Rt.properties,Et=0;if(typeof At!="number")return ct.destroy(new Error("Invalid messageId")),!1;if(Et+=2,typeof Jt=="object"&&Jt.length)for(let re=0;re<Jt.length;re+=1){if(typeof Jt[re]!="string")return ct.destroy(new Error("Invalid unsubscriptions")),!1;Et+=i.byteLength(Jt[re])+2}else return ct.destroy(new Error("Invalid unsubscriptions")),!1;let Vt=null;if(Mt===5){if(Vt=Y(ct,ft),!Vt)return!1;Et+=Vt.length}ct.write(e.UNSUBSCRIBE_HEADER[1][ce?1:0][0]),ht(ct,Et),x(ct,At),Vt!==null&&Vt.write();let ie=!0;for(let re=0;re<Jt.length;re++)ie=ut(ct,Jt[re]);return ie}function J(_t,ct,vt){let Mt=vt?vt.protocolVersion:4,Rt=_t||{},At=Rt.messageId,ce=Rt.dup?e.DUP_MASK:0,Jt=Rt.granted,ft=Rt.properties,Et=Rt.cmd,Vt=0,ie=2;if(typeof At!="number")return ct.destroy(new Error("Invalid messageId")),!1;if(Mt===5)if(typeof Jt=="object"&&Jt.length)for(let he=0;he<Jt.length;he+=1){if(typeof Jt[he]!="number")return ct.destroy(new Error("Invalid qos vector")),!1;ie+=1}else return ct.destroy(new Error("Invalid qos vector")),!1;let re=null;if(Mt===5){if(re=Z(ct,ft,vt,ie),!re)return!1;ie+=re.length}return ct.write(e.ACKS[Et][Vt][ce][0]),ht(ct,ie),x(ct,At),re!==null&&re.write(),Mt===5&&ct.write(i.from(Jt)),!0}function tt(_t,ct,vt){return ct.write(e.EMPTY[_t.cmd])}function ot(_t,ct,vt){let Mt=vt?vt.protocolVersion:4,Rt=_t||{},At=Rt.reasonCode,ce=Rt.properties,Jt=Mt===5?1:0,ft=null;if(Mt===5){if(ft=Z(ct,ce,vt,Jt),!ft)return!1;Jt+=ft.length}return ct.write(i.from([e.codes.disconnect<<4])),ht(ct,Jt),Mt===5&&ct.write(i.from([At])),ft!==null&&ft.write(),!0}function G(_t,ct,vt){let Mt=vt?vt.protocolVersion:4,Rt=_t||{},At=Rt.reasonCode,ce=Rt.properties,Jt=Mt===5?1:0;Mt!==5&&ct.destroy(new Error("Invalid mqtt version for auth packet"));let ft=Z(ct,ce,vt,Jt);return ft?(Jt+=ft.length,ct.write(i.from([e.codes.auth<<4])),ht(ct,Jt),ct.write(i.from([At])),ft!==null&&ft.write(),!0):!1}var dt={};function ht(_t,ct){if(ct>e.VARBYTEINT_MAX)return _t.destroy(new Error(`Invalid variable byte integer: ${ct}`)),!1;let vt=dt[ct];return vt||(vt=_(ct),ct<16384&&(dt[ct]=vt)),f("writeVarByteInt: writing to stream: %o",vt),_t.write(vt)}function ut(_t,ct){let vt=i.byteLength(ct);return x(_t,vt),f("writeString: %s",ct),_t.write(ct,"utf8")}function rt(_t,ct,vt){ut(_t,ct),ut(_t,vt)}function lt(_t,ct){return f("writeNumberCached: number: %d",ct),f("writeNumberCached: %o",d[ct]),_t.write(d[ct])}function et(_t,ct){let vt=g(ct);return f("writeNumberGenerated: %o",vt),_t.write(vt)}function Pt(_t,ct){let vt=S(ct);return f("write4ByteNumber: %o",vt),_t.write(vt)}function nt(_t,ct){typeof ct=="string"?ut(_t,ct):ct?(x(_t,ct.length),_t.write(ct)):x(_t,0)}function Y(_t,ct){if(typeof ct!="object"||ct.length!=null)return{length:1,write(){Tt(_t,{},0)}};let vt=0;function Mt(Rt,At){let ce=e.propertiesTypes[Rt],Jt=0;switch(ce){case"byte":{if(typeof At!="boolean")return _t.destroy(new Error(`Invalid ${Rt}: ${At}`)),!1;Jt+=2;break}case"int8":{if(typeof At!="number"||At<0||At>255)return _t.destroy(new Error(`Invalid ${Rt}: ${At}`)),!1;Jt+=2;break}case"binary":{if(At&&At===null)return _t.destroy(new Error(`Invalid ${Rt}: ${At}`)),!1;Jt+=1+i.byteLength(At)+2;break}case"int16":{if(typeof At!="number"||At<0||At>65535)return _t.destroy(new Error(`Invalid ${Rt}: ${At}`)),!1;Jt+=3;break}case"int32":{if(typeof At!="number"||At<0||At>4294967295)return _t.destroy(new Error(`Invalid ${Rt}: ${At}`)),!1;Jt+=5;break}case"var":{if(typeof At!="number"||At<0||At>268435455)return _t.destroy(new Error(`Invalid ${Rt}: ${At}`)),!1;Jt+=1+i.byteLength(_(At));break}case"string":{if(typeof At!="string")return _t.destroy(new Error(`Invalid ${Rt}: ${At}`)),!1;Jt+=3+i.byteLength(At.toString());break}case"pair":{if(typeof At!="object")return _t.destroy(new Error(`Invalid ${Rt}: ${At}`)),!1;Jt+=Object.getOwnPropertyNames(At).reduce((ft,Et)=>{let Vt=At[Et];return Array.isArray(Vt)?ft+=Vt.reduce((ie,re)=>(ie+=3+i.byteLength(Et.toString())+2+i.byteLength(re.toString()),ie),0):ft+=3+i.byteLength(Et.toString())+2+i.byteLength(At[Et].toString()),ft},0);break}default:return _t.destroy(new Error(`Invalid property ${Rt}: ${At}`)),!1}return Jt}if(ct)for(let Rt in ct){let At=0,ce=0,Jt=ct[Rt];if(Jt!==void 0){if(Array.isArray(Jt))for(let ft=0;ft<Jt.length;ft++){if(ce=Mt(Rt,Jt[ft]),!ce)return!1;At+=ce}else{if(ce=Mt(Rt,Jt),!ce)return!1;At=ce}if(!At)return!1;vt+=At}}return{length:i.byteLength(_(vt))+vt,write(){Tt(_t,ct,vt)}}}function Z(_t,ct,vt,Mt){let Rt=["reasonString","userProperties"],At=vt&&vt.properties&&vt.properties.maximumPacketSize?vt.properties.maximumPacketSize:0,ce=Y(_t,ct);if(At)for(;Mt+ce.length>At;){let Jt=Rt.shift();if(Jt&&ct[Jt])delete ct[Jt],ce=Y(_t,ct);else return!1}return ce}function at(_t,ct,vt){switch(e.propertiesTypes[ct]){case"byte":{_t.write(i.from([e.properties[ct]])),_t.write(i.from([+vt]));break}case"int8":{_t.write(i.from([e.properties[ct]])),_t.write(i.from([vt]));break}case"binary":{_t.write(i.from([e.properties[ct]])),nt(_t,vt);break}case"int16":{_t.write(i.from([e.properties[ct]])),x(_t,vt);break}case"int32":{_t.write(i.from([e.properties[ct]])),Pt(_t,vt);break}case"var":{_t.write(i.from([e.properties[ct]])),ht(_t,vt);break}case"string":{_t.write(i.from([e.properties[ct]])),ut(_t,vt);break}case"pair":{Object.getOwnPropertyNames(vt).forEach(Mt=>{let Rt=vt[Mt];Array.isArray(Rt)?Rt.forEach(At=>{_t.write(i.from([e.properties[ct]])),rt(_t,Mt.toString(),At.toString())}):(_t.write(i.from([e.properties[ct]])),rt(_t,Mt.toString(),Rt.toString()))});break}default:return _t.destroy(new Error(`Invalid property ${ct} value: ${vt}`)),!1}}function Tt(_t,ct,vt){ht(_t,vt);for(let Mt in ct)if(Object.prototype.hasOwnProperty.call(ct,Mt)&&ct[Mt]!=null){let Rt=ct[Mt];if(Array.isArray(Rt))for(let At=0;At<Rt.length;At++)at(_t,Mt,Rt[At]);else at(_t,Mt,Rt)}}function gt(_t){return _t?_t instanceof i?_t.length:i.byteLength(_t):0}function Ut(_t){return typeof _t=="string"||_t instanceof i}t.exports=T}),zM=pe((n,t)=>{oe(),le(),ae();var e=d2(),{EventEmitter:i}=(Wl(),Bn(al)),{Buffer:s}=(Wi(),Bn(Vi));function a(c,f){let d=new l;return e(c,d,f),d.concat()}var l=class extends i{constructor(){super(),this._array=new Array(20),this._i=0}write(c){return this._array[this._i++]=c,!0}concat(){let c=0,f=new Array(this._array.length),d=this._array,g=0,y;for(y=0;y<d.length&&d[y]!==void 0;y++)typeof d[y]!="string"?f[y]=d[y].length:f[y]=s.byteLength(d[y]),c+=f[y];let _=s.allocUnsafe(c);for(y=0;y<d.length&&d[y]!==void 0;y++)typeof d[y]!="string"?(d[y].copy(_,g),g+=f[y]):(_.write(d[y],g),g+=f[y]);return _}destroy(c){c&&this.emit("error",c)}};t.exports=a}),BM=pe(n=>{oe(),le(),ae(),n.parser=DM().parser,n.generate=zM(),n.writeToStream=d2()}),UM=pe((n,t)=>{oe(),le(),ae(),t.exports=i;function e(a){return a instanceof Nd?Nd.from(a):new a.constructor(a.buffer.slice(),a.byteOffset,a.length)}function i(a){if(a=a||{},a.circles)return s(a);let l=new Map;if(l.set(Date,y=>new Date(y)),l.set(Map,(y,_)=>new Map(f(Array.from(y),_))),l.set(Set,(y,_)=>new Set(f(Array.from(y),_))),a.constructorHandlers)for(let y of a.constructorHandlers)l.set(y[0],y[1]);let c=null;return a.proto?g:d;function f(y,_){let S=Object.keys(y),x=new Array(S.length);for(let E=0;E<S.length;E++){let T=S[E],N=y[T];typeof N!="object"||N===null?x[T]=N:N.constructor!==Object&&(c=l.get(N.constructor))?x[T]=c(N,_):ArrayBuffer.isView(N)?x[T]=e(N):x[T]=_(N)}return x}function d(y){if(typeof y!="object"||y===null)return y;if(Array.isArray(y))return f(y,d);if(y.constructor!==Object&&(c=l.get(y.constructor)))return c(y,d);let _={};for(let S in y){if(Object.hasOwnProperty.call(y,S)===!1)continue;let x=y[S];typeof x!="object"||x===null?_[S]=x:x.constructor!==Object&&(c=l.get(x.constructor))?_[S]=c(x,d):ArrayBuffer.isView(x)?_[S]=e(x):_[S]=d(x)}return _}function g(y){if(typeof y!="object"||y===null)return y;if(Array.isArray(y))return f(y,g);if(y.constructor!==Object&&(c=l.get(y.constructor)))return c(y,g);let _={};for(let S in y){let x=y[S];typeof x!="object"||x===null?_[S]=x:x.constructor!==Object&&(c=l.get(x.constructor))?_[S]=c(x,g):ArrayBuffer.isView(x)?_[S]=e(x):_[S]=g(x)}return _}}function s(a){let l=[],c=[],f=new Map;if(f.set(Date,S=>new Date(S)),f.set(Map,(S,x)=>new Map(g(Array.from(S),x))),f.set(Set,(S,x)=>new Set(g(Array.from(S),x))),a.constructorHandlers)for(let S of a.constructorHandlers)f.set(S[0],S[1]);let d=null;return a.proto?_:y;function g(S,x){let E=Object.keys(S),T=new Array(E.length);for(let N=0;N<E.length;N++){let M=E[N],D=S[M];if(typeof D!="object"||D===null)T[M]=D;else if(D.constructor!==Object&&(d=f.get(D.constructor)))T[M]=d(D,x);else if(ArrayBuffer.isView(D))T[M]=e(D);else{let I=l.indexOf(D);I!==-1?T[M]=c[I]:T[M]=x(D)}}return T}function y(S){if(typeof S!="object"||S===null)return S;if(Array.isArray(S))return g(S,y);if(S.constructor!==Object&&(d=f.get(S.constructor)))return d(S,y);let x={};l.push(S),c.push(x);for(let E in S){if(Object.hasOwnProperty.call(S,E)===!1)continue;let T=S[E];if(typeof T!="object"||T===null)x[E]=T;else if(T.constructor!==Object&&(d=f.get(T.constructor)))x[E]=d(T,y);else if(ArrayBuffer.isView(T))x[E]=e(T);else{let N=l.indexOf(T);N!==-1?x[E]=c[N]:x[E]=y(T)}}return l.pop(),c.pop(),x}function _(S){if(typeof S!="object"||S===null)return S;if(Array.isArray(S))return g(S,_);if(S.constructor!==Object&&(d=f.get(S.constructor)))return d(S,_);let x={};l.push(S),c.push(x);for(let E in S){let T=S[E];if(typeof T!="object"||T===null)x[E]=T;else if(T.constructor!==Object&&(d=f.get(T.constructor)))x[E]=d(T,_);else if(ArrayBuffer.isView(T))x[E]=e(T);else{let N=l.indexOf(T);N!==-1?x[E]=c[N]:x[E]=_(T)}}return l.pop(),c.pop(),x}}}),FM=pe((n,t)=>{oe(),le(),ae(),t.exports=UM()()}),HM=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0}),n.validateTopic=t,n.validateTopics=e;function t(i){let s=i.split("/");for(let a=0;a<s.length;a++)if(s[a]!=="+"){if(s[a]==="#")return a===s.length-1;if(s[a].indexOf("+")!==-1||s[a].indexOf("#")!==-1)return!1}return!0}function e(i){if(i.length===0)return"empty_topic_list";for(let s=0;s<i.length;s++)if(!t(i[s]))return i[s];return null}}),p2=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0});var t=Yl(),e={objectMode:!0},i={clean:!0},s=class{options;_inflights;constructor(a){this.options=a||{},this.options={...i,...a},this._inflights=new Map}put(a,l){return this._inflights.set(a.messageId,a),l&&l(),this}createStream(){let a=new t.Readable(e),l=[],c=!1,f=0;return this._inflights.forEach((d,g)=>{l.push(d)}),a._read=()=>{!c&&f<l.length?a.push(l[f++]):a.push(null)},a.destroy=d=>{if(!c)return c=!0,setTimeout(()=>{a.emit("close")},0),a},a}del(a,l){let c=this._inflights.get(a.messageId);return c?(this._inflights.delete(a.messageId),l(null,c)):l&&l(new Error("missing packet")),this}get(a,l){let c=this._inflights.get(a.messageId);return c?l(null,c):l&&l(new Error("missing packet")),this}close(a){this.options.clean&&(this._inflights=null),a&&a()}};n.default=s}),qM=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0});var t=[0,16,128,131,135,144,145,151,153],e=(i,s,a)=>{i.log("handlePublish: packet %o",s),a=typeof a<"u"?a:i.noop;let l=s.topic.toString(),c=s.payload,{qos:f}=s,{messageId:d}=s,{options:g}=i;if(i.options.protocolVersion===5){let y;if(s.properties&&(y=s.properties.topicAlias),typeof y<"u")if(l.length===0)if(y>0&&y<=65535){let _=i.topicAliasRecv.getTopicByAlias(y);if(_)l=_,i.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",l,y);else{i.log("handlePublish :: unregistered topic alias. alias: %d",y),i.emit("error",new Error("Received unregistered Topic Alias"));return}}else{i.log("handlePublish :: topic alias out of range. alias: %d",y),i.emit("error",new Error("Received Topic Alias is out of range"));return}else if(i.topicAliasRecv.put(l,y))i.log("handlePublish :: registered topic: %s - alias: %d",l,y);else{i.log("handlePublish :: topic alias out of range. alias: %d",y),i.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(i.log("handlePublish: qos %d",f),f){case 2:{g.customHandleAcks(l,c,s,(y,_)=>{if(typeof y=="number"&&(_=y,y=null),y)return i.emit("error",y);if(t.indexOf(_)===-1)return i.emit("error",new Error("Wrong reason code for pubrec"));_?i._sendPacket({cmd:"pubrec",messageId:d,reasonCode:_},a):i.incomingStore.put(s,()=>{i._sendPacket({cmd:"pubrec",messageId:d},a)})});break}case 1:{g.customHandleAcks(l,c,s,(y,_)=>{if(typeof y=="number"&&(_=y,y=null),y)return i.emit("error",y);if(t.indexOf(_)===-1)return i.emit("error",new Error("Wrong reason code for puback"));_||i.emit("message",l,c,s),i.handleMessage(s,S=>{if(S)return a&&a(S);i._sendPacket({cmd:"puback",messageId:d,reasonCode:_},a)})});break}case 0:i.emit("message",l,c,s),i.handleMessage(s,a);break;default:i.log("handlePublish: unknown QoS. Doing nothing.");break}};n.default=e}),VM=pe((n,t)=>{t.exports={version:"5.14.1"}}),Vu=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0}),n.MQTTJS_VERSION=n.nextTick=n.ErrorWithSubackPacket=n.ErrorWithReasonCode=void 0,n.applyMixin=i;var t=class m2 extends Error{code;constructor(a,l){super(a),this.code=l,Object.setPrototypeOf(this,m2.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};n.ErrorWithReasonCode=t;var e=class g2 extends Error{packet;constructor(a,l){super(a),this.packet=l,Object.setPrototypeOf(this,g2.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}};n.ErrorWithSubackPacket=e;function i(s,a,l=!1){let c=[a];for(;;){let f=c[0],d=Object.getPrototypeOf(f);if(d?.prototype)c.unshift(d);else break}for(let f of c)for(let d of Object.getOwnPropertyNames(f.prototype))(l||d!=="constructor")&&Object.defineProperty(s.prototype,d,Object.getOwnPropertyDescriptor(f.prototype,d)??Object.create(null))}n.nextTick=typeof Wn?.nextTick=="function"?Wn.nextTick:s=>{setTimeout(s,0)},n.MQTTJS_VERSION=VM().version}),Yd=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0}),n.ReasonCodes=void 0;var t=Vu();n.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var e=(i,s)=>{let{messageId:a}=s,l=s.cmd,c=null,f=i.outgoing[a]?i.outgoing[a].cb:null,d=null;if(!f){i.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(i.log("_handleAck :: packet type",l),l){case"pubcomp":case"puback":{let g=s.reasonCode;g&&g>0&&g!==16?(d=new t.ErrorWithReasonCode(`Publish error: ${n.ReasonCodes[g]}`,g),i._removeOutgoingAndStoreMessage(a,()=>{f(d,s)})):i._removeOutgoingAndStoreMessage(a,f);break}case"pubrec":{c={cmd:"pubrel",qos:2,messageId:a};let g=s.reasonCode;g&&g>0&&g!==16?(d=new t.ErrorWithReasonCode(`Publish error: ${n.ReasonCodes[g]}`,g),i._removeOutgoingAndStoreMessage(a,()=>{f(d,s)})):i._sendPacket(c);break}case"suback":{delete i.outgoing[a],i.messageIdProvider.deallocate(a);let g=s.granted;for(let y=0;y<g.length;y++){let _=g[y];if((_&128)!==0){d=new Error(`Subscribe error: ${n.ReasonCodes[_]}`),d.code=_;let S=i.messageIdToTopic[a];S&&S.forEach(x=>{delete i._resubscribeTopics[x]})}}delete i.messageIdToTopic[a],i._invokeStoreProcessingQueue(),f(d,s);break}case"unsuback":{delete i.outgoing[a],i.messageIdProvider.deallocate(a),i._invokeStoreProcessingQueue(),f(null,s);break}default:i.emit("error",new Error("unrecognized packet type"))}i.disconnecting&&Object.keys(i.outgoing).length===0&&i.emit("outgoingEmpty")};n.default=e}),WM=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0});var t=Vu(),e=Yd(),i=(s,a)=>{let{options:l}=s,c=l.protocolVersion,f=c===5?a.reasonCode:a.returnCode;if(c!==5){let d=new t.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${c}`,f);s.emit("error",d);return}s.handleAuth(a,(d,g)=>{if(d){s.emit("error",d);return}if(f===24)s.reconnecting=!1,s._sendPacket(g);else{let y=new t.ErrorWithReasonCode(`Connection refused: ${e.ReasonCodes[f]}`,f);s.emit("error",y)}})};n.default=i}),KM=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0}),n.LRUCache=void 0;var t=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,e=new Set,i=typeof Wn=="object"&&Wn?Wn:{},s=(S,x,E,T)=>{typeof i.emitWarning=="function"?i.emitWarning(S,x,E,T):console.error(`[${E}] ${x}: ${S}`)},a=globalThis.AbortController,l=globalThis.AbortSignal;if(typeof a>"u"){l=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(E,T){this._onabort.push(T)}},a=class{constructor(){x()}signal=new l;abort(E){if(!this.signal.aborted){this.signal.reason=E,this.signal.aborted=!0;for(let T of this.signal._onabort)T(E);this.signal.onabort?.(E)}}};let S=i.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",x=()=>{S&&(S=!1,s("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",x))}}var c=S=>!e.has(S),f=S=>S&&S===Math.floor(S)&&S>0&&isFinite(S),d=S=>f(S)?S<=Math.pow(2,8)?Uint8Array:S<=Math.pow(2,16)?Uint16Array:S<=Math.pow(2,32)?Uint32Array:S<=Number.MAX_SAFE_INTEGER?g:null:null,g=class extends Array{constructor(S){super(S),this.fill(0)}},y=class Xc{heap;length;static#l=!1;static create(x){let E=d(x);if(!E)return[];Xc.#l=!0;let T=new Xc(x,E);return Xc.#l=!1,T}constructor(x,E){if(!Xc.#l)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new E(x),this.length=0}push(x){this.heap[this.length++]=x}pop(){return this.heap[--this.length]}},_=class y2{#l;#f;#m;#g;#C;#N;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#r;#y;#i;#n;#t;#u;#h;#a;#s;#_;#o;#b;#v;#d;#w;#T;#c;static unsafeExposeInternals(x){return{starts:x.#v,ttls:x.#d,sizes:x.#b,keyMap:x.#i,keyList:x.#n,valList:x.#t,next:x.#u,prev:x.#h,get head(){return x.#a},get tail(){return x.#s},free:x.#_,isBackgroundFetch:E=>x.#e(E),backgroundFetch:(E,T,N,M)=>x.#P(E,T,N,M),moveToTail:E=>x.#O(E),indexes:E=>x.#x(E),rindexes:E=>x.#S(E),isStale:E=>x.#p(E)}}get max(){return this.#l}get maxSize(){return this.#f}get calculatedSize(){return this.#y}get size(){return this.#r}get fetchMethod(){return this.#C}get memoMethod(){return this.#N}get dispose(){return this.#m}get disposeAfter(){return this.#g}constructor(x){let{max:E=0,ttl:T,ttlResolution:N=1,ttlAutopurge:M,updateAgeOnGet:D,updateAgeOnHas:I,allowStale:R,dispose:z,disposeAfter:j,noDisposeOnSet:W,noUpdateTTL:J,maxSize:tt=0,maxEntrySize:ot=0,sizeCalculation:G,fetchMethod:dt,memoMethod:ht,noDeleteOnFetchRejection:ut,noDeleteOnStaleGet:rt,allowStaleOnFetchRejection:lt,allowStaleOnFetchAbort:et,ignoreFetchAbort:Pt}=x;if(E!==0&&!f(E))throw new TypeError("max option must be a nonnegative integer");let nt=E?d(E):Array;if(!nt)throw new Error("invalid max value: "+E);if(this.#l=E,this.#f=tt,this.maxEntrySize=ot||this.#f,this.sizeCalculation=G,this.sizeCalculation){if(!this.#f&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(ht!==void 0&&typeof ht!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#N=ht,dt!==void 0&&typeof dt!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#C=dt,this.#T=!!dt,this.#i=new Map,this.#n=new Array(E).fill(void 0),this.#t=new Array(E).fill(void 0),this.#u=new nt(E),this.#h=new nt(E),this.#a=0,this.#s=0,this.#_=y.create(E),this.#r=0,this.#y=0,typeof z=="function"&&(this.#m=z),typeof j=="function"?(this.#g=j,this.#o=[]):(this.#g=void 0,this.#o=void 0),this.#w=!!this.#m,this.#c=!!this.#g,this.noDisposeOnSet=!!W,this.noUpdateTTL=!!J,this.noDeleteOnFetchRejection=!!ut,this.allowStaleOnFetchRejection=!!lt,this.allowStaleOnFetchAbort=!!et,this.ignoreFetchAbort=!!Pt,this.maxEntrySize!==0){if(this.#f!==0&&!f(this.#f))throw new TypeError("maxSize must be a positive integer if specified");if(!f(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#F()}if(this.allowStale=!!R,this.noDeleteOnStaleGet=!!rt,this.updateAgeOnGet=!!D,this.updateAgeOnHas=!!I,this.ttlResolution=f(N)||N===0?N:1,this.ttlAutopurge=!!M,this.ttl=T||0,this.ttl){if(!f(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#D()}if(this.#l===0&&this.ttl===0&&this.#f===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#l&&!this.#f){let Y="LRU_CACHE_UNBOUNDED";c(Y)&&(e.add(Y),s("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Y,y2))}}getRemainingTTL(x){return this.#i.has(x)?1/0:0}#D(){let x=new g(this.#l),E=new g(this.#l);this.#d=x,this.#v=E,this.#j=(M,D,I=t.now())=>{if(E[M]=D!==0?I:0,x[M]=D,D!==0&&this.ttlAutopurge){let R=setTimeout(()=>{this.#p(M)&&this.#E(this.#n[M],"expire")},D+1);R.unref&&R.unref()}},this.#k=M=>{E[M]=x[M]!==0?t.now():0},this.#A=(M,D)=>{if(x[D]){let I=x[D],R=E[D];if(!I||!R)return;M.ttl=I,M.start=R,M.now=T||N();let z=M.now-R;M.remainingTTL=I-z}};let T=0,N=()=>{let M=t.now();if(this.ttlResolution>0){T=M;let D=setTimeout(()=>T=0,this.ttlResolution);D.unref&&D.unref()}return M};this.getRemainingTTL=M=>{let D=this.#i.get(M);if(D===void 0)return 0;let I=x[D],R=E[D];if(!I||!R)return 1/0;let z=(T||N())-R;return I-z},this.#p=M=>{let D=E[M],I=x[M];return!!I&&!!D&&(T||N())-D>I}}#k=()=>{};#A=()=>{};#j=()=>{};#p=()=>!1;#F(){let x=new g(this.#l);this.#y=0,this.#b=x,this.#M=E=>{this.#y-=x[E],x[E]=0},this.#I=(E,T,N,M)=>{if(this.#e(T))return 0;if(!f(N))if(M){if(typeof M!="function")throw new TypeError("sizeCalculation must be a function");if(N=M(T,E),!f(N))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return N},this.#R=(E,T,N)=>{if(x[E]=T,this.#f){let M=this.#f-x[E];for(;this.#y>M;)this.#L(!0)}this.#y+=x[E],N&&(N.entrySize=T,N.totalCalculatedSize=this.#y)}}#M=x=>{};#R=(x,E,T)=>{};#I=(x,E,T,N)=>{if(T||N)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#x({allowStale:x=this.allowStale}={}){if(this.#r)for(let E=this.#s;!(!this.#z(E)||((x||!this.#p(E))&&(yield E),E===this.#a));)E=this.#h[E]}*#S({allowStale:x=this.allowStale}={}){if(this.#r)for(let E=this.#a;!(!this.#z(E)||((x||!this.#p(E))&&(yield E),E===this.#s));)E=this.#u[E]}#z(x){return x!==void 0&&this.#i.get(this.#n[x])===x}*entries(){for(let x of this.#x())this.#t[x]!==void 0&&this.#n[x]!==void 0&&!this.#e(this.#t[x])&&(yield[this.#n[x],this.#t[x]])}*rentries(){for(let x of this.#S())this.#t[x]!==void 0&&this.#n[x]!==void 0&&!this.#e(this.#t[x])&&(yield[this.#n[x],this.#t[x]])}*keys(){for(let x of this.#x()){let E=this.#n[x];E!==void 0&&!this.#e(this.#t[x])&&(yield E)}}*rkeys(){for(let x of this.#S()){let E=this.#n[x];E!==void 0&&!this.#e(this.#t[x])&&(yield E)}}*values(){for(let x of this.#x())this.#t[x]!==void 0&&!this.#e(this.#t[x])&&(yield this.#t[x])}*rvalues(){for(let x of this.#S())this.#t[x]!==void 0&&!this.#e(this.#t[x])&&(yield this.#t[x])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(x,E={}){for(let T of this.#x()){let N=this.#t[T],M=this.#e(N)?N.__staleWhileFetching:N;if(M!==void 0&&x(M,this.#n[T],this))return this.get(this.#n[T],E)}}forEach(x,E=this){for(let T of this.#x()){let N=this.#t[T],M=this.#e(N)?N.__staleWhileFetching:N;M!==void 0&&x.call(E,M,this.#n[T],this)}}rforEach(x,E=this){for(let T of this.#S()){let N=this.#t[T],M=this.#e(N)?N.__staleWhileFetching:N;M!==void 0&&x.call(E,M,this.#n[T],this)}}purgeStale(){let x=!1;for(let E of this.#S({allowStale:!0}))this.#p(E)&&(this.#E(this.#n[E],"expire"),x=!0);return x}info(x){let E=this.#i.get(x);if(E===void 0)return;let T=this.#t[E],N=this.#e(T)?T.__staleWhileFetching:T;if(N===void 0)return;let M={value:N};if(this.#d&&this.#v){let D=this.#d[E],I=this.#v[E];if(D&&I){let R=D-(t.now()-I);M.ttl=R,M.start=Date.now()}}return this.#b&&(M.size=this.#b[E]),M}dump(){let x=[];for(let E of this.#x({allowStale:!0})){let T=this.#n[E],N=this.#t[E],M=this.#e(N)?N.__staleWhileFetching:N;if(M===void 0||T===void 0)continue;let D={value:M};if(this.#d&&this.#v){D.ttl=this.#d[E];let I=t.now()-this.#v[E];D.start=Math.floor(Date.now()-I)}this.#b&&(D.size=this.#b[E]),x.unshift([T,D])}return x}load(x){this.clear();for(let[E,T]of x){if(T.start){let N=Date.now()-T.start;T.start=t.now()-N}this.set(E,T.value,T)}}set(x,E,T={}){if(E===void 0)return this.delete(x),this;let{ttl:N=this.ttl,start:M,noDisposeOnSet:D=this.noDisposeOnSet,sizeCalculation:I=this.sizeCalculation,status:R}=T,{noUpdateTTL:z=this.noUpdateTTL}=T,j=this.#I(x,E,T.size||0,I);if(this.maxEntrySize&&j>this.maxEntrySize)return R&&(R.set="miss",R.maxEntrySizeExceeded=!0),this.#E(x,"set"),this;let W=this.#r===0?void 0:this.#i.get(x);if(W===void 0)W=this.#r===0?this.#s:this.#_.length!==0?this.#_.pop():this.#r===this.#l?this.#L(!1):this.#r,this.#n[W]=x,this.#t[W]=E,this.#i.set(x,W),this.#u[this.#s]=W,this.#h[W]=this.#s,this.#s=W,this.#r++,this.#R(W,j,R),R&&(R.set="add"),z=!1;else{this.#O(W);let J=this.#t[W];if(E!==J){if(this.#T&&this.#e(J)){J.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:tt}=J;tt!==void 0&&!D&&(this.#w&&this.#m?.(tt,x,"set"),this.#c&&this.#o?.push([tt,x,"set"]))}else D||(this.#w&&this.#m?.(J,x,"set"),this.#c&&this.#o?.push([J,x,"set"]));if(this.#M(W),this.#R(W,j,R),this.#t[W]=E,R){R.set="replace";let tt=J&&this.#e(J)?J.__staleWhileFetching:J;tt!==void 0&&(R.oldValue=tt)}}else R&&(R.set="update")}if(N!==0&&!this.#d&&this.#D(),this.#d&&(z||this.#j(W,N,M),R&&this.#A(R,W)),!D&&this.#c&&this.#o){let J=this.#o,tt;for(;tt=J?.shift();)this.#g?.(...tt)}return this}pop(){try{for(;this.#r;){let x=this.#t[this.#a];if(this.#L(!0),this.#e(x)){if(x.__staleWhileFetching)return x.__staleWhileFetching}else if(x!==void 0)return x}}finally{if(this.#c&&this.#o){let x=this.#o,E;for(;E=x?.shift();)this.#g?.(...E)}}}#L(x){let E=this.#a,T=this.#n[E],N=this.#t[E];return this.#T&&this.#e(N)?N.__abortController.abort(new Error("evicted")):(this.#w||this.#c)&&(this.#w&&this.#m?.(N,T,"evict"),this.#c&&this.#o?.push([N,T,"evict"])),this.#M(E),x&&(this.#n[E]=void 0,this.#t[E]=void 0,this.#_.push(E)),this.#r===1?(this.#a=this.#s=0,this.#_.length=0):this.#a=this.#u[E],this.#i.delete(T),this.#r--,E}has(x,E={}){let{updateAgeOnHas:T=this.updateAgeOnHas,status:N}=E,M=this.#i.get(x);if(M!==void 0){let D=this.#t[M];if(this.#e(D)&&D.__staleWhileFetching===void 0)return!1;if(this.#p(M))N&&(N.has="stale",this.#A(N,M));else return T&&this.#k(M),N&&(N.has="hit",this.#A(N,M)),!0}else N&&(N.has="miss");return!1}peek(x,E={}){let{allowStale:T=this.allowStale}=E,N=this.#i.get(x);if(N===void 0||!T&&this.#p(N))return;let M=this.#t[N];return this.#e(M)?M.__staleWhileFetching:M}#P(x,E,T,N){let M=E===void 0?void 0:this.#t[E];if(this.#e(M))return M;let D=new a,{signal:I}=T;I?.addEventListener("abort",()=>D.abort(I.reason),{signal:D.signal});let R={signal:D.signal,options:T,context:N},z=(G,dt=!1)=>{let{aborted:ht}=D.signal,ut=T.ignoreFetchAbort&&G!==void 0;if(T.status&&(ht&&!dt?(T.status.fetchAborted=!0,T.status.fetchError=D.signal.reason,ut&&(T.status.fetchAbortIgnored=!0)):T.status.fetchResolved=!0),ht&&!ut&&!dt)return W(D.signal.reason);let rt=tt;return this.#t[E]===tt&&(G===void 0?rt.__staleWhileFetching?this.#t[E]=rt.__staleWhileFetching:this.#E(x,"fetch"):(T.status&&(T.status.fetchUpdated=!0),this.set(x,G,R.options))),G},j=G=>(T.status&&(T.status.fetchRejected=!0,T.status.fetchError=G),W(G)),W=G=>{let{aborted:dt}=D.signal,ht=dt&&T.allowStaleOnFetchAbort,ut=ht||T.allowStaleOnFetchRejection,rt=ut||T.noDeleteOnFetchRejection,lt=tt;if(this.#t[E]===tt&&(!rt||lt.__staleWhileFetching===void 0?this.#E(x,"fetch"):ht||(this.#t[E]=lt.__staleWhileFetching)),ut)return T.status&&lt.__staleWhileFetching!==void 0&&(T.status.returnedStale=!0),lt.__staleWhileFetching;if(lt.__returned===lt)throw G},J=(G,dt)=>{let ht=this.#C?.(x,M,R);ht&&ht instanceof Promise&&ht.then(ut=>G(ut===void 0?void 0:ut),dt),D.signal.addEventListener("abort",()=>{(!T.ignoreFetchAbort||T.allowStaleOnFetchAbort)&&(G(void 0),T.allowStaleOnFetchAbort&&(G=ut=>z(ut,!0)))})};T.status&&(T.status.fetchDispatched=!0);let tt=new Promise(J).then(z,j),ot=Object.assign(tt,{__abortController:D,__staleWhileFetching:M,__returned:void 0});return E===void 0?(this.set(x,ot,{...R.options,status:void 0}),E=this.#i.get(x)):this.#t[E]=ot,ot}#e(x){if(!this.#T)return!1;let E=x;return!!E&&E instanceof Promise&&E.hasOwnProperty("__staleWhileFetching")&&E.__abortController instanceof a}async fetch(x,E={}){let{allowStale:T=this.allowStale,updateAgeOnGet:N=this.updateAgeOnGet,noDeleteOnStaleGet:M=this.noDeleteOnStaleGet,ttl:D=this.ttl,noDisposeOnSet:I=this.noDisposeOnSet,size:R=0,sizeCalculation:z=this.sizeCalculation,noUpdateTTL:j=this.noUpdateTTL,noDeleteOnFetchRejection:W=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:J=this.allowStaleOnFetchRejection,ignoreFetchAbort:tt=this.ignoreFetchAbort,allowStaleOnFetchAbort:ot=this.allowStaleOnFetchAbort,context:G,forceRefresh:dt=!1,status:ht,signal:ut}=E;if(!this.#T)return ht&&(ht.fetch="get"),this.get(x,{allowStale:T,updateAgeOnGet:N,noDeleteOnStaleGet:M,status:ht});let rt={allowStale:T,updateAgeOnGet:N,noDeleteOnStaleGet:M,ttl:D,noDisposeOnSet:I,size:R,sizeCalculation:z,noUpdateTTL:j,noDeleteOnFetchRejection:W,allowStaleOnFetchRejection:J,allowStaleOnFetchAbort:ot,ignoreFetchAbort:tt,status:ht,signal:ut},lt=this.#i.get(x);if(lt===void 0){ht&&(ht.fetch="miss");let et=this.#P(x,lt,rt,G);return et.__returned=et}else{let et=this.#t[lt];if(this.#e(et)){let Z=T&&et.__staleWhileFetching!==void 0;return ht&&(ht.fetch="inflight",Z&&(ht.returnedStale=!0)),Z?et.__staleWhileFetching:et.__returned=et}let Pt=this.#p(lt);if(!dt&&!Pt)return ht&&(ht.fetch="hit"),this.#O(lt),N&&this.#k(lt),ht&&this.#A(ht,lt),et;let nt=this.#P(x,lt,rt,G),Y=nt.__staleWhileFetching!==void 0&&T;return ht&&(ht.fetch=Pt?"stale":"refresh",Y&&Pt&&(ht.returnedStale=!0)),Y?nt.__staleWhileFetching:nt.__returned=nt}}async forceFetch(x,E={}){let T=await this.fetch(x,E);if(T===void 0)throw new Error("fetch() returned undefined");return T}memo(x,E={}){let T=this.#N;if(!T)throw new Error("no memoMethod provided to constructor");let{context:N,forceRefresh:M,...D}=E,I=this.get(x,D);if(!M&&I!==void 0)return I;let R=T(x,I,{options:D,context:N});return this.set(x,R,D),R}get(x,E={}){let{allowStale:T=this.allowStale,updateAgeOnGet:N=this.updateAgeOnGet,noDeleteOnStaleGet:M=this.noDeleteOnStaleGet,status:D}=E,I=this.#i.get(x);if(I!==void 0){let R=this.#t[I],z=this.#e(R);return D&&this.#A(D,I),this.#p(I)?(D&&(D.get="stale"),z?(D&&T&&R.__staleWhileFetching!==void 0&&(D.returnedStale=!0),T?R.__staleWhileFetching:void 0):(M||this.#E(x,"expire"),D&&T&&(D.returnedStale=!0),T?R:void 0)):(D&&(D.get="hit"),z?R.__staleWhileFetching:(this.#O(I),N&&this.#k(I),R))}else D&&(D.get="miss")}#B(x,E){this.#h[E]=x,this.#u[x]=E}#O(x){x!==this.#s&&(x===this.#a?this.#a=this.#u[x]:this.#B(this.#h[x],this.#u[x]),this.#B(this.#s,x),this.#s=x)}delete(x){return this.#E(x,"delete")}#E(x,E){let T=!1;if(this.#r!==0){let N=this.#i.get(x);if(N!==void 0)if(T=!0,this.#r===1)this.#U(E);else{this.#M(N);let M=this.#t[N];if(this.#e(M)?M.__abortController.abort(new Error("deleted")):(this.#w||this.#c)&&(this.#w&&this.#m?.(M,x,E),this.#c&&this.#o?.push([M,x,E])),this.#i.delete(x),this.#n[N]=void 0,this.#t[N]=void 0,N===this.#s)this.#s=this.#h[N];else if(N===this.#a)this.#a=this.#u[N];else{let D=this.#h[N];this.#u[D]=this.#u[N];let I=this.#u[N];this.#h[I]=this.#h[N]}this.#r--,this.#_.push(N)}}if(this.#c&&this.#o?.length){let N=this.#o,M;for(;M=N?.shift();)this.#g?.(...M)}return T}clear(){return this.#U("delete")}#U(x){for(let E of this.#S({allowStale:!0})){let T=this.#t[E];if(this.#e(T))T.__abortController.abort(new Error("deleted"));else{let N=this.#n[E];this.#w&&this.#m?.(T,N,x),this.#c&&this.#o?.push([T,N,x])}}if(this.#i.clear(),this.#t.fill(void 0),this.#n.fill(void 0),this.#d&&this.#v&&(this.#d.fill(0),this.#v.fill(0)),this.#b&&this.#b.fill(0),this.#a=0,this.#s=0,this.#_.length=0,this.#y=0,this.#r=0,this.#c&&this.#o){let E=this.#o,T;for(;T=E?.shift();)this.#g?.(...T)}}};n.LRUCache=_}),ha=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.ContainerIterator=n.Container=n.Base=void 0;var t=class{constructor(s=0){this.iteratorType=s}equals(s){return this.o===s.o}};n.ContainerIterator=t;var e=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};n.Base=e;var i=class extends e{};n.Container=i}),YM=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=ha(),e=class extends t.Base{constructor(s=[]){super(),this.S=[];let a=this;s.forEach(function(l){a.push(l)})}clear(){this.i=0,this.S=[]}push(s){return this.S.push(s),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},i=e;n.default=i}),ZM=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=ha(),e=class extends t.Base{constructor(s=[]){super(),this.j=0,this.q=[];let a=this;s.forEach(function(l){a.push(l)})}clear(){this.q=[],this.i=this.j=0}push(s){let a=this.q.length;if(this.j/a>.5&&this.j+this.i>=a&&a>4096){let l=this.i;for(let c=0;c<l;++c)this.q[c]=this.q[this.j+c];this.j=0,this.q[this.i]=s}else this.q[this.j+this.i]=s;return++this.i}pop(){if(this.i===0)return;let s=this.q[this.j++];return this.i-=1,s}front(){if(this.i!==0)return this.q[this.j]}},i=e;n.default=i}),XM=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=ha(),e=class extends t.Base{constructor(s=[],a=function(c,f){return c>f?-1:c<f?1:0},l=!0){if(super(),this.v=a,Array.isArray(s))this.C=l?[...s]:s;else{this.C=[];let f=this;s.forEach(function(d){f.C.push(d)})}this.i=this.C.length;let c=this.i>>1;for(let f=this.i-1>>1;f>=0;--f)this.k(f,c)}m(s){let a=this.C[s];for(;s>0;){let l=s-1>>1,c=this.C[l];if(this.v(c,a)<=0)break;this.C[s]=c,s=l}this.C[s]=a}k(s,a){let l=this.C[s];for(;s<a;){let c=s<<1|1,f=c+1,d=this.C[c];if(f<this.i&&this.v(d,this.C[f])>0&&(c=f,d=this.C[f]),this.v(d,l)>=0)break;this.C[s]=d,s=c}this.C[s]=l}clear(){this.i=0,this.C.length=0}push(s){this.C.push(s),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let s=this.C[0],a=this.C.pop();return this.i-=1,this.i&&(this.C[0]=a,this.k(0,this.i>>1)),s}top(){return this.C[0]}find(s){return this.C.indexOf(s)>=0}remove(s){let a=this.C.indexOf(s);return a<0?!1:(a===0?this.pop():a===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(a,1,this.C.pop()),this.i-=1,this.m(a),this.k(a,this.i>>1)),!0)}updateItem(s){let a=this.C.indexOf(s);return a<0?!1:(this.m(a),this.k(a,this.i>>1),!0)}toArray(){return[...this.C]}},i=e;n.default=i}),q_=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=ha(),e=class extends t.Container{},i=e;n.default=i}),da=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.throwIteratorAccessError=t;function t(){throw new RangeError("Iterator access denied!")}}),_2=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.RandomIterator=void 0;var t=ha(),e=da(),i=class extends t.ContainerIterator{constructor(s,a){super(a),this.o=s,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,e.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,e.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,e.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,e.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(s){this.container.setElementByPos(this.o,s)}};n.RandomIterator=i}),GM=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=i(q_()),e=_2();function i(c){return c&&c.t?c:{default:c}}var s=class b2 extends e.RandomIterator{constructor(f,d,g){super(f,g),this.container=d}copy(){return new b2(this.o,this.container,this.iteratorType)}},a=class extends t.default{constructor(c=[],f=!0){if(super(),Array.isArray(c))this.J=f?[...c]:c,this.i=c.length;else{this.J=[];let d=this;c.forEach(function(g){d.pushBack(g)})}}clear(){this.i=0,this.J.length=0}begin(){return new s(0,this)}end(){return new s(this.i,this)}rBegin(){return new s(this.i-1,this,1)}rEnd(){return new s(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;return this.J[c]}eraseElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;return this.J.splice(c,1),this.i-=1,this.i}eraseElementByValue(c){let f=0;for(let d=0;d<this.i;++d)this.J[d]!==c&&(this.J[f++]=this.J[d]);return this.i=this.J.length=f,this.i}eraseElementByIterator(c){let f=c.o;return c=c.next(),this.eraseElementByPos(f),c}pushBack(c){return this.J.push(c),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(c,f){if(c<0||c>this.i-1)throw new RangeError;this.J[c]=f}insert(c,f,d=1){if(c<0||c>this.i)throw new RangeError;return this.J.splice(c,0,...new Array(d).fill(f)),this.i+=d,this.i}find(c){for(let f=0;f<this.i;++f)if(this.J[f]===c)return new s(f,this);return this.end()}reverse(){this.J.reverse()}unique(){let c=1;for(let f=1;f<this.i;++f)this.J[f]!==this.J[f-1]&&(this.J[c++]=this.J[f]);return this.i=this.J.length=c,this.i}sort(c){this.J.sort(c)}forEach(c){for(let f=0;f<this.i;++f)c(this.J[f],f,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},l=a;n.default=l}),$M=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=s(q_()),e=ha(),i=da();function s(f){return f&&f.t?f:{default:f}}var a=class v2 extends e.ContainerIterator{constructor(d,g,y,_){super(_),this.o=d,this.h=g,this.container=y,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o.l}set pointer(d){this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o.l=d}copy(){return new v2(this.o,this.h,this.container,this.iteratorType)}},l=class extends t.default{constructor(f=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let d=this;f.forEach(function(g){d.pushBack(g)})}V(f){let{L:d,B:g}=f;d.B=g,g.L=d,f===this.p&&(this.p=g),f===this._&&(this._=d),this.i-=1}G(f,d){let g=d.B,y={l:f,L:d,B:g};d.B=y,g.L=y,d===this.h&&(this.p=y),g===this.h&&(this._=y),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new a(this.p,this.h,this)}end(){return new a(this.h,this.h,this)}rBegin(){return new a(this._,this.h,this,1)}rEnd(){return new a(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(f){if(f<0||f>this.i-1)throw new RangeError;let d=this.p;for(;f--;)d=d.B;return d.l}eraseElementByPos(f){if(f<0||f>this.i-1)throw new RangeError;let d=this.p;for(;f--;)d=d.B;return this.V(d),this.i}eraseElementByValue(f){let d=this.p;for(;d!==this.h;)d.l===f&&this.V(d),d=d.B;return this.i}eraseElementByIterator(f){let d=f.o;return d===this.h&&(0,i.throwIteratorAccessError)(),f=f.next(),this.V(d),f}pushBack(f){return this.G(f,this._),this.i}popBack(){if(this.i===0)return;let f=this._.l;return this.V(this._),f}pushFront(f){return this.G(f,this.h),this.i}popFront(){if(this.i===0)return;let f=this.p.l;return this.V(this.p),f}setElementByPos(f,d){if(f<0||f>this.i-1)throw new RangeError;let g=this.p;for(;f--;)g=g.B;g.l=d}insert(f,d,g=1){if(f<0||f>this.i)throw new RangeError;if(g<=0)return this.i;if(f===0)for(;g--;)this.pushFront(d);else if(f===this.i)for(;g--;)this.pushBack(d);else{let y=this.p;for(let S=1;S<f;++S)y=y.B;let _=y.B;for(this.i+=g;g--;)y.B={l:d,L:y},y.B.L=y,y=y.B;y.B=_,_.L=y}return this.i}find(f){let d=this.p;for(;d!==this.h;){if(d.l===f)return new a(d,this.h,this);d=d.B}return this.end()}reverse(){if(this.i<=1)return;let f=this.p,d=this._,g=0;for(;g<<1<this.i;){let y=f.l;f.l=d.l,d.l=y,f=f.B,d=d.L,g+=1}}unique(){if(this.i<=1)return this.i;let f=this.p;for(;f!==this.h;){let d=f;for(;d.B!==this.h&&d.l===d.B.l;)d=d.B,this.i-=1;f.B=d.B,f.B.L=f,f=f.B}return this.i}sort(f){if(this.i<=1)return;let d=[];this.forEach(function(y){d.push(y)}),d.sort(f);let g=this.p;d.forEach(function(y){g.l=y,g=g.B})}merge(f){let d=this;if(this.i===0)f.forEach(function(g){d.pushBack(g)});else{let g=this.p;f.forEach(function(y){for(;g!==d.h&&g.l<=y;)g=g.B;d.G(y,g.L)})}return this.i}forEach(f){let d=this.p,g=0;for(;d!==this.h;)f(d.l,g++,this),d=d.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let f=this.p;for(;f!==this.h;)yield f.l,f=f.B}).bind(this)()}},c=l;n.default=c}),QM=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=i(q_()),e=_2();function i(c){return c&&c.t?c:{default:c}}var s=class w2 extends e.RandomIterator{constructor(f,d,g){super(f,g),this.container=d}copy(){return new w2(this.o,this.container,this.iteratorType)}},a=class extends t.default{constructor(c=[],f=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let d=(()=>{if(typeof c.length=="number")return c.length;if(typeof c.size=="number")return c.size;if(typeof c.size=="function")return c.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=f,this.P=Math.max(Math.ceil(d/this.F),1);for(let _=0;_<this.P;++_)this.A.push(new Array(this.F));let g=Math.ceil(d/this.F);this.j=this.R=(this.P>>1)-(g>>1),this.D=this.N=this.F-d%this.F>>1;let y=this;c.forEach(function(_){y.pushBack(_)})}T(){let c=[],f=Math.max(this.P>>1,1);for(let d=0;d<f;++d)c[d]=new Array(this.F);for(let d=this.j;d<this.P;++d)c[c.length]=this.A[d];for(let d=0;d<this.R;++d)c[c.length]=this.A[d];c[c.length]=[...this.A[this.R]],this.j=f,this.R=c.length-1;for(let d=0;d<f;++d)c[c.length]=new Array(this.F);this.A=c,this.P=c.length}O(c){let f=this.D+c+1,d=f%this.F,g=d-1,y=this.j+(f-d)/this.F;return d===0&&(y-=1),y%=this.P,g<0&&(g+=this.F),{curNodeBucketIndex:y,curNodePointerIndex:g}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new s(0,this)}end(){return new s(this.i,this)}rBegin(){return new s(this.i-1,this,1)}rEnd(){return new s(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(c){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=c,this.i}popBack(){if(this.i===0)return;let c=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,c}pushFront(c){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=c,this.i}popFront(){if(this.i===0)return;let c=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,c}getElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;let{curNodeBucketIndex:f,curNodePointerIndex:d}=this.O(c);return this.A[f][d]}setElementByPos(c,f){if(c<0||c>this.i-1)throw new RangeError;let{curNodeBucketIndex:d,curNodePointerIndex:g}=this.O(c);this.A[d][g]=f}insert(c,f,d=1){if(c<0||c>this.i)throw new RangeError;if(c===0)for(;d--;)this.pushFront(f);else if(c===this.i)for(;d--;)this.pushBack(f);else{let g=[];for(let y=c;y<this.i;++y)g.push(this.getElementByPos(y));this.cut(c-1);for(let y=0;y<d;++y)this.pushBack(f);for(let y=0;y<g.length;++y)this.pushBack(g[y])}return this.i}cut(c){if(c<0)return this.clear(),0;let{curNodeBucketIndex:f,curNodePointerIndex:d}=this.O(c);return this.R=f,this.N=d,this.i=c+1,this.i}eraseElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;if(c===0)this.popFront();else if(c===this.i-1)this.popBack();else{let f=[];for(let g=c+1;g<this.i;++g)f.push(this.getElementByPos(g));this.cut(c),this.popBack();let d=this;f.forEach(function(g){d.pushBack(g)})}return this.i}eraseElementByValue(c){if(this.i===0)return 0;let f=[];for(let g=0;g<this.i;++g){let y=this.getElementByPos(g);y!==c&&f.push(y)}let d=f.length;for(let g=0;g<d;++g)this.setElementByPos(g,f[g]);return this.cut(d-1)}eraseElementByIterator(c){let f=c.o;return this.eraseElementByPos(f),c=c.next(),c}find(c){for(let f=0;f<this.i;++f)if(this.getElementByPos(f)===c)return new s(f,this);return this.end()}reverse(){let c=0,f=this.i-1;for(;c<f;){let d=this.getElementByPos(c);this.setElementByPos(c,this.getElementByPos(f)),this.setElementByPos(f,d),c+=1,f-=1}}unique(){if(this.i<=1)return this.i;let c=1,f=this.getElementByPos(0);for(let d=1;d<this.i;++d){let g=this.getElementByPos(d);g!==f&&(f=g,this.setElementByPos(c++,g))}for(;this.i>c;)this.popBack();return this.i}sort(c){let f=[];for(let d=0;d<this.i;++d)f.push(this.getElementByPos(d));f.sort(c);for(let d=0;d<this.i;++d)this.setElementByPos(d,f[d])}shrinkToFit(){if(this.i===0)return;let c=[];this.forEach(function(f){c.push(f)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let f=0;f<this.P;++f)this.A.push(new Array(this.F));for(let f=0;f<c.length;++f)this.pushBack(c[f])}forEach(c){for(let f=0;f<this.i;++f)c(this.getElementByPos(f),f,this)}[Symbol.iterator](){return(function*(){for(let c=0;c<this.i;++c)yield this.getElementByPos(c)}).bind(this)()}},l=a;n.default=l}),JM=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.TreeNodeEnableIndex=n.TreeNode=void 0;var t=class{constructor(i,s){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=i,this.l=s}L(){let i=this;if(i.ee===1&&i.tt.tt===i)i=i.W;else if(i.U)for(i=i.U;i.W;)i=i.W;else{let s=i.tt;for(;s.U===i;)i=s,s=i.tt;i=s}return i}B(){let i=this;if(i.W){for(i=i.W;i.U;)i=i.U;return i}else{let s=i.tt;for(;s.W===i;)i=s,s=i.tt;return i.W!==s?s:i}}te(){let i=this.tt,s=this.W,a=s.U;return i.tt===this?i.tt=s:i.U===this?i.U=s:i.W=s,s.tt=i,s.U=this,this.tt=s,this.W=a,a&&(a.tt=this),s}se(){let i=this.tt,s=this.U,a=s.W;return i.tt===this?i.tt=s:i.U===this?i.U=s:i.W=s,s.tt=i,s.W=this,this.tt=s,this.U=a,a&&(a.tt=this),s}};n.TreeNode=t;var e=class extends t{constructor(){super(...arguments),this.rt=1}te(){let i=super.te();return this.ie(),i.ie(),i}se(){let i=super.se();return this.ie(),i.ie(),i}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};n.TreeNodeEnableIndex=e}),x2=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=JM(),e=ha(),i=da(),s=class extends e.Container{constructor(l=function(f,d){return f<d?-1:f>d?1:0},c=!1){super(),this.Y=void 0,this.v=l,c?(this.re=t.TreeNodeEnableIndex,this.M=function(f,d,g){let y=this.ne(f,d,g);if(y){let _=y.tt;for(;_!==this.h;)_.rt+=1,_=_.tt;let S=this.he(y);if(S){let{parentNode:x,grandParent:E,curNode:T}=S;x.ie(),E.ie(),T.ie()}}return this.i},this.V=function(f){let d=this.fe(f);for(;d!==this.h;)d.rt-=1,d=d.tt}):(this.re=t.TreeNode,this.M=function(f,d,g){let y=this.ne(f,d,g);return y&&this.he(y),this.i},this.V=this.fe),this.h=new this.re}X(l,c){let f=this.h;for(;l;){let d=this.v(l.u,c);if(d<0)l=l.W;else if(d>0)f=l,l=l.U;else return l}return f}Z(l,c){let f=this.h;for(;l;)this.v(l.u,c)<=0?l=l.W:(f=l,l=l.U);return f}$(l,c){let f=this.h;for(;l;){let d=this.v(l.u,c);if(d<0)f=l,l=l.W;else if(d>0)l=l.U;else return l}return f}rr(l,c){let f=this.h;for(;l;)this.v(l.u,c)<0?(f=l,l=l.W):l=l.U;return f}ue(l){for(;;){let c=l.tt;if(c===this.h)return;if(l.ee===1){l.ee=0;return}if(l===c.U){let f=c.W;if(f.ee===1)f.ee=0,c.ee=1,c===this.Y?this.Y=c.te():c.te();else if(f.W&&f.W.ee===1){f.ee=c.ee,c.ee=0,f.W.ee=0,c===this.Y?this.Y=c.te():c.te();return}else f.U&&f.U.ee===1?(f.ee=1,f.U.ee=0,f.se()):(f.ee=1,l=c)}else{let f=c.U;if(f.ee===1)f.ee=0,c.ee=1,c===this.Y?this.Y=c.se():c.se();else if(f.U&&f.U.ee===1){f.ee=c.ee,c.ee=0,f.U.ee=0,c===this.Y?this.Y=c.se():c.se();return}else f.W&&f.W.ee===1?(f.ee=1,f.W.ee=0,f.te()):(f.ee=1,l=c)}}}fe(l){if(this.i===1)return this.clear(),this.h;let c=l;for(;c.U||c.W;){if(c.W)for(c=c.W;c.U;)c=c.U;else c=c.U;[l.u,c.u]=[c.u,l.u],[l.l,c.l]=[c.l,l.l],l=c}this.h.U===c?this.h.U=c.tt:this.h.W===c&&(this.h.W=c.tt),this.ue(c);let f=c.tt;return c===f.U?f.U=void 0:f.W=void 0,this.i-=1,this.Y.ee=0,f}oe(l,c){return l===void 0?!1:this.oe(l.U,c)||c(l)?!0:this.oe(l.W,c)}he(l){for(;;){let c=l.tt;if(c.ee===0)return;let f=c.tt;if(c===f.U){let d=f.W;if(d&&d.ee===1){if(d.ee=c.ee=0,f===this.Y)return;f.ee=1,l=f;continue}else if(l===c.W){if(l.ee=0,l.U&&(l.U.tt=c),l.W&&(l.W.tt=f),c.W=l.U,f.U=l.W,l.U=c,l.W=f,f===this.Y)this.Y=l,this.h.tt=l;else{let g=f.tt;g.U===f?g.U=l:g.W=l}return l.tt=f.tt,c.tt=l,f.tt=l,f.ee=1,{parentNode:c,grandParent:f,curNode:l}}else c.ee=0,f===this.Y?this.Y=f.se():f.se(),f.ee=1}else{let d=f.U;if(d&&d.ee===1){if(d.ee=c.ee=0,f===this.Y)return;f.ee=1,l=f;continue}else if(l===c.U){if(l.ee=0,l.U&&(l.U.tt=f),l.W&&(l.W.tt=c),f.W=l.U,c.U=l.W,l.U=f,l.W=c,f===this.Y)this.Y=l,this.h.tt=l;else{let g=f.tt;g.U===f?g.U=l:g.W=l}return l.tt=f.tt,c.tt=l,f.tt=l,f.ee=1,{parentNode:c,grandParent:f,curNode:l}}else c.ee=0,f===this.Y?this.Y=f.te():f.te(),f.ee=1}return}}ne(l,c,f){if(this.Y===void 0){this.i+=1,this.Y=new this.re(l,c),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let d,g=this.h.U,y=this.v(g.u,l);if(y===0){g.l=c;return}else if(y>0)g.U=new this.re(l,c),g.U.tt=g,d=g.U,this.h.U=d;else{let _=this.h.W,S=this.v(_.u,l);if(S===0){_.l=c;return}else if(S<0)_.W=new this.re(l,c),_.W.tt=_,d=_.W,this.h.W=d;else{if(f!==void 0){let x=f.o;if(x!==this.h){let E=this.v(x.u,l);if(E===0){x.l=c;return}else if(E>0){let T=x.L(),N=this.v(T.u,l);if(N===0){T.l=c;return}else N<0&&(d=new this.re(l,c),T.W===void 0?(T.W=d,d.tt=T):(x.U=d,d.tt=x))}}}if(d===void 0)for(d=this.Y;;){let x=this.v(d.u,l);if(x>0){if(d.U===void 0){d.U=new this.re(l,c),d.U.tt=d,d=d.U;break}d=d.U}else if(x<0){if(d.W===void 0){d.W=new this.re(l,c),d.W.tt=d,d=d.W;break}d=d.W}else{d.l=c;return}}}}return this.i+=1,d}I(l,c){for(;l;){let f=this.v(l.u,c);if(f<0)l=l.W;else if(f>0)l=l.U;else return l}return l||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(l,c){let f=l.o;if(f===this.h&&(0,i.throwIteratorAccessError)(),this.i===1)return f.u=c,!0;if(f===this.h.U)return this.v(f.B().u,c)>0?(f.u=c,!0):!1;if(f===this.h.W)return this.v(f.L().u,c)<0?(f.u=c,!0):!1;let d=f.L().u;if(this.v(d,c)>=0)return!1;let g=f.B().u;return this.v(g,c)<=0?!1:(f.u=c,!0)}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=0,f=this;return this.oe(this.Y,function(d){return l===c?(f.V(d),!0):(c+=1,!1)}),this.i}eraseElementByKey(l){if(this.i===0)return!1;let c=this.I(this.Y,l);return c===this.h?!1:(this.V(c),!0)}eraseElementByIterator(l){let c=l.o;c===this.h&&(0,i.throwIteratorAccessError)();let f=c.W===void 0;return l.iteratorType===0?f&&l.next():(!f||c.U===void 0)&&l.next(),this.V(c),l}forEach(l){let c=0;for(let f of this)l(f,c++,this)}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c,f=0;for(let d of this){if(f===l){c=d;break}f+=1}return c}getHeight(){if(this.i===0)return 0;let l=function(c){return c?Math.max(l(c.U),l(c.W))+1:0};return l(this.Y)}},a=s;n.default=a}),S2=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=ha(),e=da(),i=class extends t.ContainerIterator{constructor(a,l,c){super(c),this.o=a,this.h=l,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,e.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,e.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,e.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,e.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let a=this.o,l=this.h.tt;if(a===this.h)return l?l.rt-1:0;let c=0;for(a.U&&(c+=a.U.rt);a!==l;){let f=a.tt;a===f.W&&(c+=1,f.U&&(c+=f.U.rt)),a=f}return c}},s=i;n.default=s}),tO=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=s(x2()),e=s(S2()),i=da();function s(f){return f&&f.t?f:{default:f}}var a=class E2 extends e.default{constructor(d,g,y,_){super(d,g,_),this.container=y}get pointer(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o.u}copy(){return new E2(this.o,this.h,this.container,this.iteratorType)}},l=class extends t.default{constructor(f=[],d,g){super(d,g);let y=this;f.forEach(function(_){y.insert(_)})}*K(f){f!==void 0&&(yield*this.K(f.U),yield f.u,yield*this.K(f.W))}begin(){return new a(this.h.U||this.h,this.h,this)}end(){return new a(this.h,this.h,this)}rBegin(){return new a(this.h.W||this.h,this.h,this,1)}rEnd(){return new a(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(f,d){return this.M(f,void 0,d)}find(f){let d=this.I(this.Y,f);return new a(d,this.h,this)}lowerBound(f){let d=this.X(this.Y,f);return new a(d,this.h,this)}upperBound(f){let d=this.Z(this.Y,f);return new a(d,this.h,this)}reverseLowerBound(f){let d=this.$(this.Y,f);return new a(d,this.h,this)}reverseUpperBound(f){let d=this.rr(this.Y,f);return new a(d,this.h,this)}union(f){let d=this;return f.forEach(function(g){d.insert(g)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},c=l;n.default=c}),eO=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=s(x2()),e=s(S2()),i=da();function s(f){return f&&f.t?f:{default:f}}var a=class A2 extends e.default{constructor(d,g,y,_){super(d,g,_),this.container=y}get pointer(){this.o===this.h&&(0,i.throwIteratorAccessError)();let d=this;return new Proxy([],{get(g,y){if(y==="0")return d.o.u;if(y==="1")return d.o.l},set(g,y,_){if(y!=="1")throw new TypeError("props must be 1");return d.o.l=_,!0}})}copy(){return new A2(this.o,this.h,this.container,this.iteratorType)}},l=class extends t.default{constructor(f=[],d,g){super(d,g);let y=this;f.forEach(function(_){y.setElement(_[0],_[1])})}*K(f){f!==void 0&&(yield*this.K(f.U),yield[f.u,f.l],yield*this.K(f.W))}begin(){return new a(this.h.U||this.h,this.h,this)}end(){return new a(this.h,this.h,this)}rBegin(){return new a(this.h.W||this.h,this.h,this,1)}rEnd(){return new a(this.h,this.h,this,1)}front(){if(this.i===0)return;let f=this.h.U;return[f.u,f.l]}back(){if(this.i===0)return;let f=this.h.W;return[f.u,f.l]}lowerBound(f){let d=this.X(this.Y,f);return new a(d,this.h,this)}upperBound(f){let d=this.Z(this.Y,f);return new a(d,this.h,this)}reverseLowerBound(f){let d=this.$(this.Y,f);return new a(d,this.h,this)}reverseUpperBound(f){let d=this.rr(this.Y,f);return new a(d,this.h,this)}setElement(f,d,g){return this.M(f,d,g)}find(f){let d=this.I(this.Y,f);return new a(d,this.h,this)}getElementByKey(f){return this.I(this.Y,f).l}union(f){let d=this;return f.forEach(function(g){d.setElement(g[0],g[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},c=l;n.default=c}),T2=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=t;function t(e){let i=typeof e;return i==="object"&&e!==null||i==="function"}}),k2=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.HashContainerIterator=n.HashContainer=void 0;var t=ha(),e=s(T2()),i=da();function s(c){return c&&c.t?c:{default:c}}var a=class extends t.ContainerIterator{constructor(c,f,d){super(d),this.o=c,this.h=f,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this})}};n.HashContainerIterator=a;var l=class extends t.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(c){let{L:f,B:d}=c;f.B=d,d.L=f,c===this.p&&(this.p=d),c===this._&&(this._=f),this.i-=1}M(c,f,d){d===void 0&&(d=(0,e.default)(c));let g;if(d){let y=c[this.HASH_TAG];if(y!==void 0)return this.H[y].l=f,this.i;Object.defineProperty(c,this.HASH_TAG,{value:this.H.length,configurable:!0}),g={u:c,l:f,L:this._,B:this.h},this.H.push(g)}else{let y=this.g[c];if(y)return y.l=f,this.i;g={u:c,l:f,L:this._,B:this.h},this.g[c]=g}return this.i===0?(this.p=g,this.h.B=g):this._.B=g,this._=g,this.h.L=g,++this.i}I(c,f){if(f===void 0&&(f=(0,e.default)(c)),f){let d=c[this.HASH_TAG];return d===void 0?this.h:this.H[d]}else return this.g[c]||this.h}clear(){let c=this.HASH_TAG;this.H.forEach(function(f){delete f.u[c]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(c,f){let d;if(f===void 0&&(f=(0,e.default)(c)),f){let g=c[this.HASH_TAG];if(g===void 0)return!1;delete c[this.HASH_TAG],d=this.H[g],delete this.H[g]}else{if(d=this.g[c],d===void 0)return!1;delete this.g[c]}return this.V(d),!0}eraseElementByIterator(c){let f=c.o;return f===this.h&&(0,i.throwIteratorAccessError)(),this.V(f),c.next()}eraseElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;let f=this.p;for(;c--;)f=f.B;return this.V(f),this.i}};n.HashContainer=l}),nO=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=k2(),e=da(),i=class M2 extends t.HashContainerIterator{constructor(c,f,d,g){super(c,f,g),this.container=d}get pointer(){return this.o===this.h&&(0,e.throwIteratorAccessError)(),this.o.u}copy(){return new M2(this.o,this.h,this.container,this.iteratorType)}},s=class extends t.HashContainer{constructor(l=[]){super();let c=this;l.forEach(function(f){c.insert(f)})}begin(){return new i(this.p,this.h,this)}end(){return new i(this.h,this.h,this)}rBegin(){return new i(this._,this.h,this,1)}rEnd(){return new i(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(l,c){return this.M(l,void 0,c)}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return c.u}find(l,c){let f=this.I(l,c);return new i(f,this.h,this)}forEach(l){let c=0,f=this.p;for(;f!==this.h;)l(f.u,c++,this),f=f.B}[Symbol.iterator](){return(function*(){let l=this.p;for(;l!==this.h;)yield l.u,l=l.B}).bind(this)()}},a=s;n.default=a}),iO=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=k2(),e=s(T2()),i=da();function s(f){return f&&f.t?f:{default:f}}var a=class O2 extends t.HashContainerIterator{constructor(d,g,y,_){super(d,g,_),this.container=y}get pointer(){this.o===this.h&&(0,i.throwIteratorAccessError)();let d=this;return new Proxy([],{get(g,y){if(y==="0")return d.o.u;if(y==="1")return d.o.l},set(g,y,_){if(y!=="1")throw new TypeError("props must be 1");return d.o.l=_,!0}})}copy(){return new O2(this.o,this.h,this.container,this.iteratorType)}},l=class extends t.HashContainer{constructor(f=[]){super();let d=this;f.forEach(function(g){d.setElement(g[0],g[1])})}begin(){return new a(this.p,this.h,this)}end(){return new a(this.h,this.h,this)}rBegin(){return new a(this._,this.h,this,1)}rEnd(){return new a(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(f,d,g){return this.M(f,d,g)}getElementByKey(f,d){if(d===void 0&&(d=(0,e.default)(f)),d){let y=f[this.HASH_TAG];return y!==void 0?this.H[y].l:void 0}let g=this.g[f];return g?g.l:void 0}getElementByPos(f){if(f<0||f>this.i-1)throw new RangeError;let d=this.p;for(;f--;)d=d.B;return[d.u,d.l]}find(f,d){let g=this.I(f,d);return new a(g,this.h,this)}forEach(f){let d=0,g=this.p;for(;g!==this.h;)f([g.u,g.l],d++,this),g=g.B}[Symbol.iterator](){return(function*(){let f=this.p;for(;f!==this.h;)yield[f.u,f.l],f=f.B}).bind(this)()}},c=l;n.default=c}),rO=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),Object.defineProperty(n,"Deque",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"HashMap",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(n,"HashSet",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(n,"LinkList",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"OrderedMap",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(n,"OrderedSet",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"PriorityQueue",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"Queue",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"Stack",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(n,"Vector",{enumerable:!0,get:function(){return s.default}});var t=y(YM()),e=y(ZM()),i=y(XM()),s=y(GM()),a=y($M()),l=y(QM()),c=y(tO()),f=y(eO()),d=y(nO()),g=y(iO());function y(_){return _&&_.t?_:{default:_}}}),sO=pe((n,t)=>{oe(),le(),ae();var e=rO().OrderedSet,i=ca()("number-allocator:trace"),s=ca()("number-allocator:error");function a(c,f){this.low=c,this.high=f}a.prototype.equals=function(c){return this.low===c.low&&this.high===c.high},a.prototype.compare=function(c){return this.low<c.low&&this.high<c.low?-1:c.low<this.low&&c.high<this.low?1:0};function l(c,f){if(!(this instanceof l))return new l(c,f);this.min=c,this.max=f,this.ss=new e([],(d,g)=>d.compare(g)),i("Create"),this.clear()}l.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},l.prototype.alloc=function(){if(this.ss.size()===0)return i("alloc():empty"),null;let c=this.ss.begin(),f=c.pointer.low,d=c.pointer.high,g=f;return g+1<=d?this.ss.updateKeyByIterator(c,new a(f+1,d)):this.ss.eraseElementByPos(0),i("alloc():"+g),g},l.prototype.use=function(c){let f=new a(c,c),d=this.ss.lowerBound(f);if(!d.equals(this.ss.end())){let g=d.pointer.low,y=d.pointer.high;return d.pointer.equals(f)?(this.ss.eraseElementByIterator(d),i("use():"+c),!0):g>c?!1:g===c?(this.ss.updateKeyByIterator(d,new a(g+1,y)),i("use():"+c),!0):y===c?(this.ss.updateKeyByIterator(d,new a(g,y-1)),i("use():"+c),!0):(this.ss.updateKeyByIterator(d,new a(c+1,y)),this.ss.insert(new a(g,c-1)),i("use():"+c),!0)}return i("use():failed"),!1},l.prototype.free=function(c){if(c<this.min||c>this.max){s("free():"+c+" is out of range");return}let f=new a(c,c),d=this.ss.upperBound(f);if(d.equals(this.ss.end())){if(d.equals(this.ss.begin())){this.ss.insert(f);return}d.pre();let g=d.pointer.high;d.pointer.high+1===c?this.ss.updateKeyByIterator(d,new a(g,c)):this.ss.insert(f)}else if(d.equals(this.ss.begin()))if(c+1===d.pointer.low){let g=d.pointer.high;this.ss.updateKeyByIterator(d,new a(c,g))}else this.ss.insert(f);else{let g=d.pointer.low,y=d.pointer.high;d.pre();let _=d.pointer.low;d.pointer.high+1===c?c+1===g?(this.ss.eraseElementByIterator(d),this.ss.updateKeyByIterator(d,new a(_,y))):this.ss.updateKeyByIterator(d,new a(_,c)):c+1===g?(this.ss.eraseElementByIterator(d.next()),this.ss.insert(new a(c,y))):this.ss.insert(f)}i("free():"+c)},l.prototype.clear=function(){i("clear()"),this.ss.clear(),this.ss.insert(new a(this.min,this.max))},l.prototype.intervalCount=function(){return this.ss.size()},l.prototype.dump=function(){console.log("length:"+this.ss.size());for(let c of this.ss)console.log(c)},t.exports=l}),C2=pe((n,t)=>{oe(),le(),ae();var e=sO();t.exports.NumberAllocator=e}),oO=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0});var t=KM(),e=C2(),i=class{aliasToTopic;topicToAlias;max;numberAllocator;length;constructor(s){s>0&&(this.aliasToTopic=new t.LRUCache({max:s}),this.topicToAlias={},this.numberAllocator=new e.NumberAllocator(1,s),this.max=s,this.length=0)}put(s,a){if(a===0||a>this.max)return!1;let l=this.aliasToTopic.get(a);return l&&delete this.topicToAlias[l],this.aliasToTopic.set(a,s),this.topicToAlias[s]=a,this.numberAllocator.use(a),this.length=this.aliasToTopic.size,!0}getTopicByAlias(s){return this.aliasToTopic.get(s)}getAliasByTopic(s){let a=this.topicToAlias[s];return typeof a<"u"&&this.aliasToTopic.get(a),a}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};n.default=i}),aO=pe(n=>{oe(),le(),ae();var t=n&&n.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(n,"__esModule",{value:!0});var e=Yd(),i=t(oO()),s=Vu(),a=(l,c)=>{l.log("_handleConnack");let{options:f}=l,d=f.protocolVersion===5?c.reasonCode:c.returnCode;if(clearTimeout(l.connackTimer),delete l.topicAliasSend,c.properties){if(c.properties.topicAliasMaximum){if(c.properties.topicAliasMaximum>65535){l.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}c.properties.topicAliasMaximum>0&&(l.topicAliasSend=new i.default(c.properties.topicAliasMaximum))}c.properties.serverKeepAlive&&f.keepalive&&(f.keepalive=c.properties.serverKeepAlive),c.properties.maximumPacketSize&&(f.properties||(f.properties={}),f.properties.maximumPacketSize=c.properties.maximumPacketSize)}if(d===0)l.reconnecting=!1,l._onConnect(c);else if(d>0){let g=new s.ErrorWithReasonCode(`Connection refused: ${e.ReasonCodes[d]}`,d);l.emit("error",g),l.options.reconnectOnConnackError&&l._cleanUp(!0)}};n.default=a}),lO=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0});var t=(e,i,s)=>{e.log("handling pubrel packet");let a=typeof s<"u"?s:e.noop,{messageId:l}=i,c={cmd:"pubcomp",messageId:l};e.incomingStore.get(i,(f,d)=>{f?e._sendPacket(c,a):(e.emit("message",d.topic,d.payload,d),e.handleMessage(d,g=>{if(g)return a(g);e.incomingStore.del(d,e.noop),e._sendPacket(c,a)}))})};n.default=t}),uO=pe(n=>{oe(),le(),ae();var t=n&&n.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(n,"__esModule",{value:!0});var e=t(qM()),i=t(WM()),s=t(aO()),a=t(Yd()),l=t(lO()),c=(f,d,g)=>{let{options:y}=f;if(y.protocolVersion===5&&y.properties&&y.properties.maximumPacketSize&&y.properties.maximumPacketSize<d.length)return f.emit("error",new Error(`exceeding packets size ${d.cmd}`)),f.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),f;switch(f.log("_handlePacket :: emitting packetreceive"),f.emit("packetreceive",d),d.cmd){case"publish":(0,e.default)(f,d,g);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":f.reschedulePing(),(0,a.default)(f,d),g();break;case"pubrel":f.reschedulePing(),(0,l.default)(f,d,g);break;case"connack":(0,s.default)(f,d),g();break;case"auth":f.reschedulePing(),(0,i.default)(f,d),g();break;case"pingresp":f.log("_handlePacket :: received pingresp"),f.reschedulePing(!0),g();break;case"disconnect":f.emit("disconnect",d),g();break;default:f.log("_handlePacket :: unknown command"),g();break}};n.default=c}),N2=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0});var t=class{nextId;constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let e=this.nextId++;return this.nextId===65536&&(this.nextId=1),e}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(e){return!0}deallocate(e){}clear(){}};n.default=t}),cO=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0});var t=class{aliasToTopic;max;length;constructor(e){this.aliasToTopic={},this.max=e}put(e,i){return i===0||i>this.max?!1:(this.aliasToTopic[i]=e,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(e){return this.aliasToTopic[e]}clear(){this.aliasToTopic={}}};n.default=t}),fO=pe(n=>{oe(),le(),ae();var t=n&&n.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(n,"__esModule",{value:!0}),n.TypedEventEmitter=void 0;var e=t((Wl(),Bn(al))),i=Vu(),s=class{};n.TypedEventEmitter=s,(0,i.applyMixin)(s,e.default)}),Zd=pe((n,t)=>{oe(),le(),ae();function e(i){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},t.exports.__esModule=!0,t.exports.default=t.exports,e(i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}),hO=pe((n,t)=>{oe(),le(),ae();var e=Zd().default;function i(s,a){if(e(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var c=l.call(s,a||"default");if(e(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}),dO=pe((n,t)=>{oe(),le(),ae();var e=Zd().default,i=hO();function s(a){var l=i(a,"string");return e(l)=="symbol"?l:l+""}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}),pO=pe((n,t)=>{oe(),le(),ae();var e=dO();function i(s,a,l){return(a=e(a))in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,s}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}),mO=pe((n,t)=>{oe(),le(),ae();function e(i){if(Array.isArray(i))return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}),gO=pe((n,t)=>{oe(),le(),ae();function e(i,s){var a=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(a!=null){var l,c,f,d,g=[],y=!0,_=!1;try{if(f=(a=a.call(i)).next,s===0){if(Object(a)!==a)return;y=!1}else for(;!(y=(l=f.call(a)).done)&&(g.push(l.value),g.length!==s);y=!0);}catch(S){_=!0,c=S}finally{try{if(!y&&a.return!=null&&(d=a.return(),Object(d)!==d))return}finally{if(_)throw c}}return g}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}),yO=pe((n,t)=>{oe(),le(),ae();function e(i,s){(s==null||s>i.length)&&(s=i.length);for(var a=0,l=Array(s);a<s;a++)l[a]=i[a];return l}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}),_O=pe((n,t)=>{oe(),le(),ae();var e=yO();function i(s,a){if(s){if(typeof s=="string")return e(s,a);var l={}.toString.call(s).slice(8,-1);return l==="Object"&&s.constructor&&(l=s.constructor.name),l==="Map"||l==="Set"?Array.from(s):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?e(s,a):void 0}}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}),bO=pe((n,t)=>{oe(),le(),ae();function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}),vO=pe((n,t)=>{oe(),le(),ae();var e=mO(),i=gO(),s=_O(),a=bO();function l(c,f){return e(c)||i(c,f)||s(c,f)||a()}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports}),R2=pe((n,t)=>{oe(),le(),ae(),(function(e,i){typeof n=="object"&&typeof t<"u"?i(n):typeof define=="function"&&define.amd?define(["exports"],i):(e=typeof globalThis<"u"?globalThis:e||self,i(e.fastUniqueNumbers={}))})(n,function(e){var i=function(S){return function(x){var E=S(x);return x.add(E),E}},s=function(S){return function(x,E){return S.set(x,E),E}},a=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,l=536870912,c=l*2,f=function(S,x){return function(E){var T=x.get(E),N=T===void 0?E.size:T<c?T+1:0;if(!E.has(N))return S(E,N);if(E.size<l){for(;E.has(N);)N=Math.floor(Math.random()*c);return S(E,N)}if(E.size>a)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;E.has(N);)N=Math.floor(Math.random()*a);return S(E,N)}},d=new WeakMap,g=s(d),y=f(g,d),_=i(y);e.addUniqueNumber=_,e.generateUniqueNumber=y})}),wO=pe((n,t)=>{oe(),le(),ae();function e(s,a,l,c,f,d,g){try{var y=s[d](g),_=y.value}catch(S){return void l(S)}y.done?a(_):Promise.resolve(_).then(c,f)}function i(s){return function(){var a=this,l=arguments;return new Promise(function(c,f){var d=s.apply(a,l);function g(_){e(d,c,f,g,y,"next",_)}function y(_){e(d,c,f,g,y,"throw",_)}g(void 0)})}}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}),L2=pe((n,t)=>{oe(),le(),ae();function e(i,s){this.v=i,this.k=s}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}),P2=pe((n,t)=>{oe(),le(),ae();function e(i,s,a,l){var c=Object.defineProperty;try{c({},"",{})}catch{c=0}t.exports=e=function(f,d,g,y){function _(S,x){e(f,S,function(E){return this._invoke(S,x,E)})}d?c?c(f,d,{value:g,enumerable:!y,configurable:!y,writable:!y}):f[d]=g:(_("next",0),_("throw",1),_("return",2))},t.exports.__esModule=!0,t.exports.default=t.exports,e(i,s,a,l)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}),D2=pe((n,t)=>{oe(),le(),ae();var e=P2();function i(){var s,a,l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",f=l.toStringTag||"@@toStringTag";function d(N,M,D,I){var R=M&&M.prototype instanceof y?M:y,z=Object.create(R.prototype);return e(z,"_invoke",(function(j,W,J){var tt,ot,G,dt=0,ht=J||[],ut=!1,rt={p:0,n:0,v:s,a:lt,f:lt.bind(s,4),d:function(et,Pt){return tt=et,ot=0,G=s,rt.n=Pt,g}};function lt(et,Pt){for(ot=et,G=Pt,a=0;!ut&&dt&&!nt&&a<ht.length;a++){var nt,Y=ht[a],Z=rt.p,at=Y[2];et>3?(nt=at===Pt)&&(G=Y[(ot=Y[4])?5:(ot=3,3)],Y[4]=Y[5]=s):Y[0]<=Z&&((nt=et<2&&Z<Y[1])?(ot=0,rt.v=Pt,rt.n=Y[1]):Z<at&&(nt=et<3||Y[0]>Pt||Pt>at)&&(Y[4]=et,Y[5]=Pt,rt.n=at,ot=0))}if(nt||et>1)return g;throw ut=!0,Pt}return function(et,Pt,nt){if(dt>1)throw TypeError("Generator is already running");for(ut&&Pt===1&&lt(Pt,nt),ot=Pt,G=nt;(a=ot<2?s:G)||!ut;){tt||(ot?ot<3?(ot>1&&(rt.n=-1),lt(ot,G)):rt.n=G:rt.v=G);try{if(dt=2,tt){if(ot||(et="next"),a=tt[et]){if(!(a=a.call(tt,G)))throw TypeError("iterator result is not an object");if(!a.done)return a;G=a.value,ot<2&&(ot=0)}else ot===1&&(a=tt.return)&&a.call(tt),ot<2&&(G=TypeError("The iterator does not provide a '"+et+"' method"),ot=1);tt=s}else if((a=(ut=rt.n<0)?G:j.call(W,rt))!==g)break}catch(Y){tt=s,ot=1,G=Y}finally{dt=1}}return{value:a,done:ut}}})(N,D,I),!0),z}var g={};function y(){}function _(){}function S(){}a=Object.getPrototypeOf;var x=[][c]?a(a([][c]())):(e(a={},c,function(){return this}),a),E=S.prototype=y.prototype=Object.create(x);function T(N){return Object.setPrototypeOf?Object.setPrototypeOf(N,S):(N.__proto__=S,e(N,f,"GeneratorFunction")),N.prototype=Object.create(E),N}return _.prototype=S,e(E,"constructor",S),e(S,"constructor",_),_.displayName="GeneratorFunction",e(S,f,"GeneratorFunction"),e(E),e(E,f,"Generator"),e(E,c,function(){return this}),e(E,"toString",function(){return"[object Generator]"}),(t.exports=i=function(){return{w:d,m:T}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}),j2=pe((n,t)=>{oe(),le(),ae();var e=L2(),i=P2();function s(a,l){function c(d,g,y,_){try{var S=a[d](g),x=S.value;return x instanceof e?l.resolve(x.v).then(function(E){c("next",E,y,_)},function(E){c("throw",E,y,_)}):l.resolve(x).then(function(E){S.value=E,y(S)},function(E){return c("throw",E,y,_)})}catch(E){_(E)}}var f;this.next||(i(s.prototype),i(s.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),i(this,"_invoke",function(d,g,y){function _(){return new l(function(S,x){c(d,y,S,x)})}return f=f?f.then(_,_):_()},!0)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}),I2=pe((n,t)=>{oe(),le(),ae();var e=D2(),i=j2();function s(a,l,c,f,d){return new i(e().w(a,l,c,f),d||Promise)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}),xO=pe((n,t)=>{oe(),le(),ae();var e=I2();function i(s,a,l,c,f){var d=e(s,a,l,c,f);return d.next().then(function(g){return g.done?g.value:d.next()})}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}),SO=pe((n,t)=>{oe(),le(),ae();function e(i){var s=Object(i),a=[];for(var l in s)a.unshift(l);return function c(){for(;a.length;)if((l=a.pop())in s)return c.value=l,c.done=!1,c;return c.done=!0,c}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}),EO=pe((n,t)=>{oe(),le(),ae();var e=Zd().default;function i(s){if(s!=null){var a=s[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],l=0;if(a)return a.call(s);if(typeof s.next=="function")return s;if(!isNaN(s.length))return{next:function(){return s&&l>=s.length&&(s=void 0),{value:s&&s[l++],done:!s}}}}throw new TypeError(e(s)+" is not iterable")}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}),AO=pe((n,t)=>{oe(),le(),ae();var e=L2(),i=D2(),s=xO(),a=I2(),l=j2(),c=SO(),f=EO();function d(){var g=i(),y=g.m(d),_=(Object.getPrototypeOf?Object.getPrototypeOf(y):y.__proto__).constructor;function S(T){var N=typeof T=="function"&&T.constructor;return!!N&&(N===_||(N.displayName||N.name)==="GeneratorFunction")}var x={throw:1,return:2,break:3,continue:3};function E(T){var N,M;return function(D){N||(N={stop:function(){return M(D.a,2)},catch:function(){return D.v},abrupt:function(I,R){return M(D.a,x[I],R)},delegateYield:function(I,R,z){return N.resultName=R,M(D.d,f(I),z)},finish:function(I){return M(D.f,I)}},M=function(I,R,z){D.p=N.prev,D.n=N.next;try{return I(R,z)}finally{N.next=D.n}}),N.resultName&&(N[N.resultName]=D.v,N.resultName=void 0),N.sent=D.v,N.next=D.n;try{return T.call(this,N)}finally{D.p=N.prev,D.n=N.next}}}return(t.exports=d=function(){return{wrap:function(T,N,M,D){return g.w(E(T),N,M,D&&D.reverse())},isGeneratorFunction:S,mark:g.m,awrap:function(T,N){return new e(T,N)},AsyncIterator:l,async:function(T,N,M,D,I){return(S(N)?a:s)(E(T),N,M,D,I)},keys:c,values:f}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=d,t.exports.__esModule=!0,t.exports.default=t.exports}),TO=pe((n,t)=>{oe(),le(),ae();var e=AO()();t.exports=e;try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}),kO=pe((n,t)=>{oe(),le(),ae(),(function(e,i){typeof n=="object"&&typeof t<"u"?i(n,pO(),vO(),R2(),wO(),TO()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/defineProperty","@babel/runtime/helpers/slicedToArray","fast-unique-numbers","@babel/runtime/helpers/asyncToGenerator","@babel/runtime/regenerator"],i):(e=typeof globalThis<"u"?globalThis:e||self,i(e.brokerFactory={},e._defineProperty,e._slicedToArray,e.fastUniqueNumbers,e._asyncToGenerator,e._regeneratorRuntime))})(n,function(e,i,s,a,l,c){var f=function(M){return typeof M.start=="function"},d=new WeakMap;function g(M,D){var I=Object.keys(M);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(M);D&&(R=R.filter(function(z){return Object.getOwnPropertyDescriptor(M,z).enumerable})),I.push.apply(I,R)}return I}function y(M){for(var D=1;D<arguments.length;D++){var I=arguments[D]!=null?arguments[D]:{};D%2?g(Object(I),!0).forEach(function(R){i(M,R,I[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(I)):g(Object(I)).forEach(function(R){Object.defineProperty(M,R,Object.getOwnPropertyDescriptor(I,R))})}return M}var _=function(M){return y(y({},M),{},{connect:function(D){var I=D.call;return l(c.mark(function R(){var z,j,W,J;return c.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return z=new MessageChannel,j=z.port1,W=z.port2,tt.next=1,I("connect",{port:j},[j]);case 1:return J=tt.sent,d.set(W,J),tt.abrupt("return",W);case 2:case"end":return tt.stop()}},R)}))},disconnect:function(D){var I=D.call;return(function(){var R=l(c.mark(function z(j){var W;return c.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(W=d.get(j),W!==void 0){J.next=1;break}throw new Error("The given port is not connected.");case 1:return J.next=2,I("disconnect",{portId:W});case 2:case"end":return J.stop()}},z)}));return function(z){return R.apply(this,arguments)}})()},isSupported:function(D){var I=D.call;return function(){return I("isSupported")}}})};function S(M,D){var I=Object.keys(M);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(M);D&&(R=R.filter(function(z){return Object.getOwnPropertyDescriptor(M,z).enumerable})),I.push.apply(I,R)}return I}function x(M){for(var D=1;D<arguments.length;D++){var I=arguments[D]!=null?arguments[D]:{};D%2?S(Object(I),!0).forEach(function(R){i(M,R,I[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(I)):S(Object(I)).forEach(function(R){Object.defineProperty(M,R,Object.getOwnPropertyDescriptor(I,R))})}return M}var E=new WeakMap,T=function(M){if(E.has(M))return E.get(M);var D=new Map;return E.set(M,D),D},N=function(M){var D=_(M);return function(I){var R=T(I);I.addEventListener("message",function(ht){var ut=ht.data,rt=ut.id;if(rt!==null&&R.has(rt)){var lt=R.get(rt),et=lt.reject,Pt=lt.resolve;R.delete(rt),ut.error===void 0?Pt(ut.result):et(new Error(ut.error.message))}}),f(I)&&I.start();for(var z=function(ht){var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return new Promise(function(lt,et){var Pt=a.generateUniqueNumber(R);R.set(Pt,{reject:et,resolve:lt}),ut===null?I.postMessage({id:Pt,method:ht},rt):I.postMessage({id:Pt,method:ht,params:ut},rt)})},j=function(ht,ut){var rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];I.postMessage({id:null,method:ht,params:ut},rt)},W={},J=0,tt=Object.entries(D);J<tt.length;J++){var ot=s(tt[J],2),G=ot[0],dt=ot[1];W=x(x({},W),{},i({},G,dt({call:z,notify:j})))}return x({},W)}};e.createBroker=N})}),MO=pe((n,t)=>{oe(),le(),ae(),(function(e,i){typeof n=="object"&&typeof t<"u"?i(n,Zd(),kO(),R2()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/typeof","broker-factory","fast-unique-numbers"],i):(e=typeof globalThis<"u"?globalThis:e||self,i(e.workerTimersBroker={},e._typeof,e.brokerFactory,e.fastUniqueNumbers))})(n,function(e,i,s,a){var l=new Map([[0,null]]),c=new Map([[0,null]]),f=s.createBroker({clearInterval:function(g){var y=g.call;return function(_){i(l.get(_))==="symbol"&&(l.set(_,null),y("clear",{timerId:_,timerType:"interval"}).then(function(){l.delete(_)}))}},clearTimeout:function(g){var y=g.call;return function(_){i(c.get(_))==="symbol"&&(c.set(_,null),y("clear",{timerId:_,timerType:"timeout"}).then(function(){c.delete(_)}))}},setInterval:function(g){var y=g.call;return function(_){for(var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=arguments.length,E=new Array(x>2?x-2:0),T=2;T<x;T++)E[T-2]=arguments[T];var N=Symbol(),M=a.generateUniqueNumber(l);l.set(M,N);var D=function(){return y("set",{delay:S,now:performance.timeOrigin+performance.now(),timerId:M,timerType:"interval"}).then(function(){var I=l.get(M);if(I===void 0)throw new Error("The timer is in an undefined state.");I===N&&(_.apply(void 0,E),l.get(M)===N&&D())})};return D(),M}},setTimeout:function(g){var y=g.call;return function(_){for(var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=arguments.length,E=new Array(x>2?x-2:0),T=2;T<x;T++)E[T-2]=arguments[T];var N=Symbol(),M=a.generateUniqueNumber(c);return c.set(M,N),y("set",{delay:S,now:performance.timeOrigin+performance.now(),timerId:M,timerType:"timeout"}).then(function(){var D=c.get(M);if(D===void 0)throw new Error("The timer is in an undefined state.");D===N&&(c.delete(M),_.apply(void 0,E))}),M}}}),d=function(g){var y=new Worker(g);return f(y)};e.load=d,e.wrap=f})}),OO=pe((n,t)=>{oe(),le(),ae(),(function(e,i){typeof n=="object"&&typeof t<"u"?i(n,MO()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],i):(e=typeof globalThis<"u"?globalThis:e||self,i(e.workerTimers={},e.workerTimersBroker))})(n,function(e,i){var s=function(y,_){var S=null;return function(){if(S!==null)return S;var x=new Blob([_],{type:"application/javascript; charset=utf-8"}),E=URL.createObjectURL(x);return S=y(E),setTimeout(function(){return URL.revokeObjectURL(E)}),S}},a=`(()=>{var e={45:(e,t,r)=>{var n=r(738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},122:(e,t,r)=>{var n=r(79);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},156:e=>{e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,a,i=[],s=!0,c=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=u.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},293:e=>{function t(e,t,r,n,o,u,a){try{var i=e[u](a),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,u){var a=e.apply(r,n);function i(e){t(a,o,u,i,s,"next",e)}function s(e){t(a,o,u,i,s,"throw",e)}i(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},373:e=>{e.exports=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,u=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<u?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*u);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,s=r(i),c=a(s,i),f=t(c);e.addUniqueNumber=f,e.generateUniqueNumber=c}(t)},472:function(e,t,r){!function(e,t,r,n){"use strict";var o=function(e,t){return function(r){var o=t.get(r);if(void 0===o)return Promise.resolve(!1);var u=n(o,2),a=u[0],i=u[1];return e(a),t.delete(r),i(!1),Promise.resolve(!0)}},u=function(e,t){var r=function(n,o,u,a){var i=n-e.now();i>0?o.set(a,[t(r,i,n,o,u,a),u]):(o.delete(a),u(!0))};return r},a=function(e,t,r,n){return function(o,u,a){var i=o+u-t.timeOrigin,s=i-t.now();return new Promise((function(t){e.set(a,[r(n,s,i,e,t,a),t])}))}},i=new Map,s=o(globalThis.clearTimeout,i),c=new Map,f=o(globalThis.clearTimeout,c),l=u(performance,globalThis.setTimeout),p=a(i,performance,globalThis.setTimeout,l),d=a(c,performance,globalThis.setTimeout,l);r.createWorker(self,{clear:function(){var r=e(t.mark((function e(r){var n,o,u;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.timerId,o=r.timerType,e.next=1,"interval"===o?s(n):f(n);case 1:return u=e.sent,e.abrupt("return",{result:u});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}(),set:function(){var r=e(t.mark((function e(r){var n,o,u,a,i;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.delay,o=r.now,u=r.timerId,a=r.timerType,e.next=1,("interval"===a?p:d)(n,o,u);case 1:return i=e.sent,e.abrupt("return",{result:i});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}()})}(r(293),r(756),r(623),r(715))},546:e=>{function t(r,n,o,u){var a=Object.defineProperty;try{a({},"",{})}catch(r){a=0}e.exports=t=function(e,r,n,o){if(r)a?a(e,r,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[r]=n;else{var u=function(r,n){t(e,r,(function(e){return this._invoke(r,n,e)}))};u("next",0),u("throw",1),u("return",2)}},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n,o,u)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},579:(e,t,r)=>{var n=r(738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(n(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},623:function(e,t,r){!function(e,t,r,n,o){"use strict";var u={INTERNAL_ERROR:-32603,INVALID_PARAMS:-32602,METHOD_NOT_FOUND:-32601},a=function(e,t){return Object.assign(new Error(e),{status:t})},i=function(e){return a('The requested method called "'.concat(e,'" is not supported.'),u.METHOD_NOT_FOUND)},s=function(e){return a('The handler of the method called "'.concat(e,'" returned no required result.'),u.INTERNAL_ERROR)},c=function(e){return a('The handler of the method called "'.concat(e,'" returned an unexpected result.'),u.INTERNAL_ERROR)},f=function(e){return a('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),u.INVALID_PARAMS)},l=function(e,n){return function(){var o=t(r.mark((function t(o){var u,a,f,l,p,d,v,x,y,b,h,m,_,g,w;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=o.data,a=u.id,f=u.method,l=u.params,p=n[f],t.prev=1,void 0!==p){t.next=2;break}throw i(f);case 2:if(void 0!==(d=void 0===l?p():p(l))){t.next=3;break}throw s(f);case 3:if(!(d instanceof Promise)){t.next=5;break}return t.next=4,d;case 4:g=t.sent,t.next=6;break;case 5:g=d;case 6:if(v=g,null!==a){t.next=8;break}if(void 0===v.result){t.next=7;break}throw c(f);case 7:t.next=10;break;case 8:if(void 0!==v.result){t.next=9;break}throw c(f);case 9:x=v.result,y=v.transferables,b=void 0===y?[]:y,e.postMessage({id:a,result:x},b);case 10:t.next=12;break;case 11:t.prev=11,w=t.catch(1),h=w.message,m=w.status,_=void 0===m?-32603:m,e.postMessage({error:{code:_,message:h},id:a});case 12:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return o.apply(this,arguments)}}()},p=function(){return new Promise((function(e){var t=new ArrayBuffer(0),r=new MessageChannel,n=r.port1,o=r.port2;n.onmessage=function(t){var r=t.data;return e(null!==r)},o.postMessage(t,[t])}))};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=new Map,y=function(e,n,u){return v(v({},n),{},{connect:function(t){var r=t.port;r.start();var u=e(r,n),a=o.generateUniqueNumber(x);return x.set(a,(function(){u(),r.close(),x.delete(a)})),{result:a}},disconnect:function(e){var t=e.portId,r=x.get(t);if(void 0===r)throw f(t);return r(),{result:null}},isSupported:function(){var e=t(r.mark((function e(){var t,n,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,p();case 1:if(!e.sent){e.next=5;break}if(!((t=u())instanceof Promise)){e.next=3;break}return e.next=2,t;case 2:o=e.sent,e.next=4;break;case 3:o=t;case 4:return n=o,e.abrupt("return",{result:n});case 5:return e.abrupt("return",{result:!1});case 6:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})},b=function(e,t){var r=y(b,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0}),n=l(e,r);return e.addEventListener("message",n),function(){return e.removeEventListener("message",n)}};e.createWorker=b,e.isSupported=p}(t,r(293),r(756),r(693),r(389))},633:(e,t,r)=>{var n=r(172),o=r(993),u=r(869),a=r(887),i=r(791),s=r(373),c=r(579);function f(){"use strict";var t=o(),r=t.m(f),l=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function p(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))}var d={throw:1,return:2,break:3,continue:3};function v(e){var t,r;return function(n){t||(t={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return r(n.a,d[e],t)},delegateYield:function(e,o,u){return t.resultName=o,r(n.d,c(e),u)},finish:function(e){return r(n.f,e)}},r=function(e,r,o){n.p=t.prev,n.n=t.next;try{return e(r,o)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(e.exports=f=function(){return{wrap:function(e,r,n,o){return t.w(v(e),r,n,o&&o.reverse())},isGeneratorFunction:p,mark:t.m,awrap:function(e,t){return new n(e,t)},AsyncIterator:i,async:function(e,t,r,n,o){return(p(t)?a:u)(v(e),t,r,n,o)},keys:s,values:c}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=f,e.exports.__esModule=!0,e.exports.default=e.exports},693:(e,t,r)=>{var n=r(736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},715:(e,t,r)=>{var n=r(987),o=r(156),u=r(122),a=r(752);e.exports=function(e,t){return n(e)||o(e,t)||u(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},736:(e,t,r)=>{var n=r(738).default,o=r(45);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,r)=>{var n=r(633)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},791:(e,t,r)=>{var n=r(172),o=r(546);e.exports=function e(t,r){function u(e,o,a,i){try{var s=t[e](o),c=s.value;return c instanceof n?r.resolve(c.v).then((function(e){u("next",e,a,i)}),(function(e){u("throw",e,a,i)})):r.resolve(c).then((function(e){s.value=e,a(s)}),(function(e){return u("throw",e,a,i)}))}catch(e){i(e)}}var a;this.next||(o(e.prototype),o(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),o(this,"_invoke",(function(e,t,n){function o(){return new r((function(t,r){u(e,n,t,r)}))}return a=a?a.then(o,o):o()}),!0)},e.exports.__esModule=!0,e.exports.default=e.exports},869:(e,t,r)=>{var n=r(887);e.exports=function(e,t,r,o,u){var a=n(e,t,r,o,u);return a.next().then((function(e){return e.done?e.value:a.next()}))},e.exports.__esModule=!0,e.exports.default=e.exports},887:(e,t,r)=>{var n=r(993),o=r(791);e.exports=function(e,t,r,u,a){return new o(n().w(e,t,r,u),a||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},993:(e,t,r)=>{var n=r(546);function o(){var t,r,u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",i=u.toStringTag||"@@toStringTag";function s(e,o,u,a){var i=o&&o.prototype instanceof f?o:f,s=Object.create(i.prototype);return n(s,"_invoke",function(e,n,o){var u,a,i,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return u=e,a=0,i=t,p.n=r,c}};function d(e,n){for(a=e,i=n,r=0;!l&&s&&!o&&r<f.length;r++){var o,u=f[r],d=p.p,v=u[2];e>3?(o=v===n)&&(i=u[(a=u[4])?5:(a=3,3)],u[4]=u[5]=t):u[0]<=d&&((o=e<2&&d<u[1])?(a=0,p.v=n,p.n=u[1]):d<v&&(o=e<3||u[0]>n||n>v)&&(u[4]=e,u[5]=n,p.n=v,a=0))}if(o||e>1)return c;throw l=!0,n}return function(o,f,v){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,v),a=f,i=v;(r=a<2?t:i)||!l;){u||(a?a<3?(a>1&&(p.n=-1),d(a,i)):p.n=i:p.v=i);try{if(s=2,u){if(a||(o="next"),r=u[o]){if(!(r=r.call(u,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=u.return)&&r.call(u),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);u=t}else if((r=(l=p.n<0)?i:e.call(n,p))!==c)break}catch(e){u=t,a=1,i=e}finally{s=1}}return{value:r,done:l}}}(e,u,a),!0),s}var c={};function f(){}function l(){}function p(){}r=Object.getPrototypeOf;var d=[][a]?r(r([][a]())):(n(r={},a,(function(){return this})),r),v=p.prototype=f.prototype=Object.create(d);function x(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,n(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e}return l.prototype=p,n(v,"constructor",p),n(p,"constructor",l),l.displayName="GeneratorFunction",n(p,i,"GeneratorFunction"),n(v),n(v,i,"Generator"),n(v,a,(function(){return this})),n(v,"toString",(function(){return"[object Generator]"})),(e.exports=o=function(){return{w:s,m:x}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var u=t[n]={exports:{}};return e[n].call(u.exports,u,u.exports,r),u.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,l=s(i.load,a),c=function(y){return l().clearInterval(y)},f=function(y){return l().clearTimeout(y)},d=function(){var y;return(y=l()).setInterval.apply(y,arguments)},g=function(){var y;return(y=l()).setTimeout.apply(y,arguments)};e.clearInterval=c,e.clearTimeout=f,e.setInterval=d,e.setTimeout=g})}),Xd=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0}),n.isReactNativeBrowser=n.isWebWorker=void 0;var t=()=>typeof window<"u"?typeof navigator<"u"&&navigator.userAgent?.toLowerCase().indexOf(" electron/")>-1&&Wn?.versions?!Object.prototype.hasOwnProperty.call(Wn.versions,"electron"):typeof window.document<"u":!1,e=()=>!!(typeof self=="object"&&self?.constructor?.name?.includes("WorkerGlobalScope")&&typeof Deno>"u"),i=()=>typeof navigator<"u"&&navigator.product==="ReactNative",s=t()||e()||i();n.isWebWorker=e(),n.isReactNativeBrowser=i(),n.default=s}),CO=pe(n=>{oe(),le(),ae();var t=n&&n.__createBinding||(Object.create?function(d,g,y,_){_===void 0&&(_=y);var S=Object.getOwnPropertyDescriptor(g,y);(!S||("get"in S?!g.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return g[y]}}),Object.defineProperty(d,_,S)}:function(d,g,y,_){_===void 0&&(_=y),d[_]=g[y]}),e=n&&n.__setModuleDefault||(Object.create?function(d,g){Object.defineProperty(d,"default",{enumerable:!0,value:g})}:function(d,g){d.default=g}),i=n&&n.__importStar||(function(){var d=function(g){return d=Object.getOwnPropertyNames||function(y){var _=[];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(_[_.length]=S);return _},d(g)};return function(g){if(g&&g.__esModule)return g;var y={};if(g!=null)for(var _=d(g),S=0;S<_.length;S++)_[S]!=="default"&&t(y,g,_[S]);return e(y,g),y}})();Object.defineProperty(n,"__esModule",{value:!0});var s=OO(),a=i(Xd()),l={set:s.setInterval,clear:s.clearInterval},c={set:(d,g)=>setInterval(d,g),clear:d=>clearInterval(d)},f=d=>{switch(d){case"native":return c;case"worker":return l;case"auto":default:return a.default&&!a.isWebWorker&&!a.isReactNativeBrowser?l:c}};n.default=f}),z2=pe(n=>{oe(),le(),ae();var t=n&&n.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(n,"__esModule",{value:!0});var e=t(CO()),i=class{_keepalive;timerId;timer;destroyed=!1;counter;client;_keepaliveTimeoutTimestamp;_intervalEvery;get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(s,a){this.client=s,this.timer=typeof a=="object"&&"set"in a&&"clear"in a?a:(0,e.default)(a),this.setKeepalive(s.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(s){if(s*=1e3,isNaN(s)||s<=0||s>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${s}`);this._keepalive=s,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${s}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let s=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+s,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};n.default=i}),My=pe(n=>{oe(),le(),ae();var t=n&&n.__createBinding||(Object.create?function(R,z,j,W){W===void 0&&(W=j);var J=Object.getOwnPropertyDescriptor(z,j);(!J||("get"in J?!z.__esModule:J.writable||J.configurable))&&(J={enumerable:!0,get:function(){return z[j]}}),Object.defineProperty(R,W,J)}:function(R,z,j,W){W===void 0&&(W=j),R[W]=z[j]}),e=n&&n.__setModuleDefault||(Object.create?function(R,z){Object.defineProperty(R,"default",{enumerable:!0,value:z})}:function(R,z){R.default=z}),i=n&&n.__importStar||(function(){var R=function(z){return R=Object.getOwnPropertyNames||function(j){var W=[];for(var J in j)Object.prototype.hasOwnProperty.call(j,J)&&(W[W.length]=J);return W},R(z)};return function(z){if(z&&z.__esModule)return z;var j={};if(z!=null)for(var W=R(z),J=0;J<W.length;J++)W[J]!=="default"&&t(j,z,W[J]);return e(j,z),j}})(),s=n&&n.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(n,"__esModule",{value:!0});var a=s(BM()),l=Yl(),c=s(FM()),f=s(ca()),d=i(HM()),g=s(p2()),y=s(uO()),_=s(N2()),S=s(cO()),x=Vu(),E=fO(),T=s(z2()),N=i(Xd()),M=globalThis.setImmediate||((...R)=>{let z=R.shift();(0,x.nextTick)(()=>{z(...R)})}),D={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},I=class Oy extends E.TypedEventEmitter{static VERSION=x.MQTTJS_VERSION;connected;disconnecting;disconnected;reconnecting;incomingStore;outgoingStore;options;queueQoSZero;_reconnectCount;log;messageIdProvider;outgoing;messageIdToTopic;noop;keepaliveManager;stream;queue;streamBuilder;_resubscribeTopics;connackTimer;reconnectTimer;_storeProcessing;_packetIdsDuringStoreProcessing;_storeProcessingQueue;_firstConnection;topicAliasRecv;topicAliasSend;_deferredReconnect;connackPacket;static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(z,j){super(),this.options=j||{};for(let W in D)typeof this.options[W]>"u"?this.options[W]=D[W]:this.options[W]=j[W];this.log=this.options.log||(0,f.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",Oy.VERSION),N.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",N.default?"browser":"node"),this.log("MqttClient :: options.protocol",j.protocol),this.log("MqttClient :: options.protocolVersion",j.protocolVersion),this.log("MqttClient :: options.username",j.username),this.log("MqttClient :: options.keepalive",j.keepalive),this.log("MqttClient :: options.reconnectPeriod",j.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",j.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",j.properties?j.properties.topicAliasMaximum:void 0),this.options.clientId=typeof j.clientId=="string"?j.clientId:Oy.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=j.protocolVersion===5&&j.customHandleAcks?j.customHandleAcks:(...W)=>{W[3](null,0)},this.options.writeCache||(a.default.writeToStream.cacheNumbers=!1),this.streamBuilder=z,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new _.default:this.options.messageIdProvider,this.outgoingStore=j.outgoingStore||new g.default,this.incomingStore=j.incomingStore||new g.default,this.queueQoSZero=j.queueQoSZero===void 0?!0:j.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,j.properties&&j.properties.topicAliasMaximum>0&&(j.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new S.default(j.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:W}=this,J=()=>{let tt=W.shift();this.log("deliver :: entry %o",tt);let ot=null;if(!tt){this._resubscribe();return}ot=tt.packet,this.log("deliver :: call _sendPacket for %o",ot);let G=!0;ot.messageId&&ot.messageId!==0&&(this.messageIdProvider.register(ot.messageId)||(G=!1)),G?this._sendPacket(ot,dt=>{tt.cb&&tt.cb(dt),J()}):(this.log("messageId: %d has already used. The message is skipped and removed.",ot.messageId),J())};this.log("connect :: sending queued packets"),J()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(z,j){j()}handleMessage(z,j){j()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){let z=new l.Writable,j=a.default.parser(this.options),W=null,J=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new g.default,this.outgoingStore=this.options.outgoingStore||new g.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),j.on("packet",ht=>{this.log("parser :: on packet push to packets array."),J.push(ht)});let tt=()=>{this.log("work :: getting next packet in queue");let ht=J.shift();if(ht)this.log("work :: packet pulled from queue"),(0,y.default)(this,ht,ot);else{this.log("work :: no packets in queue");let ut=W;W=null,this.log("work :: done flag is %s",!!ut),ut&&ut()}},ot=()=>{if(J.length)(0,x.nextTick)(tt);else{let ht=W;W=null,ht()}};z._write=(ht,ut,rt)=>{W=rt,this.log("writable stream :: parsing buffer"),j.parse(ht),tt()};let G=ht=>{this.log("streamErrorHandler :: error",ht.message),ht.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",ht)):this.noop(ht)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(z),this.stream.on("error",G),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let dt={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(dt.will={...this.options.will,payload:this.options.will?.payload}),this.topicAliasRecv&&(dt.properties||(dt.properties={}),this.topicAliasRecv&&(dt.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(dt),j.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let ht={cmd:"auth",reasonCode:0,...this.options.authPacket};this._writePacket(ht)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(z,j,W,J){this.log("publish :: message `%s` to topic `%s`",j,z);let{options:tt}=this;typeof W=="function"&&(J=W,W=null),W=W||{},W={qos:0,retain:!1,dup:!1,...W};let{qos:ot,retain:G,dup:dt,properties:ht,cbStorePut:ut}=W;if(this._checkDisconnecting(J))return this;let rt=()=>{let lt=0;if((ot===1||ot===2)&&(lt=this._nextId(),lt===null))return this.log("No messageId left"),!1;let et={cmd:"publish",topic:z,payload:j,qos:ot,retain:G,messageId:lt,dup:dt};switch(tt.protocolVersion===5&&(et.properties=ht),this.log("publish :: qos",ot),ot){case 1:case 2:this.outgoing[et.messageId]={volatile:!1,cb:J||this.noop},this.log("MqttClient:publish: packet cmd: %s",et.cmd),this._sendPacket(et,void 0,ut);break;default:this.log("MqttClient:publish: packet cmd: %s",et.cmd),this._sendPacket(et,J,ut);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!rt())&&this._storeProcessingQueue.push({invoke:rt,cbStorePut:W.cbStorePut,callback:J}),this}publishAsync(z,j,W){return new Promise((J,tt)=>{this.publish(z,j,W,(ot,G)=>{ot?tt(ot):J(G)})})}subscribe(z,j,W){let J=this.options.protocolVersion;typeof j=="function"&&(W=j),W=W||this.noop;let tt=!1,ot=[];typeof z=="string"?(z=[z],ot=z):Array.isArray(z)?ot=z:typeof z=="object"&&(tt=z.resubscribe,delete z.resubscribe,ot=Object.keys(z));let G=d.validateTopics(ot);if(G!==null)return M(W,new Error(`Invalid topic ${G}`)),this;if(this._checkDisconnecting(W))return this.log("subscribe: discconecting true"),this;let dt={qos:0};J===5&&(dt.nl=!1,dt.rap=!1,dt.rh=0),j={...dt,...j};let{properties:ht}=j,ut=[],rt=(Pt,nt)=>{if(nt=nt||j,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,Pt)||this._resubscribeTopics[Pt].qos<nt.qos||tt){let Y={topic:Pt,qos:nt.qos};J===5&&(Y.nl=nt.nl,Y.rap=nt.rap,Y.rh=nt.rh,Y.properties=ht),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",Y.topic,Y.qos),ut.push(Y)}};if(Array.isArray(z)?z.forEach(Pt=>{this.log("subscribe: array topic %s",Pt),rt(Pt)}):Object.keys(z).forEach(Pt=>{this.log("subscribe: object topic %s, %o",Pt,z[Pt]),rt(Pt,z[Pt])}),!ut.length)return W(null,[]),this;let lt=(Pt,nt)=>{let Y={cmd:"subscribe",subscriptions:Pt,messageId:nt};if(ht&&(Y.properties=ht),this.options.resubscribe){this.log("subscribe :: resubscribe true");let at=[];Pt.forEach(Tt=>{if(this.options.reconnectPeriod>0){let gt={qos:Tt.qos};J===5&&(gt.nl=Tt.nl||!1,gt.rap=Tt.rap||!1,gt.rh=Tt.rh||0,gt.properties=Tt.properties),this._resubscribeTopics[Tt.topic]=gt,at.push(Tt.topic)}}),this.messageIdToTopic[Y.messageId]=at}let Z=new Promise((at,Tt)=>{this.outgoing[Y.messageId]={volatile:!0,cb(gt,Ut){if(!gt){let{granted:_t}=Ut;for(let ct=0;ct<_t.length;ct+=1)Pt[ct].qos=_t[ct]}gt?Tt(new x.ErrorWithSubackPacket(gt.message,Ut)):at(Ut)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(Y),Z},et=()=>{let Pt=this.options.subscribeBatchSize??ut.length,nt=[];for(let Y=0;Y<ut.length;Y+=Pt){let Z=ut.slice(Y,Y+Pt),at=this._nextId();if(at===null)return this.log("No messageId left"),!1;nt.push(lt(Z,at))}return Promise.all(nt).then(Y=>{W(null,ut,Y.at(-1))}).catch(Y=>{W(Y,ut,Y.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!et())&&this._storeProcessingQueue.push({invoke:et,callback:W}),this}subscribeAsync(z,j){return new Promise((W,J)=>{this.subscribe(z,j,(tt,ot)=>{tt?J(tt):W(ot)})})}unsubscribe(z,j,W){typeof z=="string"&&(z=[z]),typeof j=="function"&&(W=j),W=W||this.noop;let J=d.validateTopics(z);if(J!==null)return M(W,new Error(`Invalid topic ${J}`)),this;if(this._checkDisconnecting(W))return this;let tt=()=>{let ot=this._nextId();if(ot===null)return this.log("No messageId left"),!1;let G={cmd:"unsubscribe",messageId:ot,unsubscriptions:[]};return typeof z=="string"?G.unsubscriptions=[z]:Array.isArray(z)&&(G.unsubscriptions=z),this.options.resubscribe&&G.unsubscriptions.forEach(dt=>{delete this._resubscribeTopics[dt]}),typeof j=="object"&&j.properties&&(G.properties=j.properties),this.outgoing[G.messageId]={volatile:!0,cb:W},this.log("unsubscribe: call _sendPacket"),this._sendPacket(G),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!tt())&&this._storeProcessingQueue.push({invoke:tt,callback:W}),this}unsubscribeAsync(z,j){return new Promise((W,J)=>{this.unsubscribe(z,j,(tt,ot)=>{tt?J(tt):W(ot)})})}end(z,j,W){this.log("end :: (%s)",this.options.clientId),(z==null||typeof z!="boolean")&&(W=W||j,j=z,z=!1),typeof j!="object"&&(W=W||j,j=null),this.log("end :: cb? %s",!!W),(!W||typeof W!="function")&&(W=this.noop);let J=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(ot=>{this.outgoingStore.close(G=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),W){let dt=ot||G;this.log("end :: closeStores: invoking callback with args"),W(dt)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},tt=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,z),this._cleanUp(z,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,x.nextTick)(J)},j)};return this.disconnecting?(W(),this):(this._clearReconnect(),this.disconnecting=!0,!z&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,tt,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),tt()),this)}endAsync(z,j){return new Promise((W,J)=>{this.end(z,j,tt=>{tt?J(tt):W()})})}removeOutgoingMessage(z){if(this.outgoing[z]){let{cb:j}=this.outgoing[z];this._removeOutgoingAndStoreMessage(z,()=>{j(new Error("Message removed"))})}return this}reconnect(z){this.log("client reconnect");let j=()=>{z?(this.options.incomingStore=z.incomingStore,this.options.outgoingStore=z.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new g.default,this.outgoingStore=this.options.outgoingStore||new g.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=j:j(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(z=>{this.outgoing[z].volatile&&typeof this.outgoing[z].cb=="function"&&(this.outgoing[z].cb(new Error("Connection closed")),delete this.outgoing[z])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(z=>{typeof this.outgoing[z].cb=="function"&&(this.outgoing[z].cb(new Error("Connection closed")),delete this.outgoing[z])}))}_removeTopicAliasAndRecoverTopicName(z){let j;z.properties&&(j=z.properties.topicAlias);let W=z.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",j,W),W.length===0){if(typeof j>"u")return new Error("Unregistered Topic Alias");if(W=this.topicAliasSend.getTopicByAlias(j),typeof W>"u")return new Error("Unregistered Topic Alias");z.topic=W}j&&delete z.properties.topicAlias}_checkDisconnecting(z){return this.disconnecting&&(z&&z!==this.noop?z(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(z,j,W={}){if(j&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",j)),this.log("_cleanUp :: forced? %s",z),z)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let J={cmd:"disconnect",...W};this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(J,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),M(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),j&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",j),j())}_storeAndSend(z,j,W){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",z.cmd);let J=z,tt;if(J.cmd==="publish"&&(J=(0,c.default)(z),tt=this._removeTopicAliasAndRecoverTopicName(J),tt))return j&&j(tt);this.outgoingStore.put(J,ot=>{if(ot)return j&&j(ot);W(),this._writePacket(z,j)})}_applyTopicAlias(z){if(this.options.protocolVersion===5&&z.cmd==="publish"){let j;z.properties&&(j=z.properties.topicAlias);let W=z.topic.toString();if(this.topicAliasSend)if(j){if(W.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",W,j),!this.topicAliasSend.put(W,j)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",W,j),new Error("Sending Topic Alias out of range")}else W.length!==0&&(this.options.autoAssignTopicAlias?(j=this.topicAliasSend.getAliasByTopic(W),j?(z.topic="",z.properties={...z.properties,topicAlias:j},this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",W,j)):(j=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(W,j),z.properties={...z.properties,topicAlias:j},this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",W,j))):this.options.autoUseTopicAlias&&(j=this.topicAliasSend.getAliasByTopic(W),j&&(z.topic="",z.properties={...z.properties,topicAlias:j},this.log("applyTopicAlias :: auto use topic: %s - alias: %d",W,j))));else if(j)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",W,j),new Error("Sending Topic Alias out of range")}}_noop(z){this.log("noop ::",z)}_writePacket(z,j){this.log("_writePacket :: packet: %O",z),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",z),this.log("_writePacket :: writing to stream");let W=a.default.writeToStream(z,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",W),!W&&j&&j!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",j)):j&&(this.log("_writePacket :: invoking cb"),j())}_sendPacket(z,j,W,J){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),W=W||this.noop,j=j||this.noop;let tt=this._applyTopicAlias(z);if(tt){j(tt);return}if(!this.connected){if(z.cmd==="auth"){this._writePacket(z,j);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(z,j,W);return}if(J){this._writePacket(z,j);return}switch(z.cmd){case"publish":break;case"pubrel":this._storeAndSend(z,j,W);return;default:this._writePacket(z,j);return}switch(z.qos){case 2:case 1:this._storeAndSend(z,j,W);break;case 0:default:this._writePacket(z,j);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(z,j,W){this.log("_storePacket :: packet: %o",z),this.log("_storePacket :: cb? %s",!!j),W=W||this.noop;let J=z;if(J.cmd==="publish"){J=(0,c.default)(z);let ot=this._removeTopicAliasAndRecoverTopicName(J);if(ot)return j&&j(ot)}let tt=J.qos||0;tt===0&&this.queueQoSZero||J.cmd!=="publish"?this.queue.push({packet:J,cb:j}):tt>0?(j=this.outgoing[J.messageId]?this.outgoing[J.messageId].cb:null,this.outgoingStore.put(J,ot=>{if(ot)return j&&j(ot);W()})):j&&j(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new T.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(z=!1){this.keepaliveManager&&this.options.keepalive&&(z||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let z=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&z.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let j=0;j<z.length;j++){let W={};W[z[j]]=this._resubscribeTopics[z[j]],W.resubscribe=!0,this.subscribe(W,{properties:W[z[j]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(z){if(this.disconnected){this.emit("connect",z);return}this.connackPacket=z,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let j=()=>{let W=this.outgoingStore.createStream(),J=()=>{W.destroy(),W=null,this._flushStoreProcessingQueue(),tt()},tt=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",J),W.on("error",G=>{tt(),this._flushStoreProcessingQueue(),this.removeListener("close",J),this.emit("error",G)});let ot=()=>{if(!W)return;let G=W.read(1),dt;if(!G){W.once("readable",ot);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[G.messageId]){ot();return}!this.disconnecting&&!this.reconnectTimer?(dt=this.outgoing[G.messageId]?this.outgoing[G.messageId].cb:null,this.outgoing[G.messageId]={volatile:!1,cb(ht,ut){dt&&dt(ht,ut),ot()}},this._packetIdsDuringStoreProcessing[G.messageId]=!0,this.messageIdProvider.register(G.messageId)?this._sendPacket(G,void 0,void 0,!0):this.log("messageId: %d has already used.",G.messageId)):W.destroy&&W.destroy()};W.on("end",()=>{let G=!0;for(let dt in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[dt]){G=!1;break}this.removeListener("close",J),G?(tt(),this._invokeAllStoreProcessingQueue(),this.emit("connect",z)):j()}),ot()};j()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let z=this._storeProcessingQueue[0];if(z&&z.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let z of this._storeProcessingQueue)z.cbStorePut&&z.cbStorePut(new Error("Connection closed")),z.callback&&z.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(z,j){delete this.outgoing[z],this.outgoingStore.del({messageId:z},(W,J)=>{j(W,J),this.messageIdProvider.deallocate(z),this._invokeStoreProcessingQueue()})}};n.default=I}),NO=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0});var t=C2(),e=class{numberAllocator;lastId;constructor(){this.numberAllocator=new t.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(i){return this.numberAllocator.use(i)}deallocate(i){this.numberAllocator.free(i)}clear(){this.numberAllocator.clear()}};n.default=e});function RO(){if(Cy)return id;Cy=!0;let n=2147483647,t=36,e=1,i=26,s=38,a=700,l=72,c=128,f="-",d=/^xn--/,g=/[^\0-\x7F]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=t-e,x=Math.floor,E=String.fromCharCode;function T(tt){throw new RangeError(_[tt])}function N(tt,ot){let G=[],dt=tt.length;for(;dt--;)G[dt]=ot(tt[dt]);return G}function M(tt,ot){let G=tt.split("@"),dt="";G.length>1&&(dt=G[0]+"@",tt=G[1]),tt=tt.replace(y,".");let ht=tt.split("."),ut=N(ht,ot).join(".");return dt+ut}function D(tt){let ot=[],G=0,dt=tt.length;for(;G<dt;){let ht=tt.charCodeAt(G++);if(ht>=55296&&ht<=56319&&G<dt){let ut=tt.charCodeAt(G++);(ut&64512)==56320?ot.push(((ht&1023)<<10)+(ut&1023)+65536):(ot.push(ht),G--)}else ot.push(ht)}return ot}let I=tt=>String.fromCodePoint(...tt),R=function(tt){return tt>=48&&tt<58?26+(tt-48):tt>=65&&tt<91?tt-65:tt>=97&&tt<123?tt-97:t},z=function(tt,ot){return tt+22+75*(tt<26)-((ot!=0)<<5)},j=function(tt,ot,G){let dt=0;for(tt=G?x(tt/a):tt>>1,tt+=x(tt/ot);tt>S*i>>1;dt+=t)tt=x(tt/S);return x(dt+(S+1)*tt/(tt+s))},W=function(tt){let ot=[],G=tt.length,dt=0,ht=c,ut=l,rt=tt.lastIndexOf(f);rt<0&&(rt=0);for(let lt=0;lt<rt;++lt)tt.charCodeAt(lt)>=128&&T("not-basic"),ot.push(tt.charCodeAt(lt));for(let lt=rt>0?rt+1:0;lt<G;){let et=dt;for(let nt=1,Y=t;;Y+=t){lt>=G&&T("invalid-input");let Z=R(tt.charCodeAt(lt++));Z>=t&&T("invalid-input"),Z>x((n-dt)/nt)&&T("overflow"),dt+=Z*nt;let at=Y<=ut?e:Y>=ut+i?i:Y-ut;if(Z<at)break;let Tt=t-at;nt>x(n/Tt)&&T("overflow"),nt*=Tt}let Pt=ot.length+1;ut=j(dt-et,Pt,et==0),x(dt/Pt)>n-ht&&T("overflow"),ht+=x(dt/Pt),dt%=Pt,ot.splice(dt++,0,ht)}return String.fromCodePoint(...ot)},J=function(tt){let ot=[];tt=D(tt);let G=tt.length,dt=c,ht=0,ut=l;for(let et of tt)et<128&&ot.push(E(et));let rt=ot.length,lt=rt;for(rt&&ot.push(f);lt<G;){let et=n;for(let nt of tt)nt>=dt&&nt<et&&(et=nt);let Pt=lt+1;et-dt>x((n-ht)/Pt)&&T("overflow"),ht+=(et-dt)*Pt,dt=et;for(let nt of tt)if(nt<dt&&++ht>n&&T("overflow"),nt===dt){let Y=ht;for(let Z=t;;Z+=t){let at=Z<=ut?e:Z>=ut+i?i:Z-ut;if(Y<at)break;let Tt=Y-at,gt=t-at;ot.push(E(z(at+Tt%gt,0))),Y=x(Tt/gt)}ot.push(E(z(Y,0))),ut=j(ht,Pt,lt===rt),ht=0,++lt}++ht,++dt}return ot.join("")};return id={version:"2.3.1",ucs2:{decode:D,encode:I},decode:W,encode:J,toASCII:function(tt){return M(tt,function(ot){return g.test(ot)?"xn--"+J(ot):ot})},toUnicode:function(tt){return M(tt,function(ot){return d.test(ot)?W(ot.slice(4).toLowerCase()):ot})}},id}var id,Cy,Za,LO=Kr(()=>{oe(),le(),ae(),id={},Cy=!1,Za=RO(),Za.decode,Za.encode,Za.toASCII,Za.toUnicode,Za.ucs2,Za.version});function PO(){return Ry||(Ry=!0,Ny=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var n={},t=Symbol("test"),e=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(e)!=="[object Symbol]")return!1;var i=42;n[t]=i;for(t in n)return!1;if(typeof Object.keys=="function"&&Object.keys(n).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(n).length!==0)return!1;var s=Object.getOwnPropertySymbols(n);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(n,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(n,t);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),Ny}function DO(){return Py||(Py=!0,Ly=Error),Ly}function jO(){return jy||(jy=!0,Dy=EvalError),Dy}function IO(){return zy||(zy=!0,Iy=RangeError),Iy}function zO(){return Uy||(Uy=!0,By=ReferenceError),By}function B2(){return Hy||(Hy=!0,Fy=SyntaxError),Fy}function Mf(){return Vy||(Vy=!0,qy=TypeError),qy}function BO(){return Ky||(Ky=!0,Wy=URIError),Wy}function UO(){if(Yy)return rd;Yy=!0;var n=typeof Symbol<"u"&&Symbol,t=PO();return rd=function(){return typeof n!="function"||typeof Symbol!="function"||typeof n("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},rd}function FO(){if(Zy)return sd;Zy=!0;var n={__proto__:null,foo:{}},t=Object;return sd=function(){return{__proto__:n}.foo===n.foo&&!(n instanceof t)},sd}function HO(){if(Xy)return od;Xy=!0;var n="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,e=Math.max,i="[object Function]",s=function(c,f){for(var d=[],g=0;g<c.length;g+=1)d[g]=c[g];for(var y=0;y<f.length;y+=1)d[y+c.length]=f[y];return d},a=function(c,f){for(var d=[],g=f,y=0;g<c.length;g+=1,y+=1)d[y]=c[g];return d},l=function(c,f){for(var d="",g=0;g<c.length;g+=1)d+=c[g],g+1<c.length&&(d+=f);return d};return od=function(c){var f=this;if(typeof f!="function"||t.apply(f)!==i)throw new TypeError(n+f);for(var d=a(arguments,1),g,y=function(){if(this instanceof g){var T=f.apply(this,s(d,arguments));return Object(T)===T?T:this}return f.apply(c,s(d,arguments))},_=e(0,f.length-d.length),S=[],x=0;x<_;x++)S[x]="$"+x;if(g=Function("binder","return function ("+l(S,",")+"){ return binder.apply(this,arguments); }")(y),f.prototype){var E=function(){};E.prototype=f.prototype,g.prototype=new E,E.prototype=null}return g},od}function V_(){if(Gy)return ad;Gy=!0;var n=HO();return ad=Function.prototype.bind||n,ad}function qO(){if($y)return ld;$y=!0;var n=Function.prototype.call,t=Object.prototype.hasOwnProperty,e=V_();return ld=e.call(n,t),ld}function Wu(){if(Qy)return ud;Qy=!0;var n,t=DO(),e=jO(),i=IO(),s=zO(),a=B2(),l=Mf(),c=BO(),f=Function,d=function(lt){try{return f('"use strict"; return ('+lt+").constructor;")()}catch{}},g=Object.getOwnPropertyDescriptor;if(g)try{g({},"")}catch{g=null}var y=function(){throw new l},_=g?(function(){try{return arguments.callee,y}catch{try{return g(arguments,"callee").get}catch{return y}}})():y,S=UO()(),x=FO()(),E=Object.getPrototypeOf||(x?function(lt){return lt.__proto__}:null),T={},N=typeof Uint8Array>"u"||!E?n:E(Uint8Array),M={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?n:ArrayBuffer,"%ArrayIteratorPrototype%":S&&E?E([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":T,"%AsyncGenerator%":T,"%AsyncGeneratorFunction%":T,"%AsyncIteratorPrototype%":T,"%Atomics%":typeof Atomics>"u"?n:Atomics,"%BigInt%":typeof BigInt>"u"?n:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?n:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":e,"%Float32Array%":typeof Float32Array>"u"?n:Float32Array,"%Float64Array%":typeof Float64Array>"u"?n:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?n:FinalizationRegistry,"%Function%":f,"%GeneratorFunction%":T,"%Int8Array%":typeof Int8Array>"u"?n:Int8Array,"%Int16Array%":typeof Int16Array>"u"?n:Int16Array,"%Int32Array%":typeof Int32Array>"u"?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":S&&E?E(E([][Symbol.iterator]())):n,"%JSON%":typeof JSON=="object"?JSON:n,"%Map%":typeof Map>"u"?n:Map,"%MapIteratorPrototype%":typeof Map>"u"||!S||!E?n:E(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?n:Promise,"%Proxy%":typeof Proxy>"u"?n:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?n:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?n:Set,"%SetIteratorPrototype%":typeof Set>"u"||!S||!E?n:E(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":S&&E?E(""[Symbol.iterator]()):n,"%Symbol%":S?Symbol:n,"%SyntaxError%":a,"%ThrowTypeError%":_,"%TypedArray%":N,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array>"u"?n:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?n:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?n:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?n:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?n:WeakMap,"%WeakRef%":typeof WeakRef>"u"?n:WeakRef,"%WeakSet%":typeof WeakSet>"u"?n:WeakSet};if(E)try{null.error}catch(lt){var D=E(E(lt));M["%Error.prototype%"]=D}var I=function lt(et){var Pt;if(et==="%AsyncFunction%")Pt=d("async function () {}");else if(et==="%GeneratorFunction%")Pt=d("function* () {}");else if(et==="%AsyncGeneratorFunction%")Pt=d("async function* () {}");else if(et==="%AsyncGenerator%"){var nt=lt("%AsyncGeneratorFunction%");nt&&(Pt=nt.prototype)}else if(et==="%AsyncIteratorPrototype%"){var Y=lt("%AsyncGenerator%");Y&&E&&(Pt=E(Y.prototype))}return M[et]=Pt,Pt},R={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},z=V_(),j=qO(),W=z.call(Function.call,Array.prototype.concat),J=z.call(Function.apply,Array.prototype.splice),tt=z.call(Function.call,String.prototype.replace),ot=z.call(Function.call,String.prototype.slice),G=z.call(Function.call,RegExp.prototype.exec),dt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ht=/\\(\\)?/g,ut=function(lt){var et=ot(lt,0,1),Pt=ot(lt,-1);if(et==="%"&&Pt!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(Pt==="%"&&et!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var nt=[];return tt(lt,dt,function(Y,Z,at,Tt){nt[nt.length]=at?tt(Tt,ht,"$1"):Z||Y}),nt},rt=function(lt,et){var Pt=lt,nt;if(j(R,Pt)&&(nt=R[Pt],Pt="%"+nt[0]+"%"),j(M,Pt)){var Y=M[Pt];if(Y===T&&(Y=I(Pt)),typeof Y>"u"&&!et)throw new l("intrinsic "+lt+" exists, but is not available. Please file an issue!");return{alias:nt,name:Pt,value:Y}}throw new a("intrinsic "+lt+" does not exist!")};return ud=function(lt,et){if(typeof lt!="string"||lt.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof et!="boolean")throw new l('"allowMissing" argument must be a boolean');if(G(/^%?[^%]*%?$/,lt)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Pt=ut(lt),nt=Pt.length>0?Pt[0]:"",Y=rt("%"+nt+"%",et),Z=Y.name,at=Y.value,Tt=!1,gt=Y.alias;gt&&(nt=gt[0],J(Pt,W([0,1],gt)));for(var Ut=1,_t=!0;Ut<Pt.length;Ut+=1){var ct=Pt[Ut],vt=ot(ct,0,1),Mt=ot(ct,-1);if((vt==='"'||vt==="'"||vt==="`"||Mt==='"'||Mt==="'"||Mt==="`")&&vt!==Mt)throw new a("property names with quotes must have matching quotes");if((ct==="constructor"||!_t)&&(Tt=!0),nt+="."+ct,Z="%"+nt+"%",j(M,Z))at=M[Z];else if(at!=null){if(!(ct in at)){if(!et)throw new l("base intrinsic for "+lt+" exists, but the property is not available.");return}if(g&&Ut+1>=Pt.length){var Rt=g(at,ct);_t=!!Rt,_t&&"get"in Rt&&!("originalValue"in Rt.get)?at=Rt.get:at=at[ct]}else _t=j(at,ct),at=at[ct];_t&&!Tt&&(M[Z]=at)}}return at},ud}function W_(){if(Jy)return cd;Jy=!0;var n=Wu(),t=n("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return cd=t,cd}function U2(){if(t_)return fd;t_=!0;var n=Wu(),t=n("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch{t=null}return fd=t,fd}function VO(){if(e_)return hd;e_=!0;var n=W_(),t=B2(),e=Mf(),i=U2();return hd=function(s,a,l){if(!s||typeof s!="object"&&typeof s!="function")throw new e("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new e("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new e("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new e("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new e("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new e("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,d=arguments.length>5?arguments[5]:null,g=arguments.length>6?arguments[6]:!1,y=!!i&&i(s,a);if(n)n(s,a,{configurable:d===null&&y?y.configurable:!d,enumerable:c===null&&y?y.enumerable:!c,value:l,writable:f===null&&y?y.writable:!f});else if(g||!c&&!f&&!d)s[a]=l;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},hd}function WO(){if(n_)return dd;n_=!0;var n=W_(),t=function(){return!!n};return t.hasArrayLengthDefineBug=function(){if(!n)return null;try{return n([],"length",{value:1}).length!==1}catch{return!0}},dd=t,dd}function KO(){if(i_)return pd;i_=!0;var n=Wu(),t=VO(),e=WO()(),i=U2(),s=Mf(),a=n("%Math.floor%");return pd=function(l,c){if(typeof l!="function")throw new s("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||a(c)!==c)throw new s("`length` must be a positive 32-bit integer");var f=arguments.length>2&&!!arguments[2],d=!0,g=!0;if("length"in l&&i){var y=i(l,"length");y&&!y.configurable&&(d=!1),y&&!y.writable&&(g=!1)}return(d||g||!f)&&(e?t(l,"length",c,!0,!0):t(l,"length",c)),l},pd}function YO(){if(r_)return Nu;r_=!0;var n=V_(),t=Wu(),e=KO(),i=Mf(),s=t("%Function.prototype.apply%"),a=t("%Function.prototype.call%"),l=t("%Reflect.apply%",!0)||n.call(a,s),c=W_(),f=t("%Math.max%");Nu=function(g){if(typeof g!="function")throw new i("a function is required");var y=l(n,a,arguments);return e(y,1+f(0,g.length-(arguments.length-1)),!0)};var d=function(){return l(n,s,arguments)};return c?c(Nu,"apply",{value:d}):Nu.apply=d,Nu}function ZO(){if(s_)return md;s_=!0;var n=Wu(),t=YO(),e=t(n("String.prototype.indexOf"));return md=function(i,s){var a=n(i,!!s);return typeof a=="function"&&e(i,".prototype.")>-1?t(a):a},md}var Ny,Ry,Ly,Py,Dy,jy,Iy,zy,By,Uy,Fy,Hy,qy,Vy,Wy,Ky,rd,Yy,sd,Zy,od,Xy,ad,Gy,ld,$y,ud,Qy,cd,Jy,fd,t_,hd,e_,dd,n_,pd,i_,Nu,r_,md,s_,XO=Kr(()=>{oe(),le(),ae(),Ny={},Ry=!1,Ly={},Py=!1,Dy={},jy=!1,Iy={},zy=!1,By={},Uy=!1,Fy={},Hy=!1,qy={},Vy=!1,Wy={},Ky=!1,rd={},Yy=!1,sd={},Zy=!1,od={},Xy=!1,ad={},Gy=!1,ld={},$y=!1,ud={},Qy=!1,cd={},Jy=!1,fd={},t_=!1,hd={},e_=!1,dd={},n_=!1,pd={},i_=!1,Nu={},r_=!1,md={},s_=!1});function K_(n){throw new Error("Node.js process "+n+" is not supported by JSPM core outside of Node.js")}function GO(){!Hl||!Bl||(Hl=!1,Bl.length?_o=Bl.concat(_o):of=-1,_o.length&&F2())}function F2(){if(!Hl){var n=setTimeout(GO,0);Hl=!0;for(var t=_o.length;t;){for(Bl=_o,_o=[];++of<t;)Bl&&Bl[of].run();of=-1,t=_o.length}Bl=null,Hl=!1,clearTimeout(n)}}function $O(n){var t=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)t[e-1]=arguments[e];_o.push(new H2(n,t)),_o.length===1&&!Hl&&setTimeout(F2,0)}function H2(n,t){this.fun=n,this.array=t}function lr(){}function QO(n){K_("_linkedBinding")}function JO(n){K_("dlopen")}function tC(){return[]}function eC(){return[]}function nC(n,t){if(!n)throw new Error(t||"assertion error")}function iC(){return!1}function rC(){return ia.now()/1e3}function Hm(n){var t=Math.floor((Date.now()-ia.now())*.001),e=ia.now()*.001,i=Math.floor(e)+t,s=Math.floor(e%1*1e9);return n&&(i=i-n[0],s=s-n[1],s<0&&(i--,s+=gd)),[i,s]}function Wa(){return Y_}function sC(n){return[]}var _o,Hl,Bl,of,M1,O1,C1,N1,R1,L1,P1,D1,j1,I1,z1,B1,U1,F1,H1,q1,V1,W1,K1,Y1,Z1,Ch,X1,G1,$1,Q1,J1,tw,ew,nw,iw,rw,sw,ow,aw,lw,uw,cw,fw,hw,dw,pw,mw,gw,yw,_w,bw,ia,qm,gd,vw,ww,xw,Sw,Ew,Aw,Tw,kw,Mw,Ow,Cw,Y_,q2=Kr(()=>{oe(),le(),ae(),_o=[],Hl=!1,of=-1,H2.prototype.run=function(){this.fun.apply(null,this.array)},M1="browser",O1="x64",C1="browser",N1={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},R1=["/usr/bin/node"],L1=[],P1="v16.8.0",D1={},j1=function(n,t){console.warn((t?t+": ":"")+n)},I1=function(n){K_("binding")},z1=function(n){return 0},B1=function(){return"/"},U1=function(n){},F1={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},H1=lr,q1=[],V1={},W1=!1,K1={},Y1=lr,Z1=lr,Ch=function(){return{}},X1=Ch,G1=Ch,$1=lr,Q1=lr,J1=lr,tw={},ew={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},nw=lr,iw=lr,rw=lr,sw=lr,ow=lr,aw=lr,lw=lr,uw=void 0,cw=void 0,fw=void 0,hw=lr,dw=2,pw=1,mw="/bin/usr/node",gw=9229,yw="node",_w=[],bw=lr,ia={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},ia.now===void 0&&(qm=Date.now(),ia.timing&&ia.timing.navigationStart&&(qm=ia.timing.navigationStart),ia.now=()=>Date.now()-qm),gd=1e9,Hm.bigint=function(n){var t=Hm(n);return typeof BigInt>"u"?t[0]*gd+t[1]:BigInt(t[0]*gd)+BigInt(t[1])},vw=10,ww={},xw=0,Sw=Wa,Ew=Wa,Aw=Wa,Tw=Wa,kw=Wa,Mw=lr,Ow=Wa,Cw=Wa,Y_={version:P1,versions:D1,arch:O1,platform:C1,release:F1,_rawDebug:H1,moduleLoadList:q1,binding:I1,_linkedBinding:QO,_events:ww,_eventsCount:xw,_maxListeners:vw,on:Wa,addListener:Sw,once:Ew,off:Aw,removeListener:Tw,removeAllListeners:kw,emit:Mw,prependListener:Ow,prependOnceListener:Cw,listeners:sC,domain:V1,_exiting:W1,config:K1,dlopen:JO,uptime:rC,_getActiveRequests:tC,_getActiveHandles:eC,reallyExit:Y1,_kill:Z1,cpuUsage:Ch,resourceUsage:X1,memoryUsage:G1,kill:$1,exit:Q1,openStdin:J1,allowedNodeEnvironmentFlags:tw,assert:nC,features:ew,_fatalExceptions:nw,setUncaughtExceptionCaptureCallback:iw,hasUncaughtExceptionCaptureCallback:iC,emitWarning:j1,nextTick:$O,_tickCallback:rw,_debugProcess:sw,_debugEnd:ow,_startProfilerIdleNotifier:aw,_stopProfilerIdleNotifier:lw,stdout:uw,stdin:fw,stderr:cw,abort:hw,umask:z1,chdir:U1,cwd:B1,env:N1,title:M1,argv:R1,execArgv:L1,pid:dw,ppid:pw,execPath:mw,debugPort:gw,hrtime:Hm,argv0:yw,_preload_modules:_w,setSourceMapsEnabled:bw}});function oC(){if(o_)return yd;o_=!0;var n=Y_;function t(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}function e(a,l){for(var c="",f=0,d=-1,g=0,y,_=0;_<=a.length;++_){if(_<a.length)y=a.charCodeAt(_);else{if(y===47)break;y=47}if(y===47){if(!(d===_-1||g===1))if(d!==_-1&&g===2){if(c.length<2||f!==2||c.charCodeAt(c.length-1)!==46||c.charCodeAt(c.length-2)!==46){if(c.length>2){var S=c.lastIndexOf("/");if(S!==c.length-1){S===-1?(c="",f=0):(c=c.slice(0,S),f=c.length-1-c.lastIndexOf("/")),d=_,g=0;continue}}else if(c.length===2||c.length===1){c="",f=0,d=_,g=0;continue}}l&&(c.length>0?c+="/..":c="..",f=2)}else c.length>0?c+="/"+a.slice(d+1,_):c=a.slice(d+1,_),f=_-d-1;d=_,g=0}else y===46&&g!==-1?++g:g=-1}return c}function i(a,l){var c=l.dir||l.root,f=l.base||(l.name||"")+(l.ext||"");return c?c===l.root?c+f:c+a+f:f}var s={resolve:function(){for(var a="",l=!1,c,f=arguments.length-1;f>=-1&&!l;f--){var d;f>=0?d=arguments[f]:(c===void 0&&(c=n.cwd()),d=c),t(d),d.length!==0&&(a=d+"/"+a,l=d.charCodeAt(0)===47)}return a=e(a,!l),l?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(a){if(t(a),a.length===0)return".";var l=a.charCodeAt(0)===47,c=a.charCodeAt(a.length-1)===47;return a=e(a,!l),a.length===0&&!l&&(a="."),a.length>0&&c&&(a+="/"),l?"/"+a:a},isAbsolute:function(a){return t(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,l=0;l<arguments.length;++l){var c=arguments[l];t(c),c.length>0&&(a===void 0?a=c:a+="/"+c)}return a===void 0?".":s.normalize(a)},relative:function(a,l){if(t(a),t(l),a===l||(a=s.resolve(a),l=s.resolve(l),a===l))return"";for(var c=1;c<a.length&&a.charCodeAt(c)===47;++c);for(var f=a.length,d=f-c,g=1;g<l.length&&l.charCodeAt(g)===47;++g);for(var y=l.length,_=y-g,S=d<_?d:_,x=-1,E=0;E<=S;++E){if(E===S){if(_>S){if(l.charCodeAt(g+E)===47)return l.slice(g+E+1);if(E===0)return l.slice(g+E)}else d>S&&(a.charCodeAt(c+E)===47?x=E:E===0&&(x=0));break}var T=a.charCodeAt(c+E),N=l.charCodeAt(g+E);if(T!==N)break;T===47&&(x=E)}var M="";for(E=c+x+1;E<=f;++E)(E===f||a.charCodeAt(E)===47)&&(M.length===0?M+="..":M+="/..");return M.length>0?M+l.slice(g+x):(g+=x,l.charCodeAt(g)===47&&++g,l.slice(g))},_makeLong:function(a){return a},dirname:function(a){if(t(a),a.length===0)return".";for(var l=a.charCodeAt(0),c=l===47,f=-1,d=!0,g=a.length-1;g>=1;--g)if(l=a.charCodeAt(g),l===47){if(!d){f=g;break}}else d=!1;return f===-1?c?"/":".":c&&f===1?"//":a.slice(0,f)},basename:function(a,l){if(l!==void 0&&typeof l!="string")throw new TypeError('"ext" argument must be a string');t(a);var c=0,f=-1,d=!0,g;if(l!==void 0&&l.length>0&&l.length<=a.length){if(l.length===a.length&&l===a)return"";var y=l.length-1,_=-1;for(g=a.length-1;g>=0;--g){var S=a.charCodeAt(g);if(S===47){if(!d){c=g+1;break}}else _===-1&&(d=!1,_=g+1),y>=0&&(S===l.charCodeAt(y)?--y===-1&&(f=g):(y=-1,f=_))}return c===f?f=_:f===-1&&(f=a.length),a.slice(c,f)}else{for(g=a.length-1;g>=0;--g)if(a.charCodeAt(g)===47){if(!d){c=g+1;break}}else f===-1&&(d=!1,f=g+1);return f===-1?"":a.slice(c,f)}},extname:function(a){t(a);for(var l=-1,c=0,f=-1,d=!0,g=0,y=a.length-1;y>=0;--y){var _=a.charCodeAt(y);if(_===47){if(!d){c=y+1;break}continue}f===-1&&(d=!1,f=y+1),_===46?l===-1?l=y:g!==1&&(g=1):l!==-1&&(g=-1)}return l===-1||f===-1||g===0||g===1&&l===f-1&&l===c+1?"":a.slice(l,f)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return i("/",a)},parse:function(a){t(a);var l={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return l;var c=a.charCodeAt(0),f=c===47,d;f?(l.root="/",d=1):d=0;for(var g=-1,y=0,_=-1,S=!0,x=a.length-1,E=0;x>=d;--x){if(c=a.charCodeAt(x),c===47){if(!S){y=x+1;break}continue}_===-1&&(S=!1,_=x+1),c===46?g===-1?g=x:E!==1&&(E=1):g!==-1&&(E=-1)}return g===-1||_===-1||E===0||E===1&&g===_-1&&g===y+1?_!==-1&&(y===0&&f?l.base=l.name=a.slice(1,_):l.base=l.name=a.slice(y,_)):(y===0&&f?(l.name=a.slice(1,g),l.base=a.slice(1,_)):(l.name=a.slice(y,g),l.base=a.slice(y,_)),l.ext=a.slice(g,_)),y>0?l.dir=a.slice(0,y-1):f&&(l.dir="/"),l},sep:"/",delimiter:":",win32:null,posix:null};return s.posix=s,yd=s,yd}var yd,o_,a_,aC=Kr(()=>{oe(),le(),ae(),q2(),yd={},o_=!1,a_=oC()}),V2={};Hu(V2,{URL:()=>tE,Url:()=>X2,default:()=>cr,fileURLToPath:()=>K2,format:()=>G2,parse:()=>J2,pathToFileURL:()=>Y2,resolve:()=>$2,resolveObject:()=>Q2});function lC(){if(l_)return _d;l_=!0;var n=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,e=n&&t&&typeof t.get=="function"?t.get:null,i=n&&Map.prototype.forEach,s=typeof Set=="function"&&Set.prototype,a=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=s&&a&&typeof a.get=="function"?a.get:null,c=s&&Set.prototype.forEach,f=typeof WeakMap=="function"&&WeakMap.prototype,d=f?WeakMap.prototype.has:null,g=typeof WeakSet=="function"&&WeakSet.prototype,y=g?WeakSet.prototype.has:null,_=typeof WeakRef=="function"&&WeakRef.prototype,S=_?WeakRef.prototype.deref:null,x=Boolean.prototype.valueOf,E=Object.prototype.toString,T=Function.prototype.toString,N=String.prototype.match,M=String.prototype.slice,D=String.prototype.replace,I=String.prototype.toUpperCase,R=String.prototype.toLowerCase,z=RegExp.prototype.test,j=Array.prototype.concat,W=Array.prototype.join,J=Array.prototype.slice,tt=Math.floor,ot=typeof BigInt=="function"?BigInt.prototype.valueOf:null,G=Object.getOwnPropertySymbols,dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ht=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ut=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ht||!0)?Symbol.toStringTag:null,rt=Object.prototype.propertyIsEnumerable,lt=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Ot){return Ot.__proto__}:null);function et(Ot,Wt){if(Ot===1/0||Ot===-1/0||Ot!==Ot||Ot&&Ot>-1e3&&Ot<1e3||z.call(/e/,Wt))return Wt;var Pe=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Ot=="number"){var ue=Ot<0?-tt(-Ot):tt(Ot);if(ue!==Ot){var Fe=String(ue),Ye=M.call(Wt,Fe.length+1);return D.call(Fe,Pe,"$&_")+"."+D.call(D.call(Ye,/([0-9]{3})/g,"$&_"),/_$/,"")}}return D.call(Wt,Pe,"$&_")}var Pt=Z2,nt=Pt.custom,Y=Rt(nt)?nt:null;_d=function Ot(Wt,Pe,ue,Fe){var Ye=Pe||{};if(Jt(Ye,"quoteStyle")&&Ye.quoteStyle!=="single"&&Ye.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Jt(Ye,"maxStringLength")&&(typeof Ye.maxStringLength=="number"?Ye.maxStringLength<0&&Ye.maxStringLength!==1/0:Ye.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Ci=Jt(Ye,"customInspect")?Ye.customInspect:!0;if(typeof Ci!="boolean"&&Ci!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Jt(Ye,"indent")&&Ye.indent!==null&&Ye.indent!=="	"&&!(parseInt(Ye.indent,10)===Ye.indent&&Ye.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Jt(Ye,"numericSeparator")&&typeof Ye.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Te=Ye.numericSeparator;if(typeof Wt>"u")return"undefined";if(Wt===null)return"null";if(typeof Wt=="boolean")return Wt?"true":"false";if(typeof Wt=="string")return Xt(Wt,Ye);if(typeof Wt=="number"){if(Wt===0)return 1/0/Wt>0?"0":"-0";var Pn=String(Wt);return Te?et(Wt,Pn):Pn}if(typeof Wt=="bigint"){var di=String(Wt)+"n";return Te?et(Wt,di):di}var vi=typeof Ye.depth>"u"?5:Ye.depth;if(typeof ue>"u"&&(ue=0),ue>=vi&&vi>0&&typeof Wt=="object")return Tt(Wt)?"[Array]":"[Object]";var wi=Bt(Ye,ue);if(typeof Fe>"u")Fe=[];else if(Vt(Fe,Wt)>=0)return"[Circular]";function Kn(qn,pr,xi){if(pr&&(Fe=J.call(Fe),Fe.push(pr)),xi){var Bi={depth:Ye.depth};return Jt(Ye,"quoteStyle")&&(Bi.quoteStyle=Ye.quoteStyle),Ot(qn,Bi,ue+1,Fe)}return Ot(qn,Ye,ue+1,Fe)}if(typeof Wt=="function"&&!Ut(Wt)){var Ks=Et(Wt),Yr=we(Wt,Kn);return"[Function"+(Ks?": "+Ks:" (anonymous)")+"]"+(Yr.length>0?" { "+W.call(Yr,", ")+" }":"")}if(Rt(Wt)){var zi=ht?D.call(String(Wt),/^(Symbol\(.*\))_[^)]*$/,"$1"):dt.call(Wt);return typeof Wt=="object"&&!ht?C(zi):zi}if(ve(Wt)){for(var it="<"+R.call(String(Wt.nodeName)),pt=Wt.attributes||[],xe=0;xe<pt.length;xe++)it+=" "+pt[xe].name+"="+Z(at(pt[xe].value),"double",Ye);return it+=">",Wt.childNodes&&Wt.childNodes.length&&(it+="..."),it+="</"+R.call(String(Wt.nodeName))+">",it}if(Tt(Wt)){if(Wt.length===0)return"[]";var be=we(Wt,Kn);return wi&&!bt(be)?"["+ee(be,wi)+"]":"[ "+W.call(be,", ")+" ]"}if(_t(Wt)){var Me=we(Wt,Kn);return!("cause"in Error.prototype)&&"cause"in Wt&&!rt.call(Wt,"cause")?"{ ["+String(Wt)+"] "+W.call(j.call("[cause]: "+Kn(Wt.cause),Me),", ")+" }":Me.length===0?"["+String(Wt)+"]":"{ ["+String(Wt)+"] "+W.call(Me,", ")+" }"}if(typeof Wt=="object"&&Ci){if(Y&&typeof Wt[Y]=="function"&&Pt)return Pt(Wt,{depth:vi-ue});if(Ci!=="symbol"&&typeof Wt.inspect=="function")return Wt.inspect()}if(ie(Wt)){var cn=[];return i&&i.call(Wt,function(qn,pr){cn.push(Kn(pr,Wt,!0)+" => "+Kn(qn,Wt))}),K("Map",e.call(Wt),cn,wi)}if(wt(Wt)){var Re=[];return c&&c.call(Wt,function(qn){Re.push(Kn(qn,Wt))}),K("Set",l.call(Wt),Re,wi)}if(re(Wt))return F("WeakMap");if(fe(Wt))return F("WeakSet");if(he(Wt))return F("WeakRef");if(vt(Wt))return C(Kn(Number(Wt)));if(At(Wt))return C(Kn(ot.call(Wt)));if(Mt(Wt))return C(x.call(Wt));if(ct(Wt))return C(Kn(String(Wt)));if(typeof window<"u"&&Wt===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Wt===globalThis||typeof bd<"u"&&Wt===bd)return"{ [object globalThis] }";if(!gt(Wt)&&!Ut(Wt)){var oi=we(Wt,Kn),Ji=lt?lt(Wt)===Object.prototype:Wt instanceof Object||Wt.constructor===Object,Ni=Wt instanceof Object?"":"null prototype",pn=!Ji&&ut&&Object(Wt)===Wt&&ut in Wt?M.call(ft(Wt),8,-1):Ni?"Object":"",kn=Ji||typeof Wt.constructor!="function"?"":Wt.constructor.name?Wt.constructor.name+" ":"",Hn=kn+(pn||Ni?"["+W.call(j.call([],pn||[],Ni||[]),": ")+"] ":"");return oi.length===0?Hn+"{}":wi?Hn+"{"+ee(oi,wi)+"}":Hn+"{ "+W.call(oi,", ")+" }"}return String(Wt)};function Z(Ot,Wt,Pe){var ue=(Pe.quoteStyle||Wt)==="double"?'"':"'";return ue+Ot+ue}function at(Ot){return D.call(String(Ot),/"/g,"&quot;")}function Tt(Ot){return ft(Ot)==="[object Array]"&&(!ut||!(typeof Ot=="object"&&ut in Ot))}function gt(Ot){return ft(Ot)==="[object Date]"&&(!ut||!(typeof Ot=="object"&&ut in Ot))}function Ut(Ot){return ft(Ot)==="[object RegExp]"&&(!ut||!(typeof Ot=="object"&&ut in Ot))}function _t(Ot){return ft(Ot)==="[object Error]"&&(!ut||!(typeof Ot=="object"&&ut in Ot))}function ct(Ot){return ft(Ot)==="[object String]"&&(!ut||!(typeof Ot=="object"&&ut in Ot))}function vt(Ot){return ft(Ot)==="[object Number]"&&(!ut||!(typeof Ot=="object"&&ut in Ot))}function Mt(Ot){return ft(Ot)==="[object Boolean]"&&(!ut||!(typeof Ot=="object"&&ut in Ot))}function Rt(Ot){if(ht)return Ot&&typeof Ot=="object"&&Ot instanceof Symbol;if(typeof Ot=="symbol")return!0;if(!Ot||typeof Ot!="object"||!dt)return!1;try{return dt.call(Ot),!0}catch{}return!1}function At(Ot){if(!Ot||typeof Ot!="object"||!ot)return!1;try{return ot.call(Ot),!0}catch{}return!1}var ce=Object.prototype.hasOwnProperty||function(Ot){return Ot in(this||bd)};function Jt(Ot,Wt){return ce.call(Ot,Wt)}function ft(Ot){return E.call(Ot)}function Et(Ot){if(Ot.name)return Ot.name;var Wt=N.call(T.call(Ot),/^function\s*([\w$]+)/);return Wt?Wt[1]:null}function Vt(Ot,Wt){if(Ot.indexOf)return Ot.indexOf(Wt);for(var Pe=0,ue=Ot.length;Pe<ue;Pe++)if(Ot[Pe]===Wt)return Pe;return-1}function ie(Ot){if(!e||!Ot||typeof Ot!="object")return!1;try{e.call(Ot);try{l.call(Ot)}catch{return!0}return Ot instanceof Map}catch{}return!1}function re(Ot){if(!d||!Ot||typeof Ot!="object")return!1;try{d.call(Ot,d);try{y.call(Ot,y)}catch{return!0}return Ot instanceof WeakMap}catch{}return!1}function he(Ot){if(!S||!Ot||typeof Ot!="object")return!1;try{return S.call(Ot),!0}catch{}return!1}function wt(Ot){if(!l||!Ot||typeof Ot!="object")return!1;try{l.call(Ot);try{e.call(Ot)}catch{return!0}return Ot instanceof Set}catch{}return!1}function fe(Ot){if(!y||!Ot||typeof Ot!="object")return!1;try{y.call(Ot,y);try{d.call(Ot,d)}catch{return!0}return Ot instanceof WeakSet}catch{}return!1}function ve(Ot){return!Ot||typeof Ot!="object"?!1:typeof HTMLElement<"u"&&Ot instanceof HTMLElement?!0:typeof Ot.nodeName=="string"&&typeof Ot.getAttribute=="function"}function Xt(Ot,Wt){if(Ot.length>Wt.maxStringLength){var Pe=Ot.length-Wt.maxStringLength,ue="... "+Pe+" more character"+(Pe>1?"s":"");return Xt(M.call(Ot,0,Wt.maxStringLength),Wt)+ue}var Fe=D.call(D.call(Ot,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Ke);return Z(Fe,"single",Wt)}function Ke(Ot){var Wt=Ot.charCodeAt(0),Pe={8:"b",9:"t",10:"n",12:"f",13:"r"}[Wt];return Pe?"\\"+Pe:"\\x"+(Wt<16?"0":"")+I.call(Wt.toString(16))}function C(Ot){return"Object("+Ot+")"}function F(Ot){return Ot+" { ? }"}function K(Ot,Wt,Pe,ue){var Fe=ue?ee(Pe,ue):W.call(Pe,", ");return Ot+" ("+Wt+") {"+Fe+"}"}function bt(Ot){for(var Wt=0;Wt<Ot.length;Wt++)if(Vt(Ot[Wt],`
`)>=0)return!1;return!0}function Bt(Ot,Wt){var Pe;if(Ot.indent==="	")Pe="	";else if(typeof Ot.indent=="number"&&Ot.indent>0)Pe=W.call(Array(Ot.indent+1)," ");else return null;return{base:Pe,prev:W.call(Array(Wt+1),Pe)}}function ee(Ot,Wt){if(Ot.length===0)return"";var Pe=`
`+Wt.prev+Wt.base;return Pe+W.call(Ot,","+Pe)+`
`+Wt.prev}function we(Ot,Wt){var Pe=Tt(Ot),ue=[];if(Pe){ue.length=Ot.length;for(var Fe=0;Fe<Ot.length;Fe++)ue[Fe]=Jt(Ot,Fe)?Wt(Ot[Fe],Ot):""}var Ye=typeof G=="function"?G(Ot):[],Ci;if(ht){Ci={};for(var Te=0;Te<Ye.length;Te++)Ci["$"+Ye[Te]]=Ye[Te]}for(var Pn in Ot)Jt(Ot,Pn)&&(Pe&&String(Number(Pn))===Pn&&Pn<Ot.length||ht&&Ci["$"+Pn]instanceof Symbol||(z.call(/[^\w$]/,Pn)?ue.push(Wt(Pn,Ot)+": "+Wt(Ot[Pn],Ot)):ue.push(Pn+": "+Wt(Ot[Pn],Ot))));if(typeof G=="function")for(var di=0;di<Ye.length;di++)rt.call(Ot,Ye[di])&&ue.push("["+Wt(Ye[di])+"]: "+Wt(Ot[Ye[di]],Ot));return ue}return _d}function uC(){if(u_)return vd;u_=!0;var n=Wu(),t=ZO(),e=lC(),i=Mf(),s=n("%WeakMap%",!0),a=n("%Map%",!0),l=t("WeakMap.prototype.get",!0),c=t("WeakMap.prototype.set",!0),f=t("WeakMap.prototype.has",!0),d=t("Map.prototype.get",!0),g=t("Map.prototype.set",!0),y=t("Map.prototype.has",!0),_=function(T,N){for(var M=T,D;(D=M.next)!==null;M=D)if(D.key===N)return M.next=D.next,D.next=T.next,T.next=D,D},S=function(T,N){var M=_(T,N);return M&&M.value},x=function(T,N,M){var D=_(T,N);D?D.value=M:T.next={key:N,next:T.next,value:M}},E=function(T,N){return!!_(T,N)};return vd=function(){var T,N,M,D={assert:function(I){if(!D.has(I))throw new i("Side channel does not contain "+e(I))},get:function(I){if(s&&I&&(typeof I=="object"||typeof I=="function")){if(T)return l(T,I)}else if(a){if(N)return d(N,I)}else if(M)return S(M,I)},has:function(I){if(s&&I&&(typeof I=="object"||typeof I=="function")){if(T)return f(T,I)}else if(a){if(N)return y(N,I)}else if(M)return E(M,I);return!1},set:function(I,R){s&&I&&(typeof I=="object"||typeof I=="function")?(T||(T=new s),c(T,I,R)):a?(N||(N=new a),g(N,I,R)):(M||(M={key:{},next:null}),x(M,I,R))}};return D},vd}function Z_(){if(c_)return wd;c_=!0;var n=String.prototype.replace,t=/%20/g,e={RFC1738:"RFC1738",RFC3986:"RFC3986"};return wd={default:e.RFC3986,formatters:{RFC1738:function(i){return n.call(i,t,"+")},RFC3986:function(i){return String(i)}},RFC1738:e.RFC1738,RFC3986:e.RFC3986},wd}function W2(){if(f_)return xd;f_=!0;var n=Z_(),t=Object.prototype.hasOwnProperty,e=Array.isArray,i=(function(){for(var T=[],N=0;N<256;++N)T.push("%"+((N<16?"0":"")+N.toString(16)).toUpperCase());return T})(),s=function(T){for(;T.length>1;){var N=T.pop(),M=N.obj[N.prop];if(e(M)){for(var D=[],I=0;I<M.length;++I)typeof M[I]<"u"&&D.push(M[I]);N.obj[N.prop]=D}}},a=function(T,N){for(var M=N&&N.plainObjects?Object.create(null):{},D=0;D<T.length;++D)typeof T[D]<"u"&&(M[D]=T[D]);return M},l=function T(N,M,D){if(!M)return N;if(typeof M!="object"){if(e(N))N.push(M);else if(N&&typeof N=="object")(D&&(D.plainObjects||D.allowPrototypes)||!t.call(Object.prototype,M))&&(N[M]=!0);else return[N,M];return N}if(!N||typeof N!="object")return[N].concat(M);var I=N;return e(N)&&!e(M)&&(I=a(N,D)),e(N)&&e(M)?(M.forEach(function(R,z){if(t.call(N,z)){var j=N[z];j&&typeof j=="object"&&R&&typeof R=="object"?N[z]=T(j,R,D):N.push(R)}else N[z]=R}),N):Object.keys(M).reduce(function(R,z){var j=M[z];return t.call(R,z)?R[z]=T(R[z],j,D):R[z]=j,R},I)},c=function(T,N){return Object.keys(N).reduce(function(M,D){return M[D]=N[D],M},T)},f=function(T,N,M){var D=T.replace(/\+/g," ");if(M==="iso-8859-1")return D.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(D)}catch{return D}},d=1024,g=function(T,N,M,D,I){if(T.length===0)return T;var R=T;if(typeof T=="symbol"?R=Symbol.prototype.toString.call(T):typeof T!="string"&&(R=String(T)),M==="iso-8859-1")return escape(R).replace(/%u[0-9a-f]{4}/gi,function(G){return"%26%23"+parseInt(G.slice(2),16)+"%3B"});for(var z="",j=0;j<R.length;j+=d){for(var W=R.length>=d?R.slice(j,j+d):R,J=[],tt=0;tt<W.length;++tt){var ot=W.charCodeAt(tt);if(ot===45||ot===46||ot===95||ot===126||ot>=48&&ot<=57||ot>=65&&ot<=90||ot>=97&&ot<=122||I===n.RFC1738&&(ot===40||ot===41)){J[J.length]=W.charAt(tt);continue}if(ot<128){J[J.length]=i[ot];continue}if(ot<2048){J[J.length]=i[192|ot>>6]+i[128|ot&63];continue}if(ot<55296||ot>=57344){J[J.length]=i[224|ot>>12]+i[128|ot>>6&63]+i[128|ot&63];continue}tt+=1,ot=65536+((ot&1023)<<10|W.charCodeAt(tt)&1023),J[J.length]=i[240|ot>>18]+i[128|ot>>12&63]+i[128|ot>>6&63]+i[128|ot&63]}z+=J.join("")}return z},y=function(T){for(var N=[{obj:{o:T},prop:"o"}],M=[],D=0;D<N.length;++D)for(var I=N[D],R=I.obj[I.prop],z=Object.keys(R),j=0;j<z.length;++j){var W=z[j],J=R[W];typeof J=="object"&&J!==null&&M.indexOf(J)===-1&&(N.push({obj:R,prop:W}),M.push(J))}return s(N),T},_=function(T){return Object.prototype.toString.call(T)==="[object RegExp]"},S=function(T){return!T||typeof T!="object"?!1:!!(T.constructor&&T.constructor.isBuffer&&T.constructor.isBuffer(T))},x=function(T,N){return[].concat(T,N)},E=function(T,N){if(e(T)){for(var M=[],D=0;D<T.length;D+=1)M.push(N(T[D]));return M}return N(T)};return xd={arrayToObject:a,assign:c,combine:x,compact:y,decode:f,encode:g,isBuffer:S,isRegExp:_,maybeMap:E,merge:l},xd}function cC(){if(h_)return Sd;h_=!0;var n=uC(),t=W2(),e=Z_(),i=Object.prototype.hasOwnProperty,s={brackets:function(E){return E+"[]"},comma:"comma",indices:function(E,T){return E+"["+T+"]"},repeat:function(E){return E}},a=Array.isArray,l=Array.prototype.push,c=function(E,T){l.apply(E,a(T)?T:[T])},f=Date.prototype.toISOString,d=e.default,g={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,format:d,formatter:e.formatters[d],indices:!1,serializeDate:function(E){return f.call(E)},skipNulls:!1,strictNullHandling:!1},y=function(E){return typeof E=="string"||typeof E=="number"||typeof E=="boolean"||typeof E=="symbol"||typeof E=="bigint"},_={},S=function E(T,N,M,D,I,R,z,j,W,J,tt,ot,G,dt,ht,ut,rt,lt){for(var et=T,Pt=lt,nt=0,Y=!1;(Pt=Pt.get(_))!==void 0&&!Y;){var Z=Pt.get(T);if(nt+=1,typeof Z<"u"){if(Z===nt)throw new RangeError("Cyclic object value");Y=!0}typeof Pt.get(_)>"u"&&(nt=0)}if(typeof J=="function"?et=J(N,et):et instanceof Date?et=G(et):M==="comma"&&a(et)&&(et=t.maybeMap(et,function(ft){return ft instanceof Date?G(ft):ft})),et===null){if(R)return W&&!ut?W(N,g.encoder,rt,"key",dt):N;et=""}if(y(et)||t.isBuffer(et)){if(W){var at=ut?N:W(N,g.encoder,rt,"key",dt);return[ht(at)+"="+ht(W(et,g.encoder,rt,"value",dt))]}return[ht(N)+"="+ht(String(et))]}var Tt=[];if(typeof et>"u")return Tt;var gt;if(M==="comma"&&a(et))ut&&W&&(et=t.maybeMap(et,W)),gt=[{value:et.length>0?et.join(",")||null:void 0}];else if(a(J))gt=J;else{var Ut=Object.keys(et);gt=tt?Ut.sort(tt):Ut}var _t=j?N.replace(/\./g,"%2E"):N,ct=D&&a(et)&&et.length===1?_t+"[]":_t;if(I&&a(et)&&et.length===0)return ct+"[]";for(var vt=0;vt<gt.length;++vt){var Mt=gt[vt],Rt=typeof Mt=="object"&&typeof Mt.value<"u"?Mt.value:et[Mt];if(!(z&&Rt===null)){var At=ot&&j?Mt.replace(/\./g,"%2E"):Mt,ce=a(et)?typeof M=="function"?M(ct,At):ct:ct+(ot?"."+At:"["+At+"]");lt.set(T,nt);var Jt=n();Jt.set(_,lt),c(Tt,E(Rt,ce,M,D,I,R,z,j,M==="comma"&&ut&&a(et)?null:W,J,tt,ot,G,dt,ht,ut,rt,Jt))}}return Tt},x=function(E){if(!E)return g;if(typeof E.allowEmptyArrays<"u"&&typeof E.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof E.encodeDotInKeys<"u"&&typeof E.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(E.encoder!==null&&typeof E.encoder<"u"&&typeof E.encoder!="function")throw new TypeError("Encoder has to be a function.");var T=E.charset||g.charset;if(typeof E.charset<"u"&&E.charset!=="utf-8"&&E.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var N=e.default;if(typeof E.format<"u"){if(!i.call(e.formatters,E.format))throw new TypeError("Unknown format option provided.");N=E.format}var M=e.formatters[N],D=g.filter;(typeof E.filter=="function"||a(E.filter))&&(D=E.filter);var I;if(E.arrayFormat in s?I=E.arrayFormat:"indices"in E?I=E.indices?"indices":"repeat":I=g.arrayFormat,"commaRoundTrip"in E&&typeof E.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var R=typeof E.allowDots>"u"?E.encodeDotInKeys===!0?!0:g.allowDots:!!E.allowDots;return{addQueryPrefix:typeof E.addQueryPrefix=="boolean"?E.addQueryPrefix:g.addQueryPrefix,allowDots:R,allowEmptyArrays:typeof E.allowEmptyArrays=="boolean"?!!E.allowEmptyArrays:g.allowEmptyArrays,arrayFormat:I,charset:T,charsetSentinel:typeof E.charsetSentinel=="boolean"?E.charsetSentinel:g.charsetSentinel,commaRoundTrip:E.commaRoundTrip,delimiter:typeof E.delimiter>"u"?g.delimiter:E.delimiter,encode:typeof E.encode=="boolean"?E.encode:g.encode,encodeDotInKeys:typeof E.encodeDotInKeys=="boolean"?E.encodeDotInKeys:g.encodeDotInKeys,encoder:typeof E.encoder=="function"?E.encoder:g.encoder,encodeValuesOnly:typeof E.encodeValuesOnly=="boolean"?E.encodeValuesOnly:g.encodeValuesOnly,filter:D,format:N,formatter:M,serializeDate:typeof E.serializeDate=="function"?E.serializeDate:g.serializeDate,skipNulls:typeof E.skipNulls=="boolean"?E.skipNulls:g.skipNulls,sort:typeof E.sort=="function"?E.sort:null,strictNullHandling:typeof E.strictNullHandling=="boolean"?E.strictNullHandling:g.strictNullHandling}};return Sd=function(E,T){var N=E,M=x(T),D,I;typeof M.filter=="function"?(I=M.filter,N=I("",N)):a(M.filter)&&(I=M.filter,D=I);var R=[];if(typeof N!="object"||N===null)return"";var z=s[M.arrayFormat],j=z==="comma"&&M.commaRoundTrip;D||(D=Object.keys(N)),M.sort&&D.sort(M.sort);for(var W=n(),J=0;J<D.length;++J){var tt=D[J];M.skipNulls&&N[tt]===null||c(R,S(N[tt],tt,z,j,M.allowEmptyArrays,M.strictNullHandling,M.skipNulls,M.encodeDotInKeys,M.encode?M.encoder:null,M.filter,M.sort,M.allowDots,M.serializeDate,M.format,M.formatter,M.encodeValuesOnly,M.charset,W))}var ot=R.join(M.delimiter),G=M.addQueryPrefix===!0?"?":"";return M.charsetSentinel&&(M.charset==="iso-8859-1"?G+="utf8=%26%2310003%3B&":G+="utf8=%E2%9C%93&"),ot.length>0?G+ot:""},Sd}function fC(){if(d_)return Ed;d_=!0;var n=W2(),t=Object.prototype.hasOwnProperty,e=Array.isArray,i={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},s=function(_){return _.replace(/&#(\d+);/g,function(S,x){return String.fromCharCode(parseInt(x,10))})},a=function(_,S){return _&&typeof _=="string"&&S.comma&&_.indexOf(",")>-1?_.split(","):_},l="utf8=%26%2310003%3B",c="utf8=%E2%9C%93",f=function(_,S){var x={__proto__:null},E=S.ignoreQueryPrefix?_.replace(/^\?/,""):_;E=E.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var T=S.parameterLimit===1/0?void 0:S.parameterLimit,N=E.split(S.delimiter,T),M=-1,D,I=S.charset;if(S.charsetSentinel)for(D=0;D<N.length;++D)N[D].indexOf("utf8=")===0&&(N[D]===c?I="utf-8":N[D]===l&&(I="iso-8859-1"),M=D,D=N.length);for(D=0;D<N.length;++D)if(D!==M){var R=N[D],z=R.indexOf("]="),j=z===-1?R.indexOf("="):z+1,W,J;j===-1?(W=S.decoder(R,i.decoder,I,"key"),J=S.strictNullHandling?null:""):(W=S.decoder(R.slice(0,j),i.decoder,I,"key"),J=n.maybeMap(a(R.slice(j+1),S),function(ot){return S.decoder(ot,i.decoder,I,"value")})),J&&S.interpretNumericEntities&&I==="iso-8859-1"&&(J=s(J)),R.indexOf("[]=")>-1&&(J=e(J)?[J]:J);var tt=t.call(x,W);tt&&S.duplicates==="combine"?x[W]=n.combine(x[W],J):(!tt||S.duplicates==="last")&&(x[W]=J)}return x},d=function(_,S,x,E){for(var T=E?S:a(S,x),N=_.length-1;N>=0;--N){var M,D=_[N];if(D==="[]"&&x.parseArrays)M=x.allowEmptyArrays&&(T===""||x.strictNullHandling&&T===null)?[]:[].concat(T);else{M=x.plainObjects?Object.create(null):{};var I=D.charAt(0)==="["&&D.charAt(D.length-1)==="]"?D.slice(1,-1):D,R=x.decodeDotInKeys?I.replace(/%2E/g,"."):I,z=parseInt(R,10);!x.parseArrays&&R===""?M={0:T}:!isNaN(z)&&D!==R&&String(z)===R&&z>=0&&x.parseArrays&&z<=x.arrayLimit?(M=[],M[z]=T):R!=="__proto__"&&(M[R]=T)}T=M}return T},g=function(_,S,x,E){if(_){var T=x.allowDots?_.replace(/\.([^.[]+)/g,"[$1]"):_,N=/(\[[^[\]]*])/,M=/(\[[^[\]]*])/g,D=x.depth>0&&N.exec(T),I=D?T.slice(0,D.index):T,R=[];if(I){if(!x.plainObjects&&t.call(Object.prototype,I)&&!x.allowPrototypes)return;R.push(I)}for(var z=0;x.depth>0&&(D=M.exec(T))!==null&&z<x.depth;){if(z+=1,!x.plainObjects&&t.call(Object.prototype,D[1].slice(1,-1))&&!x.allowPrototypes)return;R.push(D[1])}if(D){if(x.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+x.depth+" and strictDepth is true");R.push("["+T.slice(D.index)+"]")}return d(R,S,x,E)}},y=function(_){if(!_)return i;if(typeof _.allowEmptyArrays<"u"&&typeof _.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof _.decodeDotInKeys<"u"&&typeof _.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(_.decoder!==null&&typeof _.decoder<"u"&&typeof _.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof _.charset<"u"&&_.charset!=="utf-8"&&_.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var S=typeof _.charset>"u"?i.charset:_.charset,x=typeof _.duplicates>"u"?i.duplicates:_.duplicates;if(x!=="combine"&&x!=="first"&&x!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var E=typeof _.allowDots>"u"?_.decodeDotInKeys===!0?!0:i.allowDots:!!_.allowDots;return{allowDots:E,allowEmptyArrays:typeof _.allowEmptyArrays=="boolean"?!!_.allowEmptyArrays:i.allowEmptyArrays,allowPrototypes:typeof _.allowPrototypes=="boolean"?_.allowPrototypes:i.allowPrototypes,allowSparse:typeof _.allowSparse=="boolean"?_.allowSparse:i.allowSparse,arrayLimit:typeof _.arrayLimit=="number"?_.arrayLimit:i.arrayLimit,charset:S,charsetSentinel:typeof _.charsetSentinel=="boolean"?_.charsetSentinel:i.charsetSentinel,comma:typeof _.comma=="boolean"?_.comma:i.comma,decodeDotInKeys:typeof _.decodeDotInKeys=="boolean"?_.decodeDotInKeys:i.decodeDotInKeys,decoder:typeof _.decoder=="function"?_.decoder:i.decoder,delimiter:typeof _.delimiter=="string"||n.isRegExp(_.delimiter)?_.delimiter:i.delimiter,depth:typeof _.depth=="number"||_.depth===!1?+_.depth:i.depth,duplicates:x,ignoreQueryPrefix:_.ignoreQueryPrefix===!0,interpretNumericEntities:typeof _.interpretNumericEntities=="boolean"?_.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:typeof _.parameterLimit=="number"?_.parameterLimit:i.parameterLimit,parseArrays:_.parseArrays!==!1,plainObjects:typeof _.plainObjects=="boolean"?_.plainObjects:i.plainObjects,strictDepth:typeof _.strictDepth=="boolean"?!!_.strictDepth:i.strictDepth,strictNullHandling:typeof _.strictNullHandling=="boolean"?_.strictNullHandling:i.strictNullHandling}};return Ed=function(_,S){var x=y(S);if(_===""||_===null||typeof _>"u")return x.plainObjects?Object.create(null):{};for(var E=typeof _=="string"?f(_,x):_,T=x.plainObjects?Object.create(null):{},N=Object.keys(E),M=0;M<N.length;++M){var D=N[M],I=g(D,E[D],x,typeof _=="string");T=n.merge(T,I,x)}return x.allowSparse===!0?T:n.compact(T)},Ed}function hC(){if(p_)return Ad;p_=!0;var n=cC(),t=fC(),e=Z_();return Ad={formats:e,parse:t,stringify:n},Ad}function dC(){if(m_)return Xa;m_=!0;var n=Za;function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var e=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,a=["<",">",'"',"`"," ","\r",`
`,"	"],l=["{","}","|","\\","^","`"].concat(a),c=["'"].concat(l),f=["%","/","?",";","#"].concat(c),d=["/","?","#"],g=255,y=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,S={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},T=hC();function N(R,z,j){if(R&&typeof R=="object"&&R instanceof t)return R;var W=new t;return W.parse(R,z,j),W}t.prototype.parse=function(R,z,j){if(typeof R!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof R);var W=R.indexOf("?"),J=W!==-1&&W<R.indexOf("#")?"?":"#",tt=R.split(J),ot=/\\/g;tt[0]=tt[0].replace(ot,"/"),R=tt.join(J);var G=R;if(G=G.trim(),!j&&R.split("#").length===1){var dt=s.exec(G);if(dt)return this.path=G,this.href=G,this.pathname=dt[1],dt[2]?(this.search=dt[2],z?this.query=T.parse(this.search.substr(1)):this.query=this.search.substr(1)):z&&(this.search="",this.query={}),this}var ht=e.exec(G);if(ht){ht=ht[0];var ut=ht.toLowerCase();this.protocol=ut,G=G.substr(ht.length)}if(j||ht||G.match(/^\/\/[^@/]+@[^@/]+/)){var rt=G.substr(0,2)==="//";rt&&!(ht&&x[ht])&&(G=G.substr(2),this.slashes=!0)}if(!x[ht]&&(rt||ht&&!E[ht])){for(var lt=-1,et=0;et<d.length;et++){var Pt=G.indexOf(d[et]);Pt!==-1&&(lt===-1||Pt<lt)&&(lt=Pt)}var nt,Y;lt===-1?Y=G.lastIndexOf("@"):Y=G.lastIndexOf("@",lt),Y!==-1&&(nt=G.slice(0,Y),G=G.slice(Y+1),this.auth=decodeURIComponent(nt)),lt=-1;for(var et=0;et<f.length;et++){var Pt=G.indexOf(f[et]);Pt!==-1&&(lt===-1||Pt<lt)&&(lt=Pt)}lt===-1&&(lt=G.length),this.host=G.slice(0,lt),G=G.slice(lt),this.parseHost(),this.hostname=this.hostname||"";var Z=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Z)for(var at=this.hostname.split(/\./),et=0,Tt=at.length;et<Tt;et++){var gt=at[et];if(gt&&!gt.match(y)){for(var Ut="",_t=0,ct=gt.length;_t<ct;_t++)gt.charCodeAt(_t)>127?Ut+="x":Ut+=gt[_t];if(!Ut.match(y)){var vt=at.slice(0,et),Mt=at.slice(et+1),Rt=gt.match(_);Rt&&(vt.push(Rt[1]),Mt.unshift(Rt[2])),Mt.length&&(G="/"+Mt.join(".")+G),this.hostname=vt.join(".");break}}}this.hostname.length>g?this.hostname="":this.hostname=this.hostname.toLowerCase(),Z||(this.hostname=n.toASCII(this.hostname));var At=this.port?":"+this.port:"",ce=this.hostname||"";this.host=ce+At,this.href+=this.host,Z&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),G[0]!=="/"&&(G="/"+G))}if(!S[ut])for(var et=0,Tt=c.length;et<Tt;et++){var Jt=c[et];if(G.indexOf(Jt)!==-1){var ft=encodeURIComponent(Jt);ft===Jt&&(ft=escape(Jt)),G=G.split(Jt).join(ft)}}var Et=G.indexOf("#");Et!==-1&&(this.hash=G.substr(Et),G=G.slice(0,Et));var Vt=G.indexOf("?");if(Vt!==-1?(this.search=G.substr(Vt),this.query=G.substr(Vt+1),z&&(this.query=T.parse(this.query)),G=G.slice(0,Vt)):z&&(this.search="",this.query={}),G&&(this.pathname=G),E[ut]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var At=this.pathname||"",ie=this.search||"";this.path=At+ie}return this.href=this.format(),this};function M(R){return typeof R=="string"&&(R=N(R)),R instanceof t?R.format():t.prototype.format.call(R)}t.prototype.format=function(){var R=this.auth||"";R&&(R=encodeURIComponent(R),R=R.replace(/%3A/i,":"),R+="@");var z=this.protocol||"",j=this.pathname||"",W=this.hash||"",J=!1,tt="";this.host?J=R+this.host:this.hostname&&(J=R+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(J+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(tt=T.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var ot=this.search||tt&&"?"+tt||"";return z&&z.substr(-1)!==":"&&(z+=":"),this.slashes||(!z||E[z])&&J!==!1?(J="//"+(J||""),j&&j.charAt(0)!=="/"&&(j="/"+j)):J||(J=""),W&&W.charAt(0)!=="#"&&(W="#"+W),ot&&ot.charAt(0)!=="?"&&(ot="?"+ot),j=j.replace(/[?#]/g,function(G){return encodeURIComponent(G)}),ot=ot.replace("#","%23"),z+J+j+ot+W};function D(R,z){return N(R,!1,!0).resolve(z)}t.prototype.resolve=function(R){return this.resolveObject(N(R,!1,!0)).format()};function I(R,z){return R?N(R,!1,!0).resolveObject(z):z}return t.prototype.resolveObject=function(R){if(typeof R=="string"){var z=new t;z.parse(R,!1,!0),R=z}for(var j=new t,W=Object.keys(this),J=0;J<W.length;J++){var tt=W[J];j[tt]=this[tt]}if(j.hash=R.hash,R.href==="")return j.href=j.format(),j;if(R.slashes&&!R.protocol){for(var ot=Object.keys(R),G=0;G<ot.length;G++){var dt=ot[G];dt!=="protocol"&&(j[dt]=R[dt])}return E[j.protocol]&&j.hostname&&!j.pathname&&(j.pathname="/",j.path=j.pathname),j.href=j.format(),j}if(R.protocol&&R.protocol!==j.protocol){if(!E[R.protocol]){for(var ht=Object.keys(R),ut=0;ut<ht.length;ut++){var rt=ht[ut];j[rt]=R[rt]}return j.href=j.format(),j}if(j.protocol=R.protocol,!R.host&&!x[R.protocol]){for(var Tt=(R.pathname||"").split("/");Tt.length&&!(R.host=Tt.shift()););R.host||(R.host=""),R.hostname||(R.hostname=""),Tt[0]!==""&&Tt.unshift(""),Tt.length<2&&Tt.unshift(""),j.pathname=Tt.join("/")}else j.pathname=R.pathname;if(j.search=R.search,j.query=R.query,j.host=R.host||"",j.auth=R.auth,j.hostname=R.hostname||R.host,j.port=R.port,j.pathname||j.search){var lt=j.pathname||"",et=j.search||"";j.path=lt+et}return j.slashes=j.slashes||R.slashes,j.href=j.format(),j}var Pt=j.pathname&&j.pathname.charAt(0)==="/",nt=R.host||R.pathname&&R.pathname.charAt(0)==="/",Y=nt||Pt||j.host&&R.pathname,Z=Y,at=j.pathname&&j.pathname.split("/")||[],Tt=R.pathname&&R.pathname.split("/")||[],gt=j.protocol&&!E[j.protocol];if(gt&&(j.hostname="",j.port=null,j.host&&(at[0]===""?at[0]=j.host:at.unshift(j.host)),j.host="",R.protocol&&(R.hostname=null,R.port=null,R.host&&(Tt[0]===""?Tt[0]=R.host:Tt.unshift(R.host)),R.host=null),Y=Y&&(Tt[0]===""||at[0]==="")),nt)j.host=R.host||R.host===""?R.host:j.host,j.hostname=R.hostname||R.hostname===""?R.hostname:j.hostname,j.search=R.search,j.query=R.query,at=Tt;else if(Tt.length)at||(at=[]),at.pop(),at=at.concat(Tt),j.search=R.search,j.query=R.query;else if(R.search!=null){if(gt){j.host=at.shift(),j.hostname=j.host;var Ut=j.host&&j.host.indexOf("@")>0?j.host.split("@"):!1;Ut&&(j.auth=Ut.shift(),j.hostname=Ut.shift(),j.host=j.hostname)}return j.search=R.search,j.query=R.query,(j.pathname!==null||j.search!==null)&&(j.path=(j.pathname?j.pathname:"")+(j.search?j.search:"")),j.href=j.format(),j}if(!at.length)return j.pathname=null,j.search?j.path="/"+j.search:j.path=null,j.href=j.format(),j;for(var _t=at.slice(-1)[0],ct=(j.host||R.host||at.length>1)&&(_t==="."||_t==="..")||_t==="",vt=0,Mt=at.length;Mt>=0;Mt--)_t=at[Mt],_t==="."?at.splice(Mt,1):_t===".."?(at.splice(Mt,1),vt++):vt&&(at.splice(Mt,1),vt--);if(!Y&&!Z)for(;vt--;vt)at.unshift("..");Y&&at[0]!==""&&(!at[0]||at[0].charAt(0)!=="/")&&at.unshift(""),ct&&at.join("/").substr(-1)!=="/"&&at.push("");var Rt=at[0]===""||at[0]&&at[0].charAt(0)==="/";if(gt){j.hostname=Rt?"":at.length?at.shift():"",j.host=j.hostname;var Ut=j.host&&j.host.indexOf("@")>0?j.host.split("@"):!1;Ut&&(j.auth=Ut.shift(),j.hostname=Ut.shift(),j.host=j.hostname)}return Y=Y||j.host&&at.length,Y&&!Rt&&at.unshift(""),at.length>0?j.pathname=at.join("/"):(j.pathname=null,j.path=null),(j.pathname!==null||j.search!==null)&&(j.path=(j.pathname?j.pathname:"")+(j.search?j.search:"")),j.auth=R.auth||j.auth,j.slashes=j.slashes||R.slashes,j.href=j.format(),j},t.prototype.parseHost=function(){var R=this.host,z=i.exec(R);z&&(z=z[0],z!==":"&&(this.port=z.substr(1)),R=R.substr(0,R.length-z.length)),R&&(this.hostname=R)},Xa.parse=N,Xa.resolve=D,Xa.resolveObject=I,Xa.format=M,Xa.Url=t,Xa}function K2(n){if(typeof n=="string")n=new URL(n);else if(!(n instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(n.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Rd?pC(n):mC(n)}function pC(n){let t=n.hostname,e=n.pathname;for(let i=0;i<e.length;i++)if(e[i]==="%"){let s=e.codePointAt(i+2)||32;if(e[i+1]==="2"&&s===102||e[i+1]==="5"&&s===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(e=e.replace(sE,"\\"),e=decodeURIComponent(e),t!=="")return`\\\\${t}${e}`;{let i=e.codePointAt(1)|32,s=e[2];if(i<iE||i>rE||s!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return e.slice(1)}}function mC(n){if(n.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let t=n.pathname;for(let e=0;e<t.length;e++)if(t[e]==="%"){let i=t.codePointAt(e+2)||32;if(t[e+1]==="2"&&i===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function Y2(n){let t=a_.resolve(n),e=n.charCodeAt(n.length-1);(e===nE||Rd&&e===eE)&&t[t.length-1]!==a_.sep&&(t+="/");let i=new URL("file://");return t.includes("%")&&(t=t.replace(oE,"%25")),!Rd&&t.includes("\\")&&(t=t.replace(aE,"%5C")),t.includes(`
`)&&(t=t.replace(lE,"%0A")),t.includes("\r")&&(t=t.replace(uE,"%0D")),t.includes("	")&&(t=t.replace(cE,"%09")),i.pathname=t,i}var Z2,_d,l_,bd,vd,u_,wd,c_,xd,f_,Sd,h_,Ed,d_,Ad,p_,Xa,m_,cr,Nw,X2,G2,$2,Q2,J2,tE,eE,nE,iE,rE,Rd,sE,oE,aE,lE,uE,cE,gC=Kr(()=>{oe(),le(),ae(),LO(),XO(),aC(),q2(),Z2=Object.freeze(Object.create(null)),_d={},l_=!1,bd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,vd={},u_=!1,wd={},c_=!1,xd={},f_=!1,Sd={},h_=!1,Ed={},d_=!1,Ad={},p_=!1,Xa={},m_=!1,cr=dC(),cr.parse,cr.resolve,cr.resolveObject,cr.format,cr.Url,Nw=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,cr.URL=typeof URL<"u"?URL:null,cr.pathToFileURL=Y2,cr.fileURLToPath=K2,X2=cr.Url,G2=cr.format,$2=cr.resolve,Q2=cr.resolveObject,J2=cr.parse,tE=cr.URL,eE=92,nE=47,iE=97,rE=122,Rd=Nw==="win32",sE=/\//g,oE=/%/g,aE=/\\/g,lE=/\n/g,uE=/\r/g,cE=/\t/g}),yC=pe((n,t)=>{oe(),le(),ae(),t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),X_=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0}),n.BufferedDuplex=void 0,n.writev=i;var t=Yl(),e=(Wi(),Bn(Vi));function i(a,l){let c=new Array(a.length);for(let f=0;f<a.length;f++)typeof a[f].chunk=="string"?c[f]=e.Buffer.from(a[f].chunk,"utf8"):c[f]=a[f].chunk;this._write(e.Buffer.concat(c),"binary",l)}var s=class extends t.Duplex{socket;proxy;isSocketOpen;writeQueue;constructor(a,l,c){super({objectMode:!0}),this.proxy=l,this.socket=c,this.writeQueue=[],a.objectMode||(this._writev=i.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",f=>{!this.destroyed&&this.readable&&this.push(f)})}_read(a){this.proxy.read(a)}_write(a,l,c){this.isSocketOpen?this.writeToProxy(a,l,c):this.writeQueue.push({chunk:a,encoding:l,cb:c})}_final(a){this.writeQueue=[],this.proxy.end(a)}_destroy(a,l){this.writeQueue=[],this.proxy.destroy(),l(a)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(a,l,c){this.proxy.write(a,l)===!1?this.proxy.once("drain",c):c()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:a,encoding:l,cb:c}=this.writeQueue.shift();this.writeToProxy(a,l,c)}}};n.BufferedDuplex=s}),Nh=pe(n=>{oe(),le(),ae();var t=n&&n.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(n,"__esModule",{value:!0}),n.streamBuilder=n.browserStreamBuilder=void 0;var e=(Wi(),Bn(Vi)),i=t(yC()),s=t(ca()),a=Yl(),l=t(Xd()),c=X_(),f=(0,s.default)("mqttjs:ws"),d=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function g(N,M){let D=`${N.protocol}://${N.hostname}:${N.port}${N.path}`;return typeof N.transformWsUrl=="function"&&(D=N.transformWsUrl(D,N,M)),D}function y(N){let M=N;return N.port||(N.protocol==="wss"?M.port=443:M.port=80),N.path||(M.path="/"),N.wsOptions||(M.wsOptions={}),!l.default&&!N.forceNativeWebSocket&&N.protocol==="wss"&&d.forEach(D=>{Object.prototype.hasOwnProperty.call(N,D)&&!Object.prototype.hasOwnProperty.call(N.wsOptions,D)&&(M.wsOptions[D]=N[D])}),M}function _(N){let M=y(N);if(M.hostname||(M.hostname=M.host),!M.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let D=new URL(document.URL);M.hostname=D.hostname,M.port||(M.port=Number(D.port))}return M.objectMode===void 0&&(M.objectMode=!(M.binary===!0||M.binary===void 0)),M}function S(N,M,D){f("createWebSocket"),f(`protocol: ${D.protocolId} ${D.protocolVersion}`);let I=D.protocolId==="MQIsdp"&&D.protocolVersion===3?"mqttv3.1":"mqtt";f(`creating new Websocket for url: ${M} and protocol: ${I}`);let R;return D.createWebsocket?R=D.createWebsocket(M,[I],D):R=new i.default(M,[I],D.wsOptions),R}function x(N,M){let D=M.protocolId==="MQIsdp"&&M.protocolVersion===3?"mqttv3.1":"mqtt",I=g(M,N),R;return M.createWebsocket?R=M.createWebsocket(I,[D],M):R=new WebSocket(I,[D]),R.binaryType="arraybuffer",R}var E=(N,M)=>{f("streamBuilder");let D=y(M);D.hostname=D.hostname||D.host||"localhost";let I=g(D,N),R=S(N,I,D),z=i.default.createWebSocketStream(R,D.wsOptions);return z.url=I,R.on("close",()=>{z.destroy()}),z};n.streamBuilder=E;var T=(N,M)=>{f("browserStreamBuilder");let D,I=_(M).browserBufferSize||1024*512,R=M.browserBufferTimeout||1e3,z=!M.objectMode,j=x(N,M),W=tt(M,ut,rt);M.objectMode||(W._writev=c.writev.bind(W)),W.on("close",()=>{j.close()});let J=typeof j.addEventListener<"u";j.readyState===j.OPEN?(D=W,D.socket=j):(D=new c.BufferedDuplex(M,W,j),J?j.addEventListener("open",ot):j.onopen=ot),J?(j.addEventListener("close",G),j.addEventListener("error",dt),j.addEventListener("message",ht)):(j.onclose=G,j.onerror=dt,j.onmessage=ht);function tt(lt,et,Pt){let nt=new a.Transform({objectMode:lt.objectMode});return nt._write=et,nt._flush=Pt,nt}function ot(){f("WebSocket onOpen"),D instanceof c.BufferedDuplex&&D.socketReady()}function G(lt){f("WebSocket onClose",lt),D.end(),D.destroy()}function dt(lt){f("WebSocket onError",lt);let et=new Error("WebSocket error");et.event=lt,D.destroy(et)}async function ht(lt){if(!W||!W.readable||!W.writable)return;let{data:et}=lt;et instanceof ArrayBuffer?et=e.Buffer.from(et):et instanceof Blob?et=e.Buffer.from(await new Response(et).arrayBuffer()):et=e.Buffer.from(et,"utf8"),W.push(et)}function ut(lt,et,Pt){if(j.bufferedAmount>I){setTimeout(ut,R,lt,et,Pt);return}z&&typeof lt=="string"&&(lt=e.Buffer.from(lt,"utf8"));try{j.send(lt)}catch(nt){return Pt(nt)}Pt()}function rt(lt){j.close(),lt()}return D};n.browserStreamBuilder=T}),G_={};Hu(G_,{Server:()=>Jn,Socket:()=>Jn,Stream:()=>Jn,_createServerHandle:()=>Jn,_normalizeArgs:()=>Jn,_setSimultaneousAccepts:()=>Jn,connect:()=>Jn,createConnection:()=>Jn,createServer:()=>Jn,default:()=>fE,isIP:()=>Jn,isIPv4:()=>Jn,isIPv6:()=>Jn});function Jn(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var fE,hE=Kr(()=>{oe(),le(),ae(),fE={_createServerHandle:Jn,_normalizeArgs:Jn,_setSimultaneousAccepts:Jn,connect:Jn,createConnection:Jn,createServer:Jn,isIP:Jn,isIPv4:Jn,isIPv6:Jn,Server:Jn,Socket:Jn,Stream:Jn}}),dE=pe((n,t)=>{oe(),le(),ae(),t.exports={}}),Rw=pe(n=>{oe(),le(),ae();var t=n&&n.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(n,"__esModule",{value:!0});var e=t((hE(),Bn(G_))),i=t(ca()),s=t(dE()),a=(0,i.default)("mqttjs:tcp"),l=(c,f)=>{if(f.port=f.port||1883,f.hostname=f.hostname||f.host||"localhost",f.socksProxy)return(0,s.default)(f.hostname,f.port,f.socksProxy,{timeout:f.socksTimeout});let{port:d,path:g}=f,y=f.hostname;return a("port %d and host %s",d,y),e.default.createConnection({port:d,host:y,path:g})};n.default=l}),pE={};Hu(pE,{default:()=>mE});var mE,_C=Kr(()=>{oe(),le(),ae(),mE={}}),Lw=pe(n=>{oe(),le(),ae();var t=n&&n.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(n,"__esModule",{value:!0});var e=(_C(),Bn(pE)),i=t((hE(),Bn(G_))),s=t(ca()),a=t(dE()),l=(0,s.default)("mqttjs:tls");function c(d){let{host:g,port:y,socksProxy:_,...S}=d;if(_!==void 0){let x=(0,a.default)(g,y,_,{timeout:d.socksTimeout});return(0,e.connect)({...S,socket:x})}return(0,e.connect)(d)}var f=(d,g)=>{g.port=g.port||8883,g.host=g.hostname||g.host||"localhost",i.default.isIP(g.host)===0&&(g.servername=g.host),g.rejectUnauthorized=g.rejectUnauthorized!==!1,delete g.path,l("port %d host %s rejectUnauthorized %b",g.port,g.host,g.rejectUnauthorized);let y=c(g);y.on("secureConnect",()=>{g.rejectUnauthorized&&!y.authorized?y.emit("error",new Error("TLS not authorized")):y.removeListener("error",_)});function _(S){g.rejectUnauthorized&&d.emit("error",S),y.end()}return y.on("error",_),y};n.default=f}),Pw=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0});var t=(Wi(),Bn(Vi)),e=Yl(),i=X_(),s,a,l;function c(){let _=new e.Transform;return _._write=(S,x,E)=>{s.send({data:S.buffer,success(){E()},fail(T){E(new Error(T))}})},_._flush=S=>{s.close({success(){S()}})},_}function f(_){_.hostname||(_.hostname="localhost"),_.path||(_.path="/"),_.wsOptions||(_.wsOptions={})}function d(_,S){let x=_.protocol==="wxs"?"wss":"ws",E=`${x}://${_.hostname}${_.path}`;return _.port&&_.port!==80&&_.port!==443&&(E=`${x}://${_.hostname}:${_.port}${_.path}`),typeof _.transformWsUrl=="function"&&(E=_.transformWsUrl(E,_,S)),E}function g(){s.onOpen(()=>{l.socketReady()}),s.onMessage(_=>{let{data:S}=_;S instanceof ArrayBuffer?S=t.Buffer.from(S):S=t.Buffer.from(S,"utf8"),a.push(S)}),s.onClose(()=>{l.emit("close"),l.end(),l.destroy()}),s.onError(_=>{let S=new Error(_.errMsg);l.destroy(S)})}var y=(_,S)=>{if(S.hostname=S.hostname||S.host,!S.hostname)throw new Error("Could not determine host. Specify host manually.");let x=S.protocolId==="MQIsdp"&&S.protocolVersion===3?"mqttv3.1":"mqtt";f(S);let E=d(S,_);s=wx.connectSocket({url:E,protocols:[x]}),a=c(),l=new i.BufferedDuplex(S,a,s),l._destroy=(N,M)=>{s.close({success(){M&&M(N)}})};let T=l.destroy;return l.destroy=(N,M)=>(l.destroy=T,setTimeout(()=>{s.close({fail(){l._destroy(N,M)}})},0),l),g(),l};n.default=y}),Dw=pe(n=>{oe(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0});var t=(Wi(),Bn(Vi)),e=Yl(),i=X_(),s,a,l,c=!1;function f(){let S=new e.Transform;return S._write=(x,E,T)=>{s.sendSocketMessage({data:x.buffer,success(){T()},fail(){T(new Error)}})},S._flush=x=>{s.closeSocket({success(){x()}})},S}function d(S){S.hostname||(S.hostname="localhost"),S.path||(S.path="/"),S.wsOptions||(S.wsOptions={})}function g(S,x){let E=S.protocol==="alis"?"wss":"ws",T=`${E}://${S.hostname}${S.path}`;return S.port&&S.port!==80&&S.port!==443&&(T=`${E}://${S.hostname}:${S.port}${S.path}`),typeof S.transformWsUrl=="function"&&(T=S.transformWsUrl(T,S,x)),T}function y(){c||(c=!0,s.onSocketOpen(()=>{l.socketReady()}),s.onSocketMessage(S=>{if(typeof S.data=="string"){let x=t.Buffer.from(S.data,"base64");a.push(x)}else{let x=new FileReader;x.addEventListener("load",()=>{if(x.result instanceof ArrayBuffer){a.push(t.Buffer.from(x.result));return}a.push(t.Buffer.from(x.result,"utf-8"))}),x.readAsArrayBuffer(S.data)}}),s.onSocketClose(()=>{l.end(),l.destroy()}),s.onSocketError(S=>{l.destroy(S)}))}var _=(S,x)=>{if(x.hostname=x.hostname||x.host,!x.hostname)throw new Error("Could not determine host. Specify host manually.");let E=x.protocolId==="MQIsdp"&&x.protocolVersion===3?"mqttv3.1":"mqtt";d(x);let T=g(x,S);return s=x.my,s.connectSocket({url:T,protocols:E}),a=f(),l=new i.BufferedDuplex(x,a,s),y(),l};n.default=_}),bC=pe(n=>{oe(),le(),ae();var t=n&&n.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(n,"__esModule",{value:!0}),n.connectAsync=g;var e=t(ca()),i=t((gC(),Bn(V2))),s=t(My()),a=t(Xd());typeof Wn?.nextTick!="function"&&(Wn.nextTick=setImmediate);var l=(0,e.default)("mqttjs"),c=null;function f(y){let _;if(y.auth)if(_=y.auth.match(/^(.+):(.+)$/),_){let[,S,x]=_;y.username=S,y.password=x}else y.username=y.auth}function d(y,_){if(l("connecting to an MQTT broker..."),typeof y=="object"&&!_&&(_=y,y=""),_=_||{},y&&typeof y=="string"){let E=i.default.parse(y,!0),T={};if(E.port!=null&&(T.port=Number(E.port)),T.host=E.hostname,T.query=E.query,T.auth=E.auth,T.protocol=E.protocol,T.path=E.path,_={...T,..._},!_.protocol)throw new Error("Missing protocol");_.protocol=_.protocol.replace(/:$/,"")}if(_.unixSocket=_.unixSocket||_.protocol?.includes("+unix"),_.unixSocket?_.protocol=_.protocol.replace("+unix",""):!_.protocol?.startsWith("ws")&&!_.protocol?.startsWith("wx")&&delete _.path,f(_),_.query&&typeof _.query.clientId=="string"&&(_.clientId=_.query.clientId),a.default||_.unixSocket?_.socksProxy=void 0:_.socksProxy===void 0&&typeof Wn<"u"&&(_.socksProxy=Wn.env.MQTTJS_SOCKS_PROXY),_.cert&&_.key)if(_.protocol){if(["mqtts","wss","wxs","alis"].indexOf(_.protocol)===-1)switch(_.protocol){case"mqtt":_.protocol="mqtts";break;case"ws":_.protocol="wss";break;case"wx":_.protocol="wxs";break;case"ali":_.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${_.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(c||(c={},!a.default&&!_.forceNativeWebSocket?(c.ws=Nh().streamBuilder,c.wss=Nh().streamBuilder,c.mqtt=Rw().default,c.tcp=Rw().default,c.ssl=Lw().default,c.tls=c.ssl,c.mqtts=Lw().default):(c.ws=Nh().browserStreamBuilder,c.wss=Nh().browserStreamBuilder,c.wx=Pw().default,c.wxs=Pw().default,c.ali=Dw().default,c.alis=Dw().default)),!c[_.protocol]){let E=["mqtts","wss"].indexOf(_.protocol)!==-1;_.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((T,N)=>E&&N%2===0?!1:typeof c[T]=="function")[0]}if(_.clean===!1&&!_.clientId)throw new Error("Missing clientId for unclean clients");_.protocol&&(_.defaultProtocol=_.protocol);function S(E){return _.servers&&((!E._reconnectCount||E._reconnectCount===_.servers.length)&&(E._reconnectCount=0),_.host=_.servers[E._reconnectCount].host,_.port=_.servers[E._reconnectCount].port,_.protocol=_.servers[E._reconnectCount].protocol?_.servers[E._reconnectCount].protocol:_.defaultProtocol,_.hostname=_.host,E._reconnectCount++),l("calling streambuilder for",_.protocol),c[_.protocol](E,_)}let x=new s.default(S,_);return x.on("error",()=>{}),x}function g(y,_,S=!0){return new Promise((x,E)=>{let T=d(y,_),N={connect:D=>{M(),x(T)},end:()=>{M(),x(T)},error:D=>{M(),T.end(),E(D)}};S===!1&&(N.close=()=>{N.error(new Error("Couldn't connect to server"))});function M(){Object.keys(N).forEach(D=>{T.off(D,N[D])})}Object.keys(N).forEach(D=>{T.on(D,N[D])})})}n.default=d}),jw=pe(n=>{oe(),le(),ae();var t=n&&n.__createBinding||(Object.create?function(S,x,E,T){T===void 0&&(T=E);var N=Object.getOwnPropertyDescriptor(x,E);(!N||("get"in N?!x.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return x[E]}}),Object.defineProperty(S,T,N)}:function(S,x,E,T){T===void 0&&(T=E),S[T]=x[E]}),e=n&&n.__setModuleDefault||(Object.create?function(S,x){Object.defineProperty(S,"default",{enumerable:!0,value:x})}:function(S,x){S.default=x}),i=n&&n.__importStar||(function(){var S=function(x){return S=Object.getOwnPropertyNames||function(E){var T=[];for(var N in E)Object.prototype.hasOwnProperty.call(E,N)&&(T[T.length]=N);return T},S(x)};return function(x){if(x&&x.__esModule)return x;var E={};if(x!=null)for(var T=S(x),N=0;N<T.length;N++)T[N]!=="default"&&t(E,x,T[N]);return e(E,x),E}})(),s=n&&n.__exportStar||function(S,x){for(var E in S)E!=="default"&&!Object.prototype.hasOwnProperty.call(x,E)&&t(x,S,E)},a=n&&n.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(n,"__esModule",{value:!0}),n.ReasonCodes=n.KeepaliveManager=n.UniqueMessageIdProvider=n.DefaultMessageIdProvider=n.Store=n.MqttClient=n.connectAsync=n.connect=n.Client=void 0;var l=a(My());n.MqttClient=l.default;var c=a(N2());n.DefaultMessageIdProvider=c.default;var f=a(NO());n.UniqueMessageIdProvider=f.default;var d=a(p2());n.Store=d.default;var g=i(bC());n.connect=g.default,Object.defineProperty(n,"connectAsync",{enumerable:!0,get:function(){return g.connectAsync}});var y=a(z2());n.KeepaliveManager=y.default,n.Client=l.default,s(My(),n),s(Vu(),n);var _=Yd();Object.defineProperty(n,"ReasonCodes",{enumerable:!0,get:function(){return _.ReasonCodes}})}),vC=pe(n=>{oe(),le(),ae();var t=n&&n.__createBinding||(Object.create?function(l,c,f,d){d===void 0&&(d=f);var g=Object.getOwnPropertyDescriptor(c,f);(!g||("get"in g?!c.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(l,d,g)}:function(l,c,f,d){d===void 0&&(d=f),l[d]=c[f]}),e=n&&n.__setModuleDefault||(Object.create?function(l,c){Object.defineProperty(l,"default",{enumerable:!0,value:c})}:function(l,c){l.default=c}),i=n&&n.__importStar||(function(){var l=function(c){return l=Object.getOwnPropertyNames||function(f){var d=[];for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(d[d.length]=g);return d},l(c)};return function(c){if(c&&c.__esModule)return c;var f={};if(c!=null)for(var d=l(c),g=0;g<d.length;g++)d[g]!=="default"&&t(f,c,d[g]);return e(f,c),f}})(),s=n&&n.__exportStar||function(l,c){for(var f in l)f!=="default"&&!Object.prototype.hasOwnProperty.call(c,f)&&t(c,l,f)};Object.defineProperty(n,"__esModule",{value:!0});var a=i(jw());n.default=a,s(jw(),n)});const gE=vC();/*! Bundled license information:

@jspm/core/nodelibs/browser/chunk-DtuTasat.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@babel/runtime/helpers/regenerator.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE *)
*/const il=ol((n,t)=>{const e=new Set,i=new Map;let s=null;const a=()=>{if(!(!s||!s.connected))for(const[c,f]of i.entries())console.log(`SUB: ${c}`),s.subscribe(c,f||{},d=>{d&&console.error("subscribe error:",c,d)})};return{connected:!1,connect(c="ws://192.168.123.129:9001",f={reconnectPeriod:5e3}){s||(s=gE.connect(c,f),s.on("connect",()=>{n({connected:!0}),a()}),s.on("reconnect",()=>{}),s.on("close",()=>{n({connected:!1})}),s.on("error",d=>{console.error("[mqttStore] error:",d)}),s.on("message",(d,g,y)=>{for(const _ of e)try{_(d,g,y)}catch(S){console.error("listener error:",S)}}))},disconnect(){try{s&&(s.end(!0),s=null)}catch(c){console.warn("[mqttStore] disconnect error:",c)}e.clear(),i.clear(),n({connected:!1})},publish(c,f,d={}){if(!s||!s.connected)return!1;const g=typeof f=="string"?f:JSON.stringify(f);return s.publish(c,g,d,y=>{y&&console.error("publish error:",y)}),!0},subscribeTopics(c,f={qos:0}){const d=Array.isArray(c)?c:[];for(const g of d)console.log("sub ->",g),typeof g=="string"?i.set(g,f):g&&typeof g.topic=="string"&&i.set(g.topic,{qos:0,...g.opts||{}});a()},unsubscribeTopics(c){const f=Array.isArray(c)?c:[];for(const d of f){const g=typeof d=="string"?d:d?.topic;g&&(i.delete(g),s&&s.connected&&(console.log(`UNSUB: ${g}`),s.unsubscribe(g,y=>{y&&console.error("unsubscribe error:",g,y)})))}},addMessageHandler(c){return e.add(c),()=>e.delete(c)},setState(c){n(c)}}});var Td={exports:{}},wC=Td.exports,Iw;function xC(){return Iw||(Iw=1,(function(n,t){(function(e,i){n.exports=i()})(wC,function(){var e=function(b,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,B){P.__proto__=B}||function(P,B){for(var q in B)Object.prototype.hasOwnProperty.call(B,q)&&(P[q]=B[q])})(b,A)},i=function(){return(i=Object.assign||function(b){for(var A,P=1,B=arguments.length;P<B;P++)for(var q in A=arguments[P])Object.prototype.hasOwnProperty.call(A,q)&&(b[q]=A[q]);return b}).apply(this,arguments)};function s(b,A,P){for(var B,q=0,X=A.length;q<X;q++)!B&&q in A||((B=B||Array.prototype.slice.call(A,0,q))[q]=A[q]);return b.concat(B||Array.prototype.slice.call(A))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:tM,l=Object.keys,c=Array.isArray;function f(b,A){return typeof A!="object"||l(A).forEach(function(P){b[P]=A[P]}),b}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var d=Object.getPrototypeOf,g={}.hasOwnProperty;function y(b,A){return g.call(b,A)}function _(b,A){typeof A=="function"&&(A=A(d(b))),(typeof Reflect>"u"?l:Reflect.ownKeys)(A).forEach(function(P){x(b,P,A[P])})}var S=Object.defineProperty;function x(b,A,P,B){S(b,A,f(P&&y(P,"get")&&typeof P.get=="function"?{get:P.get,set:P.set,configurable:!0}:{value:P,configurable:!0,writable:!0},B))}function E(b){return{from:function(A){return b.prototype=Object.create(A.prototype),x(b.prototype,"constructor",b),{extend:_.bind(null,b.prototype)}}}}var T=Object.getOwnPropertyDescriptor,N=[].slice;function M(b,A,P){return N.call(b,A,P)}function D(b,A){return A(b)}function I(b){if(!b)throw new Error("Assertion Failed")}function R(b){a.setImmediate?setImmediate(b):setTimeout(b,0)}function z(b,A){if(typeof A=="string"&&y(b,A))return b[A];if(!A)return b;if(typeof A!="string"){for(var P=[],B=0,q=A.length;B<q;++B){var X=z(b,A[B]);P.push(X)}return P}var st=A.indexOf(".");if(st!==-1){var mt=b[A.substr(0,st)];return mt==null?void 0:z(mt,A.substr(st+1))}}function j(b,A,P){if(b&&A!==void 0&&!("isFrozen"in Object&&Object.isFrozen(b)))if(typeof A!="string"&&"length"in A){I(typeof P!="string"&&"length"in P);for(var B=0,q=A.length;B<q;++B)j(b,A[B],P[B])}else{var X,st,mt=A.indexOf(".");mt!==-1?(X=A.substr(0,mt),(st=A.substr(mt+1))===""?P===void 0?c(b)&&!isNaN(parseInt(X))?b.splice(X,1):delete b[X]:b[X]=P:j(mt=!(mt=b[X])||!y(b,X)?b[X]={}:mt,st,P)):P===void 0?c(b)&&!isNaN(parseInt(A))?b.splice(A,1):delete b[A]:b[A]=P}}function W(b){var A,P={};for(A in b)y(b,A)&&(P[A]=b[A]);return P}var J=[].concat;function tt(b){return J.apply([],b)}var C="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(tt([8,16,32,64].map(function(b){return["Int","Uint","Float"].map(function(A){return A+b+"Array"})}))).filter(function(b){return a[b]}),ot=new Set(C.map(function(b){return a[b]})),G=null;function dt(b){return G=new WeakMap,b=(function A(P){if(!P||typeof P!="object")return P;var B=G.get(P);if(B)return B;if(c(P)){B=[],G.set(P,B);for(var q=0,X=P.length;q<X;++q)B.push(A(P[q]))}else if(ot.has(P.constructor))B=P;else{var st,mt=d(P);for(st in B=mt===Object.prototype?{}:Object.create(mt),G.set(P,B),P)y(P,st)&&(B[st]=A(P[st]))}return B})(b),G=null,b}var ht={}.toString;function ut(b){return ht.call(b).slice(8,-1)}var rt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",lt=typeof rt=="symbol"?function(b){var A;return b!=null&&(A=b[rt])&&A.apply(b)}:function(){return null};function et(b,A){return A=b.indexOf(A),0<=A&&b.splice(A,1),0<=A}var Pt={};function nt(b){var A,P,B,q;if(arguments.length===1){if(c(b))return b.slice();if(this===Pt&&typeof b=="string")return[b];if(q=lt(b)){for(P=[];!(B=q.next()).done;)P.push(B.value);return P}if(b==null)return[b];if(typeof(A=b.length)!="number")return[b];for(P=new Array(A);A--;)P[A]=b[A];return P}for(A=arguments.length,P=new Array(A);A--;)P[A]=arguments[A];return P}var Y=typeof Symbol<"u"?function(b){return b[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ke=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Zi=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ke),Z={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function at(b,A){this.name=b,this.message=A}function Tt(b,A){return b+". Errors: "+Object.keys(A).map(function(P){return A[P].toString()}).filter(function(P,B,q){return q.indexOf(P)===B}).join(`
`)}function gt(b,A,P,B){this.failures=A,this.failedKeys=B,this.successCount=P,this.message=Tt(b,A)}function Ut(b,A){this.name="BulkError",this.failures=Object.keys(A).map(function(P){return A[P]}),this.failuresByPos=A,this.message=Tt(b,this.failures)}E(at).from(Error).extend({toString:function(){return this.name+": "+this.message}}),E(gt).from(at),E(Ut).from(at);var _t=Zi.reduce(function(b,A){return b[A]=A+"Error",b},{}),ct=at,vt=Zi.reduce(function(b,A){var P=A+"Error";function B(q,X){this.name=P,q?typeof q=="string"?(this.message="".concat(q).concat(X?`
 `+X:""),this.inner=X||null):typeof q=="object"&&(this.message="".concat(q.name," ").concat(q.message),this.inner=q):(this.message=Z[A]||P,this.inner=null)}return E(B).from(ct),b[A]=B,b},{});vt.Syntax=SyntaxError,vt.Type=TypeError,vt.Range=RangeError;var Mt=Ke.reduce(function(b,A){return b[A+"Error"]=vt[A],b},{}),Rt=Zi.reduce(function(b,A){return["Syntax","Type","Range"].indexOf(A)===-1&&(b[A+"Error"]=vt[A]),b},{});function At(){}function ce(b){return b}function Jt(b,A){return b==null||b===ce?A:function(P){return A(b(P))}}function ft(b,A){return function(){b.apply(this,arguments),A.apply(this,arguments)}}function Et(b,A){return b===At?A:function(){var P=b.apply(this,arguments);P!==void 0&&(arguments[0]=P);var B=this.onsuccess,q=this.onerror;this.onsuccess=null,this.onerror=null;var X=A.apply(this,arguments);return B&&(this.onsuccess=this.onsuccess?ft(B,this.onsuccess):B),q&&(this.onerror=this.onerror?ft(q,this.onerror):q),X!==void 0?X:P}}function Vt(b,A){return b===At?A:function(){b.apply(this,arguments);var P=this.onsuccess,B=this.onerror;this.onsuccess=this.onerror=null,A.apply(this,arguments),P&&(this.onsuccess=this.onsuccess?ft(P,this.onsuccess):P),B&&(this.onerror=this.onerror?ft(B,this.onerror):B)}}function ie(b,A){return b===At?A:function(P){var B=b.apply(this,arguments);f(P,B);var q=this.onsuccess,X=this.onerror;return this.onsuccess=null,this.onerror=null,P=A.apply(this,arguments),q&&(this.onsuccess=this.onsuccess?ft(q,this.onsuccess):q),X&&(this.onerror=this.onerror?ft(X,this.onerror):X),B===void 0?P===void 0?void 0:P:f(B,P)}}function re(b,A){return b===At?A:function(){return A.apply(this,arguments)!==!1&&b.apply(this,arguments)}}function he(b,A){return b===At?A:function(){var P=b.apply(this,arguments);if(P&&typeof P.then=="function"){for(var B=this,q=arguments.length,X=new Array(q);q--;)X[q]=arguments[q];return P.then(function(){return A.apply(B,X)})}return A.apply(this,arguments)}}Rt.ModifyError=gt,Rt.DexieError=at,Rt.BulkError=Ut;var wt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function fe(b){wt=b}var ve={},Xt=100,C=typeof Promise>"u"?[]:(function(){var b=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[b,d(b),b];var A=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[A,d(A),b]})(),Ke=C[0],Zi=C[1],C=C[2],Zi=Zi&&Zi.then,F=Ke&&Ke.constructor,K=!!C,bt=function(b,A){Fe.push([b,A]),ee&&(queueMicrotask(Yr),ee=!1)},Bt=!0,ee=!0,we=[],Ot=[],Wt=ce,Pe={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:At,pgp:!1,env:{},finalize:At},ue=Pe,Fe=[],Ye=0,Ci=[];function Te(b){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var A=this._PSD=ue;if(typeof b!="function"){if(b!==ve)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&vi(this,this._value))}this._state=null,this._value=null,++A.ref,(function P(B,q){try{q(function(X){if(B._state===null){if(X===B)throw new TypeError("A promise cannot be resolved with itself.");var st=B._lib&&zi();X&&typeof X.then=="function"?P(B,function(mt,kt){X instanceof Te?X._then(mt,kt):X.then(mt,kt)}):(B._state=!0,B._value=X,wi(B)),st&&it()}},vi.bind(null,B))}catch(X){vi(B,X)}})(this,b)}var Pn={get:function(){var b=ue,A=Ji;function P(B,q){var X=this,st=!b.global&&(b!==ue||A!==Ji),mt=st&&!Hn(),kt=new Te(function(Ct,zt){Kn(X,new di(pa(B,b,st,mt),pa(q,b,st,mt),Ct,zt,b))});return this._consoleTask&&(kt._consoleTask=this._consoleTask),kt}return P.prototype=ve,P},set:function(b){x(this,"then",b&&b.prototype===ve?Pn:{get:function(){return b},set:Pn.set})}};function di(b,A,P,B,q){this.onFulfilled=typeof b=="function"?b:null,this.onRejected=typeof A=="function"?A:null,this.resolve=P,this.reject=B,this.psd=q}function vi(b,A){var P,B;Ot.push(A),b._state===null&&(P=b._lib&&zi(),A=Wt(A),b._state=!1,b._value=A,B=b,we.some(function(q){return q._value===B._value})||we.push(B),wi(b),P&&it())}function wi(b){var A=b._listeners;b._listeners=[];for(var P=0,B=A.length;P<B;++P)Kn(b,A[P]);var q=b._PSD;--q.ref||q.finalize(),Ye===0&&(++Ye,bt(function(){--Ye==0&&pt()},[]))}function Kn(b,A){if(b._state!==null){var P=b._state?A.onFulfilled:A.onRejected;if(P===null)return(b._state?A.resolve:A.reject)(b._value);++A.psd.ref,++Ye,bt(Ks,[P,b,A])}else b._listeners.push(A)}function Ks(b,A,P){try{var B,q=A._value;!A._state&&Ot.length&&(Ot=[]),B=wt&&A._consoleTask?A._consoleTask.run(function(){return b(q)}):b(q),A._state||Ot.indexOf(q)!==-1||(function(X){for(var st=we.length;st;)if(we[--st]._value===X._value)return we.splice(st,1)})(A),P.resolve(B)}catch(X){P.reject(X)}finally{--Ye==0&&pt(),--P.psd.ref||P.psd.finalize()}}function Yr(){Yn(Pe,function(){zi()&&it()})}function zi(){var b=Bt;return ee=Bt=!1,b}function it(){var b,A,P;do for(;0<Fe.length;)for(b=Fe,Fe=[],P=b.length,A=0;A<P;++A){var B=b[A];B[0].apply(null,B[1])}while(0<Fe.length);ee=Bt=!0}function pt(){var b=we;we=[],b.forEach(function(B){B._PSD.onunhandled.call(null,B._value,B)});for(var A=Ci.slice(0),P=A.length;P;)A[--P]()}function xe(b){return new Te(ve,!1,b)}function be(b,A){var P=ue;return function(){var B=zi(),q=ue;try{return xi(P,!0),b.apply(this,arguments)}catch(X){A&&A(X)}finally{xi(q,!1),B&&it()}}}_(Te.prototype,{then:Pn,_then:function(b,A){Kn(this,new di(null,null,b,A,ue))},catch:function(b){if(arguments.length===1)return this.then(null,b);var A=b,P=arguments[1];return typeof A=="function"?this.then(null,function(B){return(B instanceof A?P:xe)(B)}):this.then(null,function(B){return(B&&B.name===A?P:xe)(B)})},finally:function(b){return this.then(function(A){return Te.resolve(b()).then(function(){return A})},function(A){return Te.resolve(b()).then(function(){return xe(A)})})},timeout:function(b,A){var P=this;return b<1/0?new Te(function(B,q){var X=setTimeout(function(){return q(new vt.Timeout(A))},b);P.then(B,q).finally(clearTimeout.bind(null,X))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&x(Te.prototype,Symbol.toStringTag,"Dexie.Promise"),Pe.env=Bi(),_(Te,{all:function(){var b=nt.apply(null,arguments).map(qn);return new Te(function(A,P){b.length===0&&A([]);var B=b.length;b.forEach(function(q,X){return Te.resolve(q).then(function(st){b[X]=st,--B||A(b)},P)})})},resolve:function(b){return b instanceof Te?b:b&&typeof b.then=="function"?new Te(function(A,P){b.then(A,P)}):new Te(ve,!0,b)},reject:xe,race:function(){var b=nt.apply(null,arguments).map(qn);return new Te(function(A,P){b.map(function(B){return Te.resolve(B).then(A,P)})})},PSD:{get:function(){return ue},set:function(b){return ue=b}},totalEchoes:{get:function(){return Ji}},newPSD:pn,usePSD:Yn,scheduler:{get:function(){return bt},set:function(b){bt=b}},rejectionMapper:{get:function(){return Wt},set:function(b){Wt=b}},follow:function(b,A){return new Te(function(P,B){return pn(function(q,X){var st=ue;st.unhandleds=[],st.onunhandled=X,st.finalize=ft(function(){var mt,kt=this;mt=function(){kt.unhandleds.length===0?q():X(kt.unhandleds[0])},Ci.push(function Ct(){mt(),Ci.splice(Ci.indexOf(Ct),1)}),++Ye,bt(function(){--Ye==0&&pt()},[])},st.finalize),b()},A,P,B)})}}),F&&(F.allSettled&&x(Te,"allSettled",function(){var b=nt.apply(null,arguments).map(qn);return new Te(function(A){b.length===0&&A([]);var P=b.length,B=new Array(P);b.forEach(function(q,X){return Te.resolve(q).then(function(st){return B[X]={status:"fulfilled",value:st}},function(st){return B[X]={status:"rejected",reason:st}}).then(function(){return--P||A(B)})})})}),F.any&&typeof AggregateError<"u"&&x(Te,"any",function(){var b=nt.apply(null,arguments).map(qn);return new Te(function(A,P){b.length===0&&P(new AggregateError([]));var B=b.length,q=new Array(B);b.forEach(function(X,st){return Te.resolve(X).then(function(mt){return A(mt)},function(mt){q[st]=mt,--B||P(new AggregateError(q))})})})}),F.withResolvers&&(Te.withResolvers=F.withResolvers));var Me={awaits:0,echoes:0,id:0},cn=0,Re=[],oi=0,Ji=0,Ni=0;function pn(b,A,P,B){var q=ue,X=Object.create(q);return X.parent=q,X.ref=0,X.global=!1,X.id=++Ni,Pe.env,X.env=K?{Promise:Te,PromiseProp:{value:Te,configurable:!0,writable:!0},all:Te.all,race:Te.race,allSettled:Te.allSettled,any:Te.any,resolve:Te.resolve,reject:Te.reject}:{},A&&f(X,A),++q.ref,X.finalize=function(){--this.parent.ref||this.parent.finalize()},B=Yn(X,b,P,B),X.ref===0&&X.finalize(),B}function kn(){return Me.id||(Me.id=++cn),++Me.awaits,Me.echoes+=Xt,Me.id}function Hn(){return!!Me.awaits&&(--Me.awaits==0&&(Me.id=0),Me.echoes=Me.awaits*Xt,!0)}function qn(b){return Me.echoes&&b&&b.constructor===F?(kn(),b.then(function(A){return Hn(),A},function(A){return Hn(),Mn(A)})):b}function pr(){var b=Re[Re.length-1];Re.pop(),xi(b,!1)}function xi(b,A){var P,B=ue;(A?!Me.echoes||oi++&&b===ue:!oi||--oi&&b===ue)||queueMicrotask(A?(function(q){++Ji,Me.echoes&&--Me.echoes!=0||(Me.echoes=Me.awaits=Me.id=0),Re.push(ue),xi(q,!0)}).bind(null,b):pr),b!==ue&&(ue=b,B===Pe&&(Pe.env=Bi()),K&&(P=Pe.env.Promise,A=b.env,(B.global||b.global)&&(Object.defineProperty(a,"Promise",A.PromiseProp),P.all=A.all,P.race=A.race,P.resolve=A.resolve,P.reject=A.reject,A.allSettled&&(P.allSettled=A.allSettled),A.any&&(P.any=A.any))))}function Bi(){var b=a.Promise;return K?{Promise:b,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:b.all,race:b.race,allSettled:b.allSettled,any:b.any,resolve:b.resolve,reject:b.reject}:{}}function Yn(b,A,P,B,q){var X=ue;try{return xi(b,!0),A(P,B,q)}finally{xi(X,!1)}}function pa(b,A,P,B){return typeof b!="function"?b:function(){var q=ue;P&&kn(),xi(A,!0);try{return b.apply(this,arguments)}finally{xi(q,!1),B&&queueMicrotask(Hn)}}}function Zr(b){Promise===F&&Me.echoes===0?oi===0?b():enqueueNativeMicroTask(b):setTimeout(b,0)}(""+Zi).indexOf("[native code]")===-1&&(kn=Hn=At);var Mn=Te.reject,Ui="￿",Fi="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ti="String expected.",ks=[],So="__dbnames",Xr="readonly",Mr="readwrite";function mr(b,A){return b?A?function(){return b.apply(this,arguments)&&A.apply(this,arguments)}:b:A}var ma={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ys(b){return typeof b!="string"||/\./.test(b)?function(A){return A}:function(A){return A[b]===void 0&&b in A&&delete(A=dt(A))[b],A}}function Zs(){throw vt.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function je(b,A){try{var P=Sn(b),B=Sn(A);if(P!==B)return P==="Array"?1:B==="Array"?-1:P==="binary"?1:B==="binary"?-1:P==="string"?1:B==="string"?-1:P==="Date"?1:B!=="Date"?NaN:-1;switch(P){case"number":case"Date":case"string":return A<b?1:b<A?-1:0;case"binary":return(function(q,X){for(var st=q.length,mt=X.length,kt=st<mt?st:mt,Ct=0;Ct<kt;++Ct)if(q[Ct]!==X[Ct])return q[Ct]<X[Ct]?-1:1;return st===mt?0:st<mt?-1:1})(Ki(b),Ki(A));case"Array":return(function(q,X){for(var st=q.length,mt=X.length,kt=st<mt?st:mt,Ct=0;Ct<kt;++Ct){var zt=je(q[Ct],X[Ct]);if(zt!==0)return zt}return st===mt?0:st<mt?-1:1})(b,A)}}catch{}return NaN}function Sn(b){var A=typeof b;return A!="object"?A:ArrayBuffer.isView(b)?"binary":(b=ut(b),b==="ArrayBuffer"?"binary":b)}function Ki(b){return b instanceof Uint8Array?b:ArrayBuffer.isView(b)?new Uint8Array(b.buffer,b.byteOffset,b.byteLength):new Uint8Array(b)}function Xn(b,A,P){var B=b.schema.yProps;return B?(A&&0<P.numFailures&&(A=A.filter(function(q,X){return!P.failures[X]})),Promise.all(B.map(function(q){return q=q.updatesTable,A?b.db.table(q).where("k").anyOf(A).delete():b.db.table(q).clear()})).then(function(){return P})):P}var gr=(ga.prototype.execute=function(b){var A=this["@@propmod"];if(A.add!==void 0){var P=A.add;if(c(P))return s(s([],c(b)?b:[],!0),P).sort();if(typeof P=="number")return(Number(b)||0)+P;if(typeof P=="bigint")try{return BigInt(b)+P}catch{return BigInt(0)+P}throw new TypeError("Invalid term ".concat(P))}if(A.remove!==void 0){var B=A.remove;if(c(B))return c(b)?b.filter(function(q){return!B.includes(q)}).sort():[];if(typeof B=="number")return Number(b)-B;if(typeof B=="bigint")try{return BigInt(b)-B}catch{return BigInt(0)-B}throw new TypeError("Invalid subtrahend ".concat(B))}return P=(P=A.replacePrefix)===null||P===void 0?void 0:P[0],P&&typeof b=="string"&&b.startsWith(P)?A.replacePrefix[1]+b.substring(P.length):b},ga);function ga(b){this["@@propmod"]=b}function Ge(b,A){for(var P=l(A),B=P.length,q=!1,X=0;X<B;++X){var st=P[X],mt=A[st],kt=z(b,st);mt instanceof gr?(j(b,st,mt.execute(kt)),q=!0):kt!==mt&&(j(b,st,mt),q=!0)}return q}var Un=(mn.prototype._trans=function(b,A,P){var B=this._tx||ue.trans,q=this.name,X=wt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(b==="readonly"?"read":"write"," ").concat(this.name));function st(Ct,zt,xt){if(!xt.schema[q])throw new vt.NotFound("Table "+q+" not part of transaction");return A(xt.idbtrans,xt)}var mt=zi();try{var kt=B&&B.db._novip===this.db._novip?B===ue.trans?B._promise(b,st,P):pn(function(){return B._promise(b,st,P)},{trans:B,transless:ue.transless||ue}):(function Ct(zt,xt,Ft,Nt){if(zt.idbdb&&(zt._state.openComplete||ue.letThrough||zt._vip)){var Dt=zt._createTransaction(xt,Ft,zt._dbSchema);try{Dt.create(),zt._state.PR1398_maxLoop=3}catch(It){return It.name===_t.InvalidState&&zt.isOpen()&&0<--zt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),zt.close({disableAutoOpen:!1}),zt.open().then(function(){return Ct(zt,xt,Ft,Nt)})):Mn(It)}return Dt._promise(xt,function(It,jt){return pn(function(){return ue.trans=Dt,Nt(It,jt,Dt)})}).then(function(It){if(xt==="readwrite")try{Dt.idbtrans.commit()}catch{}return xt==="readonly"?It:Dt._completion.then(function(){return It})})}if(zt._state.openComplete)return Mn(new vt.DatabaseClosed(zt._state.dbOpenError));if(!zt._state.isBeingOpened){if(!zt._state.autoOpen)return Mn(new vt.DatabaseClosed);zt.open().catch(At)}return zt._state.dbReadyPromise.then(function(){return Ct(zt,xt,Ft,Nt)})})(this.db,b,[this.name],st);return X&&(kt._consoleTask=X,kt=kt.catch(function(Ct){return console.trace(Ct),Mn(Ct)})),kt}finally{mt&&it()}},mn.prototype.get=function(b,A){var P=this;return b&&b.constructor===Object?this.where(b).first(A):b==null?Mn(new vt.Type("Invalid argument to Table.get()")):this._trans("readonly",function(B){return P.core.get({trans:B,key:b}).then(function(q){return P.hook.reading.fire(q)})}).then(A)},mn.prototype.where=function(b){if(typeof b=="string")return new this.db.WhereClause(this,b);if(c(b))return new this.db.WhereClause(this,"[".concat(b.join("+"),"]"));var A=l(b);if(A.length===1)return this.where(A[0]).equals(b[A[0]]);var P=this.schema.indexes.concat(this.schema.primKey).filter(function(mt){if(mt.compound&&A.every(function(Ct){return 0<=mt.keyPath.indexOf(Ct)})){for(var kt=0;kt<A.length;++kt)if(A.indexOf(mt.keyPath[kt])===-1)return!1;return!0}return!1}).sort(function(mt,kt){return mt.keyPath.length-kt.keyPath.length})[0];if(P&&this.db._maxKey!==Ui){var X=P.keyPath.slice(0,A.length);return this.where(X).equals(X.map(function(kt){return b[kt]}))}!P&&wt&&console.warn("The query ".concat(JSON.stringify(b)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(A.join("+"),"]"));var B=this.schema.idxByName;function q(mt,kt){return je(mt,kt)===0}var st=A.reduce(function(xt,kt){var Ct=xt[0],zt=xt[1],xt=B[kt],Ft=b[kt];return[Ct||xt,Ct||!xt?mr(zt,xt&&xt.multi?function(Nt){return Nt=z(Nt,kt),c(Nt)&&Nt.some(function(Dt){return q(Ft,Dt)})}:function(Nt){return q(Ft,z(Nt,kt))}):zt]},[null,null]),X=st[0],st=st[1];return X?this.where(X.name).equals(b[X.keyPath]).filter(st):P?this.filter(st):this.where(A).equals("")},mn.prototype.filter=function(b){return this.toCollection().and(b)},mn.prototype.count=function(b){return this.toCollection().count(b)},mn.prototype.offset=function(b){return this.toCollection().offset(b)},mn.prototype.limit=function(b){return this.toCollection().limit(b)},mn.prototype.each=function(b){return this.toCollection().each(b)},mn.prototype.toArray=function(b){return this.toCollection().toArray(b)},mn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},mn.prototype.orderBy=function(b){return new this.db.Collection(new this.db.WhereClause(this,c(b)?"[".concat(b.join("+"),"]"):b))},mn.prototype.reverse=function(){return this.toCollection().reverse()},mn.prototype.mapToClass=function(b){var A,P=this.db,B=this.name;function q(){return A!==null&&A.apply(this,arguments)||this}(this.schema.mappedClass=b).prototype instanceof Zs&&((function(kt,Ct){if(typeof Ct!="function"&&Ct!==null)throw new TypeError("Class extends value "+String(Ct)+" is not a constructor or null");function zt(){this.constructor=kt}e(kt,Ct),kt.prototype=Ct===null?Object.create(Ct):(zt.prototype=Ct.prototype,new zt)})(q,A=b),Object.defineProperty(q.prototype,"db",{get:function(){return P},enumerable:!1,configurable:!0}),q.prototype.table=function(){return B},b=q);for(var X=new Set,st=b.prototype;st;st=d(st))Object.getOwnPropertyNames(st).forEach(function(kt){return X.add(kt)});function mt(kt){if(!kt)return kt;var Ct,zt=Object.create(b.prototype);for(Ct in kt)if(!X.has(Ct))try{zt[Ct]=kt[Ct]}catch{}return zt}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=mt,this.hook("reading",mt),b},mn.prototype.defineClass=function(){return this.mapToClass(function(b){f(this,b)})},mn.prototype.add=function(b,A){var P=this,B=this.schema.primKey,q=B.auto,X=B.keyPath,st=b;return X&&q&&(st=Ys(X)(b)),this._trans("readwrite",function(mt){return P.core.mutate({trans:mt,type:"add",keys:A!=null?[A]:null,values:[st]})}).then(function(mt){return mt.numFailures?Te.reject(mt.failures[0]):mt.lastResult}).then(function(mt){if(X)try{j(b,X,mt)}catch{}return mt})},mn.prototype.upsert=function(b,A){var P=this,B=this.schema.primKey.keyPath;return this._trans("readwrite",function(q){return P.core.get({trans:q,key:b}).then(function(X){var st=X??{};return Ge(st,A),B&&j(st,B,b),P.core.mutate({trans:q,type:"put",values:[st],keys:[b],upsert:!0,updates:{keys:[b],changeSpecs:[A]}}).then(function(mt){return mt.numFailures?Te.reject(mt.failures[0]):!!X})})})},mn.prototype.update=function(b,A){return typeof b!="object"||c(b)?this.where(":id").equals(b).modify(A):(b=z(b,this.schema.primKey.keyPath),b===void 0?Mn(new vt.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(b).modify(A))},mn.prototype.put=function(b,A){var P=this,B=this.schema.primKey,q=B.auto,X=B.keyPath,st=b;return X&&q&&(st=Ys(X)(b)),this._trans("readwrite",function(mt){return P.core.mutate({trans:mt,type:"put",values:[st],keys:A!=null?[A]:null})}).then(function(mt){return mt.numFailures?Te.reject(mt.failures[0]):mt.lastResult}).then(function(mt){if(X)try{j(b,X,mt)}catch{}return mt})},mn.prototype.delete=function(b){var A=this;return this._trans("readwrite",function(P){return A.core.mutate({trans:P,type:"delete",keys:[b]}).then(function(B){return Xn(A,[b],B)}).then(function(B){return B.numFailures?Te.reject(B.failures[0]):void 0})})},mn.prototype.clear=function(){var b=this;return this._trans("readwrite",function(A){return b.core.mutate({trans:A,type:"deleteRange",range:ma}).then(function(P){return Xn(b,null,P)})}).then(function(A){return A.numFailures?Te.reject(A.failures[0]):void 0})},mn.prototype.bulkGet=function(b){var A=this;return this._trans("readonly",function(P){return A.core.getMany({keys:b,trans:P}).then(function(B){return B.map(function(q){return A.hook.reading.fire(q)})})})},mn.prototype.bulkAdd=function(b,A,P){var B=this,q=Array.isArray(A)?A:void 0,X=(P=P||(q?void 0:A))?P.allKeys:void 0;return this._trans("readwrite",function(st){var Ct=B.schema.primKey,mt=Ct.auto,Ct=Ct.keyPath;if(Ct&&q)throw new vt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(q&&q.length!==b.length)throw new vt.InvalidArgument("Arguments objects and keys must have the same length");var kt=b.length,Ct=Ct&&mt?b.map(Ys(Ct)):b;return B.core.mutate({trans:st,type:"add",keys:q,values:Ct,wantResults:X}).then(function(Dt){var xt=Dt.numFailures,Ft=Dt.results,Nt=Dt.lastResult,Dt=Dt.failures;if(xt===0)return X?Ft:Nt;throw new Ut("".concat(B.name,".bulkAdd(): ").concat(xt," of ").concat(kt," operations failed"),Dt)})})},mn.prototype.bulkPut=function(b,A,P){var B=this,q=Array.isArray(A)?A:void 0,X=(P=P||(q?void 0:A))?P.allKeys:void 0;return this._trans("readwrite",function(st){var Ct=B.schema.primKey,mt=Ct.auto,Ct=Ct.keyPath;if(Ct&&q)throw new vt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(q&&q.length!==b.length)throw new vt.InvalidArgument("Arguments objects and keys must have the same length");var kt=b.length,Ct=Ct&&mt?b.map(Ys(Ct)):b;return B.core.mutate({trans:st,type:"put",keys:q,values:Ct,wantResults:X}).then(function(Dt){var xt=Dt.numFailures,Ft=Dt.results,Nt=Dt.lastResult,Dt=Dt.failures;if(xt===0)return X?Ft:Nt;throw new Ut("".concat(B.name,".bulkPut(): ").concat(xt," of ").concat(kt," operations failed"),Dt)})})},mn.prototype.bulkUpdate=function(b){var A=this,P=this.core,B=b.map(function(st){return st.key}),q=b.map(function(st){return st.changes}),X=[];return this._trans("readwrite",function(st){return P.getMany({trans:st,keys:B,cache:"clone"}).then(function(mt){var kt=[],Ct=[];b.forEach(function(xt,Ft){var Nt=xt.key,Dt=xt.changes,It=mt[Ft];if(It){for(var jt=0,Kt=Object.keys(Dt);jt<Kt.length;jt++){var Gt=Kt[jt],se=Dt[Gt];if(Gt===A.schema.primKey.keyPath){if(je(se,Nt)!==0)throw new vt.Constraint("Cannot update primary key in bulkUpdate()")}else j(It,Gt,se)}X.push(Ft),kt.push(Nt),Ct.push(It)}});var zt=kt.length;return P.mutate({trans:st,type:"put",keys:kt,values:Ct,updates:{keys:B,changeSpecs:q}}).then(function(xt){var Ft=xt.numFailures,Nt=xt.failures;if(Ft===0)return zt;for(var Dt=0,It=Object.keys(Nt);Dt<It.length;Dt++){var jt,Kt=It[Dt],Gt=X[Number(Kt)];Gt!=null&&(jt=Nt[Kt],delete Nt[Kt],Nt[Gt]=jt)}throw new Ut("".concat(A.name,".bulkUpdate(): ").concat(Ft," of ").concat(zt," operations failed"),Nt)})})})},mn.prototype.bulkDelete=function(b){var A=this,P=b.length;return this._trans("readwrite",function(B){return A.core.mutate({trans:B,type:"delete",keys:b}).then(function(q){return Xn(A,b,q)})}).then(function(st){var q=st.numFailures,X=st.lastResult,st=st.failures;if(q===0)return X;throw new Ut("".concat(A.name,".bulkDelete(): ").concat(q," of ").concat(P," operations failed"),st)})},mn);function mn(){}function hs(b){function A(st,mt){if(mt){for(var kt=arguments.length,Ct=new Array(kt-1);--kt;)Ct[kt-1]=arguments[kt];return P[st].subscribe.apply(null,Ct),b}if(typeof st=="string")return P[st]}var P={};A.addEventType=X;for(var B=1,q=arguments.length;B<q;++B)X(arguments[B]);return A;function X(st,mt,kt){if(typeof st!="object"){var Ct;mt=mt||re;var zt={subscribers:[],fire:kt=kt||At,subscribe:function(xt){zt.subscribers.indexOf(xt)===-1&&(zt.subscribers.push(xt),zt.fire=mt(zt.fire,xt))},unsubscribe:function(xt){zt.subscribers=zt.subscribers.filter(function(Ft){return Ft!==xt}),zt.fire=zt.subscribers.reduce(mt,kt)}};return P[st]=A[st]=zt}l(Ct=st).forEach(function(xt){var Ft=Ct[xt];if(c(Ft))X(xt,Ct[xt][0],Ct[xt][1]);else{if(Ft!=="asap")throw new vt.InvalidArgument("Invalid event config");var Nt=X(xt,ce,function(){for(var Dt=arguments.length,It=new Array(Dt);Dt--;)It[Dt]=arguments[Dt];Nt.subscribers.forEach(function(jt){R(function(){jt.apply(null,It)})})})}})}}function En(b,A){return E(A).from({prototype:b}),A}function ds(b,A){return!(b.filter||b.algorithm||b.or)&&(A?b.justLimit:!b.replayFilter)}function Ms(b,A){b.filter=mr(b.filter,A)}function yr(b,A,P){var B=b.replayFilter;b.replayFilter=B?function(){return mr(B(),A())}:A,b.justLimit=P&&!B}function _n(b,A){if(b.isPrimKey)return A.primaryKey;var P=A.getIndexByKeyPath(b.index);if(!P)throw new vt.Schema("KeyPath "+b.index+" on object store "+A.name+" is not indexed");return P}function Gr(b,A,P){var B=_n(b,A.schema);return A.openCursor({trans:P,values:!b.keysOnly,reverse:b.dir==="prev",unique:!!b.unique,query:{index:B,range:b.range}})}function $r(b,A,P,B){var q=b.replayFilter?mr(b.filter,b.replayFilter()):b.filter;if(b.or){var X={},st=function(mt,kt,Ct){var zt,xt;q&&!q(kt,Ct,function(Ft){return kt.stop(Ft)},function(Ft){return kt.fail(Ft)})||((xt=""+(zt=kt.primaryKey))=="[object ArrayBuffer]"&&(xt=""+new Uint8Array(zt)),y(X,xt)||(X[xt]=!0,A(mt,kt,Ct)))};return Promise.all([b.or._iterate(st,P),_r(Gr(b,B,P),b.algorithm,st,!b.keysOnly&&b.valueMapper)])}return _r(Gr(b,B,P),mr(b.algorithm,q),A,!b.keysOnly&&b.valueMapper)}function _r(b,A,P,B){var q=be(B?function(X,st,mt){return P(B(X),st,mt)}:P);return b.then(function(X){if(X)return X.start(function(){var st=function(){return X.continue()};A&&!A(X,function(mt){return st=mt},function(mt){X.stop(mt),st=At},function(mt){X.fail(mt),st=At})||q(X.value,X,function(mt){return st=mt}),st()})})}var ul=(en.prototype._read=function(b,A){var P=this._ctx;return P.error?P.table._trans(null,Mn.bind(null,P.error)):P.table._trans("readonly",b).then(A)},en.prototype._write=function(b){var A=this._ctx;return A.error?A.table._trans(null,Mn.bind(null,A.error)):A.table._trans("readwrite",b,"locked")},en.prototype._addAlgorithm=function(b){var A=this._ctx;A.algorithm=mr(A.algorithm,b)},en.prototype._iterate=function(b,A){return $r(this._ctx,b,A,this._ctx.table.core)},en.prototype.clone=function(b){var A=Object.create(this.constructor.prototype),P=Object.create(this._ctx);return b&&f(P,b),A._ctx=P,A},en.prototype.raw=function(){return this._ctx.valueMapper=null,this},en.prototype.each=function(b){var A=this._ctx;return this._read(function(P){return $r(A,b,P,A.table.core)})},en.prototype.count=function(b){var A=this;return this._read(function(P){var B=A._ctx,q=B.table.core;if(ds(B,!0))return q.count({trans:P,query:{index:_n(B,q.schema),range:B.range}}).then(function(st){return Math.min(st,B.limit)});var X=0;return $r(B,function(){return++X,!1},P,q).then(function(){return X})}).then(b)},en.prototype.sortBy=function(b,A){var P=b.split(".").reverse(),B=P[0],q=P.length-1;function X(kt,Ct){return Ct?X(kt[P[Ct]],Ct-1):kt[B]}var st=this._ctx.dir==="next"?1:-1;function mt(kt,Ct){return je(X(kt,q),X(Ct,q))*st}return this.toArray(function(kt){return kt.sort(mt)}).then(A)},en.prototype.toArray=function(b){var A=this;return this._read(function(P){var B=A._ctx;if(B.dir==="next"&&ds(B,!0)&&0<B.limit){var q=B.valueMapper,X=_n(B,B.table.core.schema);return B.table.core.query({trans:P,limit:B.limit,values:!0,query:{index:X,range:B.range}}).then(function(mt){return mt=mt.result,q?mt.map(q):mt})}var st=[];return $r(B,function(mt){return st.push(mt)},P,B.table.core).then(function(){return st})},b)},en.prototype.offset=function(b){var A=this._ctx;return b<=0||(A.offset+=b,ds(A)?yr(A,function(){var P=b;return function(B,q){return P===0||(P===1?--P:q(function(){B.advance(P),P=0}),!1)}}):yr(A,function(){var P=b;return function(){return--P<0}})),this},en.prototype.limit=function(b){return this._ctx.limit=Math.min(this._ctx.limit,b),yr(this._ctx,function(){var A=b;return function(P,B,q){return--A<=0&&B(q),0<=A}},!0),this},en.prototype.until=function(b,A){return Ms(this._ctx,function(P,B,q){return!b(P.value)||(B(q),A)}),this},en.prototype.first=function(b){return this.limit(1).toArray(function(A){return A[0]}).then(b)},en.prototype.last=function(b){return this.reverse().first(b)},en.prototype.filter=function(b){var A;return Ms(this._ctx,function(P){return b(P.value)}),(A=this._ctx).isMatch=mr(A.isMatch,b),this},en.prototype.and=function(b){return this.filter(b)},en.prototype.or=function(b){return new this.db.WhereClause(this._ctx.table,b,this)},en.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},en.prototype.desc=function(){return this.reverse()},en.prototype.eachKey=function(b){var A=this._ctx;return A.keysOnly=!A.isMatch,this.each(function(P,B){b(B.key,B)})},en.prototype.eachUniqueKey=function(b){return this._ctx.unique="unique",this.eachKey(b)},en.prototype.eachPrimaryKey=function(b){var A=this._ctx;return A.keysOnly=!A.isMatch,this.each(function(P,B){b(B.primaryKey,B)})},en.prototype.keys=function(b){var A=this._ctx;A.keysOnly=!A.isMatch;var P=[];return this.each(function(B,q){P.push(q.key)}).then(function(){return P}).then(b)},en.prototype.primaryKeys=function(b){var A=this._ctx;if(A.dir==="next"&&ds(A,!0)&&0<A.limit)return this._read(function(B){var q=_n(A,A.table.core.schema);return A.table.core.query({trans:B,values:!1,limit:A.limit,query:{index:q,range:A.range}})}).then(function(B){return B.result}).then(b);A.keysOnly=!A.isMatch;var P=[];return this.each(function(B,q){P.push(q.primaryKey)}).then(function(){return P}).then(b)},en.prototype.uniqueKeys=function(b){return this._ctx.unique="unique",this.keys(b)},en.prototype.firstKey=function(b){return this.limit(1).keys(function(A){return A[0]}).then(b)},en.prototype.lastKey=function(b){return this.reverse().firstKey(b)},en.prototype.distinct=function(){var b=this._ctx,b=b.index&&b.table.schema.idxByName[b.index];if(!b||!b.multi)return this;var A={};return Ms(this._ctx,function(q){var B=q.primaryKey.toString(),q=y(A,B);return A[B]=!0,!q}),this},en.prototype.modify=function(b){var A=this,P=this._ctx;return this._write(function(B){var q=typeof b=="function"?b:function(It){return Ge(It,b)},X=P.table.core,Ct=X.schema.primaryKey,st=Ct.outbound,mt=Ct.extractKey,kt=200,Ct=A.db._options.modifyChunkSize;Ct&&(kt=typeof Ct=="object"?Ct[X.name]||Ct["*"]||200:Ct);function zt(It,Gt){var Kt=Gt.failures,Gt=Gt.numFailures;Ft+=It-Gt;for(var se=0,ge=l(Kt);se<ge.length;se++){var ke=ge[se];xt.push(Kt[ke])}}var xt=[],Ft=0,Nt=[],Dt=b===Eo;return A.clone().primaryKeys().then(function(It){function jt(Gt){var se=Math.min(kt,It.length-Gt),ge=It.slice(Gt,Gt+se);return(Dt?Promise.resolve([]):X.getMany({trans:B,keys:ge,cache:"immutable"})).then(function(ke){var Ne=[],Se=[],Oe=st?[]:null,Ce=Dt?ge:[];if(!Dt)for(var Ae=0;Ae<se;++Ae){var De=ke[Ae],He={value:dt(De),primKey:It[Gt+Ae]};q.call(He,He.value,He)!==!1&&(He.value==null?Ce.push(It[Gt+Ae]):st||je(mt(De),mt(He.value))===0?(Se.push(He.value),st&&Oe.push(It[Gt+Ae])):(Ce.push(It[Gt+Ae]),Ne.push(He.value)))}return Promise.resolve(0<Ne.length&&X.mutate({trans:B,type:"add",values:Ne}).then(function(qe){for(var $e in qe.failures)Ce.splice(parseInt($e),1);zt(Ne.length,qe)})).then(function(){return(0<Se.length||Kt&&typeof b=="object")&&X.mutate({trans:B,type:"put",keys:Oe,values:Se,criteria:Kt,changeSpec:typeof b!="function"&&b,isAdditionalChunk:0<Gt}).then(function(qe){return zt(Se.length,qe)})}).then(function(){return(0<Ce.length||Kt&&Dt)&&X.mutate({trans:B,type:"delete",keys:Ce,criteria:Kt,isAdditionalChunk:0<Gt}).then(function(qe){return Xn(P.table,Ce,qe)}).then(function(qe){return zt(Ce.length,qe)})}).then(function(){return It.length>Gt+se&&jt(Gt+kt)})})}var Kt=ds(P)&&P.limit===1/0&&(typeof b!="function"||Dt)&&{index:P.index,range:P.range};return jt(0).then(function(){if(0<xt.length)throw new gt("Error modifying one or more objects",xt,Ft,Nt);return It.length})})})},en.prototype.delete=function(){var b=this._ctx,A=b.range;return!ds(b)||b.table.schema.yProps||!b.isPrimKey&&A.type!==3?this.modify(Eo):this._write(function(P){var B=b.table.core.schema.primaryKey,q=A;return b.table.core.count({trans:P,query:{index:B,range:q}}).then(function(X){return b.table.core.mutate({trans:P,type:"deleteRange",range:q}).then(function(kt){var mt=kt.failures,kt=kt.numFailures;if(kt)throw new gt("Could not delete some values",Object.keys(mt).map(function(Ct){return mt[Ct]}),X-kt);return X-kt})})})},en);function en(){}var Eo=function(b,A){return A.value=null};function Ao(b,A){return b<A?-1:b===A?0:1}function ya(b,A){return A<b?-1:b===A?0:1}function Ri(b,A,P){return b=b instanceof Os?new b.Collection(b):b,b._ctx.error=new(P||TypeError)(A),b}function br(b){return new b.Collection(b,function(){return Xs("")}).limit(0)}function Li(b,A,P,B){var q,X,st,mt,kt,Ct,zt,xt=P.length;if(!P.every(function(Dt){return typeof Dt=="string"}))return Ri(b,ti);function Ft(Dt){q=Dt==="next"?function(jt){return jt.toUpperCase()}:function(jt){return jt.toLowerCase()},X=Dt==="next"?function(jt){return jt.toLowerCase()}:function(jt){return jt.toUpperCase()},st=Dt==="next"?Ao:ya;var It=P.map(function(jt){return{lower:X(jt),upper:q(jt)}}).sort(function(jt,Kt){return st(jt.lower,Kt.lower)});mt=It.map(function(jt){return jt.upper}),kt=It.map(function(jt){return jt.lower}),zt=(Ct=Dt)==="next"?"":B}Ft("next"),b=new b.Collection(b,function(){return vr(mt[0],kt[xt-1]+B)}),b._ondirectionchange=function(Dt){Ft(Dt)};var Nt=0;return b._addAlgorithm(function(Dt,It,jt){var Kt=Dt.key;if(typeof Kt!="string")return!1;var Gt=X(Kt);if(A(Gt,kt,Nt))return!0;for(var se=null,ge=Nt;ge<xt;++ge){var ke=(function(Ne,Se,Oe,Ce,Ae,De){for(var He=Math.min(Ne.length,Ce.length),qe=-1,$e=0;$e<He;++$e){var gi=Se[$e];if(gi!==Ce[$e])return Ae(Ne[$e],Oe[$e])<0?Ne.substr(0,$e)+Oe[$e]+Oe.substr($e+1):Ae(Ne[$e],Ce[$e])<0?Ne.substr(0,$e)+Ce[$e]+Oe.substr($e+1):0<=qe?Ne.substr(0,qe)+Se[qe]+Oe.substr(qe+1):null;Ae(Ne[$e],gi)<0&&(qe=$e)}return He<Ce.length&&De==="next"?Ne+Oe.substr(Ne.length):He<Ne.length&&De==="prev"?Ne.substr(0,Oe.length):qe<0?null:Ne.substr(0,qe)+Ce[qe]+Oe.substr(qe+1)})(Kt,Gt,mt[ge],kt[ge],st,Ct);ke===null&&se===null?Nt=ge+1:(se===null||0<st(se,ke))&&(se=ke)}return It(se!==null?function(){Dt.continue(se+zt)}:jt),!1}),b}function vr(b,A,P,B){return{type:2,lower:b,upper:A,lowerOpen:P,upperOpen:B}}function Xs(b){return{type:1,lower:b,upper:b}}var Os=(Object.defineProperty(Ie.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ie.prototype.between=function(b,A,P,B){P=P!==!1,B=B===!0;try{return 0<this._cmp(b,A)||this._cmp(b,A)===0&&(P||B)&&(!P||!B)?br(this):new this.Collection(this,function(){return vr(b,A,!P,!B)})}catch{return Ri(this,Fi)}},Ie.prototype.equals=function(b){return b==null?Ri(this,Fi):new this.Collection(this,function(){return Xs(b)})},Ie.prototype.above=function(b){return b==null?Ri(this,Fi):new this.Collection(this,function(){return vr(b,void 0,!0)})},Ie.prototype.aboveOrEqual=function(b){return b==null?Ri(this,Fi):new this.Collection(this,function(){return vr(b,void 0,!1)})},Ie.prototype.below=function(b){return b==null?Ri(this,Fi):new this.Collection(this,function(){return vr(void 0,b,!1,!0)})},Ie.prototype.belowOrEqual=function(b){return b==null?Ri(this,Fi):new this.Collection(this,function(){return vr(void 0,b)})},Ie.prototype.startsWith=function(b){return typeof b!="string"?Ri(this,ti):this.between(b,b+Ui,!0,!0)},Ie.prototype.startsWithIgnoreCase=function(b){return b===""?this.startsWith(b):Li(this,function(A,P){return A.indexOf(P[0])===0},[b],Ui)},Ie.prototype.equalsIgnoreCase=function(b){return Li(this,function(A,P){return A===P[0]},[b],"")},Ie.prototype.anyOfIgnoreCase=function(){var b=nt.apply(Pt,arguments);return b.length===0?br(this):Li(this,function(A,P){return P.indexOf(A)!==-1},b,"")},Ie.prototype.startsWithAnyOfIgnoreCase=function(){var b=nt.apply(Pt,arguments);return b.length===0?br(this):Li(this,function(A,P){return P.some(function(B){return A.indexOf(B)===0})},b,Ui)},Ie.prototype.anyOf=function(){var b=this,A=nt.apply(Pt,arguments),P=this._cmp;try{A.sort(P)}catch{return Ri(this,Fi)}if(A.length===0)return br(this);var B=new this.Collection(this,function(){return vr(A[0],A[A.length-1])});B._ondirectionchange=function(X){P=X==="next"?b._ascending:b._descending,A.sort(P)};var q=0;return B._addAlgorithm(function(X,st,mt){for(var kt=X.key;0<P(kt,A[q]);)if(++q===A.length)return st(mt),!1;return P(kt,A[q])===0||(st(function(){X.continue(A[q])}),!1)}),B},Ie.prototype.notEqual=function(b){return this.inAnyRange([[-1/0,b],[b,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ie.prototype.noneOf=function(){var b=nt.apply(Pt,arguments);if(b.length===0)return new this.Collection(this);try{b.sort(this._ascending)}catch{return Ri(this,Fi)}var A=b.reduce(function(P,B){return P?P.concat([[P[P.length-1][1],B]]):[[-1/0,B]]},null);return A.push([b[b.length-1],this.db._maxKey]),this.inAnyRange(A,{includeLowers:!1,includeUppers:!1})},Ie.prototype.inAnyRange=function(Kt,A){var P=this,B=this._cmp,q=this._ascending,X=this._descending,st=this._min,mt=this._max;if(Kt.length===0)return br(this);if(!Kt.every(function(Gt){return Gt[0]!==void 0&&Gt[1]!==void 0&&q(Gt[0],Gt[1])<=0}))return Ri(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",vt.InvalidArgument);var kt=!A||A.includeLowers!==!1,Ct=A&&A.includeUppers===!0,zt,xt=q;function Ft(Gt,se){return xt(Gt[0],se[0])}try{(zt=Kt.reduce(function(Gt,se){for(var ge=0,ke=Gt.length;ge<ke;++ge){var Ne=Gt[ge];if(B(se[0],Ne[1])<0&&0<B(se[1],Ne[0])){Ne[0]=st(Ne[0],se[0]),Ne[1]=mt(Ne[1],se[1]);break}}return ge===ke&&Gt.push(se),Gt},[])).sort(Ft)}catch{return Ri(this,Fi)}var Nt=0,Dt=Ct?function(Gt){return 0<q(Gt,zt[Nt][1])}:function(Gt){return 0<=q(Gt,zt[Nt][1])},It=kt?function(Gt){return 0<X(Gt,zt[Nt][0])}:function(Gt){return 0<=X(Gt,zt[Nt][0])},jt=Dt,Kt=new this.Collection(this,function(){return vr(zt[0][0],zt[zt.length-1][1],!kt,!Ct)});return Kt._ondirectionchange=function(Gt){xt=Gt==="next"?(jt=Dt,q):(jt=It,X),zt.sort(Ft)},Kt._addAlgorithm(function(Gt,se,ge){for(var ke,Ne=Gt.key;jt(Ne);)if(++Nt===zt.length)return se(ge),!1;return!Dt(ke=Ne)&&!It(ke)||(P._cmp(Ne,zt[Nt][1])===0||P._cmp(Ne,zt[Nt][0])===0||se(function(){xt===q?Gt.continue(zt[Nt][0]):Gt.continue(zt[Nt][1])}),!1)}),Kt},Ie.prototype.startsWithAnyOf=function(){var b=nt.apply(Pt,arguments);return b.every(function(A){return typeof A=="string"})?b.length===0?br(this):this.inAnyRange(b.map(function(A){return[A,A+Ui]})):Ri(this,"startsWithAnyOf() only works with strings")},Ie);function Ie(){}function Gn(b){return be(function(A){return fn(A),b(A.target.error),!1})}function fn(b){b.stopPropagation&&b.stopPropagation(),b.preventDefault&&b.preventDefault()}var Cs="storagemutated",Qr="x-storagemutated-1",ai=hs(null,Cs),To=($n.prototype._lock=function(){return I(!ue.global),++this._reculock,this._reculock!==1||ue.global||(ue.lockOwnerFor=this),this},$n.prototype._unlock=function(){if(I(!ue.global),--this._reculock==0)for(ue.global||(ue.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var b=this._blockedFuncs.shift();try{Yn(b[1],b[0])}catch{}}return this},$n.prototype._locked=function(){return this._reculock&&ue.lockOwnerFor!==this},$n.prototype.create=function(b){var A=this;if(!this.mode)return this;var P=this.db.idbdb,B=this.db._state.dbOpenError;if(I(!this.idbtrans),!b&&!P)switch(B&&B.name){case"DatabaseClosedError":throw new vt.DatabaseClosed(B);case"MissingAPIError":throw new vt.MissingAPI(B.message,B);default:throw new vt.OpenFailed(B)}if(!this.active)throw new vt.TransactionInactive;return I(this._completion._state===null),(b=this.idbtrans=b||(this.db.core||P).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=be(function(q){fn(q),A._reject(b.error)}),b.onabort=be(function(q){fn(q),A.active&&A._reject(new vt.Abort(b.error)),A.active=!1,A.on("abort").fire(q)}),b.oncomplete=be(function(){A.active=!1,A._resolve(),"mutatedParts"in b&&ai.storagemutated.fire(b.mutatedParts)}),this},$n.prototype._promise=function(b,A,P){var B=this;if(b==="readwrite"&&this.mode!=="readwrite")return Mn(new vt.ReadOnly("Transaction is readonly"));if(!this.active)return Mn(new vt.TransactionInactive);if(this._locked())return new Te(function(X,st){B._blockedFuncs.push([function(){B._promise(b,A,P).then(X,st)},ue])});if(P)return pn(function(){var X=new Te(function(st,mt){B._lock();var kt=A(st,mt,B);kt&&kt.then&&kt.then(st,mt)});return X.finally(function(){return B._unlock()}),X._lib=!0,X});var q=new Te(function(X,st){var mt=A(X,st,B);mt&&mt.then&&mt.then(X,st)});return q._lib=!0,q},$n.prototype._root=function(){return this.parent?this.parent._root():this},$n.prototype.waitFor=function(b){var A,P=this._root(),B=Te.resolve(b);P._waitingFor?P._waitingFor=P._waitingFor.then(function(){return B}):(P._waitingFor=B,P._waitingQueue=[],A=P.idbtrans.objectStore(P.storeNames[0]),(function X(){for(++P._spinCount;P._waitingQueue.length;)P._waitingQueue.shift()();P._waitingFor&&(A.get(-1/0).onsuccess=X)})());var q=P._waitingFor;return new Te(function(X,st){B.then(function(mt){return P._waitingQueue.push(be(X.bind(null,mt)))},function(mt){return P._waitingQueue.push(be(st.bind(null,mt)))}).finally(function(){P._waitingFor===q&&(P._waitingFor=null)})})},$n.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new vt.Abort))},$n.prototype.table=function(b){var A=this._memoizedTables||(this._memoizedTables={});if(y(A,b))return A[b];var P=this.schema[b];if(!P)throw new vt.NotFound("Table "+b+" not part of transaction");return P=new this.db.Table(b,P,this),P.core=this.db.core.table(b),A[b]=P},$n);function $n(){}function tr(b,A,P,B,q,X,st,mt){return{name:b,keyPath:A,unique:P,multi:B,auto:q,compound:X,src:(P&&!st?"&":"")+(B?"*":"")+(q?"++":"")+ps(A),type:mt}}function ps(b){return typeof b=="string"?b:b?"["+[].join.call(b,"+")+"]":""}function Vn(b,A,P){return{name:b,primKey:A,indexes:P,mappedClass:null,idxByName:(B=function(q){return[q.name,q]},P.reduce(function(q,X,st){return st=B(X,st),st&&(q[st[0]]=st[1]),q},{}))};var B}var er=function(b){try{return b.only([[]]),er=function(){return[[]]},[[]]}catch{return er=function(){return Ui},Ui}};function Ns(b){return b==null?function(){}:typeof b=="string"?(A=b).split(".").length===1?function(P){return P[A]}:function(P){return z(P,A)}:function(P){return z(P,b)};var A}function Gs(b){return[].slice.call(b)}var Xl=0;function ei(b){return b==null?":id":typeof b=="string"?b:"[".concat(b.join("+"),"]")}function Jr(b,A,kt){function B(jt){if(jt.type===3)return null;if(jt.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Nt=jt.lower,Dt=jt.upper,It=jt.lowerOpen,jt=jt.upperOpen;return Nt===void 0?Dt===void 0?null:A.upperBound(Dt,!!jt):Dt===void 0?A.lowerBound(Nt,!!It):A.bound(Nt,Dt,!!It,!!jt)}function q(Ft){var Nt,Dt=Ft.name;return{name:Dt,schema:Ft,mutate:function(It){var jt=It.trans,Kt=It.type,Gt=It.keys,se=It.values,ge=It.range;return new Promise(function(ke,Ne){ke=be(ke);var Se=jt.objectStore(Dt),Oe=Se.keyPath==null,Ce=Kt==="put"||Kt==="add";if(!Ce&&Kt!=="delete"&&Kt!=="deleteRange")throw new Error("Invalid operation type: "+Kt);var Ae,De=(Gt||se||{length:1}).length;if(Gt&&se&&Gt.length!==se.length)throw new Error("Given keys array must have same length as given values array.");if(De===0)return ke({numFailures:0,failures:{},results:[],lastResult:void 0});function He(ni){++gi,fn(ni)}var qe=[],$e=[],gi=0;if(Kt==="deleteRange"){if(ge.type===4)return ke({numFailures:gi,failures:$e,results:[],lastResult:void 0});ge.type===3?qe.push(Ae=Se.clear()):qe.push(Ae=Se.delete(B(ge)))}else{var Oe=Ce?Oe?[se,Gt]:[se,null]:[Gt,null],We=Oe[0],li=Oe[1];if(Ce)for(var On=0;On<De;++On)qe.push(Ae=li&&li[On]!==void 0?Se[Kt](We[On],li[On]):Se[Kt](We[On])),Ae.onerror=He;else for(On=0;On<De;++On)qe.push(Ae=Se[Kt](We[On])),Ae.onerror=He}function rs(ni){ni=ni.target.result,qe.forEach(function(Xi,_l){return Xi.error!=null&&($e[_l]=Xi.error)}),ke({numFailures:gi,failures:$e,results:Kt==="delete"?Gt:qe.map(function(Xi){return Xi.result}),lastResult:ni})}Ae.onerror=function(ni){He(ni),rs(ni)},Ae.onsuccess=rs})},getMany:function(It){var jt=It.trans,Kt=It.keys;return new Promise(function(Gt,se){Gt=be(Gt);for(var ge,ke=jt.objectStore(Dt),Ne=Kt.length,Se=new Array(Ne),Oe=0,Ce=0,Ae=function(qe){qe=qe.target,Se[qe._pos]=qe.result,++Ce===Oe&&Gt(Se)},De=Gn(se),He=0;He<Ne;++He)Kt[He]!=null&&((ge=ke.get(Kt[He]))._pos=He,ge.onsuccess=Ae,ge.onerror=De,++Oe);Oe===0&&Gt(Se)})},get:function(It){var jt=It.trans,Kt=It.key;return new Promise(function(Gt,se){Gt=be(Gt);var ge=jt.objectStore(Dt).get(Kt);ge.onsuccess=function(ke){return Gt(ke.target.result)},ge.onerror=Gn(se)})},query:(Nt=Ct,function(It){return new Promise(function(jt,Kt){jt=be(jt);var Gt,se,ge,Oe=It.trans,ke=It.values,Ne=It.limit,Ae=It.query,Se=Ne===1/0?void 0:Ne,Ce=Ae.index,Ae=Ae.range,Oe=Oe.objectStore(Dt),Ce=Ce.isPrimaryKey?Oe:Oe.index(Ce.name),Ae=B(Ae);if(Ne===0)return jt({result:[]});Nt?((Se=ke?Ce.getAll(Ae,Se):Ce.getAllKeys(Ae,Se)).onsuccess=function(De){return jt({result:De.target.result})},Se.onerror=Gn(Kt)):(Gt=0,se=!ke&&"openKeyCursor"in Ce?Ce.openKeyCursor(Ae):Ce.openCursor(Ae),ge=[],se.onsuccess=function(De){var He=se.result;return He?(ge.push(ke?He.value:He.primaryKey),++Gt===Ne?jt({result:ge}):void He.continue()):jt({result:ge})},se.onerror=Gn(Kt))})}),openCursor:function(It){var jt=It.trans,Kt=It.values,Gt=It.query,se=It.reverse,ge=It.unique;return new Promise(function(ke,Ne){ke=be(ke);var Ce=Gt.index,Se=Gt.range,Oe=jt.objectStore(Dt),Oe=Ce.isPrimaryKey?Oe:Oe.index(Ce.name),Ce=se?ge?"prevunique":"prev":ge?"nextunique":"next",Ae=!Kt&&"openKeyCursor"in Oe?Oe.openKeyCursor(B(Se),Ce):Oe.openCursor(B(Se),Ce);Ae.onerror=Gn(Ne),Ae.onsuccess=be(function(De){var He,qe,$e,gi,We=Ae.result;We?(We.___id=++Xl,We.done=!1,He=We.continue.bind(We),qe=(qe=We.continuePrimaryKey)&&qe.bind(We),$e=We.advance.bind(We),gi=function(){throw new Error("Cursor not stopped")},We.trans=jt,We.stop=We.continue=We.continuePrimaryKey=We.advance=function(){throw new Error("Cursor not started")},We.fail=be(Ne),We.next=function(){var li=this,On=1;return this.start(function(){return On--?li.continue():li.stop()}).then(function(){return li})},We.start=function(li){function On(){if(Ae.result)try{li()}catch(ni){We.fail(ni)}else We.done=!0,We.start=function(){throw new Error("Cursor behind last entry")},We.stop()}var rs=new Promise(function(ni,Xi){ni=be(ni),Ae.onerror=Gn(Xi),We.fail=Xi,We.stop=function(_l){We.stop=We.continue=We.continuePrimaryKey=We.advance=gi,ni(_l)}});return Ae.onsuccess=be(function(ni){Ae.onsuccess=On,On()}),We.continue=He,We.continuePrimaryKey=qe,We.advance=$e,On(),rs},ke(We)):ke(null)},Ne)})},count:function(It){var jt=It.query,Kt=It.trans,Gt=jt.index,se=jt.range;return new Promise(function(ge,ke){var Ne=Kt.objectStore(Dt),Se=Gt.isPrimaryKey?Ne:Ne.index(Gt.name),Ne=B(se),Se=Ne?Se.count(Ne):Se.count();Se.onsuccess=be(function(Oe){return ge(Oe.target.result)}),Se.onerror=Gn(ke)})}}}var X,st,mt,zt=(st=kt,mt=Gs((X=b).objectStoreNames),{schema:{name:X.name,tables:mt.map(function(Ft){return st.objectStore(Ft)}).map(function(Ft){var Nt=Ft.keyPath,jt=Ft.autoIncrement,Dt=c(Nt),It={},jt={name:Ft.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Nt==null,compound:Dt,keyPath:Nt,autoIncrement:jt,unique:!0,extractKey:Ns(Nt)},indexes:Gs(Ft.indexNames).map(function(Kt){return Ft.index(Kt)}).map(function(ge){var Gt=ge.name,se=ge.unique,ke=ge.multiEntry,ge=ge.keyPath,ke={name:Gt,compound:c(ge),keyPath:ge,unique:se,multiEntry:ke,extractKey:Ns(ge)};return It[ei(ge)]=ke}),getIndexByKeyPath:function(Kt){return It[ei(Kt)]}};return It[":id"]=jt.primaryKey,Nt!=null&&(It[ei(Nt)]=jt.primaryKey),jt})},hasGetAll:0<mt.length&&"getAll"in st.objectStore(mt[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),kt=zt.schema,Ct=zt.hasGetAll,zt=kt.tables.map(q),xt={};return zt.forEach(function(Ft){return xt[Ft.name]=Ft}),{stack:"dbcore",transaction:b.transaction.bind(b),table:function(Ft){if(!xt[Ft])throw new Error("Table '".concat(Ft,"' not found"));return xt[Ft]},MIN_KEY:-1/0,MAX_KEY:er(A),schema:kt}}function _a(b,A,P,B){var q=P.IDBKeyRange;return P.indexedDB,{dbcore:(B=Jr(A,q,B),b.dbcore.reduce(function(X,st){return st=st.create,i(i({},X),st(X))},B))}}function ts(b,B){var P=B.db,B=_a(b._middlewares,P,b._deps,B);b.core=B.dbcore,b.tables.forEach(function(q){var X=q.name;b.core.schema.tables.some(function(st){return st.name===X})&&(q.core=b.core.table(X),b[X]instanceof b.Table&&(b[X].core=q.core))})}function nn(b,A,P,B){P.forEach(function(q){var X=B[q];A.forEach(function(st){var mt=(function kt(Ct,zt){return T(Ct,zt)||(Ct=d(Ct))&&kt(Ct,zt)})(st,q);(!mt||"value"in mt&&mt.value===void 0)&&(st===b.Transaction.prototype||st instanceof b.Transaction?x(st,q,{get:function(){return this.table(q)},set:function(kt){S(this,q,{value:kt,writable:!0,configurable:!0,enumerable:!0})}}):st[q]=new b.Table(q,X))})})}function ko(b,A){A.forEach(function(P){for(var B in P)P[B]instanceof b.Table&&delete P[B]})}function Yi(b,A){return b._cfg.version-A._cfg.version}function es(b,A,P,B){var q=b._dbSchema;P.objectStoreNames.contains("$meta")&&!q.$meta&&(q.$meta=Vn("$meta",wa("")[0],[]),b._storeNames.push("$meta"));var X=b._createTransaction("readwrite",b._storeNames,q);X.create(P),X._completion.catch(B);var st=X._reject.bind(X),mt=ue.transless||ue;pn(function(){return ue.trans=X,ue.transless=mt,A!==0?(ts(b,P),Ct=A,((kt=X).storeNames.includes("$meta")?kt.table("$meta").get("version").then(function(zt){return zt??Ct}):Te.resolve(Ct)).then(function(zt){return Ft=zt,Nt=X,Dt=P,It=[],zt=(xt=b)._versions,jt=xt._dbSchema=$s(0,xt.idbdb,Dt),(zt=zt.filter(function(Kt){return Kt._cfg.version>=Ft})).length!==0?(zt.forEach(function(Kt){It.push(function(){var Gt=jt,se=Kt._cfg.dbschema;va(xt,Gt,Dt),va(xt,se,Dt),jt=xt._dbSchema=se;var ge=ba(Gt,se);ge.add.forEach(function(Ce){Oo(Dt,Ce[0],Ce[1].primKey,Ce[1].indexes)}),ge.change.forEach(function(Ce){if(Ce.recreate)throw new vt.Upgrade("Not yet support for changing primary key");var Ae=Dt.objectStore(Ce.name);Ce.add.forEach(function(De){return Co(Ae,De)}),Ce.change.forEach(function(De){Ae.deleteIndex(De.name),Co(Ae,De)}),Ce.del.forEach(function(De){return Ae.deleteIndex(De)})});var ke=Kt._cfg.contentUpgrade;if(ke&&Kt._cfg.version>Ft){ts(xt,Dt),Nt._memoizedTables={};var Ne=W(se);ge.del.forEach(function(Ce){Ne[Ce]=Gt[Ce]}),ko(xt,[xt.Transaction.prototype]),nn(xt,[xt.Transaction.prototype],l(Ne),Ne),Nt.schema=Ne;var Se,Oe=Y(ke);return Oe&&kn(),ge=Te.follow(function(){var Ce;(Se=ke(Nt))&&Oe&&(Ce=Hn.bind(null,null),Se.then(Ce,Ce))}),Se&&typeof Se.then=="function"?Te.resolve(Se):ge.then(function(){return Se})}}),It.push(function(Gt){var se,ge,ke=Kt._cfg.dbschema;se=ke,ge=Gt,[].slice.call(ge.db.objectStoreNames).forEach(function(Ne){return se[Ne]==null&&ge.db.deleteObjectStore(Ne)}),ko(xt,[xt.Transaction.prototype]),nn(xt,[xt.Transaction.prototype],xt._storeNames,xt._dbSchema),Nt.schema=xt._dbSchema}),It.push(function(Gt){xt.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(xt.idbdb.version/10)===Kt._cfg.version?(xt.idbdb.deleteObjectStore("$meta"),delete xt._dbSchema.$meta,xt._storeNames=xt._storeNames.filter(function(se){return se!=="$meta"})):Gt.objectStore("$meta").put(Kt._cfg.version,"version"))})}),(function Kt(){return It.length?Te.resolve(It.shift()(Nt.idbtrans)).then(Kt):Te.resolve()})().then(function(){Gl(jt,Dt)})):Te.resolve();var xt,Ft,Nt,Dt,It,jt}).catch(st)):(l(q).forEach(function(zt){Oo(P,zt,q[zt].primKey,q[zt].indexes)}),ts(b,P),void Te.follow(function(){return b.on.populate.fire(X)}).catch(st));var kt,Ct})}function Mo(b,A){Gl(b._dbSchema,A),A.db.version%10!=0||A.objectStoreNames.contains("$meta")||A.db.createObjectStore("$meta").add(Math.ceil(A.db.version/10-1),"version");var P=$s(0,b.idbdb,A);va(b,b._dbSchema,A);for(var B=0,q=ba(P,b._dbSchema).change;B<q.length;B++){var X=(function(st){if(st.change.length||st.recreate)return console.warn("Unable to patch indexes of table ".concat(st.name," because it has changes on the type of index or primary key.")),{value:void 0};var mt=A.objectStore(st.name);st.add.forEach(function(kt){wt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(st.name,".").concat(kt.src)),Co(mt,kt)})})(q[B]);if(typeof X=="object")return X.value}}function ba(b,A){var P,B={del:[],add:[],change:[]};for(P in b)A[P]||B.del.push(P);for(P in A){var q=b[P],X=A[P];if(q){var st={name:P,def:X,recreate:!1,del:[],add:[],change:[]};if(""+(q.primKey.keyPath||"")!=""+(X.primKey.keyPath||"")||q.primKey.auto!==X.primKey.auto)st.recreate=!0,B.change.push(st);else{var mt=q.idxByName,kt=X.idxByName,Ct=void 0;for(Ct in mt)kt[Ct]||st.del.push(Ct);for(Ct in kt){var zt=mt[Ct],xt=kt[Ct];zt?zt.src!==xt.src&&st.change.push(xt):st.add.push(xt)}(0<st.del.length||0<st.add.length||0<st.change.length)&&B.change.push(st)}}else B.add.push([P,X])}return B}function Oo(b,A,P,B){var q=b.db.createObjectStore(A,P.keyPath?{keyPath:P.keyPath,autoIncrement:P.auto}:{autoIncrement:P.auto});return B.forEach(function(X){return Co(q,X)}),q}function Gl(b,A){l(b).forEach(function(P){A.db.objectStoreNames.contains(P)||(wt&&console.debug("Dexie: Creating missing table",P),Oo(A,P,b[P].primKey,b[P].indexes))})}function Co(b,A){b.createIndex(A.name,A.keyPath,{unique:A.unique,multiEntry:A.multi})}function $s(b,A,P){var B={};return M(A.objectStoreNames,0).forEach(function(q){for(var X=P.objectStore(q),st=tr(ps(Ct=X.keyPath),Ct||"",!0,!1,!!X.autoIncrement,Ct&&typeof Ct!="string",!0),mt=[],kt=0;kt<X.indexNames.length;++kt){var zt=X.index(X.indexNames[kt]),Ct=zt.keyPath,zt=tr(zt.name,Ct,!!zt.unique,!!zt.multiEntry,!1,Ct&&typeof Ct!="string",!1);mt.push(zt)}B[q]=Vn(q,st,mt)}),B}function va(b,A,P){for(var B=P.db.objectStoreNames,q=0;q<B.length;++q){var X=B[q],st=P.objectStore(X);b._hasGetAll="getAll"in st;for(var mt=0;mt<st.indexNames.length;++mt){var kt=st.indexNames[mt],Ct=st.index(kt).keyPath,zt=typeof Ct=="string"?Ct:"["+M(Ct).join("+")+"]";!A[X]||(Ct=A[X].idxByName[zt])&&(Ct.name=kt,delete A[X].idxByName[zt],A[X].idxByName[kt]=Ct)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(b._hasGetAll=!1)}function wa(b){return b.split(",").map(function(A,P){var X=A.split(":"),B=(q=X[1])===null||q===void 0?void 0:q.trim(),q=(A=X[0].trim()).replace(/([&*]|\+\+)/g,""),X=/^\[/.test(q)?q.match(/^\[(.*)\]$/)[1].split("+"):q;return tr(q,X||null,/\&/.test(A),/\*/.test(A),/\+\+/.test(A),c(X),P===0,B)})}var Yu=(Pi.prototype._createTableSchema=Vn,Pi.prototype._parseIndexSyntax=wa,Pi.prototype._parseStoresSpec=function(b,A){var P=this;l(b).forEach(function(B){if(b[B]!==null){var q=P._parseIndexSyntax(b[B]),X=q.shift();if(!X)throw new vt.Schema("Invalid schema for table "+B+": "+b[B]);if(X.unique=!0,X.multi)throw new vt.Schema("Primary key cannot be multiEntry*");q.forEach(function(st){if(st.auto)throw new vt.Schema("Only primary key can be marked as autoIncrement (++)");if(!st.keyPath)throw new vt.Schema("Index must have a name and cannot be an empty string")}),q=P._createTableSchema(B,X,q),A[B]=q}})},Pi.prototype.stores=function(P){var A=this.db;this._cfg.storesSource=this._cfg.storesSource?f(this._cfg.storesSource,P):P;var P=A._versions,B={},q={};return P.forEach(function(X){f(B,X._cfg.storesSource),q=X._cfg.dbschema={},X._parseStoresSpec(B,q)}),A._dbSchema=q,ko(A,[A._allTables,A,A.Transaction.prototype]),nn(A,[A._allTables,A,A.Transaction.prototype,this._cfg.tables],l(q),q),A._storeNames=l(q),this},Pi.prototype.upgrade=function(b){return this._cfg.contentUpgrade=he(this._cfg.contentUpgrade||At,b),this},Pi);function Pi(){}function cl(b,A){var P=b._dbNamesDB;return P||(P=b._dbNamesDB=new Nr(So,{addons:[],indexedDB:b,IDBKeyRange:A})).version(1).stores({dbnames:"name"}),P.table("dbnames")}function No(b){return b&&typeof b.databases=="function"}function Or(b){return pn(function(){return ue.letThrough=!0,b()})}function xa(b){return!("from"in b)}var pi=function(b,A){if(!this){var P=new pi;return b&&"d"in b&&f(P,b),P}f(this,arguments.length?{d:1,from:b,to:1<arguments.length?A:b}:{d:0})};function Rs(b,A,P){var B=je(A,P);if(!isNaN(B)){if(0<B)throw RangeError();if(xa(b))return f(b,{from:A,to:P,d:1});var q=b.l,B=b.r;if(je(P,b.from)<0)return q?Rs(q,A,P):b.l={from:A,to:P,d:1,l:null,r:null},$l(b);if(0<je(A,b.to))return B?Rs(B,A,P):b.r={from:A,to:P,d:1,l:null,r:null},$l(b);je(A,b.from)<0&&(b.from=A,b.l=null,b.d=B?B.d+1:1),0<je(P,b.to)&&(b.to=P,b.r=null,b.d=b.l?b.l.d+1:1),P=!b.r,q&&!b.l&&Ls(b,q),B&&P&&Ls(b,B)}}function Ls(b,A){xa(A)||(function P(B,kt){var X=kt.from,st=kt.to,mt=kt.l,kt=kt.r;Rs(B,X,st),mt&&P(B,mt),kt&&P(B,kt)})(b,A)}function fl(b,A){var P=Ro(A),B=P.next();if(B.done)return!1;for(var q=B.value,X=Ro(b),st=X.next(q.from),mt=st.value;!B.done&&!st.done;){if(je(mt.from,q.to)<=0&&0<=je(mt.to,q.from))return!0;je(q.from,mt.from)<0?q=(B=P.next(mt.from)).value:mt=(st=X.next(q.from)).value}return!1}function Ro(b){var A=xa(b)?null:{s:0,n:b};return{next:function(P){for(var B=0<arguments.length;A;)switch(A.s){case 0:if(A.s=1,B)for(;A.n.l&&je(P,A.n.from)<0;)A={up:A,n:A.n.l,s:1};else for(;A.n.l;)A={up:A,n:A.n.l,s:1};case 1:if(A.s=2,!B||je(P,A.n.to)<=0)return{value:A.n,done:!1};case 2:if(A.n.r){A.s=3,A={up:A,n:A.n.r,s:0};continue}case 3:A=A.up}return{done:!0}}}}function $l(b){var A,P,B=(((A=b.r)===null||A===void 0?void 0:A.d)||0)-(((P=b.l)===null||P===void 0?void 0:P.d)||0),q=1<B?"r":B<-1?"l":"";q&&(A=q=="r"?"l":"r",P=i({},b),B=b[q],b.from=B.from,b.to=B.to,b[q]=B[q],P[q]=B[A],(b[A]=P).d=hl(P)),b.d=hl(b)}function hl(P){var A=P.r,P=P.l;return(A?P?Math.max(A.d,P.d):A.d:P?P.d:0)+1}function Qs(b,A){return l(A).forEach(function(P){b[P]?Ls(b[P],A[P]):b[P]=(function B(q){var X,st,mt={};for(X in q)y(q,X)&&(st=q[X],mt[X]=!st||typeof st!="object"||ot.has(st.constructor)?st:B(st));return mt})(A[P])}),b}function dl(b,A){return b.all||A.all||Object.keys(b).some(function(P){return A[P]&&fl(A[P],b[P])})}_(pi.prototype,((Zi={add:function(b){return Ls(this,b),this},addKey:function(b){return Rs(this,b,b),this},addKeys:function(b){var A=this;return b.forEach(function(P){return Rs(A,P,P)}),this},hasKey:function(b){var A=Ro(this).next(b).value;return A&&je(A.from,b)<=0&&0<=je(A.to,b)}})[rt]=function(){return Ro(this)},Zi));var ms={},Sa={},Js=!1;function Cr(b){Qs(Sa,b),Js||(Js=!0,setTimeout(function(){Js=!1,pl(Sa,!(Sa={}))},0))}function pl(b,A){A===void 0&&(A=!1);var P=new Set;if(b.all)for(var B=0,q=Object.values(ms);B<q.length;B++)to(st=q[B],b,P,A);else for(var X in b){var st,mt=/^idb\:\/\/(.*)\/(.*)\//.exec(X);mt&&(X=mt[1],mt=mt[2],(st=ms["idb://".concat(X,"/").concat(mt)])&&to(st,b,P,A))}P.forEach(function(kt){return kt()})}function to(b,A,P,B){for(var q=[],X=0,st=Object.entries(b.queries.query);X<st.length;X++){for(var mt=st[X],kt=mt[0],Ct=[],zt=0,xt=mt[1];zt<xt.length;zt++){var Ft=xt[zt];dl(A,Ft.obsSet)?Ft.subscribers.forEach(function(jt){return P.add(jt)}):B&&Ct.push(Ft)}B&&q.push([kt,Ct])}if(B)for(var Nt=0,Dt=q;Nt<Dt.length;Nt++){var It=Dt[Nt],kt=It[0],Ct=It[1];b.queries.query[kt]=Ct}}function nr(b){var A=b._state,P=b._deps.indexedDB;if(A.isBeingOpened||b.idbdb)return A.dbReadyPromise.then(function(){return A.dbOpenError?Mn(A.dbOpenError):b});A.isBeingOpened=!0,A.dbOpenError=null,A.openComplete=!1;var B=A.openCanceller,q=Math.round(10*b.verno),X=!1;function st(){if(A.openCanceller!==B)throw new vt.DatabaseClosed("db.open() was cancelled")}function mt(){return new Te(function(Ft,Nt){if(st(),!P)throw new vt.MissingAPI;var Dt=b.name,It=A.autoSchema||!q?P.open(Dt):P.open(Dt,q);if(!It)throw new vt.MissingAPI;It.onerror=Gn(Nt),It.onblocked=be(b._fireOnBlocked),It.onupgradeneeded=be(function(jt){var Kt;zt=It.transaction,A.autoSchema&&!b._options.allowEmptyDB?(It.onerror=fn,zt.abort(),It.result.close(),(Kt=P.deleteDatabase(Dt)).onsuccess=Kt.onerror=be(function(){Nt(new vt.NoSuchDatabase("Database ".concat(Dt," doesnt exist")))})):(zt.onerror=Gn(Nt),jt=jt.oldVersion>Math.pow(2,62)?0:jt.oldVersion,xt=jt<1,b.idbdb=It.result,X&&Mo(b,zt),es(b,jt/10,zt,Nt))},Nt),It.onsuccess=be(function(){zt=null;var jt,Kt,Gt,se,ge,ke=b.idbdb=It.result,Ne=M(ke.objectStoreNames);if(0<Ne.length)try{var Se=ke.transaction((se=Ne).length===1?se[0]:se,"readonly");if(A.autoSchema)Kt=ke,Gt=Se,(jt=b).verno=Kt.version/10,Gt=jt._dbSchema=$s(0,Kt,Gt),jt._storeNames=M(Kt.objectStoreNames,0),nn(jt,[jt._allTables],l(Gt),Gt);else if(va(b,b._dbSchema,Se),((ge=ba($s(0,(ge=b).idbdb,Se),ge._dbSchema)).add.length||ge.change.some(function(Oe){return Oe.add.length||Oe.change.length}))&&!X)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ke.close(),q=ke.version+1,X=!0,Ft(mt());ts(b,Se)}catch{}ks.push(b),ke.onversionchange=be(function(Oe){A.vcFired=!0,b.on("versionchange").fire(Oe)}),ke.onclose=be(function(){b.close({disableAutoOpen:!1})}),xt&&(ge=b._deps,Se=Dt,ke=ge.indexedDB,ge=ge.IDBKeyRange,No(ke)||Se===So||cl(ke,ge).put({name:Se}).catch(At)),Ft()},Nt)}).catch(function(Ft){switch(Ft?.name){case"UnknownError":if(0<A.PR1398_maxLoop)return A.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),mt();break;case"VersionError":if(0<q)return q=0,mt()}return Te.reject(Ft)})}var kt,Ct=A.dbReadyResolve,zt=null,xt=!1;return Te.race([B,(typeof navigator>"u"?Te.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Ft){function Nt(){return indexedDB.databases().finally(Ft)}kt=setInterval(Nt,100),Nt()}).finally(function(){return clearInterval(kt)}):Promise.resolve()).then(mt)]).then(function(){return st(),A.onReadyBeingFired=[],Te.resolve(Or(function(){return b.on.ready.fire(b.vip)})).then(function Ft(){if(0<A.onReadyBeingFired.length){var Nt=A.onReadyBeingFired.reduce(he,At);return A.onReadyBeingFired=[],Te.resolve(Or(function(){return Nt(b.vip)})).then(Ft)}})}).finally(function(){A.openCanceller===B&&(A.onReadyBeingFired=null,A.isBeingOpened=!1)}).catch(function(Ft){A.dbOpenError=Ft;try{zt&&zt.abort()}catch{}return B===A.openCanceller&&b._close(),Mn(Ft)}).finally(function(){A.openComplete=!0,Ct()}).then(function(){var Ft;return xt&&(Ft={},b.tables.forEach(function(Nt){Nt.schema.indexes.forEach(function(Dt){Dt.name&&(Ft["idb://".concat(b.name,"/").concat(Nt.name,"/").concat(Dt.name)]=new pi(-1/0,[[[]]]))}),Ft["idb://".concat(b.name,"/").concat(Nt.name,"/")]=Ft["idb://".concat(b.name,"/").concat(Nt.name,"/:dels")]=new pi(-1/0,[[[]]])}),ai(Cs).fire(Ft),pl(Ft,!0)),b})}function eo(b){function A(X){return b.next(X)}var P=q(A),B=q(function(X){return b.throw(X)});function q(X){return function(kt){var mt=X(kt),kt=mt.value;return mt.done?kt:kt&&typeof kt.then=="function"?kt.then(P,B):c(kt)?Promise.all(kt).then(P,B):P(kt)}}return q(A)()}function ns(b,A,P){for(var B=c(b)?b.slice():[b],q=0;q<P;++q)B.push(A);return B}var Zu={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(b){return i(i({},b),{table:function(A){var P=b.table(A),B=P.schema,q={},X=[];function st(xt,Ft,Nt){var Dt=ei(xt),It=q[Dt]=q[Dt]||[],jt=xt==null?0:typeof xt=="string"?1:xt.length,Kt=0<Ft,Kt=i(i({},Nt),{name:Kt?"".concat(Dt,"(virtual-from:").concat(Nt.name,")"):Nt.name,lowLevelIndex:Nt,isVirtual:Kt,keyTail:Ft,keyLength:jt,extractKey:Ns(xt),unique:!Kt&&Nt.unique});return It.push(Kt),Kt.isPrimaryKey||X.push(Kt),1<jt&&st(jt===2?xt[0]:xt.slice(0,jt-1),Ft+1,Nt),It.sort(function(Gt,se){return Gt.keyTail-se.keyTail}),Kt}A=st(B.primaryKey.keyPath,0,B.primaryKey),q[":id"]=[A];for(var mt=0,kt=B.indexes;mt<kt.length;mt++){var Ct=kt[mt];st(Ct.keyPath,0,Ct)}function zt(xt){var Ft,Nt=xt.query.index;return Nt.isVirtual?i(i({},xt),{query:{index:Nt.lowLevelIndex,range:(Ft=xt.query.range,Nt=Nt.keyTail,{type:Ft.type===1?2:Ft.type,lower:ns(Ft.lower,Ft.lowerOpen?b.MAX_KEY:b.MIN_KEY,Nt),lowerOpen:!0,upper:ns(Ft.upper,Ft.upperOpen?b.MIN_KEY:b.MAX_KEY,Nt),upperOpen:!0})}}):xt}return i(i({},P),{schema:i(i({},B),{primaryKey:A,indexes:X,getIndexByKeyPath:function(xt){return(xt=q[ei(xt)])&&xt[0]}}),count:function(xt){return P.count(zt(xt))},query:function(xt){return P.query(zt(xt))},openCursor:function(xt){var Ft=xt.query.index,Nt=Ft.keyTail,Dt=Ft.isVirtual,It=Ft.keyLength;return Dt?P.openCursor(zt(xt)).then(function(Kt){return Kt&&jt(Kt)}):P.openCursor(xt);function jt(Kt){return Object.create(Kt,{continue:{value:function(Gt){Gt!=null?Kt.continue(ns(Gt,xt.reverse?b.MAX_KEY:b.MIN_KEY,Nt)):xt.unique?Kt.continue(Kt.key.slice(0,It).concat(xt.reverse?b.MIN_KEY:b.MAX_KEY,Nt)):Kt.continue()}},continuePrimaryKey:{value:function(Gt,se){Kt.continuePrimaryKey(ns(Gt,b.MAX_KEY,Nt),se)}},primaryKey:{get:function(){return Kt.primaryKey}},key:{get:function(){var Gt=Kt.key;return It===1?Gt[0]:Gt.slice(0,It)}},value:{get:function(){return Kt.value}}})}}})}})}};function no(b,A,P,B){return P=P||{},B=B||"",l(b).forEach(function(q){var X,st,mt;y(A,q)?(X=b[q],st=A[q],typeof X=="object"&&typeof st=="object"&&X&&st?(mt=ut(X))!==ut(st)?P[B+q]=A[q]:mt==="Object"?no(X,st,P,B+q+"."):X!==st&&(P[B+q]=A[q]):X!==st&&(P[B+q]=A[q])):P[B+q]=void 0}),l(A).forEach(function(q){y(b,q)||(P[B+q]=A[q])}),P}function io(b,A){return A.type==="delete"?A.keys:A.keys||A.values.map(b.extractKey)}var Ql={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(b){return i(i({},b),{table:function(A){var P=b.table(A),B=P.schema.primaryKey;return i(i({},P),{mutate:function(q){var X=ue.trans,st=X.table(A).hook,mt=st.deleting,kt=st.creating,Ct=st.updating;switch(q.type){case"add":if(kt.fire===At)break;return X._promise("readwrite",function(){return zt(q)},!0);case"put":if(kt.fire===At&&Ct.fire===At)break;return X._promise("readwrite",function(){return zt(q)},!0);case"delete":if(mt.fire===At)break;return X._promise("readwrite",function(){return zt(q)},!0);case"deleteRange":if(mt.fire===At)break;return X._promise("readwrite",function(){return(function xt(Ft,Nt,Dt){return P.query({trans:Ft,values:!1,query:{index:B,range:Nt},limit:Dt}).then(function(It){var jt=It.result;return zt({type:"delete",keys:jt,trans:Ft}).then(function(Kt){return 0<Kt.numFailures?Promise.reject(Kt.failures[0]):jt.length<Dt?{failures:[],numFailures:0,lastResult:void 0}:xt(Ft,i(i({},Nt),{lower:jt[jt.length-1],lowerOpen:!0}),Dt)})})})(q.trans,q.range,1e4)},!0)}return P.mutate(q);function zt(xt){var Ft,Nt,Dt,It=ue.trans,jt=xt.keys||io(B,xt);if(!jt)throw new Error("Keys missing");return(xt=xt.type==="add"||xt.type==="put"?i(i({},xt),{keys:jt}):i({},xt)).type!=="delete"&&(xt.values=s([],xt.values)),xt.keys&&(xt.keys=s([],xt.keys)),Ft=P,Dt=jt,((Nt=xt).type==="add"?Promise.resolve([]):Ft.getMany({trans:Nt.trans,keys:Dt,cache:"immutable"})).then(function(Kt){var Gt=jt.map(function(se,ge){var ke,Ne,Se,Oe=Kt[ge],Ce={onerror:null,onsuccess:null};return xt.type==="delete"?mt.fire.call(Ce,se,Oe,It):xt.type==="add"||Oe===void 0?(ke=kt.fire.call(Ce,se,xt.values[ge],It),se==null&&ke!=null&&(xt.keys[ge]=se=ke,B.outbound||j(xt.values[ge],B.keyPath,se))):(ke=no(Oe,xt.values[ge]),(Ne=Ct.fire.call(Ce,ke,se,Oe,It))&&(Se=xt.values[ge],Object.keys(Ne).forEach(function(Ae){y(Se,Ae)?Se[Ae]=Ne[Ae]:j(Se,Ae,Ne[Ae])}))),Ce});return P.mutate(xt).then(function(se){for(var ge=se.failures,ke=se.results,Ne=se.numFailures,se=se.lastResult,Se=0;Se<jt.length;++Se){var Oe=(ke||jt)[Se],Ce=Gt[Se];Oe==null?Ce.onerror&&Ce.onerror(ge[Se]):Ce.onsuccess&&Ce.onsuccess(xt.type==="put"&&Kt[Se]?xt.values[Se]:Oe)}return{failures:ge,results:ke,numFailures:Ne,lastResult:se}}).catch(function(se){return Gt.forEach(function(ge){return ge.onerror&&ge.onerror(se)}),Promise.reject(se)})})}}})}})}};function ml(b,A,P){try{if(!A||A.keys.length<b.length)return null;for(var B=[],q=0,X=0;q<A.keys.length&&X<b.length;++q)je(A.keys[q],b[X])===0&&(B.push(P?dt(A.values[q]):A.values[q]),++X);return B.length===b.length?B:null}catch{return null}}var gl={stack:"dbcore",level:-1,create:function(b){return{table:function(A){var P=b.table(A);return i(i({},P),{getMany:function(B){if(!B.cache)return P.getMany(B);var q=ml(B.keys,B.trans._cache,B.cache==="clone");return q?Te.resolve(q):P.getMany(B).then(function(X){return B.trans._cache={keys:B.keys,values:B.cache==="clone"?dt(X):X},X})},mutate:function(B){return B.type!=="add"&&(B.trans._cache=null),P.mutate(B)}})}}}};function Ps(b,A){return b.trans.mode==="readonly"&&!!b.subscr&&!b.trans.explicit&&b.trans.db._options.cache!=="disabled"&&!A.schema.primaryKey.outbound}function ir(b,A){switch(b){case"query":return A.values&&!A.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var ro={stack:"dbcore",level:0,name:"Observability",create:function(b){var A=b.schema.name,P=new pi(b.MIN_KEY,b.MAX_KEY);return i(i({},b),{transaction:function(B,q,X){if(ue.subscr&&q!=="readonly")throw new vt.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ue.querier));return b.transaction(B,q,X)},table:function(B){var q=b.table(B),X=q.schema,st=X.primaryKey,xt=X.indexes,mt=st.extractKey,kt=st.outbound,Ct=st.autoIncrement&&xt.filter(function(Nt){return Nt.compound&&Nt.keyPath.includes(st.keyPath)}),zt=i(i({},q),{mutate:function(Nt){function Dt(Ae){return Ae="idb://".concat(A,"/").concat(B,"/").concat(Ae),se[Ae]||(se[Ae]=new pi)}var It,jt,Kt,Gt=Nt.trans,se=Nt.mutatedParts||(Nt.mutatedParts={}),ge=Dt(""),ke=Dt(":dels"),Ne=Nt.type,Ce=Nt.type==="deleteRange"?[Nt.range]:Nt.type==="delete"?[Nt.keys]:Nt.values.length<50?[io(st,Nt).filter(function(Ae){return Ae}),Nt.values]:[],Se=Ce[0],Oe=Ce[1],Ce=Nt.trans._cache;return c(Se)?(ge.addKeys(Se),(Ce=Ne==="delete"||Se.length===Oe.length?ml(Se,Ce):null)||ke.addKeys(Se),(Ce||Oe)&&(It=Dt,jt=Ce,Kt=Oe,X.indexes.forEach(function(Ae){var De=It(Ae.name||"");function He($e){return $e!=null?Ae.extractKey($e):null}function qe($e){return Ae.multiEntry&&c($e)?$e.forEach(function(gi){return De.addKey(gi)}):De.addKey($e)}(jt||Kt).forEach(function($e,li){var We=jt&&He(jt[li]),li=Kt&&He(Kt[li]);je(We,li)!==0&&(We!=null&&qe(We),li!=null&&qe(li))})}))):Se?(Oe={from:(Oe=Se.lower)!==null&&Oe!==void 0?Oe:b.MIN_KEY,to:(Oe=Se.upper)!==null&&Oe!==void 0?Oe:b.MAX_KEY},ke.add(Oe),ge.add(Oe)):(ge.add(P),ke.add(P),X.indexes.forEach(function(Ae){return Dt(Ae.name).add(P)})),q.mutate(Nt).then(function(Ae){return!Se||Nt.type!=="add"&&Nt.type!=="put"||(ge.addKeys(Ae.results),Ct&&Ct.forEach(function(De){for(var He=Nt.values.map(function(We){return De.extractKey(We)}),qe=De.keyPath.findIndex(function(We){return We===st.keyPath}),$e=0,gi=Ae.results.length;$e<gi;++$e)He[$e][qe]=Ae.results[$e];Dt(De.name).addKeys(He)})),Gt.mutatedParts=Qs(Gt.mutatedParts||{},se),Ae})}}),xt=function(Dt){var It=Dt.query,Dt=It.index,It=It.range;return[Dt,new pi((Dt=It.lower)!==null&&Dt!==void 0?Dt:b.MIN_KEY,(It=It.upper)!==null&&It!==void 0?It:b.MAX_KEY)]},Ft={get:function(Nt){return[st,new pi(Nt.key)]},getMany:function(Nt){return[st,new pi().addKeys(Nt.keys)]},count:xt,query:xt,openCursor:xt};return l(Ft).forEach(function(Nt){zt[Nt]=function(Dt){var It=ue.subscr,jt=!!It,Kt=Ps(ue,q)&&ir(Nt,Dt)?Dt.obsSet={}:It;if(jt){var Gt=function(Oe){return Oe="idb://".concat(A,"/").concat(B,"/").concat(Oe),Kt[Oe]||(Kt[Oe]=new pi)},se=Gt(""),ge=Gt(":dels"),It=Ft[Nt](Dt),jt=It[0],It=It[1];if((Nt==="query"&&jt.isPrimaryKey&&!Dt.values?ge:Gt(jt.name||"")).add(It),!jt.isPrimaryKey){if(Nt!=="count"){var ke=Nt==="query"&&kt&&Dt.values&&q.query(i(i({},Dt),{values:!1}));return q[Nt].apply(this,arguments).then(function(Oe){if(Nt==="query"){if(kt&&Dt.values)return ke.then(function(He){return He=He.result,se.addKeys(He),Oe});var Ce=Dt.values?Oe.result.map(mt):Oe.result;(Dt.values?se:ge).addKeys(Ce)}else if(Nt==="openCursor"){var Ae=Oe,De=Dt.values;return Ae&&Object.create(Ae,{key:{get:function(){return ge.addKey(Ae.primaryKey),Ae.key}},primaryKey:{get:function(){var He=Ae.primaryKey;return ge.addKey(He),He}},value:{get:function(){return De&&se.addKey(Ae.primaryKey),Ae.value}}})}return Oe})}ge.add(P)}}return q[Nt].apply(this,arguments)}}),zt}})}};function Jl(b,A,P){if(P.numFailures===0)return A;if(A.type==="deleteRange")return null;var B=A.keys?A.keys.length:"values"in A&&A.values?A.values.length:1;return P.numFailures===B?null:(A=i({},A),c(A.keys)&&(A.keys=A.keys.filter(function(q,X){return!(X in P.failures)})),"values"in A&&c(A.values)&&(A.values=A.values.filter(function(q,X){return!(X in P.failures)})),A)}function rr(b,A){return P=b,((B=A).lower===void 0||(B.lowerOpen?0<je(P,B.lower):0<=je(P,B.lower)))&&(b=b,(A=A).upper===void 0||(A.upperOpen?je(b,A.upper)<0:je(b,A.upper)<=0));var P,B}function yl(b,A,Ft,B,q,X){if(!Ft||Ft.length===0)return b;var st=A.query.index,mt=st.multiEntry,kt=A.query.range,Ct=B.schema.primaryKey.extractKey,zt=st.extractKey,xt=(st.lowLevelIndex||st).extractKey,Ft=Ft.reduce(function(Nt,Dt){var It=Nt,jt=[];if(Dt.type==="add"||Dt.type==="put")for(var Kt=new pi,Gt=Dt.values.length-1;0<=Gt;--Gt){var se,ge=Dt.values[Gt],ke=Ct(ge);Kt.hasKey(ke)||(se=zt(ge),(mt&&c(se)?se.some(function(Ae){return rr(Ae,kt)}):rr(se,kt))&&(Kt.addKey(ke),jt.push(ge)))}switch(Dt.type){case"add":var Ne=new pi().addKeys(A.values?Nt.map(function(De){return Ct(De)}):Nt),It=Nt.concat(A.values?jt.filter(function(De){return De=Ct(De),!Ne.hasKey(De)&&(Ne.addKey(De),!0)}):jt.map(function(De){return Ct(De)}).filter(function(De){return!Ne.hasKey(De)&&(Ne.addKey(De),!0)}));break;case"put":var Se=new pi().addKeys(Dt.values.map(function(De){return Ct(De)}));It=Nt.filter(function(De){return!Se.hasKey(A.values?Ct(De):De)}).concat(A.values?jt:jt.map(function(De){return Ct(De)}));break;case"delete":var Oe=new pi().addKeys(Dt.keys);It=Nt.filter(function(De){return!Oe.hasKey(A.values?Ct(De):De)});break;case"deleteRange":var Ce=Dt.range;It=Nt.filter(function(De){return!rr(Ct(De),Ce)})}return It},b);return Ft===b?b:(Ft.sort(function(Nt,Dt){return je(xt(Nt),xt(Dt))||je(Ct(Nt),Ct(Dt))}),A.limit&&A.limit<1/0&&(Ft.length>A.limit?Ft.length=A.limit:b.length===A.limit&&Ft.length<A.limit&&(q.dirty=!0)),X?Object.freeze(Ft):Ft)}function wr(b,A){return je(b.lower,A.lower)===0&&je(b.upper,A.upper)===0&&!!b.lowerOpen==!!A.lowerOpen&&!!b.upperOpen==!!A.upperOpen}function Lo(b,A){return(function(P,B,q,X){if(P===void 0)return B!==void 0?-1:0;if(B===void 0)return 1;if((B=je(P,B))===0){if(q&&X)return 0;if(q)return 1;if(X)return-1}return B})(b.lower,A.lower,b.lowerOpen,A.lowerOpen)<=0&&0<=(function(P,B,q,X){if(P===void 0)return B!==void 0?1:0;if(B===void 0)return-1;if((B=je(P,B))===0){if(q&&X)return 0;if(q)return-1;if(X)return 1}return B})(b.upper,A.upper,b.upperOpen,A.upperOpen)}function Po(b,A,P,B){b.subscribers.add(P),B.addEventListener("abort",function(){var q,X;b.subscribers.delete(P),b.subscribers.size===0&&(q=b,X=A,setTimeout(function(){q.subscribers.size===0&&et(X,q)},3e3))})}var Do={stack:"dbcore",level:0,name:"Cache",create:function(b){var A=b.schema.name;return i(i({},b),{transaction:function(P,B,q){var X,st,mt=b.transaction(P,B,q);return B==="readwrite"&&(st=(X=new AbortController).signal,q=function(kt){return function(){if(X.abort(),B==="readwrite"){for(var Ct=new Set,zt=0,xt=P;zt<xt.length;zt++){var Ft=xt[zt],Nt=ms["idb://".concat(A,"/").concat(Ft)];if(Nt){var Dt=b.table(Ft),It=Nt.optimisticOps.filter(function(De){return De.trans===mt});if(mt._explicit&&kt&&mt.mutatedParts)for(var jt=0,Kt=Object.values(Nt.queries.query);jt<Kt.length;jt++)for(var Gt=0,se=(Ne=Kt[jt]).slice();Gt<se.length;Gt++)dl((Se=se[Gt]).obsSet,mt.mutatedParts)&&(et(Ne,Se),Se.subscribers.forEach(function(De){return Ct.add(De)}));else if(0<It.length){Nt.optimisticOps=Nt.optimisticOps.filter(function(De){return De.trans!==mt});for(var ge=0,ke=Object.values(Nt.queries.query);ge<ke.length;ge++)for(var Ne,Se,Oe,Ce=0,Ae=(Ne=ke[ge]).slice();Ce<Ae.length;Ce++)(Se=Ae[Ce]).res!=null&&mt.mutatedParts&&(kt&&!Se.dirty?(Oe=Object.isFrozen(Se.res),Oe=yl(Se.res,Se.req,It,Dt,Se,Oe),Se.dirty?(et(Ne,Se),Se.subscribers.forEach(function(De){return Ct.add(De)})):Oe!==Se.res&&(Se.res=Oe,Se.promise=Te.resolve({result:Oe}))):(Se.dirty&&et(Ne,Se),Se.subscribers.forEach(function(De){return Ct.add(De)})))}}}Ct.forEach(function(De){return De()})}}},mt.addEventListener("abort",q(!1),{signal:st}),mt.addEventListener("error",q(!1),{signal:st}),mt.addEventListener("complete",q(!0),{signal:st})),mt},table:function(P){var B=b.table(P),q=B.schema.primaryKey;return i(i({},B),{mutate:function(X){var st=ue.trans;if(q.outbound||st.db._options.cache==="disabled"||st.explicit||st.idbtrans.mode!=="readwrite")return B.mutate(X);var mt=ms["idb://".concat(A,"/").concat(P)];return mt?(st=B.mutate(X),X.type!=="add"&&X.type!=="put"||!(50<=X.values.length||io(q,X).some(function(kt){return kt==null}))?(mt.optimisticOps.push(X),X.mutatedParts&&Cr(X.mutatedParts),st.then(function(kt){0<kt.numFailures&&(et(mt.optimisticOps,X),(kt=Jl(0,X,kt))&&mt.optimisticOps.push(kt),X.mutatedParts&&Cr(X.mutatedParts))}),st.catch(function(){et(mt.optimisticOps,X),X.mutatedParts&&Cr(X.mutatedParts)})):st.then(function(kt){var Ct=Jl(0,i(i({},X),{values:X.values.map(function(zt,xt){var Ft;return kt.failures[xt]?zt:(zt=(Ft=q.keyPath)!==null&&Ft!==void 0&&Ft.includes(".")?dt(zt):i({},zt),j(zt,q.keyPath,kt.results[xt]),zt)})}),kt);mt.optimisticOps.push(Ct),queueMicrotask(function(){return X.mutatedParts&&Cr(X.mutatedParts)})}),st):B.mutate(X)},query:function(X){if(!Ps(ue,B)||!ir("query",X))return B.query(X);var st=((Ct=ue.trans)===null||Ct===void 0?void 0:Ct.db._options.cache)==="immutable",xt=ue,mt=xt.requery,kt=xt.signal,Ct=(function(Dt,It,jt,Kt){var Gt=ms["idb://".concat(Dt,"/").concat(It)];if(!Gt)return[];if(!(It=Gt.queries[jt]))return[null,!1,Gt,null];var se=It[(Kt.query?Kt.query.index.name:null)||""];if(!se)return[null,!1,Gt,null];switch(jt){case"query":var ge=se.find(function(ke){return ke.req.limit===Kt.limit&&ke.req.values===Kt.values&&wr(ke.req.query.range,Kt.query.range)});return ge?[ge,!0,Gt,se]:[se.find(function(ke){return("limit"in ke.req?ke.req.limit:1/0)>=Kt.limit&&(!Kt.values||ke.req.values)&&Lo(ke.req.query.range,Kt.query.range)}),!1,Gt,se];case"count":return ge=se.find(function(ke){return wr(ke.req.query.range,Kt.query.range)}),[ge,!!ge,Gt,se]}})(A,P,"query",X),zt=Ct[0],xt=Ct[1],Ft=Ct[2],Nt=Ct[3];return zt&&xt?zt.obsSet=X.obsSet:(xt=B.query(X).then(function(Dt){var It=Dt.result;if(zt&&(zt.res=It),st){for(var jt=0,Kt=It.length;jt<Kt;++jt)Object.freeze(It[jt]);Object.freeze(It)}else Dt.result=dt(It);return Dt}).catch(function(Dt){return Nt&&zt&&et(Nt,zt),Promise.reject(Dt)}),zt={obsSet:X.obsSet,promise:xt,subscribers:new Set,type:"query",req:X,dirty:!1},Nt?Nt.push(zt):(Nt=[zt],(Ft=Ft||(ms["idb://".concat(A,"/").concat(P)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[X.query.index.name||""]=Nt)),Po(zt,Nt,mt,kt),zt.promise.then(function(Dt){return{result:yl(Dt.result,X,Ft?.optimisticOps,B,zt,st)}})}})}})}};function gs(b,A){return new Proxy(b,{get:function(P,B,q){return B==="db"?A:Reflect.get(P,B,q)}})}var Nr=(gn.prototype.version=function(b){if(isNaN(b)||b<.1)throw new vt.Type("Given version is not a positive number");if(b=Math.round(10*b)/10,this.idbdb||this._state.isBeingOpened)throw new vt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,b);var A=this._versions,P=A.filter(function(B){return B._cfg.version===b})[0];return P||(P=new this.Version(b),A.push(P),A.sort(Yi),P.stores({}),this._state.autoSchema=!1,P)},gn.prototype._whenReady=function(b){var A=this;return this.idbdb&&(this._state.openComplete||ue.letThrough||this._vip)?b():new Te(function(P,B){if(A._state.openComplete)return B(new vt.DatabaseClosed(A._state.dbOpenError));if(!A._state.isBeingOpened){if(!A._state.autoOpen)return void B(new vt.DatabaseClosed);A.open().catch(At)}A._state.dbReadyPromise.then(P,B)}).then(b)},gn.prototype.use=function(b){var A=b.stack,P=b.create,B=b.level,q=b.name;return q&&this.unuse({stack:A,name:q}),b=this._middlewares[A]||(this._middlewares[A]=[]),b.push({stack:A,create:P,level:B??10,name:q}),b.sort(function(X,st){return X.level-st.level}),this},gn.prototype.unuse=function(b){var A=b.stack,P=b.name,B=b.create;return A&&this._middlewares[A]&&(this._middlewares[A]=this._middlewares[A].filter(function(q){return B?q.create!==B:!!P&&q.name!==P})),this},gn.prototype.open=function(){var b=this;return Yn(Pe,function(){return nr(b)})},gn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var b=this._state,A=ks.indexOf(this);if(0<=A&&ks.splice(A,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}b.isBeingOpened||(b.dbReadyPromise=new Te(function(P){b.dbReadyResolve=P}),b.openCanceller=new Te(function(P,B){b.cancelOpen=B}))},gn.prototype.close=function(P){var A=(P===void 0?{disableAutoOpen:!0}:P).disableAutoOpen,P=this._state;A?(P.isBeingOpened&&P.cancelOpen(new vt.DatabaseClosed),this._close(),P.autoOpen=!1,P.dbOpenError=new vt.DatabaseClosed):(this._close(),P.autoOpen=this._options.autoOpen||P.isBeingOpened,P.openComplete=!1,P.dbOpenError=null)},gn.prototype.delete=function(b){var A=this;b===void 0&&(b={disableAutoOpen:!0});var P=0<arguments.length&&typeof arguments[0]!="object",B=this._state;return new Te(function(q,X){function st(){A.close(b);var mt=A._deps.indexedDB.deleteDatabase(A.name);mt.onsuccess=be(function(){var kt,Ct,zt;kt=A._deps,Ct=A.name,zt=kt.indexedDB,kt=kt.IDBKeyRange,No(zt)||Ct===So||cl(zt,kt).delete(Ct).catch(At),q()}),mt.onerror=Gn(X),mt.onblocked=A._fireOnBlocked}if(P)throw new vt.InvalidArgument("Invalid closeOptions argument to db.delete()");B.isBeingOpened?B.dbReadyPromise.then(st):st()})},gn.prototype.backendDB=function(){return this.idbdb},gn.prototype.isOpen=function(){return this.idbdb!==null},gn.prototype.hasBeenClosed=function(){var b=this._state.dbOpenError;return b&&b.name==="DatabaseClosed"},gn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},gn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(gn.prototype,"tables",{get:function(){var b=this;return l(this._allTables).map(function(A){return b._allTables[A]})},enumerable:!1,configurable:!0}),gn.prototype.transaction=function(){var b=(function(A,P,B){var q=arguments.length;if(q<2)throw new vt.InvalidArgument("Too few arguments");for(var X=new Array(q-1);--q;)X[q-1]=arguments[q];return B=X.pop(),[A,tt(X),B]}).apply(this,arguments);return this._transaction.apply(this,b)},gn.prototype._transaction=function(b,A,P){var B=this,q=ue.trans;q&&q.db===this&&b.indexOf("!")===-1||(q=null);var X,st,mt=b.indexOf("?")!==-1;b=b.replace("!","").replace("?","");try{if(st=A.map(function(Ct){if(Ct=Ct instanceof B.Table?Ct.name:Ct,typeof Ct!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Ct}),b=="r"||b===Xr)X=Xr;else{if(b!="rw"&&b!=Mr)throw new vt.InvalidArgument("Invalid transaction mode: "+b);X=Mr}if(q){if(q.mode===Xr&&X===Mr){if(!mt)throw new vt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");q=null}q&&st.forEach(function(Ct){if(q&&q.storeNames.indexOf(Ct)===-1){if(!mt)throw new vt.SubTransaction("Table "+Ct+" not included in parent transaction.");q=null}}),mt&&q&&!q.active&&(q=null)}}catch(Ct){return q?q._promise(null,function(zt,xt){xt(Ct)}):Mn(Ct)}var kt=(function Ct(zt,xt,Ft,Nt,Dt){return Te.resolve().then(function(){var It=ue.transless||ue,jt=zt._createTransaction(xt,Ft,zt._dbSchema,Nt);if(jt.explicit=!0,It={trans:jt,transless:It},Nt)jt.idbtrans=Nt.idbtrans;else try{jt.create(),jt.idbtrans._explicit=!0,zt._state.PR1398_maxLoop=3}catch(se){return se.name===_t.InvalidState&&zt.isOpen()&&0<--zt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),zt.close({disableAutoOpen:!1}),zt.open().then(function(){return Ct(zt,xt,Ft,null,Dt)})):Mn(se)}var Kt,Gt=Y(Dt);return Gt&&kn(),It=Te.follow(function(){var se;(Kt=Dt.call(jt,jt))&&(Gt?(se=Hn.bind(null,null),Kt.then(se,se)):typeof Kt.next=="function"&&typeof Kt.throw=="function"&&(Kt=eo(Kt)))},It),(Kt&&typeof Kt.then=="function"?Te.resolve(Kt).then(function(se){return jt.active?se:Mn(new vt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):It.then(function(){return Kt})).then(function(se){return Nt&&jt._resolve(),jt._completion.then(function(){return se})}).catch(function(se){return jt._reject(se),Mn(se)})})}).bind(null,this,X,st,q,P);return q?q._promise(X,kt,"lock"):ue.trans?Yn(ue.transless,function(){return B._whenReady(kt)}):this._whenReady(kt)},gn.prototype.table=function(b){if(!y(this._allTables,b))throw new vt.InvalidTable("Table ".concat(b," does not exist"));return this._allTables[b]},gn);function gn(b,A){var P=this;this._middlewares={},this.verno=0;var B=gn.dependencies;this._options=A=i({addons:gn.addons,autoOpen:!0,indexedDB:B.indexedDB,IDBKeyRange:B.IDBKeyRange,cache:"cloned"},A),this._deps={indexedDB:A.indexedDB,IDBKeyRange:A.IDBKeyRange},B=A.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var q,X,st,mt,kt,Ct={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:At,dbReadyPromise:null,cancelOpen:At,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:A.autoOpen};Ct.dbReadyPromise=new Te(function(xt){Ct.dbReadyResolve=xt}),Ct.openCanceller=new Te(function(xt,Ft){Ct.cancelOpen=Ft}),this._state=Ct,this.name=b,this.on=hs(this,"populate","blocked","versionchange","close",{ready:[he,At]}),this.once=function(xt,Ft){var Nt=function(){for(var Dt=[],It=0;It<arguments.length;It++)Dt[It]=arguments[It];P.on(xt).unsubscribe(Nt),Ft.apply(P,Dt)};return P.on(xt,Nt)},this.on.ready.subscribe=D(this.on.ready.subscribe,function(xt){return function(Ft,Nt){gn.vip(function(){var Dt,It=P._state;It.openComplete?(It.dbOpenError||Te.resolve().then(Ft),Nt&&xt(Ft)):It.onReadyBeingFired?(It.onReadyBeingFired.push(Ft),Nt&&xt(Ft)):(xt(Ft),Dt=P,Nt||xt(function jt(){Dt.on.ready.unsubscribe(Ft),Dt.on.ready.unsubscribe(jt)}))})}}),this.Collection=(q=this,En(ul.prototype,function(Kt,jt){this.db=q;var Nt=ma,Dt=null;if(jt)try{Nt=jt()}catch(Gt){Dt=Gt}var It=Kt._ctx,jt=It.table,Kt=jt.hook.reading.fire;this._ctx={table:jt,index:It.index,isPrimKey:!It.index||jt.schema.primKey.keyPath&&It.index===jt.schema.primKey.name,range:Nt,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Dt,or:It.or,valueMapper:Kt!==ce?Kt:null}})),this.Table=(X=this,En(Un.prototype,function(xt,Ft,Nt){this.db=X,this._tx=Nt,this.name=xt,this.schema=Ft,this.hook=X._allTables[xt]?X._allTables[xt].hook:hs(null,{creating:[Et,At],reading:[Jt,ce],updating:[ie,At],deleting:[Vt,At]})})),this.Transaction=(st=this,En(To.prototype,function(xt,Ft,Nt,Dt,It){var jt=this;xt!=="readonly"&&Ft.forEach(function(Kt){Kt=(Kt=Nt[Kt])===null||Kt===void 0?void 0:Kt.yProps,Kt&&(Ft=Ft.concat(Kt.map(function(Gt){return Gt.updatesTable})))}),this.db=st,this.mode=xt,this.storeNames=Ft,this.schema=Nt,this.chromeTransactionDurability=Dt,this.idbtrans=null,this.on=hs(this,"complete","error","abort"),this.parent=It||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Te(function(Kt,Gt){jt._resolve=Kt,jt._reject=Gt}),this._completion.then(function(){jt.active=!1,jt.on.complete.fire()},function(Kt){var Gt=jt.active;return jt.active=!1,jt.on.error.fire(Kt),jt.parent?jt.parent._reject(Kt):Gt&&jt.idbtrans&&jt.idbtrans.abort(),Mn(Kt)})})),this.Version=(mt=this,En(Yu.prototype,function(xt){this.db=mt,this._cfg={version:xt,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(kt=this,En(Os.prototype,function(xt,Ft,Nt){if(this.db=kt,this._ctx={table:xt,index:Ft===":id"?null:Ft,or:Nt},this._cmp=this._ascending=je,this._descending=function(Dt,It){return je(It,Dt)},this._max=function(Dt,It){return 0<je(Dt,It)?Dt:It},this._min=function(Dt,It){return je(Dt,It)<0?Dt:It},this._IDBKeyRange=kt._deps.IDBKeyRange,!this._IDBKeyRange)throw new vt.MissingAPI})),this.on("versionchange",function(xt){0<xt.newVersion?console.warn("Another connection wants to upgrade database '".concat(P.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(P.name,"'. Closing db now to resume the delete request.")),P.close({disableAutoOpen:!1})}),this.on("blocked",function(xt){!xt.newVersion||xt.newVersion<xt.oldVersion?console.warn("Dexie.delete('".concat(P.name,"') was blocked")):console.warn("Upgrade '".concat(P.name,"' blocked by other connection holding version ").concat(xt.oldVersion/10))}),this._maxKey=er(A.IDBKeyRange),this._createTransaction=function(xt,Ft,Nt,Dt){return new P.Transaction(xt,Ft,Nt,P._options.chromeTransactionDurability,Dt)},this._fireOnBlocked=function(xt){P.on("blocked").fire(xt),ks.filter(function(Ft){return Ft.name===P.name&&Ft!==P&&!Ft._state.vcFired}).map(function(Ft){return Ft.on("versionchange").fire(xt)})},this.use(gl),this.use(Do),this.use(ro),this.use(Zu),this.use(Ql);var zt=new Proxy(this,{get:function(xt,Ft,Nt){if(Ft==="_vip")return!0;if(Ft==="table")return function(It){return gs(P.table(It),zt)};var Dt=Reflect.get(xt,Ft,Nt);return Dt instanceof Un?gs(Dt,zt):Ft==="tables"?Dt.map(function(It){return gs(It,zt)}):Ft==="_createTransaction"?function(){return gs(Dt.apply(this,arguments),zt)}:Dt}});this.vip=zt,B.forEach(function(xt){return xt(P)})}var is,Zi=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ea=(Aa.prototype.subscribe=function(b,A,P){return this._subscribe(b&&typeof b!="function"?b:{next:b,error:A,complete:P})},Aa.prototype[Zi]=function(){return this},Aa);function Aa(b){this._subscribe=b}try{is={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{is={indexedDB:null,IDBKeyRange:null}}function Rr(b){var A,P=!1,B=new Ea(function(q){var X=Y(b),st,mt=!1,kt={},Ct={},zt={get closed(){return mt},unsubscribe:function(){mt||(mt=!0,st&&st.abort(),xt&&ai.storagemutated.unsubscribe(Nt))}};q.start&&q.start(zt);var xt=!1,Ft=function(){return Zr(Dt)},Nt=function(It){Qs(kt,It),dl(Ct,kt)&&Ft()},Dt=function(){var It,jt,Kt;!mt&&is.indexedDB&&(kt={},It={},st&&st.abort(),st=new AbortController,Kt=(function(Gt){var se=zi();try{X&&kn();var ge=pn(b,Gt);return ge=X?ge.finally(Hn):ge}finally{se&&it()}})(jt={subscr:It,signal:st.signal,requery:Ft,querier:b,trans:null}),Promise.resolve(Kt).then(function(Gt){P=!0,A=Gt,mt||jt.signal.aborted||(kt={},(function(se){for(var ge in se)if(y(se,ge))return;return 1})(Ct=It)||xt||(ai(Cs,Nt),xt=!0),Zr(function(){return!mt&&q.next&&q.next(Gt)}))},function(Gt){P=!1,["DatabaseClosedError","AbortError"].includes(Gt?.name)||mt||Zr(function(){mt||q.error&&q.error(Gt)})}))};return setTimeout(Ft,0),zt});return B.hasValue=function(){return P},B.getValue=function(){return A},B}var Ds=Nr;function ys(b){var A=Si;try{Si=!0,ai.storagemutated.fire(b),pl(b,!0)}finally{Si=A}}_(Ds,i(i({},Rt),{delete:function(b){return new Ds(b,{addons:[]}).delete()},exists:function(b){return new Ds(b,{addons:[]}).open().then(function(A){return A.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(b){try{return A=Ds.dependencies,P=A.indexedDB,A=A.IDBKeyRange,(No(P)?Promise.resolve(P.databases()).then(function(B){return B.map(function(q){return q.name}).filter(function(q){return q!==So})}):cl(P,A).toCollection().primaryKeys()).then(b)}catch{return Mn(new vt.MissingAPI)}var A,P},defineClass:function(){return function(b){f(this,b)}},ignoreTransaction:function(b){return ue.trans?Yn(ue.transless,b):b()},vip:Or,async:function(b){return function(){try{var A=eo(b.apply(this,arguments));return A&&typeof A.then=="function"?A:Te.resolve(A)}catch(P){return Mn(P)}}},spawn:function(b,A,P){try{var B=eo(b.apply(P,A||[]));return B&&typeof B.then=="function"?B:Te.resolve(B)}catch(q){return Mn(q)}},currentTransaction:{get:function(){return ue.trans||null}},waitFor:function(b,A){return A=Te.resolve(typeof b=="function"?Ds.ignoreTransaction(b):b).timeout(A||6e4),ue.trans?ue.trans.waitFor(A):A},Promise:Te,debug:{get:function(){return wt},set:function(b){fe(b)}},derive:E,extend:f,props:_,override:D,Events:hs,on:ai,liveQuery:Rr,extendObservabilitySet:Qs,getByKeyPath:z,setByKeyPath:j,delByKeyPath:function(b,A){typeof A=="string"?j(b,A,void 0):"length"in A&&[].map.call(A,function(P){j(b,P,void 0)})},shallowClone:W,deepClone:dt,getObjectDiff:no,cmp:je,asap:R,minKey:-1/0,addons:[],connections:ks,errnames:_t,dependencies:is,cache:ms,semVer:"4.2.1",version:"4.2.1".split(".").map(function(b){return parseInt(b)}).reduce(function(b,A,P){return b+A/Math.pow(10,2*P)})})),Ds.maxKey=er(Ds.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ai(Cs,function(b){Si||(b=new CustomEvent(Qr,{detail:b}),Si=!0,dispatchEvent(b),Si=!1)}),addEventListener(Qr,function(b){b=b.detail,Si||ys(b)}));var so,Si=!1,mi=function(){};return typeof BroadcastChannel<"u"&&((mi=function(){(so=new BroadcastChannel(Qr)).onmessage=function(b){return b.data&&ys(b.data)}})(),typeof so.unref=="function"&&so.unref(),ai(Cs,function(b){Si||so.postMessage(b)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(b){if(!Nr.disableBfCache&&b.persisted){wt&&console.debug("Dexie: handling persisted pagehide"),so?.close();for(var A=0,P=ks;A<P.length;A++)P[A].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(b){!Nr.disableBfCache&&b.persisted&&(wt&&console.debug("Dexie: handling persisted pageshow"),mi(),ys({all:new pi(-1/0,[[]])}))})),Te.rejectionMapper=function(b,A){return!b||b instanceof at||b instanceof TypeError||b instanceof SyntaxError||!b.name||!Mt[b.name]?b:(A=new Mt[b.name](A||b.message,b),"stack"in b&&x(A,"stack",{get:function(){return this.inner.stack}}),A)},fe(wt),i(Nr,Object.freeze({__proto__:null,Dexie:Nr,liveQuery:Rr,Entity:Zs,cmp:je,PropModification:gr,replacePrefix:function(b,A){return new gr({replacePrefix:[b,A]})},add:function(b){return new gr({add:b})},remove:function(b){return new gr({remove:b})},default:Nr,RangeSet:pi,mergeRanges:Ls,rangesOverlap:fl}),{default:Nr}),Nr})})(Td)),Td.exports}var SC=xC();const g_=D_(SC),zw=Symbol.for("Dexie"),_f=globalThis[zw]||(globalThis[zw]=g_);if(g_.semVer!==_f.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${g_.semVer} and ${_f.semVer}`);const{liveQuery:P5,mergeRanges:D5,rangesOverlap:j5,RangeSet:I5,cmp:z5,Entity:B5,PropModification:U5,replacePrefix:F5,add:H5,remove:q5,DexieYProvider:V5}=_f,Es=new _f("DeviceDB");Es.version(1).stores({devices:"++id, &serial, model, latitude, longitude, registeredAt"});const af=new Map,yE=3e4,Ld=new Map;async function EC(n){if(!n)return!1;const t=Date.now(),e=Ld.get(n);if(e&&t-e<yE&&af.has(n))return af.get(n);const s=!!await Es.devices.where("serial").equals(n).first();return af.set(n,s),Ld.set(n,t),s}const Bw=new Map;async function AC(n){if(!n)return null;const t=Date.now(),e=Bw.get(n);if(e&&t-e.ts<yE)return e.id??null;const s=(await Es.devices.where("serial").equals(n).first())?.id??null;return Bw.set(n,{id:s,ts:t}),s}function TC(n,t){n&&(af.delete(n),Ld.delete(n)),t&&(af.delete(t),Ld.delete(t))}const kC=180;function Vm(n,t,e=kC){if(t==null||!isFinite(t))return n;const i=n.length>=e?n.slice(n.length-e+1):n.slice();return i.push(Number(t)),i}const Ga=ol((n,t)=>({selectedId:null,seriesById:Object.create(null),latestById:Object.create(null),warningById:{},setSelected:e=>n({selectedId:e}),setWarning:(e,i)=>n(s=>{const a=!!s.warningById[e],l=!!i;return a===l?{}:{warningById:{...s.warningById,[e]:l}}}),pushFromItem:e=>{const i=e?.id;if(!i)return;const{cpuTotalPct:s,diskUsedPct:a,memUsedPct:l}=e,c={...t().seriesById},f=c[i]||{cpu:[],emmc:[],ram:[]};c[i]={cpu:Vm(f.cpu,s),emmc:Vm(f.emmc,a),ram:Vm(f.ram,l)};const d={...t().latestById};d[i]={cpu:Number.isFinite(s)?s:null,emmc:Number.isFinite(a)?a:null,ram:Number.isFinite(l)?l:null,updatedAt:Date.now()},n({seriesById:c,latestById:d})}})),lf=ol((n,t)=>({raw:null,parsed:{v2xReady:null,freqMHz:void 0,bwMHz:void 0,txCount:void 0,rxCount:void 0,gnss:{fix:void 0,lat:void 0,lon:void 0}},setFromVmStatus(e){const i=MC(e);n({raw:e,parsed:i})}}));function MC(n){if(!n||typeof n!="object")return{v2xReady:null,freqMHz:void 0,bwMHz:void 0,txCount:void 0,rxCount:void 0,gnss:{mode:void 0,lat:void 0,lon:void 0}};const t=!!n.cv2x_tx_ready,e=Rh(n.frequency_mhz),i=Rh(n.channel_bandwidth_mhz),s=Rh(n.ltev2x_tx_total_count),a=Rh(n.ltev2x_rx_total_count),l=n.gnss_data||{},c=OC(l.latitude),f=CC(l.longitude),d=NC(l.mode,l.status);return{v2xReady:t,freqMHz:e,bwMHz:i,txCount:s,rxCount:a,gnss:{mode:d,lat:c,lon:f}}}const Rh=n=>typeof n=="number"&&!Number.isNaN(n)?n:void 0;function OC(n){if(typeof n=="number")return Math.abs(n)>90?n/1e7:n}function CC(n){if(typeof n=="number")return Math.abs(n)>180?n/1e7:n}function NC(n,t){return["No Fix","Fixing","2D Fix","3D Fix"][n]}function _E(n){return n==null?1:n>=-55?4:n>=-65?3:n>=-75?2:1}const Lh={CPU_MAX:85,MEMORY_MAX:85,DISK_MAX:85,TEMP_MAX:80},Uw={CERT_EXPIRING_DAYS:30,RSSI_WEAK:-100},RC={gnssAntenna:"GNSS 안테나",lteAntenna1:"LTE-V2X 안테나1",lteAntenna2:"LTE-V2X 안테나2",v2xUsb:"V2X USB",v2xSpi:"V2X SPI",sramVbat:"SRAM VBAT",ppsSync:"1PPS 동기",cpuOk:"CPU 사용률",memOk:"메모리 사용률",diskOk:"스토리지 사용률",tempOk:"온도"};function bE(n){if(!n)return{pct:0,flags:{},issues:[]};const t={gnssAntenna:!!n?.gnss_antenna_status,lteAntenna1:!!n?.ltev2x_antenna1_status,lteAntenna2:!!n?.ltev2x_antenna2_status,v2xUsb:!!n?.v2x_usb_status,v2xSpi:!!n?.v2x_spi_status,sramVbat:!!n?.sram_vbat_status,ppsSync:!!n?.secton_1pps_status},e=Number(n?.cpu_usage_status?.cpu_usage_total_percent),i=Number(n?.memory_usage_status?.memory_usage_percent),s=Number(n?.storage_usage_status?.storage_usage_percent),a=Number(n?.temperature_status?.temperature_celsius);t.cpuOk=Number.isFinite(e)?e<=Lh.CPU_MAX:!1,t.memOk=Number.isFinite(i)?i<=Lh.MEMORY_MAX:!1,t.diskOk=Number.isFinite(s)?s<=Lh.DISK_MAX:!1,t.tempOk=Number.isFinite(a)?a<=Lh.TEMP_MAX:!1;const l=Object.keys(t),c=l.reduce((g,y)=>g+(t[y]?1:0),0),f=Math.round(c/l.length*100),d=l.filter(g=>!t[g]).map(g=>RC[g]||g);return{pct:f,flags:t,issues:d}}function vE(n,t){const e=[];!!n?.certificate?.ltev2x_cert_status_security_enable||e.push({type:"SECURITY_DISABLED",severity:"WARNING",message:"보안이 적용되지 않았습니다",category:"security"});const s=wE(n?.certificate?.ltev2x_cert_valid_end);s!==null&&(s<=0?e.push({type:"CERT_EXPIRED",severity:"WARNING",message:"인증서가 만료되었습니다",category:"certificate",daysLeft:s}):s<Uw.CERT_EXPIRING_DAYS&&e.push({type:"CERT_EXPIRING",severity:"WARNING",message:`인증서가 ${s}일 후 만료됩니다`,category:"certificate",daysLeft:s}));const a=Number(n?.lte?.rssi_dbm);if(Number.isFinite(a)&&a<Uw.RSSI_WEAK){const l=_E(a);e.push({type:"WEAK_SIGNAL",severity:"WARNING",message:`통신 신호가 약합니다 (${a} dBm)`,category:"communication",rssi:a,bars:l})}if(!t.flags.gnssAntenna||!t.flags.lteAntenna1||!t.flags.lteAntenna2){const l=[];t.flags.gnssAntenna||l.push("GNSS"),t.flags.lteAntenna1||l.push("LTE-V2X #1"),t.flags.lteAntenna2||l.push("LTE-V2X #2"),e.push({type:"ANTENNA_ISSUE",severity:"WARNING",message:`안테나 문제: ${l.join(", ")}`,category:"hardware",affected:l})}return e}function wE(n){const t=Number(n);if(!Number.isFinite(t))return null;const s=Date.UTC(2004,0,1)+t*1e3-Date.now();return Math.ceil(s/864e5)}function LC(n){const t=Number(n?.gnss_data?.latitude),e=Number(n?.gnss_data?.longitude);return Number.isFinite(t)&&Number.isFinite(e)?{lat:t/1e7,lon:e/1e7}:null}function PC(n){return!!(n?.ltev2x_tx_ready_status||n?.gnss_antenna_status)}function DC(n,t){if(!n)return null;const e=String(n?.serial_number??""),i=Number(n?.lte?.rssi_dbm),s=Number.isFinite(i)?_E(i):0,a=bE(n),l=vE(n,a);return{id:t,serial:e,active:PC(n),health:a,securityWarnings:l,bars:s,rssiDbm:Number.isFinite(i)?i:null,securityEnabled:!!n?.certificate?.ltev2x_cert_status_security_enable,certDaysLeft:wE(n?.certificate?.ltev2x_cert_valid_end),coords:LC(n),temperatureC:Number(n?.temperature_status?.temperature_celsius)||null,cpuTotalPct:Number(n?.cpu_usage_status?.cpu_usage_total_percent)||null,memUsedPct:Number(n?.memory_usage_status?.memory_usage_percent)||null,diskUsedPct:Number(n?.storage_usage_status?.storage_usage_percent)||null,updatedAt:Date.now(),__raw:n}}function Er(n){if(n==null)return;const t=typeof n=="number"?n:Number(n);return isFinite(t)?t:void 0}function jC(n){if(!n||typeof n!="object")return null;const t=n,e={txReady:!!t.cv2x_tx_ready,freqMHz:Er(t.frequency_mhz)??0,bwMHz:Er(t.channel_bandwidth_mhz)??0,txTotal:Er(t.ltev2x_tx_total_count)??0,rxTotal:Er(t.ltev2x_rx_total_count)??0},i=t.gnss_data||{},s=Er(i.latitude),a=Er(i.longitude),l=s==null?null:Math.abs(s)>1e3?s/1e7:s,c=a==null?null:Math.abs(a)>1e3?a/1e7:a,f=i.speed==null?null:i.speed/10,d=i.heading==null?null:i.heading/10,g=new Date(Date.UTC(i.year??1970,(i.month??1)-1,i.day??1,i.hour??0,i.min??0,i.sec??0,Math.floor((i.nanosec??0)/1e6))).toISOString(),y={lat:l,lon:c,altHAE_m:Er(i.altHAE)??null,altMSL_m:Er(i.altMSL)??null,speed_mps:f,heading_deg:d,satsTracked:Er(i.numSatellites)??0,satsUsed:Er(i.numUsedSatellites)??0,pdop:Er(i.pdop),hdop:Er(i.hdop),vdop:Er(i.vdop),hacc_m:Er(i.hacc),vacc_m:Er(i.vacc),timestamp:g};return{rseStatus:e,gnss:y}}const Fw=n=>typeof n=="number"&&Number.isFinite(n),Wm=n=>Fw(n?.lat)&&Fw(n?.lon),vo=ol((n,t)=>({byId:{},warningById:{},registrationById:{},staleSec:3,__staleTimerId:null,setStaleThreshold:e=>n({staleSec:Math.max(1,Number(e)||3)}),startStaleWatcher:(e,i=1e3)=>{if(t().__staleTimerId){console.warn("Stale watcher already running");return}Number.isFinite(e)&&n({staleSec:e});const a=setInterval(()=>{const{byId:l,staleSec:c}=t(),f=Date.now();let d=!1;const g={...l};for(const[y,_]of Object.entries(l)){const S=_?.__receivedAt??_?._ts??0,E=(f-S)/1e3<=c;!!_?.active!==E&&(g[y]={..._,active:E},d=!0)}d&&n({byId:g})},i);n({__staleTimerId:a})},stopStaleWatcher:()=>{const{__staleTimerId:e}=t();e&&(clearInterval(e),n({__staleTimerId:null}))},selectAll:()=>Object.values(t().byId),selectAllWithFix:()=>Object.values(t().byId).filter(e=>Wm(e?.gnss)),selectBounds:()=>{const e=Object.values(t().byId).map(c=>c?.gnss).filter(c=>Wm(c)).map(c=>[c.lat,c.lon]);if(e.length===0)return null;let i=e[0][0],s=e[0][0],a=e[0][1],l=e[0][1];for(let c=1;c<e.length;c++){const[f,d]=e[c];f<i&&(i=f),f>s&&(s=f),d<a&&(a=d),d>l&&(l=d)}return[[i,a],[s,l]]},selectById:e=>e?t().byId[e]??null:null,selectActiveCount:()=>Object.values(t().byId).filter(e=>e?.active).length,selectWarningCount:()=>Object.values(t().warningById).filter(e=>e).length,removeById:e=>n(i=>{const s={...i.byId},a={...i.warningById},l={...i.registrationById};return delete s[e],delete a[e],delete l[e],{byId:s,warningById:a,registrationById:l}}),clear:()=>n({byId:{},warningById:{},registrationById:{}}),setWarning:(e,i)=>n(s=>{const a=!!s.warningById[e],l=!!i;return a===l?{}:{warningById:{...s.warningById,[e]:l}}}),upsertUnregisteredDevice:(e,i,s)=>{const a=Date.now(),l={id:e,serial:i,isRegistered:!1,active:!0,health:null,securityWarnings:[],_ts:a,__raw:s,__receivedAt:a};n(c=>({byId:{...c.byId,[e]:l},registrationById:{...c.registrationById,[e]:!1}})),console.debug(`[RseStore] Unregistered device added: ${e} (${i})`)},upsertRseStatus:(e,i,s)=>{const a=jC(s);if(!a){console.warn(`Failed to parse RSE packet for ${e}`);return}const l=t().byId[e],c=Date.now(),f=Number(a?.rseStatus?.rxTotal??0),d=Number(l?.rseStatus?.rxTotal??0),g=l?Math.max(1,(c-l._ts)/1e3):1,y=f-d,_=y>=0?y/g:0,S=bE(s),x=vE(s,S),E={id:e,serial:i,...a,health:S,isRegistered:!0,securityWarnings:x,active:!0,msgPerSec:Number(_.toFixed(1)),_ts:c,__raw:s,__receivedAt:c};(!l||l.rseStatus?.rxTotal!==E.rseStatus?.rxTotal||l.rseStatus?.txTotal!==E.rseStatus?.txTotal||l.rseStatus?.txReady!==E.rseStatus?.txReady||l.gnss?.lat!==E.gnss?.lat||l.gnss?.lon!==E.gnss?.lon||l.gnss?.heading_deg!==E.gnss?.heading_deg||l.health?.pct!==E.health?.pct)&&n(N=>({byId:{...N.byId,[e]:E},registrationById:{...N.registrationById,[e]:!0}}))},debug:()=>{const e=t();console.log("=== RSE Store Debug ==="),console.log("Total devices:",Object.keys(e.byId).length),console.log("Registered:",Object.values(e.registrationById).filter(i=>i).length),console.log("Unregistered:",Object.values(e.registrationById).filter(i=>!i).length),console.log("Active devices:",e.selectActiveCount()),console.log("Warning devices:",e.selectWarningCount()),console.log("Stale threshold:",e.staleSec,"seconds"),console.log("Watcher running:",!!e.__staleTimerId),console.log("======================")},getStatistics:()=>{const e=t(),i=Object.values(e.byId);return{total:i.length,registered:i.filter(s=>s?.isRegistered===!0).length,unregistered:i.filter(s=>s?.isRegistered===!1).length,active:i.filter(s=>s?.active).length,inactive:i.filter(s=>!s?.active).length,withCoordinates:i.filter(s=>Wm(s?.gnss)).length,withWarnings:Object.values(e.warningById).filter(s=>s).length}}})),Of=ol(n=>({phase:"idle",setPhase:t=>n({phase:t}),startedAt:null,setStartedAt:t=>n({startedAt:t})})),Eu=n=>{if(!Number.isFinite(n))return"";const t=new Date(n),e=-t.getTimezoneOffset(),i=e>=0?"+":"-",s=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),a=String(Math.abs(e)%60).padStart(2,"0");return t.toISOString().replace("Z",`${i}${s}:${a}`)},IC=({y:n,m:t,d:e,hh:i,mm:s,ss:a})=>Date.UTC(n,(t??1)-1,e??1,i??0,s??0,a??0),zC=n=>n==null?!0:typeof n=="number"?!Number.isFinite(n):typeof n=="string"?/^\s*(nan|-?nan|none|null|n\/a)\s*$/i.test(n):!1,on=(n,t=null)=>{if(zC(n))return"";const e=Number(n);return Number.isFinite(e)?t==null?String(e):e.toFixed(t):""},Ka=n=>n===!0?"1":n===!1?"0":"",Hw=n=>{const t=String(n??"");return t===""?"":/[",\r\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t},xE=(n,t)=>{const e=t.map(Hw).join(","),i=n.map(s=>t.map(a=>Hw(s[a])).join(",")).join(`\r
`);return e+`\r
`+i+`\r
`},ju=n=>{const t=Number(n);if(!Number.isFinite(t))return NaN;const e=Date.UTC(2004,0,1),i=t*1e3,s=e+t*1e3;return Math.abs(s-Date.now())<=Math.abs(i-Date.now())?s:i},BC=["serial","recv_at","device_ts","hw_version","os_version","fw_version","gnss_antenna_ok","ltev2x_ant1_ok","ltev2x_ant2_ok","pps_sync","temp_ok","v2x_usb_ok","v2x_spi_ok","sram_vbat_ok","ltev2x_tx_ready","hardware_health_pct","cpu_total_pct","cpu_core_0_pct","cpu_core_1_pct","cpu_core_2_pct","cpu_core_3_pct","mem_used_pct","mem_total_mb","mem_used_mb","storage_used_pct","storage_total_gb","storage_used_gb","cert_security_enable","cert_valid_start","cert_valid_end","lat","lon","alt_m","speed_kmh","heading_deg","pdop","hdop","vdop","hacc_m","vacc_m","pacc","num_sats","num_sats_used","ecef_x","ecef_y","ecef_z","primary_ip","eth0_ip","ltev2x0_ip"];function UC(n,t=Date.now()){const e=n?.gnss_data??{},i=n?.memory_usage_status??{},s=n?.storage_usage_status??{},a=n?.cpu_usage_status??{},l=n?.certificate??{},c=IC({y:e.year,m:e.month,d:e.day,hh:e.hour,mm:e.min,ss:e.sec}),f=Number.isFinite(c)?Eu(c):"",d=ju(l?.ltev2x_cert_valid_start),g=ju(l?.ltev2x_cert_valid_end),y=Number.isFinite(e.latitude)?e.latitude/1e7:NaN,_=Number.isFinite(e.longitude)?e.longitude/1e7:NaN,S=Number.isFinite(e.altMSL)?Number(e.altMSL)/100:NaN,x=Number.isFinite(e.speed)?Number(e.speed)*.036:NaN,E=Number.isFinite(e.heading)?Number(e.heading)/100:NaN,T=Array.isArray(a?.cpu_usage_core_percent)?a.cpu_usage_core_percent:[],N={cpu_core_0_pct:on(T[0],3),cpu_core_1_pct:on(T[1],3),cpu_core_2_pct:on(T[2],3),cpu_core_3_pct:on(T[3],3)};let M="",D="",I="";if(Array.isArray(n.interface_info?.interface_array))for(const R of n.interface_info.interface_array)!M&&R.ip_addr&&R.ip_addr!=="127.0.0.1"&&(M=R.ip_addr),R.name==="eth0"&&(D=R.ip_addr??D),R.name==="ltev2x0"&&(I=R.ip_addr??I);return{serial:n?.serial_number??"",recv_at:Eu(t),device_ts:f,hw_version:n?.hardware_version??"",os_version:n?.os_version??"",fw_version:n?.firmware_version??"",lat:on(y,7),lon:on(_,7),alt_m:on(e?.altMSL),hdop:on(e?.hdop,6),speed_kmh:on(x,1),heading_deg:on(E,2),cpu_total_pct:on(a?.cpu_usage_total_percent,3),mem_used_pct:on(i?.memory_usage_percent,3),storage_used_pct:on(s?.storage_usage_percent,3),cert_valid_start:Number.isFinite(d)?Eu(d):"",cert_valid_end:Number.isFinite(g)?Eu(g):"",num_sats:on(e?.numSatellites),num_sats_used:on(e?.numUsedSatellites),gnss_antenna_ok:Ka(n.gnss_antenna_status),ltev2x_ant1_ok:Ka(n.ltev2x_antenna1_status),ltev2x_ant2_ok:Ka(n.ltev2x_antenna2_status),pps_sync:Ka(n.secton_1pps_status),temp_ok:Ka(n.temperature_status?.temperature_status),temp_c:on(n.temperature_status?.temperature_celsius,1),cpu_total_pct:on(a?.cpu_usage_total_percent,3),...N,mem_used_pct:on(i?.memory_usage_percent,3),mem_total_mb:on(i?.memory_usage_total_mb),mem_used_mb:on(i?.memory_usage_used_mb),storage_used_pct:on(s?.storage_usage_percent,3),storage_total_gb:on(s?.storage_usage_total_gb,6),storage_used_gb:on(s?.storage_usage_used_gb,6),tamper_secure:Ka(n.tamper_secure_status),v2x_tx_ready:Ka(n.ltev2x_tx_ready_status),cert_security_enable:Ka(l?.ltev2x_cert_status_security_enable),cert_valid_start:Number.isFinite(d)?Eu(d):"",cert_valid_end:Number.isFinite(g)?Eu(g):"",lat:on(y,7),lon:on(_,7),alt_m:on(S,3),speed_kmh:on(x,3),heading_deg:on(E,2),pdop:on(e?.pdop,3),hdop:on(e?.hdop,3),vdop:on(e?.vdop,3),hacc_m:on(e?.hacc,3),vacc_m:on(e?.vacc,3),pacc:on(e?.pacc,3),num_sats:on(e?.numSatellites),num_sats_used:on(e?.numUsedSatellites),ecef_x:on(e?.ecef_x),ecef_y:on(e?.ecef_y),ecef_z:on(e?.ecef_z),primary_ip:M,eth0_ip:D,ltev2x0_ip:I}}class FC{constructor({includeRawJson:t=!0,maxRows:e=1e5}={}){this.includeRawJson=t,this.maxRows=e,this.rows=[],this.startedAt=null,this.endedAt=null}start(){this.rows=[],this.startedAt=Date.now(),this.endedAt=null}add(t,e=Date.now()){this.startedAt&&t&&(this.rows.length>=this.maxRows&&this.rows.shift(),this.rows.push({pkt:t,recvAt:e}))}stop(){this.endedAt=Date.now()}header(){return[...BC.filter(t=>this.includeRawJson||t!=="raw_json")]}getRows(){return this.rows.map(({pkt:t,recvAt:e})=>UC(t,e,{includeRawJson:this.includeRawJson}))}getRowsGroupedBySerial(){const t=new Map;for(const e of this.getRows()){const i=e.serial||"unknown";t.has(i)||t.set(i,[]),t.get(i).push(e)}return t}}const uf=new FC({includeRawJson:!0,maxRows:1e5});function HC(n,t,e){const i=xE(e,t),s=new Blob([i],{type:"text/csv;charset=utf-8"}),a=URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download=n,document.body.appendChild(l),l.click(),l.remove(),setTimeout(()=>URL.revokeObjectURL(a),3e4)}async function qC(n,t,e){const i=xE(e,t);if(!(typeof window<"u"&&!!window.Capacitor&&typeof window.Capacitor.getPlatform=="function"?window.Capacitor.getPlatform()==="android":!1))return!1;try{const l="@capacitor/filesystem",c="@capacitor/share",{Filesystem:f,Directory:d,Encoding:g}=await import(l);await f.writeFile({path:n,data:i,directory:d.Documents,encoding:g.UTF8});try{const{Share:y}=await import(c);await y.share({title:"RSE CSV",text:"점검 보고서 CSV",url:`file:///storage/emulated/0/Documents/${n}`,dialogTitle:"공유"})}catch(y){console.warn("Share failed (non-fatal):",y)}return!0}catch(l){return console.error("saveCsvOnAndroid failed:",l),!1}}const qw=2e3,SE=ol((n,t)=>({items:[],filters:{level:new Set(["INFO","WARN","ERROR"]),source:new Set(["APP","MQTT","BUS","DIRECT","FMS","RSE"]),search:""},push(e){const i=t(),s=i.items.length>=qw?[...i.items.slice(-Math.floor(qw*.9)),e]:[...i.items,e];n({items:s})},clear(){n({items:[]})},setFilter(e){const i={...t().filters,...e};n({filters:i})},exportCsv(){const e=[["ts","level","source","entity","event","message"]];for(const c of t().items)e.push([new Date(c.ts).toISOString(),c.level,c.source,c.entity??"",c.event??"",c.message??""]);const i=e.map(c=>c.map(f=>String(f).replace(/"/g,'""')).map(f=>`"${f}"`).join(",")).join(`
`),s=new Blob([i],{type:"text/csv"}),a=URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download=`event_logs_${new Date().toISOString().replace(/[:.]/g,"-")}.csv`,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(a)}}));function VC(){return Date.now()}function ri(n){try{const t={ts:VC(),...n};SE.getState().push(t)}catch(t){console.warn("[logEvent] failed",t,n)}}/*! Capacitor: https://capacitorjs.com/ - MIT License */var Iu;(function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"})(Iu||(Iu={}));class Km extends Error{constructor(t,e,i){super(t),this.message=t,this.code=e,this.data=i}}const WC=n=>{var t,e;return n?.androidBridge?"android":!((e=(t=n?.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||e===void 0)&&e.bridge?"ios":"web"},KC=n=>{const t=n.CapacitorCustomPlatform||null,e=n.Capacitor||{},i=e.Plugins=e.Plugins||{},s=()=>t!==null?t.name:WC(n),a=()=>s()!=="web",l=y=>{const _=d.get(y);return!!(_?.platforms.has(s())||c(y))},c=y=>{var _;return(_=e.PluginHeaders)===null||_===void 0?void 0:_.find(S=>S.name===y)},f=y=>n.console.error(y),d=new Map,g=(y,_={})=>{const S=d.get(y);if(S)return console.warn(`Capacitor plugin "${y}" already registered. Cannot register plugins twice.`),S.proxy;const x=s(),E=c(y);let T;const N=async()=>(!T&&x in _?T=typeof _[x]=="function"?T=await _[x]():T=_[x]:t!==null&&!T&&"web"in _&&(T=typeof _.web=="function"?T=await _.web():T=_.web),T),M=(W,J)=>{var tt,ot;if(E){const G=E?.methods.find(dt=>J===dt.name);if(G)return G.rtype==="promise"?dt=>e.nativePromise(y,J.toString(),dt):(dt,ht)=>e.nativeCallback(y,J.toString(),dt,ht);if(W)return(tt=W[J])===null||tt===void 0?void 0:tt.bind(W)}else{if(W)return(ot=W[J])===null||ot===void 0?void 0:ot.bind(W);throw new Km(`"${y}" plugin is not implemented on ${x}`,Iu.Unimplemented)}},D=W=>{let J;const tt=(...ot)=>{const G=N().then(dt=>{const ht=M(dt,W);if(ht){const ut=ht(...ot);return J=ut?.remove,ut}else throw new Km(`"${y}.${W}()" is not implemented on ${x}`,Iu.Unimplemented)});return W==="addListener"&&(G.remove=async()=>J()),G};return tt.toString=()=>`${W.toString()}() { [capacitor code] }`,Object.defineProperty(tt,"name",{value:W,writable:!1,configurable:!1}),tt},I=D("addListener"),R=D("removeListener"),z=(W,J)=>{const tt=I({eventName:W},J),ot=async()=>{const dt=await tt;R({eventName:W,callbackId:dt},J)},G=new Promise(dt=>tt.then(()=>dt({remove:ot})));return G.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await ot()},G},j=new Proxy({},{get(W,J){switch(J){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return E?z:I;case"removeListener":return R;default:return D(J)}}});return i[y]=j,d.set(y,{name:y,proxy:j,platforms:new Set([...Object.keys(_),...E?[x]:[]])}),j};return e.convertFileSrc||(e.convertFileSrc=y=>y),e.getPlatform=s,e.handleError=f,e.isNativePlatform=a,e.isPluginAvailable=l,e.registerPlugin=g,e.Exception=Km,e.DEBUG=!!e.DEBUG,e.isLoggingEnabled=!!e.isLoggingEnabled,e},YC=n=>n.Capacitor=KC(n),bf=YC(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),EE=bf.registerPlugin;class AE{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,e){let i=!1;this.listeners[t]||(this.listeners[t]=[],i=!0),this.listeners[t].push(e);const a=this.windowListeners[t];a&&!a.registered&&this.addWindowListener(a),i&&this.sendRetainedArgumentsForEvent(t);const l=async()=>this.removeListener(t,e);return Promise.resolve({remove:l})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,e,i){const s=this.listeners[t];if(!s){if(i){let a=this.retainedEventArguments[t];a||(a=[]),a.push(e),this.retainedEventArguments[t]=a}return}s.forEach(a=>a(e))}hasListeners(t){var e;return!!(!((e=this.listeners[t])===null||e===void 0)&&e.length)}registerWindowListener(t,e){this.windowListeners[e]={registered:!1,windowEventName:t,pluginEventName:e,handler:i=>{this.notifyListeners(e,i)}}}unimplemented(t="not implemented"){return new bf.Exception(t,Iu.Unimplemented)}unavailable(t="not available"){return new bf.Exception(t,Iu.Unavailable)}async removeListener(t,e){const i=this.listeners[t];if(!i)return;const s=i.indexOf(e);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const e=this.retainedEventArguments[t];e&&(delete this.retainedEventArguments[t],e.forEach(i=>{this.notifyListeners(t,i)}))}}const Vw=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Ww=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class ZC extends AE{async getCookies(){const t=document.cookie,e={};return t.split(";").forEach(i=>{if(i.length<=0)return;let[s,a]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=Ww(s).trim(),a=Ww(a).trim(),e[s]=a}),e}async setCookie(t){try{const e=Vw(t.key),i=Vw(t.value),s=`; expires=${(t.expires||"").replace("expires=","")}`,a=(t.path||"/").replace("path=",""),l=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${e}=${i||""}${s}; path=${a}; ${l};`}catch(e){return Promise.reject(e)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(e){return Promise.reject(e)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const e of t)document.cookie=e.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}EE("CapacitorCookies",{web:()=>new ZC});const XC=async n=>new Promise((t,e)=>{const i=new FileReader;i.onload=()=>{const s=i.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},i.onerror=s=>e(s),i.readAsDataURL(n)}),GC=(n={})=>{const t=Object.keys(n);return Object.keys(n).map(s=>s.toLocaleLowerCase()).reduce((s,a,l)=>(s[a]=n[t[l]],s),{})},$C=(n,t=!0)=>n?Object.entries(n).reduce((i,s)=>{const[a,l]=s;let c,f;return Array.isArray(l)?(f="",l.forEach(d=>{c=t?encodeURIComponent(d):d,f+=`${a}=${c}&`}),f.slice(0,-1)):(c=t?encodeURIComponent(l):l,f=`${a}=${c}`),`${i}&${f}`},"").substr(1):null,QC=(n,t={})=>{const e=Object.assign({method:n.method||"GET",headers:n.headers},t),s=GC(n.headers)["content-type"]||"";if(typeof n.data=="string")e.body=n.data;else if(s.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[l,c]of Object.entries(n.data||{}))a.set(l,c);e.body=a.toString()}else if(s.includes("multipart/form-data")||n.data instanceof FormData){const a=new FormData;if(n.data instanceof FormData)n.data.forEach((c,f)=>{a.append(f,c)});else for(const c of Object.keys(n.data))a.append(c,n.data[c]);e.body=a;const l=new Headers(e.headers);l.delete("content-type"),e.headers=l}else(s.includes("application/json")||typeof n.data=="object")&&(e.body=JSON.stringify(n.data));return e};class JC extends AE{async request(t){const e=QC(t,t.webFetchExtra),i=$C(t.params,t.shouldEncodeUrlParams),s=i?`${t.url}?${i}`:t.url,a=await fetch(s,e),l=a.headers.get("content-type")||"";let{responseType:c="text"}=a.ok?t:{};l.includes("application/json")&&(c="json");let f,d;switch(c){case"arraybuffer":case"blob":d=await a.blob(),f=await XC(d);break;case"json":f=await a.json();break;case"document":case"text":default:f=await a.text()}const g={};return a.headers.forEach((y,_)=>{g[_]=y}),{data:f,headers:g,status:a.status,url:a.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}EE("CapacitorHttp",{web:()=>new JC});const Ii={startReq:"fac/V2X_MAINTENANCE_HUB_CLIENT_PA/V2X_MAINTENANCE_HUB_PA/startSystemCheck/req",startResp:"fac/V2X_MAINTENANCE_HUB_PA/V2X_MAINTENANCE_HUB_CLIENT_PA/startSystemCheck/resp",stopReq:"fac/V2X_MAINTENANCE_HUB_CLIENT_PA/V2X_MAINTENANCE_HUB_PA/stopSystemCheck/req",stopResp:"fac/V2X_MAINTENANCE_HUB_PA/V2X_MAINTENANCE_HUB_CLIENT_PA/stopSystemCheck/resp",vmStatus:"fac/V2X_MAINTENANCE_HUB_PA/V2X_MAINTENANCE_HUB_CLIENT_PA/vmStatus/jsonMsg",rseStatus:"fac/SYS_MON_PA/V2X_MAINTENANCE_HUB_PA/systemSnapshot/jsonMsg"};let Pd=!1,y_=null;const kd=new Map;typeof window<"u"&&(window.__latestRseById=window.__latestRseById||{},window.__getRseLatestArray=()=>Object.values(window.__latestRseById||{}));function TE(n,t){return new Promise((e,i)=>{const s=setTimeout(()=>{kd.delete(n),ri({level:"ERROR",source:"BUS",event:"REQ_TIMEOUT",message:`Timeout waiting: ${n}`}),i(new Error(`Timeout waiting: ${n}`))},t);kd.set(n,{resolve:a=>{clearTimeout(s),kd.delete(n),e(a)}})})}function Kw(n,t){const e=kd.get(n);e&&e.resolve(t)}const tN=[{match:n=>n===Ii.startResp,handle:(n,t)=>Kw(Ii.startResp,t)},{match:n=>n===Ii.stopResp,handle:(n,t)=>Kw(Ii.stopResp,t)},{match:n=>n===Ii.vmStatus,handle:(n,t)=>aN(t)},{match:n=>n===Ii.rseStatus,handle:(n,t)=>lN(t)}];function eN(){if(Pd)return Yw;const n=il.getState();return n.subscribeTopics([Ii.startResp,Ii.stopResp,Ii.vmStatus],{qos:1}),ri({level:"INFO",source:"MQTT",event:"SUBSCRIBE",message:"BUS topics subscribe [start inspect Response, stop inspect Response, vm status]"}),y_=n.addMessageHandler((t,e)=>{for(const i of tN)if(i.match(t)){i.handle(t,e);return}}),Pd=!0,Yw}function Yw(){if(Pd){y_?.(),y_=null;try{il.getState().unsubscribeTopics([Ii.startResp,Ii.stopResp,Ii.vmStatus,Ii.rseStatus]),ri({level:"INFO",source:"MQTT",event:"UNSUBSCRIBE",message:"All topic unsubscribed"})}catch(n){ri({level:"WARN",source:"MQTT",event:"UNSUBSCRIBE_FAIL",message:"unsubscribe failed",details:{error:String(n)}})}Pd=!1}}function Zw(n,t={},{timeoutMs:e=1e4,qos:i=1,retain:s=!1}={}){const a=il.getState(),l=Of.getState();if(n==="startSystemCheck")return nN(a,l,t,{timeoutMs:e,qos:i,retain:s});if(n==="stopSystemCheck")return iN(a,l,t,{timeoutMs:e,qos:i,retain:s})}function nN(n,t,e,{timeoutMs:i,qos:s,retain:a}){if(t.phase!=="idle")return Promise.resolve(null);t.setPhase("requesting");const l=typeof e=="string"?e:JSON.stringify(e);return n.publish(Ii.startReq,l,{qos:s,retain:a}),ri({level:"INFO",source:"BUS",entity:"FMS",event:"START_REQ",message:"startSystemCheck requested"}),TE(Ii.startResp,i).then(c=>(ri({level:"INFO",source:"BUS",entity:"FMS",event:"START_ACK",message:"startSystemCheck ack",details:{resp:zu(c)}}),t.setPhase("running"),sN(),t.setStartedAt(Date.now),zu(c))).catch(c=>{throw ri({level:"ERROR",source:"BUS",entity:"FMS",event:"START_FAIL",message:"startSystemCheck failed",details:{resp:String(c)}}),t.setPhase("idle"),c})}function iN(n,t,e,{timeoutMs:i,qos:s,retain:a}){if(t.phase!=="running")return Promise.resolve(null);t.setPhase("stopping");const l=typeof e=="string"?e:JSON.stringify(e);return n.publish(Ii.stopReq,l,{qos:s,retain:a}),ri({level:"INFO",source:"BUS",entity:"FMS",event:"STOP_REQ",message:"stopSystemCheck requested"}),TE(Ii.stopResp,i).then(async c=>(ri({level:"INFO",source:"BUS",entity:"FMS",event:"STOP_ACK",message:"stopSystemCheck ack",details:{resp:zu(c)}}),t.setPhase("idle"),oN(),await rN(),zu(c))).catch(c=>{throw ri({level:"ERROR",source:"BUS",entity:"FMS",event:"STOP_TIMEOUT",message:"stopSystemCheck timeout"}),t.setPhase("running"),c})}async function rN(){if(!window.confirm("보고서를 출력하시겠습니까?"))return;try{uf.stop()}catch(l){console.warn("recorder stop failed:",l)}const t=uf.header(),e=uf.getRows(),s=`rse_report_${new Date().toISOString().replace(/[:.]/g,"-")}.csv`;let a=!1;try{(typeof bf?.getPlatform=="function"?bf.getPlatform():null)==="android"&&(a=await qC(s,t,e))}catch(l){console.warn("native save attempt failed:",l),a=!1}if(!a)try{HC(s,t,e)}catch(l){console.error("downloadCsvInBrowser failed:",l),alert("보고서 저장에 실패했습니다. 콘솔을 확인하세요.")}}function sN(){il.getState().subscribeTopics([Ii.rseStatus],{qos:1});try{uf.start()}catch(n){console.warn("recorder start failed:",n)}}function oN(){il.getState().unsubscribeTopics([Ii.rseStatus])}function aN(n){const t=zu(n);try{lf.getState().setFromVmStatus(t)}catch(e){ri({level:"ERROR",source:"FMS",entity:"FMS",event:"VM_STATUS_PARSE_FAIL",message:"vmStatus parse failed"}),console.warn("vmStatus parse failed:",e)}}async function lN(n){const t=zu(n),e=typeof t=="string"?JSON.parse(t):t,i=e?.serial_number;if(!i){console.warn("[rseStatus] missing serial_number");return}if(!await EC(i)){uN(i,e);return}await cN(e,i)}function uN(n,t){const e=`unregistered_${n}`;try{vo.getState().upsertUnregisteredDevice(e,n,t),ri({level:"WARN",source:"RSE",entity:n,event:"UNREGISTERED_DEVICE",message:`Unregistered device detected: ${n}`}),console.debug(`[rseStatus] Unregistered device detected (stats only): ${n}`)}catch(i){console.warn("Failed to track unregistered device:",i)}}async function cN(n,t){const e=await AC(t);if(!e){ri({level:"WARN",source:"RSE",entity:t,event:"NO_CANONICAL_ID",message:"canonical id not found"}),console.warn("[rseStatus] no canonical id for serial:",t);return}const i=DC(n,e);fN(i,t,n),hN(n),dN(i),console.debug(`[rseStatus] Registered device updated: ${i.id}`)}function fN(n,t,e){try{vo.getState().upsertRseStatus(n.id,t,e)}catch{ri({level:"INFO",source:"RSE",entity:n.id,event:"RSE_STATUS_UPSERT",message:"RseStore upsert failed: e"})}}function hN(n){try{uf.add(n,Date.now())}catch(t){console.warn("memoryRecorder.add failed:",t)}}function dN(n){try{Ga.getState().pushFromItem(n)}catch(t){console.warn("MetricsStore update failed:",t)}}function zu(n){const t=pN(n);try{return JSON.parse(t)}catch{return t}}function pN(n){try{return new TextDecoder().decode(n)}catch{return""}}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gN=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),Xw=n=>{const t=gN(n);return t.charAt(0).toUpperCase()+t.slice(1)},kE=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),yN=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _N={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=Ee.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:s="",children:a,iconNode:l,...c},f)=>Ee.createElement("svg",{ref:f,..._N,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:kE("lucide",s),...!a&&!yN(c)&&{"aria-hidden":"true"},...c},[...l.map(([d,g])=>Ee.createElement(d,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=(n,t)=>{const e=Ee.forwardRef(({className:i,...s},a)=>Ee.createElement(bN,{ref:a,iconNode:t,className:kE(`lucide-${mN(Xw(n))}`,`lucide-${n}`,i),...s}));return e.displayName=Xw(n),e};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],wN=kr("activity",vN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9 9.5 2 2 4-4",key:"1dth82"}]],SN=kr("book-check",xN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],AN=kr("check",EN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],kN=kr("chevron-down",TN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ON=kr("chevron-right",MN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ym=kr("circle-x",CN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],RN=kr("copy",NN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],PN=kr("file-down",LN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ME=kr("pencil",DN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],IN=kr("refresh-ccw",jN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],OE=kr("shield-check",zN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],UN=kr("shield-off",BN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],HN=kr("triangle-alert",FN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gd=kr("x",qN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],WN=kr("zoom-in",VN),Gw=({ok:n,lte:t=!1})=>V.jsx("span",{className:`inline-block h-3 w-7 rounded-full shadow 
      ${n?"bg-[#32E36C] animate-pulse":"bg-slate-600/60"}
      ${t?"mr-1":""}`}),Nl=({label:n,value:t,mono:e=!1})=>V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsx("span",{className:"text-slate-300",children:n}),V.jsx("span",{className:`text-slate-50 ${e?"font-mono tabular-nums":""}`,children:t??"-"})]}),Rl=()=>V.jsx("span",{className:"inline-block h-3 w-10 rounded-full shadow bg-slate-600/60"});function KN({isCollapsed:n=!1,v2xReady:t=null,freqMHz:e,bwMHz:i,txCount:s,rxCount:a,gnss:l={mode:void 0,lat:void 0,lon:void 0},className:c=""}){return V.jsx("div",{className:`
        mt-auto p-3 w-full
        ${c}
      `,children:V.jsxs("div",{className:`\r
          rounded-xl border border-slate-600/70 bg-slate-800/80\r
          shadow-sm px-2 py-2\r
        `,children:[V.jsxs("div",{className:"flex items-center justify-between mt-1 mb-2 mx-2",children:[V.jsxs("div",{className:"flex items-center gap-2 text-slate-200",children:[V.jsx(wN,{size:20,className:"opacity-80"}),!n&&V.jsx("span",{className:"text-sm font-semibold",children:"V2X-FMS"})]}),!n&&t?"":V.jsx(Gw,{ok:t})]}),n?V.jsx(V.Fragment,{}):V.jsxs("div",{className:"grid gap-2",children:[V.jsx("div",{className:"rounded-lg border border-slate-600/60 bg-slate-700/60 px-2 py-1",children:V.jsxs("div",{className:"flex items-center justify-between side-status-title font-semibold",children:[V.jsx("span",{children:"LTE-V2X"}),V.jsx(Gw,{ok:!!t,lte:!0})]})}),V.jsxs("div",{className:"rounded-lg border border-slate-600/60 bg-slate-700/60 px-2 py-1",children:[V.jsx("div",{className:"flex items-center gap-1 side-status-title font-semibold border-b-indigo-500 fms-bt",children:V.jsx("span",{children:"채널"})}),V.jsxs("div",{className:"mt-1 space-y-0.5 side-status-title",children:[V.jsx(Nl,{label:"Frequency",value:e!=null?`${e} MHz`:V.jsx(Rl,{}),mono:!0}),V.jsx(Nl,{label:"Band Width",value:i!=null?`${i} MHz`:V.jsx(Rl,{}),mono:!0})]})]}),V.jsxs("div",{className:"rounded-lg border border-slate-600/60 bg-slate-700/60 px-2 py-1",children:[V.jsx("div",{className:"side-status-title font-semibold fms-bt",children:"Packet TX/RX"}),V.jsxs("div",{className:"mt-1 space-y-0.5 side-status-title",children:[V.jsx(Nl,{label:"TX",value:s!=null?s.toLocaleString():V.jsx(Rl,{}),mono:!0}),V.jsx(Nl,{label:"RX",value:a!=null?a.toLocaleString():V.jsx(Rl,{}),mono:!0})]})]}),V.jsxs("div",{className:"rounded-xl border border-slate-600/70 bg-slate-700/50 px-3 py-1",children:[V.jsx("div",{className:"flex items-center gap-2 text-slate-200 mb-1.5 fms-bt",children:V.jsx("span",{className:"side-status-title font-semibold ",children:"GNSS"})}),V.jsxs("div",{className:"grid grid-cols-1 gap-x-3 gap-y-1 side-status-title",children:[V.jsx(Nl,{label:"mode",value:l.mode??V.jsx(Rl,{})}),V.jsx(Nl,{label:"위도",value:l.lat!=null?l.lat:V.jsx(Rl,{}),mono:!0}),V.jsx(Nl,{label:"경도",value:l.lon!=null?l.lon:V.jsx(Rl,{}),mono:!0})]})]})]})]})})}function YN({isCollapsed:n=!1,className:t=""}){const e=lf(i=>i.parsed);return V.jsx(KN,{isCollapsed:n,v2xReady:e.v2xReady,freqMHz:e.freqMHz,bwMHz:e.bwMHz,txCount:e.txCount,rxCount:e.rxCount,gnss:e.gnss,className:t})}function Ph({label:n,active:t=!1,onClick:e,className:i="",imgSrc:s="",labelClassName:a=""}){return V.jsx("div",{className:`w-full ${i}`,children:V.jsxs("button",{type:"button",onClick:e,className:["group w-full rounded-lg px-5 py-2 text-left","grid grid-cols-[48px_1fr] items-center","transition",t?"bg-white/10":""].join(" "),children:[V.jsx("img",{src:s,alt:"sidebar icon",className:t?"w-7 text-white justify-self-center":"w-7 text-slate-200 justify-self-center"}),V.jsx("span",{className:[t?"text-white":"text-slate-100",a].join(" "),children:n})]})})}function ZN({activePage:n,setActivePage:t}){const e=i=>t(i);return V.jsxs("aside",{className:"h-full grid justify-between bg-slate-700 text-slate-100 transition-all duration-300",children:[V.jsx("div",{className:"relative border-b border-slate-600/40 divide-y-4 ",children:V.jsx("div",{className:"h-full flex items-center justify-center px-4",children:V.jsx("img",{src:"/logo_white.png",alt:"Dynavista_logo",className:"w-32"})})}),V.jsxs("nav",{className:"flex-1 px-2 pt-7 space-y-2 text-xl",children:[V.jsx(Ph,{imgSrc:"/public/icons/Icon_MainDisplay_Sel.png",label:"메인화면",active:n==="Main",onClick:()=>e("Main")}),V.jsx(Ph,{imgSrc:"/public/icons/Icon_RseDeviceSet_Sel.png",label:"RSE 장치관리",active:n==="DeviceList",onClick:()=>e("DeviceList")}),V.jsx(Ph,{imgSrc:"/public/icons/Icon_RseMonitoring_Sel.png",label:"RSE 모니터링",active:n==="DeviceMonitoring",onClick:()=>e("DeviceMonitoring")}),V.jsx(Ph,{imgSrc:"/public/icons/Icon_Settings_Sel.png",label:"설정",active:n==="Settings",onClick:()=>e("Settings")})]}),V.jsx("div",{className:"pb-2 bg-gradient-to-t from-slate-700 via-slate-700/95 to-transparent flex",children:V.jsx(YN,{v2xReady:!1,freqMHz:5850,bwMHz:10,txCount:123456,rxCount:987654,gnss:{fix:"3D-FIX",lat:35.905806,lon:126.520896}})})]})}function XN({onStart:n,className:t="",disabled:e=!1,onBegan:i}){const s=()=>{e||(n?.(),i?.())};return V.jsx(V.Fragment,{children:V.jsx("div",{className:"relative inline-block",children:V.jsxs("button",{type:"button",onClick:s,className:["relative inline-flex items-center btn justify-center select-none font-semibold transition","btn-text",e?"bg-slate-600 text-white/90 cursor-not-allowed opacity-70":"bg-[#2B7FFF] text-white","shadow-sm ring-1 ring-emerald-700/40 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/70",t].join(" "),"aria-disabled":e,children:[V.jsx("span",{className:["absolute left-5 top-1/2 -translate-y-1/2 rounded-full w-3.5 h-3.5",e?"bg-white/50":"bg-white/90"].join(" ")}),V.jsx("span",{className:"ml-3 pointer-events-none mx-auto whitespace-nowrap tracking-tight",children:"점검 시작"})]})})})}function GN({onStop:n,className:t="",disabled:e=!1,onEnded:i}){Ee.useRef(null);const s=()=>{window.confirm("점검을 중단하시겠습니까?")&&(n?.(),i?.())},a=()=>{e||s()};return V.jsx(V.Fragment,{children:V.jsx("div",{className:"relative inline-block",children:V.jsxs("button",{type:"button",onClick:a,className:["relative inline-flex btn items-center justify-center select-none rounded-xl font-semibold transition","btn-text",e?"bg-slate-600 text-white/90 cursor-not-allowed opacity-70":"bg-rose-600 text-white","shadow-sm ring-1 ring-rose-700/40 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/70",t].join(" "),"aria-disabled":e,children:[V.jsx("span",{className:["absolute left-5 top-1/2 -translate-y-1/2 rounded-full w-3.5 h-3.5 bg-white/90",e?"":"animate-pulse"].join(" ")}),V.jsx("span",{className:"ml-3 pointer-events-none mx-auto whitespace-nowrap tracking-tight",children:"점검 중단"})]})})})}const $N=123456789,QN=123456790;function JN({activePage:n}){const t=il(a=>a.connected),e=Of(a=>a.phase),i=async()=>{if(!t){alert("MQTT가 연결되지 않았습니다.");return}try{const a={VER:"1.0",TS:new Date().toISOString(),TRANSACTION_ID:$N},l=await Zw("startSystemCheck",a,{timeoutMs:1e4}),c=l?.data?.CODE??l?.CODE??200,f=l?.data?.MSG??l?.MSG??"점검 시작 응답 수신";if(Number(c)!==200){console.warn("시작 실패:",c,f),alert(`점검 시작 실패${c?` (CODE ${c})`:""}: ${f}`);return}console.log("✅ 점검 시작:",f)}catch(a){console.error("startSystemCheck 실패:",a),alert(`점검 시작 실패: ${a.message||a}`)}},s=async()=>{try{const a={VER:"1.0",TS:new Date().toISOString(),TRANSACTION_ID:QN},l=await Zw("stopSystemCheck",a,{timeoutMs:1e4}),c=l?.data?.CODE??l?.CODE??200,f=l?.data?.MSG??l?.MSG??"점검 종료 응답 수신";if(Number(c)!==200){console.warn("중단 실패:",c,f),alert(`점검 중단 실패${c?` (CODE ${c})`:""}: ${f}`);return}console.log("🛑 점검 종료:",f)}catch(a){console.error("stopSystemCheck 실패:",a),alert(`점검 중단 실패: ${a.message||a}`)}};return V.jsxs("header",{className:"flex h-20 items-center justify-between px-10 pt-10 bg-[#121d2d]",children:[V.jsxs("div",{className:"flex items-center space-x-2 text-slate-400 text-lg",children:[V.jsx("img",{className:"w-7",src:"public/icons/icon_User.png",alt:"user"}),V.jsx("div",{className:"text-lg",children:"User: "}),V.jsx("div",{className:"text-lg text-slate-100",children:"TEST_USER1"})]}),V.jsxs("div",{className:"flex items-center space-x-5 text-2xl text-slate-100",children:[V.jsx(XN,{onStart:i,className:"shadow-sm",disabled:!t||e!=="idle"}),V.jsx(GN,{onStop:s,className:"shadow-sm",disabled:!t||e!=="running"}),V.jsxs("button",{className:"btn btn-text",children:[V.jsx("img",{className:"w-7",src:"public/icons/Icon_Logout_Nor.png",alt:"logout"}),V.jsx("span",{className:"pl-2",children:"로그아웃"})]})]})]})}const $w=n=>Symbol.iterator in n,Qw=n=>"entries"in n,Jw=(n,t)=>{const e=n instanceof Map?n:new Map(n.entries()),i=t instanceof Map?t:new Map(t.entries());if(e.size!==i.size)return!1;for(const[s,a]of e)if(!i.has(s)||!Object.is(a,i.get(s)))return!1;return!0},tR=(n,t)=>{const e=n[Symbol.iterator](),i=t[Symbol.iterator]();let s=e.next(),a=i.next();for(;!s.done&&!a.done;){if(!Object.is(s.value,a.value))return!1;s=e.next(),a=i.next()}return!!s.done&&!!a.done};function __(n,t){return Object.is(n,t)?!0:typeof n!="object"||n===null||typeof t!="object"||t===null||Object.getPrototypeOf(n)!==Object.getPrototypeOf(t)?!1:$w(n)&&$w(t)?Qw(n)&&Qw(t)?Jw(n,t):tR(n,t):Jw({entries:()=>Object.entries(n)},{entries:()=>Object.entries(t)})}function eR({className:n="",children:t}){return V.jsx("section",{className:["flex flex-col","bg-[#121D2D] text-slate-100","relative rounded-2xl shadow-sm","ring-1 ring-[#576476] p-5",n].join(" "),children:t})}const la=Ee.memo(eR);function nR(n,t={ok:"#22c55e",warn:"#f59e0b",bad:"#ef4444"},e={warn:99,bad:50}){const i=Math.max(0,Math.min(100,Number.isFinite(n)?n:0));return i>=e.warn?t.ok:i>=e.bad?t.warn:t.bad}function iR({value:n,color:t,bgTrack:e,size:i,stroke:s,showValue:a,formatValue:l,children:c}){const f=(i-s)/2,d=2*Math.PI*f,g=n/100*d;return V.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[V.jsxs("svg",{width:i,height:i,viewBox:`0 0 ${i} ${i}`,className:"drop-shadow-sm",style:{transform:"rotate(-90deg)"},children:[V.jsx("circle",{cx:i/2,cy:i/2,r:f,fill:"none",stroke:e,strokeWidth:s,strokeLinecap:"round"}),V.jsx("circle",{cx:i/2,cy:i/2,r:f,fill:"none",stroke:t,strokeWidth:s,strokeDasharray:`${g} ${d-g}`,strokeLinecap:"round",style:{transition:"stroke-dasharray 300ms ease-out"}})]}),V.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c||a&&V.jsx("span",{className:"text-2xl font-semibold",style:{color:t},children:l(n)})})]})}function rR({value:n,color:t,size:e,showValue:i,formatValue:s,children:a}){const l="#1f2a3b",c="#0f172a",f=Math.max(3,e/10);return V.jsxs("div",{className:"relative inline-flex items-center justify-center",style:{width:e,height:e},children:[V.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:`conic-gradient(
            ${t} 0deg,
            ${t} ${n*3.6}deg,
            ${l} ${n*3.6}deg,
            ${l} 360deg
          )`,transition:"background 300ms ease-out"}}),V.jsx("div",{className:"absolute rounded-full",style:{width:e-f*2,height:e-f*2,backgroundColor:c}}),V.jsx("div",{className:"relative flex items-center justify-center",children:a||i&&V.jsx("span",{className:"text-2xl font-semibold",style:{color:t},children:s(n)})})]})}const sR=({value:n=0,color:t,palette:e,thresholds:i,bgTrack:s="rgba(148, 163, 184, 0.25)",size:a=150,stroke:l=20,variant:c="svg",className:f="",style:d,showValue:g=!0,formatValue:y=E=>`${E}%`,children:_,title:S,"aria-label":x})=>{const E=Ee.useMemo(()=>Math.max(0,Math.min(100,Number(n)||0)),[n]),T=Ee.useMemo(()=>t||nR(E,e,i),[t,E,e,i]),N={value:E,color:T,size:a,showValue:g,formatValue:y,children:_};return V.jsx("div",{className:`inline-block ${f}`,style:{width:a,height:a,...d},role:"img","aria-label":x||`${E}%`,title:S||`${E}%`,children:c==="conic"?V.jsx(rR,{...N}):V.jsx(iR,{...N,bgTrack:s,stroke:l})})},$_=Ee.memo(sR),Zm=ol(n=>({modals:{healthIssues:!1,certificate:!1,debug:!1,detailedStats:!1},openModal:t=>n(e=>({modals:{...e.modals,[t]:!0}})),closeModal:t=>n(e=>({modals:{...e.modals,[t]:!1}})),closeAllModals:()=>n({modals:{healthIssues:!1,certificate:!1,debug:!1,detailedStats:!1}}),toggleModal:t=>n(e=>({modals:{...e.modals,[t]:!e.modals[t]}}))})),Xm=ol(n=>({showRawJson:!1,toggleRawJson:()=>n(t=>({showRawJson:!t.showRawJson})),setShowRawJson:t=>n({showRawJson:!!t}),reset:()=>n({showRawJson:!1})})),Xe={OK:"ok",FAULT:"fault",WARNING:"warning",UNKNOWN:"unknown",INACTIVE:"inactive"},Dh={[Xe.OK]:"#28B555",[Xe.FAULT]:"#FF4D4D",[Xe.WARNING]:"#FFA041",[Xe.UNKNOWN]:"#94A3B8",[Xe.INACTIVE]:"#64748B"},$a={[Xe.OK]:"정상",[Xe.FAULT]:"장애",[Xe.WARNING]:"경고",[Xe.UNKNOWN]:"미확인",[Xe.INACTIVE]:"비활성"};function oR(n){if(!n||n.isRegistered===!1)return Xe.UNKNOWN;if(!n.active)return Xe.INACTIVE;if(!n.health)return Xe.UNKNOWN;const t=typeof n.health=="object"?Number(n.health.pct??n.health.healthPct??0):Number(n.health);if(!Number.isFinite(t))return Xe.UNKNOWN;if(t<100)return Xe.FAULT;const e=Array.isArray(n.securityWarnings)&&n.securityWarnings.length>0;return t<100||e?Xe.WARNING:Xe.OK}function aR(n){if(!Array.isArray(n)||n.length===0)return{total:0,registered:0,unregistered:0,ok:0,fault:0,warning:0,unknown:0,inactive:0,activeCount:0,okPercent:0,faultPercent:0,warningPercent:0,unknownPercent:0,inactivePercent:0};const t={[Xe.OK]:0,[Xe.FAULT]:0,[Xe.WARNING]:0,[Xe.UNKNOWN]:0,[Xe.INACTIVE]:0};let e=0,i=0;n.forEach(l=>{const c=oR(l);t[c]++,l.isRegistered===!1?i++:e++});const s=n.length,a=s-t[Xe.INACTIVE];return{total:s,registered:e,unregistered:i,ok:t[Xe.OK],fault:t[Xe.FAULT],warning:t[Xe.WARNING],unknown:t[Xe.UNKNOWN],inactive:t[Xe.INACTIVE],activeCount:a,okPercent:a>0?Math.round(t[Xe.OK]/a*100):0,faultPercent:a>0?Math.round(t[Xe.FAULT]/a*100):0,warningPercent:a>0?Math.round(t[Xe.WARNING]/a*100):0,unknownPercent:a>0?Math.round(t[Xe.UNKNOWN]/a*100):0,inactivePercent:s>0?Math.round(t[Xe.INACTIVE]/s*100):0}}function lR(n){return[{key:Xe.OK,label:$a[Xe.OK],value:n.ok,percent:n.okPercent,color:Dh[Xe.OK]},{key:Xe.FAULT,label:$a[Xe.FAULT],value:n.fault,percent:n.faultPercent,color:Dh[Xe.FAULT]},{key:Xe.WARNING,label:$a[Xe.WARNING],value:n.warning,percent:n.warningPercent,color:Dh[Xe.WARNING]},{key:Xe.UNKNOWN,label:$a[Xe.UNKNOWN],value:n.unknown,percent:n.unknownPercent,color:Dh[Xe.UNKNOWN]}]}function uR(n){const{total:t,registered:e,unregistered:i,activeCount:s,ok:a,fault:l,warning:c,unknown:f}=n;return t===0?"등록된 장치가 없습니다.":s===0?`총 ${t}대의 장치가 모두 비활성 상태입니다.`:[`총 ${t}대`,e>0&&`등록 ${e}대`,a>0&&`정상 ${a}대`,l>0&&`장애 ${l}대`,c>0&&`경고 ${c}대`,f>0&&`미확인 ${f}대`].filter(Boolean).join(", ")}const cR={};function fR(){const t=Of(d=>d.phase)==="running",e=vo(d=>d.byId,__),i=vo(d=>d.unregisteredDevices??cR,__),s=Ee.useMemo(()=>Object.values(e),[e]),a=Ee.useMemo(()=>Object.keys(i).length,[i]),l=Ee.useMemo(()=>aR(s),[s]),c=Ee.useMemo(()=>lR(l),[l]),f=Ee.useMemo(()=>uR(l),[l,a]);return t?l.total===0&&a===0?V.jsxs(la,{className:"h-full",children:[V.jsx("h2",{className:"main-card-title",children:"시스템 통계"}),V.jsx("div",{className:"flex-1 grid place-items-center text-slate-300",children:V.jsxs("div",{className:"text-center space-y-2",children:[V.jsx("div",{className:"text-lg",children:"등록된 장치가 없습니다."}),V.jsx("div",{className:"text-sm text-slate-400",children:"장치가 연결되면 통계가 표시됩니다."})]})})]}):V.jsx(V.Fragment,{children:V.jsxs(la,{children:[V.jsx("div",{className:"flex flex-row justify-between items-start mb-4",children:V.jsxs("div",{className:"flex-1",children:[V.jsx("h2",{className:"main-card-title",children:"시스템 통계"}),V.jsx("div",{className:"text-sm text-slate-400 mt-1",children:f})]})}),V.jsx("div",{className:"mb-4",children:V.jsx(hR,{showUnregistered:a>0})}),V.jsx("div",{className:"grid grid-cols-2 grid-rows-2 w-full flex-1 place-items-center gap-6",children:c.map(d=>V.jsx(dR,{label:d.label,value:d.value,percent:d.percent,color:d.color,total:l.activeCount},d.key))})]})}):V.jsx(la,{className:"h-full grid place-items-center text-slate-300",children:V.jsxs("div",{className:"text-center space-y-2",children:[V.jsx("div",{className:"text-lg",children:"점검을 시작해 주세요."}),V.jsx("div",{className:"text-sm text-slate-400",children:"점검이 시작되면 실시간 통계가 표시됩니다."})]})})}function hR({showUnregistered:n=!1}){return V.jsxs("div",{className:"flex flex-wrap gap-4 text-xs",children:[V.jsx(Rc,{dot:"bg-emerald-500",label:$a[Xe.OK]}),V.jsx(Rc,{dot:"bg-rose-500",label:$a[Xe.FAULT]}),V.jsx(Rc,{dot:"bg-amber-500",label:$a[Xe.WARNING]}),V.jsx(Rc,{dot:"bg-slate-400",label:$a[Xe.UNKNOWN]}),n&&V.jsx(Rc,{dot:"bg-amber-400",label:"미확인 기기"})]})}function Rc({dot:n,label:t}){return V.jsxs("div",{className:"flex items-center",children:[V.jsx("span",{className:`h-1.5 w-1.5 rounded-full ring-1 ring-black/10 ${n} mr-1.5`}),V.jsx("span",{className:"text-slate-300",children:t})]})}function dR({label:n,value:t,percent:e,color:i,total:s}){return V.jsxs("div",{className:"flex flex-col items-center justify-center",children:[V.jsx($_,{size:150,value:e,color:i,stroke:16,showValue:!1,children:V.jsxs("div",{className:"flex flex-col items-center justify-center",children:[V.jsx("span",{className:"text-3xl font-bold text-slate-100",children:t}),V.jsxs("span",{className:"text-xs text-slate-400 mt-0.5",children:["/ ",s]})]})}),V.jsxs("div",{className:"mt-3 text-center",children:[V.jsx("div",{className:"text-lg text-slate-200",children:n}),V.jsxs("div",{className:"text-sm text-slate-400",children:[e,"%"]})]})]})}const pR={INFO:"text-slate-200",WARN:"text-amber-300",ERROR:"text-red-300"},mR=n=>{const t=new Date(n);if(!Number.isFinite(t.getTime()))return String(n);const e=(d,g=2)=>String(d).padStart(g,"0"),i=t.getFullYear(),s=e(t.getMonth()+1),a=e(t.getDate()),l=e(t.getHours()),c=e(t.getMinutes()),f=e(t.getSeconds());return`${i}${s}${a} ${l}:${c}:${f}`};function gR(){const{items:n,paused:t,filters:e,setPaused:i,setFilter:s,clear:a,exportCsv:l}=SE(),c=Ee.useRef(null),f=Ee.useMemo(()=>{const g=(e.search||"").toLowerCase();return n.filter(y=>!e.level.has(y.level)||!e.source.has(y.source)?!1:g?[new Date(y.ts).toISOString(),y.level,y.source,y.entity??"",y.event??"",y.message??""].join(" ").toLowerCase().includes(g):!0)},[n,e]);Ee.useEffect(()=>{if(t)return;const g=c.current;g&&(g.scrollTop=g.scrollHeight)},[f,t]);const d=(g,y)=>{const _=new Set(g);return _.has(y)?_.delete(y):_.add(y),_};return V.jsxs(la,{className:"justify-between",children:[V.jsx("div",{className:"flex items-center justify-between mb-2",children:V.jsx("h2",{className:"main-card-title",children:"이벤트 리스트 로그"})}),V.jsxs("div",{className:"bg-[#2E3A4E] rounded-xl border border-slate-100 p-0 flex flex-col min-h-0",children:[V.jsx("div",{className:"px-3 py-2 border-b border-slate-600/50 flex items-start gap-2",children:V.jsxs("div",{className:"flex justify-start gap-2",children:[["INFO","WARN","ERROR"].map(g=>V.jsx("button",{onClick:()=>s({level:d(e.level,g)}),className:`px-2 py-1 rounded text-xs border ${e.level.has(g)?"bg-slate-600 border-slate-400":"bg-slate-800 border-slate-700 text-slate-400"}`,title:`Toggle ${g}`,children:g},g)),V.jsx("input",{className:"px-2 py-1 text-xs rounded grow bg-slate-800 border border-slate-700 text-slate-200",placeholder:"검색..",value:e.search,onChange:g=>s({search:g.target.value}),style:{width:180}}),V.jsx("button",{onClick:l,className:"px-2 py-1 text-xs rounded bg-slate-700 text-white border border-slate-500",children:"CSV"}),V.jsx("button",{onClick:a,className:"px-2 py-1 text-xs rounded bg-slate-600 text-slate-300 border border-slate-600",children:"Clear"})]})}),V.jsx("div",{ref:c,className:"flex-1 justify-end overflow-y-auto text-sm min-h-[37rem] max-h-[37rem]",children:f.map((g,y)=>V.jsxs("div",{className:"px-3 py-1 border-b border-slate-700/40",children:[" ",V.jsxs("div",{className:"whitespace-pre-wrap text-sm leading-5",children:[" ",V.jsxs("span",{className:"font-mono align-middle",children:["[",mR(g.ts),"]"]}),V.jsxs("span",{className:`align-middle ${pR[g.level]||"text-slate-200"}`,children:["[",g.level,"]"]}),V.jsxs("span",{className:"text-slate-300 align-middle",children:["[",g.source,"]"]}),V.jsxs("span",{className:"text-slate-100 align-middle",children:["[",g.event,"]",g.message?`: ${g.message}`:""]})]})]},y))})]})]})}function yR(){return V.jsx("div",{className:`\r
        h-full\r
        grid\r
      `,children:V.jsxs("div",{className:"grid gap-7 grid-cols-2",children:[V.jsx(fR,{}),V.jsx(gR,{})]})})}function CE({open:n,onClose:t,title:e,icon:i=null,iconSrc:s,iconAlt:a="icon",iconSize:l=24,iconRounded:c=!1,iconClassName:f="",iconInvertOnDark:d=!1,maxWidth:g="max-w-xl",children:y,footer:_=null}){if(!n)return null;const S=i||(s?V.jsx("img",{src:s,alt:a,width:l,height:l,className:["shrink-0",c?"rounded-full":"rounded",d?"dark:invert":"",f].join(" ").trim(),style:{width:l,height:l,objectFit:"contain"}}):null);return V.jsxs("div",{className:"fixed inset-0 z-[9999]",children:[V.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:t}),V.jsx("div",{className:"absolute inset-0 grid place-items-center p-4",children:V.jsxs("div",{className:`w-full ${g} rounded-2xl bg-[#0f172a] ring-1 ring-white/10 shadow-xl overflow-hidden`,children:[V.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/10",children:[V.jsxs("h3",{className:"text-slate-100 font-semibold flex items-center gap-2",children:[S,e]}),V.jsx("button",{onClick:t,className:"p-1 rounded hover:bg-white/10 text-slate-100","aria-label":"닫기",children:V.jsx(Gd,{size:18})})]}),V.jsx("div",{className:"p-4",children:y}),V.jsx("div",{className:"px-4 py-3 border-t border-white/10 flex justify-end",children:_??V.jsx("button",{onClick:t,className:"px-3 py-1.5 rounded bg-slate-700 hover:bg-slate-600 text-slate-100",children:"닫기"})})]})})]})}async function _R({serial:n,id:t=null}){if(!n)return{allow:!0};const e=await Es.devices.get({serial:n});return e&&e.id!==t?(alert(`❌ 이미 등록된 장비입니다.
(${e.serial})`),{allow:!1}):{allow:!0}}function bR({open:n,onClose:t,onDone:e}){const[i,s]=Ee.useState(""),[a,l]=Ee.useState(""),[c,f]=Ee.useState(!1),d=async g=>{if(g.preventDefault(),!c){f(!0);try{const y=i.trim().toUpperCase(),_=a.trim();if(!y){alert("serial 번호를 입력해주세요.");return}const{allow:S}=await _R({serial:y});if(!S)return;const x=new Date().toISOString();await Es.devices.add({serial:y,model:_||null,registeredAt:x}),alert("디바이스 등록 완료"),e?.(),t?.()}catch(y){y?.name==="ConstraintError"?alert("❌ 이미 등록된 장비입니다. 동일한 Serial 이 존재합니다."):(console.error("등록 실패:",y),alert("디바이스 등록 실패"))}finally{f(!1)}}};return V.jsx(CE,{open:n,onClose:t,title:"신규 장치 등록",iconSrc:"/public/icons/Btn_AddDevice_Nor.png",maxWidth:"max-w-lg",footer:V.jsxs("div",{className:"flex gap-2",children:[V.jsx("button",{type:"button",className:"px-3 py-1.5 rounded bg-slate-700 hover:bg-slate-600 text-slate-100",onClick:t,disabled:c,children:"취소"}),V.jsx("button",{form:"register-device-form",type:"submit",className:"px-3 py-1.5 rounded text-white",disabled:c,children:c?"등록 중...":"등록"})]}),children:V.jsxs("form",{id:"register-device-form",onSubmit:d,className:"space-y-4",children:[V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Serial"}),V.jsx("input",{type:"text",value:i,onChange:g=>s(g.target.value),placeholder:"예: K8QR2A2V10001",className:"w-full px-3 py-2 rounded bg-slate-800 text-slate-100 border border-white/10",required:!0})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"모델"}),V.jsx("input",{type:"text",value:a,onChange:g=>l(g.target.value),placeholder:"예: Smart-RSU",className:"w-full px-3 py-2 rounded bg-slate-800 text-slate-100 border border-white/10"})]})]})})}function vR({open:n,onClose:t,deviceId:e,onDone:i}){const[s,a]=Ee.useState(!1),[l,c]=Ee.useState(null),[f,d]=Ee.useState(""),[g,y]=Ee.useState(""),[_,S]=Ee.useState(!1);Ee.useEffect(()=>{if(n){if(!e){c(null),d(""),y("");return}(async()=>{a(!0);try{const E=await Es.devices.get(e);if(!E){alert("디바이스를 찾을 수 없습니다."),t?.();return}c(E),d(E.serial??""),y(E.model??"")}finally{a(!1)}})()}},[n,e,t]);const x=async E=>{if(E.preventDefault(),_||!l)return;S(!0);const T=(f??"").trim(),N=(g??"").trim();if(!T){alert("Serial은 비워둘 수 없습니다."),S(!1);return}try{if(T!==l.serial){const M=await Es.devices.where("serial").equals(T).first();if(M&&M.id!==l.id){alert(`이미 등록된 Serial 입니다: ${T}`),S(!1);return}}await Es.transaction("rw",Es.devices,async()=>{await Es.devices.update(l.id,{serial:T,model:N})}),T!==l.serial&&TC(l.serial,T),alert("디바이스 정보가 수정되었습니다."),i?.(),t?.()}catch(M){M instanceof _f.ConstraintError?alert("Serial 중복으로 저장할 수 없습니다."):(console.error(M),alert("저장 중 오류가 발생했습니다."))}finally{S(!1)}};return V.jsx(CE,{open:n,onClose:t,title:"디바이스 수정",icon:V.jsx(ME,{size:18}),maxWidth:"max-w-lg",footer:V.jsxs("div",{className:"flex gap-2",children:[V.jsx("button",{type:"button",className:"px-3 py-1.5 rounded bg-slate-700 hover:bg-slate-600 text-slate-100",onClick:t,disabled:_,children:"취소"}),V.jsx("button",{form:"edit-device-form",type:"submit",className:"px-3 py-1.5 rounded bg-sky-600 hover:bg-sky-500 text-white",disabled:_||s||!l,children:_?"저장 중...":"저장"})]}),children:s?V.jsx("div",{className:"p-2 text-slate-300",children:"⏳ 디바이스 정보를 불러오는 중..."}):l?V.jsxs("form",{id:"edit-device-form",onSubmit:x,className:"space-y-4",children:[V.jsxs("div",{children:[V.jsx("label",{className:"block mb-1 text-sm font-medium text-slate-200",children:"Serial"}),V.jsx("input",{type:"text",value:f,onChange:E=>d(E.target.value),className:"w-full px-3 py-2 rounded bg-slate-800 text-slate-100 border border-white/10"}),f!==l.serial&&V.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"저장 시 Serial이 변경됩니다."})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block mb-1 text-sm font-medium text-slate-200",children:"모델"}),V.jsx("input",{type:"text",value:g,onChange:E=>y(E.target.value),className:"w-full px-3 py-2 rounded bg-slate-800 text-slate-100 border border-white/10"})]})]}):V.jsx("div",{className:"p-2 text-slate-400",children:"장치를 찾을 수 없습니다."})})}function wR(){const[n,t]=Ee.useState(!1),[e,i]=Ee.useState([]),[s,a]=Ee.useState(()=>new Set),[l,c]=Ee.useState(!1),[f,d]=Ee.useState(null),g=Ee.useCallback(async()=>{t(!0);try{const M=await Es.devices.toArray();i(M),a(new Set)}finally{t(!1)}},[]);Ee.useEffect(()=>{g()},[g]);function y(M){d(M)}function _(M){const D=M.serial??M.model??M.id;alert(`위치 보기: ${D}`)}function S(M){const D=M.serial??M.model??M.id;alert(`상태 동기화: ${D}`)}function x(M){a(D=>{const I=new Set(D);return I.has(M)?I.delete(M):I.add(M),I})}function E(){a(M=>M.size===e.length?new Set:new Set(e.map(D=>D.id)))}const T=e.length>0&&s.size===e.length,N=s.size>0&&!T;return V.jsxs(V.Fragment,{children:[V.jsxs(la,{className:"h-full",children:[V.jsxs("div",{className:"flex justify-between items-center mb-6",children:[V.jsx("h2",{className:"main-card-title tracking-tight",children:"등록 기기"}),V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsx("button",{onClick:()=>alert("엑셀 등록 기능 준비 중"),children:V.jsx("img",{className:"size-10",src:"/public/icons/Btn_DocUpload_Nor.png",alt:"엑셀 등록"})}),V.jsx("button",{onClick:()=>c(!0),children:V.jsx("img",{className:"size-10",src:"/public/icons/Btn_AddDevice_Nor.png",alt:"Rse 추가"})}),V.jsx("button",{onClick:async()=>{if(s.size>0){if(!window.confirm(`${s.size}개 삭제할까요?`))return;await Promise.all([...s].map(D=>Es.devices.delete(D))),await g()}else alert("삭제할 항목을 선택해주세요")},title:"선택 삭제",children:V.jsx("img",{className:"size-10",src:"/public/icons/Btn_Delete_Nor.png",alt:"선택 삭제"})})]})]}),V.jsx("div",{className:"relative rounded-xl ring-1 ring-white/10 overflow-y-auto min-h-[37rem] max-h-[37rem] bg-[#0f172a]",children:V.jsxs("table",{className:"w-full border-collapse",children:[V.jsx("thead",{className:"bg-[#1a273a] text-slate-200",children:V.jsxs("tr",{className:"text-left",children:[V.jsx(Lc,{className:"w-12",children:V.jsxs("label",{className:"inline-flex items-center select-none",children:[V.jsx("input",{type:"checkbox",checked:T,ref:M=>{M&&(M.indeterminate=N)},onChange:E,className:"h-5 w-5 mt-1 accent-emerald-500"}),V.jsx("span",{className:"hidden md:inline"})]})}),V.jsx(Lc,{children:"Serial"}),V.jsx(Lc,{children:"모델명"}),V.jsx(Lc,{children:"등록일시"}),V.jsx(Lc,{className:"w-[180px]",children:"작업"})]})}),V.jsxs("tbody",{className:"text-slate-200/90",children:[e.length===0&&V.jsx("tr",{children:V.jsx("td",{colSpan:7,className:"px-4 py-10 text-center text-slate-400",children:n?"불러오는 중...":"등록된 장치가 없습니다."})}),e.map(M=>V.jsxs("tr",{className:"odd:bg-slate-800/20 even:bg-transparent hover:bg-slate-700/20 transition-colors border-t border-white/5",children:[V.jsx(Pc,{children:V.jsx("input",{type:"checkbox",checked:s.has(M.id),onChange:()=>x(M.id),className:"h-5 w-5 accent-emerald-500","aria-label":`${M.serial} 선택`})}),V.jsx(Pc,{className:"font-mono",children:M.serial??"-"}),V.jsx(Pc,{className:"font-mono text-sm",children:M.model??"-"}),V.jsx(Pc,{className:"text-sm",children:M.registeredAt?new Date(M.registeredAt).toLocaleString():"-"}),V.jsx(Pc,{className:"text-right",children:V.jsxs("div",{className:"inline-flex items-center gap-1.5",children:[V.jsx(Gm,{title:"상세보기",onClick:()=>_(M),children:V.jsx(WN,{size:18})}),V.jsx(Gm,{title:"상태 동기화",onClick:()=>S(M),children:V.jsx(IN,{size:18})}),V.jsx(Gm,{title:"수정",onClick:()=>y(M.id),children:V.jsx(ME,{size:18})})]})})]},M.id))]})]})})]}),V.jsx(bR,{open:l,onClose:()=>c(!1),onDone:g}),V.jsx(vR,{open:!!f,deviceId:f,onClose:()=>d(null),onDone:g})]})}function Lc({className:n="",children:t}){return V.jsx("th",{className:["px-4 py-3 text-sm tracking-wide font-semibold",n].join(" "),children:t})}function Pc({className:n="",children:t}){return V.jsx("td",{className:["px-4 py-3 align-middle",n].join(" "),children:t})}function Gm({className:n="",title:t,onClick:e,children:i}){return V.jsx("button",{type:"button",className:["inline-flex items-center justify-center px-2.5 py-1.5 rounded-md","bg-slate-600/70 text-white","ring-1 ring-white/10 transition-colors",n].join(" "),onClick:e,title:t,"aria-label":t,children:i})}function xR({on:n}){return V.jsx("span",{className:`inline-block h-3.5 w-3.5 rounded-full shadow-inner ring-1 ${n?"bg-emerald-500 ring-emerald-300/40 animate-pulse":"bg-slate-500 ring-slate-300/30"}`,"aria-label":n?"활성":"비활성"})}const NE=Ee.memo(xR);function SR({bars:n=1,className:t=""}){return V.jsx("div",{className:["flex items-end gap-1",t].join(" "),"aria-label":`신호 ${n}/4`,children:[0,1,2,3].map(e=>V.jsx("span",{className:`w-1.5 rounded-sm ${e<n?"bg-[#28B555]":"bg-slate-600"}`,style:{height:`${8+e*6}px`}},e))})}const RE=Ee.memo(SR);function ER({onSelect:n,selectedId:t,className:e=""}){const s=Of(f=>f.phase)==="running",a=vo(f=>f.byId),l=vo(f=>f.warningById),c=Ee.useMemo(()=>{const d=Object.values(a).filter(y=>!String(y.id||"").startsWith("unregistered_")),g=(y,_)=>String(y??"").localeCompare(String(_??""),void 0,{numeric:!0,sensitivity:"base"});return d.slice().sort((y,_)=>{const S=!!y.active,x=!!_.active;if(S!==x)return S?-1:1;const E=y.serial??y.id??"",T=_.serial??_.id??"";return g(E,T)})},[a,l]);return s?c.length===0?V.jsx(la,{className:["h-full grid place-items-center text-slate-400",e].join(" "),children:V.jsxs("div",{className:"flex items-center gap-3",children:[V.jsxs("svg",{className:"animate-spin h-5 w-5 text-slate-500",viewBox:"0 0 24 24",children:[V.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),V.jsx("path",{className:"opacity-75",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor"})]}),V.jsx("span",{children:"Scanning stations…"})]})}):V.jsx("div",{className:["transition-colors h-full min-h-0",e].join(" "),children:V.jsx("div",{className:"overflow-y-auto p-2 rounded-xl ring-2 ring-white/10 space-y-2 bg-[#122033]/80",children:c.map(f=>{const d=t===f.id;return V.jsxs("button",{type:"button",onClick:()=>n?.(f),className:["w-full grid grid-cols-3 items-center justify-items-stretch rounded-2xl px-2 py-2.5 text-left","ring-1 ring-white/10 transition-colors",d?"bg-slate-700/40":"bg-[#0f172a]"].join(" "),"aria-pressed":d,"aria-label":f.serial,children:[V.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[V.jsx(NE,{on:f.active}),V.jsx("div",{className:"truncate font-semibold tracking-tight",children:f.serial})]}),V.jsxs("div",{className:"flex justify-center items-center",children:[V.jsx($_,{value:f.health?.pct??0,showValue:!1,size:30,stroke:6,variant:"conic"}),V.jsxs("span",{className:"text-slate-300 text-sm w-14 text-right",children:[f.health?.pct??0,"%"]})]}),V.jsx("div",{className:"flex justify-end gap-3 shrink-0",children:V.jsx(RE,{bars:f.bars})})]},f.id)})})}):V.jsx(la,{className:["h-full grid place-items-center text-slate-300",e].join(" "),children:"점검을 시작해 주세요."})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Cf(n){return n+.5|0}const Qa=(n,t,e)=>Math.max(Math.min(n,e),t);function Gc(n){return Qa(Cf(n*2.55),0,255)}function el(n){return Qa(Cf(n*255),0,255)}function ra(n){return Qa(Cf(n/2.55)/100,0,1)}function tx(n){return Qa(Cf(n*100),0,100)}const xs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},b_=[..."0123456789ABCDEF"],AR=n=>b_[n&15],TR=n=>b_[(n&240)>>4]+b_[n&15],jh=n=>(n&240)>>4===(n&15),kR=n=>jh(n.r)&&jh(n.g)&&jh(n.b)&&jh(n.a);function MR(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&xs[n[1]]*17,g:255&xs[n[2]]*17,b:255&xs[n[3]]*17,a:t===5?xs[n[4]]*17:255}:(t===7||t===9)&&(e={r:xs[n[1]]<<4|xs[n[2]],g:xs[n[3]]<<4|xs[n[4]],b:xs[n[5]]<<4|xs[n[6]],a:t===9?xs[n[7]]<<4|xs[n[8]]:255})),e}const OR=(n,t)=>n<255?t(n):"";function CR(n){var t=kR(n)?AR:TR;return n?"#"+t(n.r)+t(n.g)+t(n.b)+OR(n.a,t):void 0}const NR=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function LE(n,t,e){const i=t*Math.min(e,1-e),s=(a,l=(a+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function RR(n,t,e){const i=(s,a=(s+n/60)%6)=>e-e*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function LR(n,t,e){const i=LE(n,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function PR(n,t,e,i,s){return n===s?(t-e)/i+(t<e?6:0):t===s?(e-n)/i+2:(n-t)/i+4}function Q_(n){const e=n.r/255,i=n.g/255,s=n.b/255,a=Math.max(e,i,s),l=Math.min(e,i,s),c=(a+l)/2;let f,d,g;return a!==l&&(g=a-l,d=c>.5?g/(2-a-l):g/(a+l),f=PR(e,i,s,g,a),f=f*60+.5),[f|0,d||0,c]}function J_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(el)}function tb(n,t,e){return J_(LE,n,t,e)}function DR(n,t,e){return J_(LR,n,t,e)}function jR(n,t,e){return J_(RR,n,t,e)}function PE(n){return(n%360+360)%360}function IR(n){const t=NR.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Gc(+t[5]):el(+t[5]));const s=PE(+t[2]),a=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=DR(s,a,l):t[1]==="hsv"?i=jR(s,a,l):i=tb(s,a,l),{r:i[0],g:i[1],b:i[2],a:e}}function zR(n,t){var e=Q_(n);e[0]=PE(e[0]+t),e=tb(e),n.r=e[0],n.g=e[1],n.b=e[2]}function BR(n){if(!n)return;const t=Q_(n),e=t[0],i=tx(t[1]),s=tx(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${ra(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}const ex={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},nx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function UR(){const n={},t=Object.keys(nx),e=Object.keys(ex);let i,s,a,l,c;for(i=0;i<t.length;i++){for(l=c=t[i],s=0;s<e.length;s++)a=e[s],c=c.replace(a,ex[a]);a=parseInt(nx[l],16),n[c]=[a>>16&255,a>>8&255,a&255]}return n}let Ih;function FR(n){Ih||(Ih=UR(),Ih.transparent=[0,0,0,0]);const t=Ih[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const HR=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function qR(n){const t=HR.exec(n);let e=255,i,s,a;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?Gc(l):Qa(l*255,0,255)}return i=+t[1],s=+t[3],a=+t[5],i=255&(t[2]?Gc(i):Qa(i,0,255)),s=255&(t[4]?Gc(s):Qa(s,0,255)),a=255&(t[6]?Gc(a):Qa(a,0,255)),{r:i,g:s,b:a,a:e}}}function VR(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ra(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const $m=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Au=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function WR(n,t,e){const i=Au(ra(n.r)),s=Au(ra(n.g)),a=Au(ra(n.b));return{r:el($m(i+e*(Au(ra(t.r))-i))),g:el($m(s+e*(Au(ra(t.g))-s))),b:el($m(a+e*(Au(ra(t.b))-a))),a:n.a+e*(t.a-n.a)}}function zh(n,t,e){if(n){let i=Q_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=tb(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function DE(n,t){return n&&Object.assign(t||{},n)}function ix(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=el(n[3]))):(t=DE(n,{r:0,g:0,b:0,a:1}),t.a=el(t.a)),t}function KR(n){return n.charAt(0)==="r"?qR(n):IR(n)}class vf{constructor(t){if(t instanceof vf)return t;const e=typeof t;let i;e==="object"?i=ix(t):e==="string"&&(i=MR(t)||FR(t)||KR(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=DE(this._rgb);return t&&(t.a=ra(t.a)),t}set rgb(t){this._rgb=ix(t)}rgbString(){return this._valid?VR(this._rgb):void 0}hexString(){return this._valid?CR(this._rgb):void 0}hslString(){return this._valid?BR(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let a;const l=e===a?.5:e,c=2*l-1,f=i.a-s.a,d=((c*f===-1?c:(c+f)/(1+c*f))+1)/2;a=1-d,i.r=255&d*i.r+a*s.r+.5,i.g=255&d*i.g+a*s.g+.5,i.b=255&d*i.b+a*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=WR(this._rgb,t._rgb,e)),this}clone(){return new vf(this.rgb)}alpha(t){return this._rgb.a=el(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Cf(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return zh(this._rgb,2,t),this}darken(t){return zh(this._rgb,2,-t),this}saturate(t){return zh(this._rgb,1,t),this}desaturate(t){return zh(this._rgb,1,-t),this}rotate(t){return zR(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Go(){}const YR=(()=>{let n=0;return()=>n++})();function Ln(n){return n==null}function qi(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function yn(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function dr(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function fo(n,t){return dr(n)?n:t}function zn(n,t){return typeof n>"u"?t:n}const ZR=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function bi(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Rn(n,t,e,i){let s,a,l;if(qi(n))for(a=n.length,s=0;s<a;s++)t.call(e,n[s],s);else if(yn(n))for(l=Object.keys(n),a=l.length,s=0;s<a;s++)t.call(e,n[l[s]],l[s])}function Dd(n,t){let e,i,s,a;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],a=t[e],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function jd(n){if(qi(n))return n.map(jd);if(yn(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let s=0;for(;s<i;++s)t[e[s]]=jd(n[e[s]]);return t}return n}function jE(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function XR(n,t,e,i){if(!jE(n))return;const s=t[n],a=e[n];yn(s)&&yn(a)?wf(s,a,i):t[n]=jd(a)}function wf(n,t,e){const i=qi(t)?t:[t],s=i.length;if(!yn(n))return n;e=e||{};const a=e.merger||XR;let l;for(let c=0;c<s;++c){if(l=i[c],!yn(l))continue;const f=Object.keys(l);for(let d=0,g=f.length;d<g;++d)a(f[d],n,l,e)}return n}function cf(n,t){return wf(n,t,{merger:GR})}function GR(n,t,e){if(!jE(n))return;const i=t[n],s=e[n];yn(i)&&yn(s)?cf(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=jd(s))}const rx={"":n=>n,x:n=>n.x,y:n=>n.y};function $R(n){const t=n.split("."),e=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function QR(n){const t=$R(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Id(n,t){return(rx[t]||(rx[t]=QR(t)))(n)}function eb(n){return n.charAt(0).toUpperCase()+n.slice(1)}const zd=n=>typeof n<"u",rl=n=>typeof n=="function",sx=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function JR(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const hr=Math.PI,wo=2*hr,t3=wo+hr,Bd=Number.POSITIVE_INFINITY,e3=hr/180,Ws=hr/2,Ll=hr/4,ox=hr*2/3,IE=Math.log10,Bu=Math.sign;function ff(n,t,e){return Math.abs(n-t)<e}function ax(n){const t=Math.round(n);n=ff(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(IE(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function n3(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((s,a)=>s-a).pop(),t}function i3(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function xf(n){return!i3(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function r3(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function s3(n,t,e){let i,s,a;for(i=0,s=n.length;i<s;i++)a=n[i][e],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function Ul(n){return n*(hr/180)}function o3(n){return n*(180/hr)}function lx(n){if(!dr(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function a3(n,t){const e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i);let a=Math.atan2(i,e);return a<-.5*hr&&(a+=wo),{angle:a,distance:s}}function v_(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function l3(n,t){return(n-t+t3)%wo-hr}function go(n){return(n%wo+wo)%wo}function zE(n,t,e,i){const s=go(n),a=go(t),l=go(e),c=go(a-s),f=go(l-s),d=go(s-a),g=go(s-l);return s===a||s===l||i&&a===l||c>f&&d<g}function qr(n,t,e){return Math.max(t,Math.min(e,n))}function u3(n){return qr(n,-32768,32767)}function BE(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function nb(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,s=0,a;for(;i-s>1;)a=s+i>>1,e(a)?s=a:i=a;return{lo:s,hi:i}}const aa=(n,t,e,i)=>nb(n,e,i?s=>{const a=n[s][t];return a<e||a===e&&n[s+1][t]===e}:s=>n[s][t]<e),c3=(n,t,e)=>nb(n,e,i=>n[i][t]>=e);function f3(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}const UE=["push","pop","shift","splice","unshift"];function h3(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),UE.forEach(e=>{const i="_onData"+eb(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return n._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...a)}),l}})})}function ux(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(UE.forEach(a=>{delete n[a]}),delete n._chartjs)}function d3(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const FE=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function HE(n,t){let e=[],i=!1;return function(...s){e=s,i||(i=!0,FE.call(window,()=>{i=!1,n.apply(t,e)}))}}function p3(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const m3=n=>n==="start"?"left":n==="end"?"right":"center",cx=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2;function g3(n,t,e){const i=t.length;let s=0,a=i;if(n._sorted){const{iScale:l,vScale:c,_parsed:f}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,g=l.axis,{min:y,max:_,minDefined:S,maxDefined:x}=l.getUserBounds();if(S){if(s=Math.min(aa(f,g,y).lo,e?i:aa(t,g,l.getPixelForValue(y)).lo),d){const E=f.slice(0,s+1).reverse().findIndex(T=>!Ln(T[c.axis]));s-=Math.max(0,E)}s=qr(s,0,i-1)}if(x){let E=Math.max(aa(f,l.axis,_,!0).hi+1,e?0:aa(t,g,l.getPixelForValue(_),!0).hi+1);if(d){const T=f.slice(E-1).findIndex(N=>!Ln(N[c.axis]));E+=Math.max(0,T)}a=qr(E,s,i)-s}else a=i-s}return{start:s,count:a}}function y3(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=s,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,s),a}const Bh=n=>n===0||n===1,fx=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*wo/e)),hx=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*wo/e)+1,hf={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ws)+1,easeOutSine:n=>Math.sin(n*Ws),easeInOutSine:n=>-.5*(Math.cos(hr*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Bh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Bh(n)?n:fx(n,.075,.3),easeOutElastic:n=>Bh(n)?n:hx(n,.075,.3),easeInOutElastic(n){return Bh(n)?n:n<.5?.5*fx(n*2,.1125,.45):.5+.5*hx(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-hf.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?hf.easeInBounce(n*2)*.5:hf.easeOutBounce(n*2-1)*.5+.5};function ib(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function dx(n){return ib(n)?n:new vf(n)}function Qm(n){return ib(n)?n:new vf(n).saturate(.5).darken(.1).hexString()}const _3=["x","y","borderWidth","radius","tension"],b3=["color","borderColor","backgroundColor"];function v3(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:b3},numbers:{type:"number",properties:_3}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function w3(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const px=new Map;function x3(n,t){t=t||{};const e=n+JSON.stringify(t);let i=px.get(e);return i||(i=new Intl.NumberFormat(n,t),px.set(e,i)),i}function qE(n,t,e){return x3(t,e).format(n)}const S3={values(n){return qi(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let s,a=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),a=E3(n,e)}const l=IE(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(f,this.options.ticks.format),qE(n,i,f)}};function E3(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var VE={formatters:S3};function A3(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:VE.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Vl=Object.create(null),w_=Object.create(null);function df(n,t){if(!t)return n;const e=t.split(".");for(let i=0,s=e.length;i<s;++i){const a=e[i];n=n[a]||(n[a]=Object.create(null))}return n}function Jm(n,t,e){return typeof t=="string"?wf(df(n,t),e):wf(df(n,""),t)}class T3{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Qm(s.backgroundColor),this.hoverBorderColor=(i,s)=>Qm(s.borderColor),this.hoverColor=(i,s)=>Qm(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Jm(this,t,e)}get(t){return df(this,t)}describe(t,e){return Jm(w_,t,e)}override(t,e){return Jm(Vl,t,e)}route(t,e,i,s){const a=df(this,t),l=df(this,i),c="_"+e;Object.defineProperties(a,{[c]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[c],d=l[s];return yn(f)?Object.assign({},d,f):zn(f,d)},set(f){this[c]=f}}})}apply(t){t.forEach(e=>e(this))}}var Oi=new T3({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[v3,w3,A3]);function k3(n){return!n||Ln(n.size)||Ln(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function mx(n,t,e,i,s){let a=t[s];return a||(a=t[s]=n.measureText(s).width,e.push(s)),a>i&&(i=a),i}function Pl(n,t,e){const i=n.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function gx(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function x_(n,t,e,i){M3(n,t,e,i)}function M3(n,t,e,i,s){let a,l,c,f,d,g,y,_;const S=t.pointStyle,x=t.rotation,E=t.radius;let T=(x||0)*e3;if(S&&typeof S=="object"&&(a=S.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(T),n.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),n.restore();return}if(!(isNaN(E)||E<=0)){switch(n.beginPath(),S){default:n.arc(e,i,E,0,wo),n.closePath();break;case"triangle":g=E,n.moveTo(e+Math.sin(T)*g,i-Math.cos(T)*E),T+=ox,n.lineTo(e+Math.sin(T)*g,i-Math.cos(T)*E),T+=ox,n.lineTo(e+Math.sin(T)*g,i-Math.cos(T)*E),n.closePath();break;case"rectRounded":d=E*.516,f=E-d,l=Math.cos(T+Ll)*f,y=Math.cos(T+Ll)*f,c=Math.sin(T+Ll)*f,_=Math.sin(T+Ll)*f,n.arc(e-y,i-c,d,T-hr,T-Ws),n.arc(e+_,i-l,d,T-Ws,T),n.arc(e+y,i+c,d,T,T+Ws),n.arc(e-_,i+l,d,T+Ws,T+hr),n.closePath();break;case"rect":if(!x){f=Math.SQRT1_2*E,g=f,n.rect(e-g,i-f,2*g,2*f);break}T+=Ll;case"rectRot":y=Math.cos(T)*E,l=Math.cos(T)*E,c=Math.sin(T)*E,_=Math.sin(T)*E,n.moveTo(e-y,i-c),n.lineTo(e+_,i-l),n.lineTo(e+y,i+c),n.lineTo(e-_,i+l),n.closePath();break;case"crossRot":T+=Ll;case"cross":y=Math.cos(T)*E,l=Math.cos(T)*E,c=Math.sin(T)*E,_=Math.sin(T)*E,n.moveTo(e-y,i-c),n.lineTo(e+y,i+c),n.moveTo(e+_,i-l),n.lineTo(e-_,i+l);break;case"star":y=Math.cos(T)*E,l=Math.cos(T)*E,c=Math.sin(T)*E,_=Math.sin(T)*E,n.moveTo(e-y,i-c),n.lineTo(e+y,i+c),n.moveTo(e+_,i-l),n.lineTo(e-_,i+l),T+=Ll,y=Math.cos(T)*E,l=Math.cos(T)*E,c=Math.sin(T)*E,_=Math.sin(T)*E,n.moveTo(e-y,i-c),n.lineTo(e+y,i+c),n.moveTo(e+_,i-l),n.lineTo(e-_,i+l);break;case"line":l=Math.cos(T)*E,c=Math.sin(T)*E,n.moveTo(e-l,i-c),n.lineTo(e+l,i+c);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(T)*E,i+Math.sin(T)*E);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Sf(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function rb(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function sb(n){n.restore()}function O3(n,t,e,i,s){if(!t)return n.lineTo(e.x,e.y);if(s==="middle"){const a=(t.x+e.x)/2;n.lineTo(a,t.y),n.lineTo(a,e.y)}else s==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function C3(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function N3(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Ln(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function R3(n,t,e,i,s){if(s.strikethrough||s.underline){const a=n.measureText(i),l=t-a.actualBoundingBoxLeft,c=t+a.actualBoundingBoxRight,f=e-a.actualBoundingBoxAscent,d=e+a.actualBoundingBoxDescent,g=s.strikethrough?(f+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(l,g),n.lineTo(c,g),n.stroke()}}function L3(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function yx(n,t,e,i,s,a={}){const l=qi(t)?t:[t],c=a.strokeWidth>0&&a.strokeColor!=="";let f,d;for(n.save(),n.font=s.string,N3(n,a),f=0;f<l.length;++f)d=l[f],a.backdrop&&L3(n,a.backdrop),c&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),Ln(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(d,e,i,a.maxWidth)),n.fillText(d,e,i,a.maxWidth),R3(n,e,i,d,a),i+=Number(s.lineHeight);n.restore()}function _x(n,t){const{x:e,y:i,w:s,h:a,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*hr,hr,!0),n.lineTo(e,i+a-l.bottomLeft),n.arc(e+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,hr,Ws,!0),n.lineTo(e+s-l.bottomRight,i+a),n.arc(e+s-l.bottomRight,i+a-l.bottomRight,l.bottomRight,Ws,0,!0),n.lineTo(e+s,i+l.topRight),n.arc(e+s-l.topRight,i+l.topRight,l.topRight,0,-Ws,!0),n.lineTo(e+l.topLeft,i)}const P3=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,D3=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function j3(n,t){const e=(""+n).match(P3);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const I3=n=>+n||0;function WE(n,t){const e={},i=yn(t),s=i?Object.keys(t):t,a=yn(n)?i?l=>zn(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of s)e[l]=I3(a(l));return e}function z3(n){return WE(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Md(n){return WE(n,["topLeft","topRight","bottomLeft","bottomRight"])}function sl(n){const t=z3(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function bo(n,t){n=n||{},t=t||Oi.font;let e=zn(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=zn(n.style,t.style);i&&!(""+i).match(D3)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:zn(n.family,t.family),lineHeight:j3(zn(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:zn(n.weight,t.weight),string:""};return s.string=k3(s),s}function $c(n,t,e,i){let s,a,l;for(s=0,a=n.length;s<a;++s)if(l=n[s],l!==void 0&&l!==void 0)return l}function B3(n,t,e){const{min:i,max:s}=n,a=ZR(t,(s-i)/2),l=(c,f)=>e&&c===0?0:c+f;return{min:l(i,-Math.abs(a)),max:l(s,a)}}function Zl(n,t){return Object.assign(Object.create(n),t)}function ob(n,t=[""],e,i,s=()=>n[0]){const a=e||n;typeof i>"u"&&(i=XE("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:i,_getTarget:s,override:c=>ob([c,...n],t,a,i)};return new Proxy(l,{deleteProperty(c,f){return delete c[f],delete c._keys,delete n[0][f],!0},get(c,f){return YE(c,f,()=>Y3(f,t,n,c))},getOwnPropertyDescriptor(c,f){return Reflect.getOwnPropertyDescriptor(c._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,f){return vx(c).includes(f)},ownKeys(c){return vx(c)},set(c,f,d){const g=c._storage||(c._storage=s());return c[f]=g[f]=d,delete c._keys,!0}})}function Uu(n,t,e,i){const s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:KE(n,i),setContext:a=>Uu(n,a,e,i),override:a=>Uu(n.override(a),t,e,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,c){return YE(a,l,()=>F3(a,l,c))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,c){return n[l]=c,delete a[l],!0}})}function KE(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:rl(e)?e:()=>e,isIndexable:rl(i)?i:()=>i}}const U3=(n,t)=>n?n+eb(t):t,ab=(n,t)=>yn(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function YE(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function F3(n,t,e){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=n;let c=i[t];return rl(c)&&l.isScriptable(t)&&(c=H3(t,c,n,e)),qi(c)&&c.length&&(c=q3(t,c,n,l.isIndexable)),ab(t,c)&&(c=Uu(c,s,a&&a[t],l)),c}function H3(n,t,e,i){const{_proxy:s,_context:a,_subProxy:l,_stack:c}=e;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let f=t(a,l||i);return c.delete(n),ab(n,f)&&(f=lb(s._scopes,s,n,f)),f}function q3(n,t,e,i){const{_proxy:s,_context:a,_subProxy:l,_descriptors:c}=e;if(typeof a.index<"u"&&i(n))return t[a.index%t.length];if(yn(t[0])){const f=t,d=s._scopes.filter(g=>g!==f);t=[];for(const g of f){const y=lb(d,s,n,g);t.push(Uu(y,a,l&&l[n],c))}}return t}function ZE(n,t,e){return rl(n)?n(t,e):n}const V3=(n,t)=>n===!0?t:typeof n=="string"?Id(t,n):void 0;function W3(n,t,e,i,s){for(const a of t){const l=V3(e,a);if(l){n.add(l);const c=ZE(l._fallback,e,s);if(typeof c<"u"&&c!==e&&c!==i)return c}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function lb(n,t,e,i){const s=t._rootScopes,a=ZE(t._fallback,e,i),l=[...n,...s],c=new Set;c.add(i);let f=bx(c,l,e,a||e,i);return f===null||typeof a<"u"&&a!==e&&(f=bx(c,l,a,f,i),f===null)?!1:ob(Array.from(c),[""],s,a,()=>K3(t,e,i))}function bx(n,t,e,i,s){for(;e;)e=W3(n,t,e,i,s);return e}function K3(n,t,e){const i=n._getTarget();t in i||(i[t]={});const s=i[t];return qi(s)&&yn(e)?e:s||{}}function Y3(n,t,e,i){let s;for(const a of t)if(s=XE(U3(a,n),e),typeof s<"u")return ab(n,s)?lb(e,i,n,s):s}function XE(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function vx(n){let t=n._keys;return t||(t=n._keys=Z3(n._scopes)),t}function Z3(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}const X3=Number.EPSILON||1e-14,Fu=(n,t)=>t<n.length&&!n[t].skip&&n[t],GE=n=>n==="x"?"y":"x";function G3(n,t,e,i){const s=n.skip?t:n,a=t,l=e.skip?t:e,c=v_(a,s),f=v_(l,a);let d=c/(c+f),g=f/(c+f);d=isNaN(d)?0:d,g=isNaN(g)?0:g;const y=i*d,_=i*g;return{previous:{x:a.x-y*(l.x-s.x),y:a.y-y*(l.y-s.y)},next:{x:a.x+_*(l.x-s.x),y:a.y+_*(l.y-s.y)}}}function $3(n,t,e){const i=n.length;let s,a,l,c,f,d=Fu(n,0);for(let g=0;g<i-1;++g)if(f=d,d=Fu(n,g+1),!(!f||!d)){if(ff(t[g],0,X3)){e[g]=e[g+1]=0;continue}s=e[g]/t[g],a=e[g+1]/t[g],c=Math.pow(s,2)+Math.pow(a,2),!(c<=9)&&(l=3/Math.sqrt(c),e[g]=s*l*t[g],e[g+1]=a*l*t[g])}}function Q3(n,t,e="x"){const i=GE(e),s=n.length;let a,l,c,f=Fu(n,0);for(let d=0;d<s;++d){if(l=c,c=f,f=Fu(n,d+1),!c)continue;const g=c[e],y=c[i];l&&(a=(g-l[e])/3,c[`cp1${e}`]=g-a,c[`cp1${i}`]=y-a*t[d]),f&&(a=(f[e]-g)/3,c[`cp2${e}`]=g+a,c[`cp2${i}`]=y+a*t[d])}}function J3(n,t="x"){const e=GE(t),i=n.length,s=Array(i).fill(0),a=Array(i);let l,c,f,d=Fu(n,0);for(l=0;l<i;++l)if(c=f,f=d,d=Fu(n,l+1),!!f){if(d){const g=d[t]-f[t];s[l]=g!==0?(d[e]-f[e])/g:0}a[l]=c?d?Bu(s[l-1])!==Bu(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}$3(n,s,a),Q3(n,a,t)}function Uh(n,t,e){return Math.max(Math.min(n,e),t)}function tL(n,t){let e,i,s,a,l,c=Sf(n[0],t);for(e=0,i=n.length;e<i;++e)l=a,a=c,c=e<i-1&&Sf(n[e+1],t),a&&(s=n[e],l&&(s.cp1x=Uh(s.cp1x,t.left,t.right),s.cp1y=Uh(s.cp1y,t.top,t.bottom)),c&&(s.cp2x=Uh(s.cp2x,t.left,t.right),s.cp2y=Uh(s.cp2y,t.top,t.bottom)))}function eL(n,t,e,i,s){let a,l,c,f;if(t.spanGaps&&(n=n.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")J3(n,s);else{let d=i?n[n.length-1]:n[0];for(a=0,l=n.length;a<l;++a)c=n[a],f=G3(d,c,n[Math.min(a+1,l-(i?0:1))%l],t.tension),c.cp1x=f.previous.x,c.cp1y=f.previous.y,c.cp2x=f.next.x,c.cp2y=f.next.y,d=c}t.capBezierPoints&&tL(n,e)}function ub(){return typeof window<"u"&&typeof document<"u"}function cb(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ud(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const $d=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function nL(n,t){return $d(n).getPropertyValue(t)}const iL=["top","right","bottom","left"];function ql(n,t,e){const i={};e=e?"-"+e:"";for(let s=0;s<4;s++){const a=iL[s];i[a]=parseFloat(n[t+"-"+a+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const rL=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function sL(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:s,offsetY:a}=i;let l=!1,c,f;if(rL(s,a,n.target))c=s,f=a;else{const d=t.getBoundingClientRect();c=i.clientX-d.left,f=i.clientY-d.top,l=!0}return{x:c,y:f,box:l}}function jl(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,s=$d(e),a=s.boxSizing==="border-box",l=ql(s,"padding"),c=ql(s,"border","width"),{x:f,y:d,box:g}=sL(n,e),y=l.left+(g&&c.left),_=l.top+(g&&c.top);let{width:S,height:x}=t;return a&&(S-=l.width+c.width,x-=l.height+c.height),{x:Math.round((f-y)/S*e.width/i),y:Math.round((d-_)/x*e.height/i)}}function oL(n,t,e){let i,s;if(t===void 0||e===void 0){const a=n&&cb(n);if(!a)t=n.clientWidth,e=n.clientHeight;else{const l=a.getBoundingClientRect(),c=$d(a),f=ql(c,"border","width"),d=ql(c,"padding");t=l.width-d.width-f.width,e=l.height-d.height-f.height,i=Ud(c.maxWidth,a,"clientWidth"),s=Ud(c.maxHeight,a,"clientHeight")}}return{width:t,height:e,maxWidth:i||Bd,maxHeight:s||Bd}}const Ja=n=>Math.round(n*10)/10;function aL(n,t,e,i){const s=$d(n),a=ql(s,"margin"),l=Ud(s.maxWidth,n,"clientWidth")||Bd,c=Ud(s.maxHeight,n,"clientHeight")||Bd,f=oL(n,t,e);let{width:d,height:g}=f;if(s.boxSizing==="content-box"){const _=ql(s,"border","width"),S=ql(s,"padding");d-=S.width+_.width,g-=S.height+_.height}return d=Math.max(0,d-a.width),g=Math.max(0,i?d/i:g-a.height),d=Ja(Math.min(d,l,f.maxWidth)),g=Ja(Math.min(g,c,f.maxHeight)),d&&!g&&(g=Ja(d/2)),(t!==void 0||e!==void 0)&&i&&f.height&&g>f.height&&(g=f.height,d=Ja(Math.floor(g*i))),{width:d,height:g}}function xx(n,t,e){const i=t||1,s=Ja(n.height*i),a=Ja(n.width*i);n.height=Ja(n.height),n.width=Ja(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==s||l.width!==a?(n.currentDevicePixelRatio=i,l.height=s,l.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const lL=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};ub()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function Sx(n,t){const e=nL(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Il(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function uL(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function cL(n,t,e,i){const s={x:n.cp2x,y:n.cp2y},a={x:t.cp1x,y:t.cp1y},l=Il(n,s,e),c=Il(s,a,e),f=Il(a,t,e),d=Il(l,c,e),g=Il(c,f,e);return Il(d,g,e)}const fL=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},hL=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function tg(n,t,e){return n?fL(t,e):hL()}function dL(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function pL(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function $E(n){return n==="angle"?{between:zE,compare:l3,normalize:go}:{between:BE,compare:(t,e)=>t-e,normalize:t=>t}}function Ex({start:n,end:t,count:e,loop:i,style:s}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:s}}function mL(n,t,e){const{property:i,start:s,end:a}=e,{between:l,normalize:c}=$E(i),f=t.length;let{start:d,end:g,loop:y}=n,_,S;if(y){for(d+=f,g+=f,_=0,S=f;_<S&&l(c(t[d%f][i]),s,a);++_)d--,g--;d%=f,g%=f}return g<d&&(g+=f),{start:d,end:g,loop:y,style:n.style}}function QE(n,t,e){if(!e)return[n];const{property:i,start:s,end:a}=e,l=t.length,{compare:c,between:f,normalize:d}=$E(i),{start:g,end:y,loop:_,style:S}=mL(n,t,e),x=[];let E=!1,T=null,N,M,D;const I=()=>f(s,D,N)&&c(s,D)!==0,R=()=>c(a,N)===0||f(a,D,N),z=()=>E||I(),j=()=>!E||R();for(let W=g,J=g;W<=y;++W)M=t[W%l],!M.skip&&(N=d(M[i]),N!==D&&(E=f(N,s,a),T===null&&z()&&(T=c(N,s)===0?W:J),T!==null&&j()&&(x.push(Ex({start:T,end:W,loop:_,count:l,style:S})),T=null),J=W,D=N));return T!==null&&x.push(Ex({start:T,end:y,loop:_,count:l,style:S})),x}function JE(n,t){const e=[],i=n.segments;for(let s=0;s<i.length;s++){const a=QE(i[s],n.points,t);a.length&&e.push(...a)}return e}function gL(n,t,e,i){let s=0,a=t-1;if(e&&!i)for(;s<t&&!n[s].skip;)s++;for(;s<t&&n[s].skip;)s++;for(s%=t,e&&(a+=s);a>s&&n[a%t].skip;)a--;return a%=t,{start:s,end:a}}function yL(n,t,e,i){const s=n.length,a=[];let l=t,c=n[t],f;for(f=t+1;f<=e;++f){const d=n[f%s];d.skip||d.stop?c.skip||(i=!1,a.push({start:t%s,end:(f-1)%s,loop:i}),t=l=d.stop?f:null):(l=f,c.skip&&(t=f)),c=d}return l!==null&&a.push({start:t%s,end:l%s,loop:i}),a}function _L(n,t){const e=n.points,i=n.options.spanGaps,s=e.length;if(!s)return[];const a=!!n._loop,{start:l,end:c}=gL(e,s,a,i);if(i===!0)return Ax(n,[{start:l,end:c,loop:a}],e,t);const f=c<l?c+s:c,d=!!n._fullLoop&&l===0&&c===s-1;return Ax(n,yL(e,l,f,d),e,t)}function Ax(n,t,e,i){return!i||!i.setContext||!e?t:bL(n,t,e,i)}function bL(n,t,e,i){const s=n._chart.getContext(),a=Tx(n.options),{_datasetIndex:l,options:{spanGaps:c}}=n,f=e.length,d=[];let g=a,y=t[0].start,_=y;function S(x,E,T,N){const M=c?-1:1;if(x!==E){for(x+=f;e[x%f].skip;)x-=M;for(;e[E%f].skip;)E+=M;x%f!==E%f&&(d.push({start:x%f,end:E%f,loop:T,style:N}),g=N,y=E%f)}}for(const x of t){y=c?y:x.start;let E=e[y%f],T;for(_=y+1;_<=x.end;_++){const N=e[_%f];T=Tx(i.setContext(Zl(s,{type:"segment",p0:E,p1:N,p0DataIndex:(_-1)%f,p1DataIndex:_%f,datasetIndex:l}))),vL(T,g)&&S(y,_-1,x.loop,g),E=N,g=T}y<_-1&&S(y,_-1,x.loop,g)}return d}function Tx(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function vL(n,t){if(!t)return!1;const e=[],i=function(s,a){return ib(a)?(e.includes(a)||e.push(a),e.indexOf(a)):a};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function Fh(n,t,e){return n.options.clip?n[e]:t[e]}function wL(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Fh(e,t,"left"),right:Fh(e,t,"right"),top:Fh(i,t,"top"),bottom:Fh(i,t,"bottom")}:t}function tA(n,t){const e=t._clip;if(e.disabled)return!1;const i=wL(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class xL{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const a=e.listeners[s],l=e.duration;a.forEach(c=>c({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=FE.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,c=!1,f;for(;l>=0;--l)f=a[l],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),c=!0):(a[l]=a[a.length-1],a.pop());c&&(s.draw(),this._notify(s,i,t,"progress")),a.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=a.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ta=new xL;const kx="transparent",SL={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=dx(n||kx),s=i.valid&&dx(t||kx);return s&&s.valid?s.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class EL{constructor(t,e,i,s){const a=e[i];s=$c([t.to,s,a,t.from]);const l=$c([t.from,a,s]);this._active=!0,this._fn=t.fn||SL[t.type||typeof l],this._easing=hf[t.easing]||hf.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=$c([t.to,e,s,t.from]),this._from=$c([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,a=this._from,l=this._loop,c=this._to;let f;if(this._active=a!==c&&(l||e<i),!this._active){this._target[s]=c,this._notify(!0);return}if(e<0){this._target[s]=a;return}f=e/i%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[s]=this._fn(a,c,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}class eA{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!yn(t))return;const e=Object.keys(Oi.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const a=t[s];if(!yn(a))return;const l={};for(const c of e)l[c]=a[c];(qi(a.properties)&&a.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,l)})})}_animateOptions(t,e){const i=e.options,s=TL(t,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&AL(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,e){const i=this._properties,s=[],a=t.$animations||(t.$animations={}),l=Object.keys(e),c=Date.now();let f;for(f=l.length-1;f>=0;--f){const d=l[f];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(t,e));continue}const g=e[d];let y=a[d];const _=i.get(d);if(y)if(_&&y.active()){y.update(_,g,c);continue}else y.cancel();if(!_||!_.duration){t[d]=g;continue}a[d]=y=new EL(_,t,d,g),s.push(y)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return ta.add(this._chart,i),!0}}function AL(n,t){const e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const a=n[i[s]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function TL(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Mx(n,t){const e=n&&n.options||{},i=e.reverse,s=e.min===void 0?t:0,a=e.max===void 0?t:0;return{start:i?a:s,end:i?s:a}}function kL(n,t,e){if(e===!1)return!1;const i=Mx(n,e),s=Mx(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function ML(n){let t,e,i,s;return yn(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:n===!1}}function nA(n,t){const e=[],i=n._getSortedDatasetMetas(t);let s,a;for(s=0,a=i.length;s<a;++s)e.push(i[s].index);return e}function Ox(n,t,e,i={}){const s=n.keys,a=i.mode==="single";let l,c,f,d;if(t===null)return;let g=!1;for(l=0,c=s.length;l<c;++l){if(f=+s[l],f===e){if(g=!0,i.all)continue;break}d=n.values[f],dr(d)&&(a||t===0||Bu(t)===Bu(d))&&(t+=d)}return!g&&!i.all?0:t}function OL(n,t){const{iScale:e,vScale:i}=t,s=e.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(n),c=new Array(l.length);let f,d,g;for(f=0,d=l.length;f<d;++f)g=l[f],c[f]={[s]:g,[a]:n[g]};return c}function eg(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function CL(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function NL(n){const{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function RL(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Cx(n,t,e,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const a=n[s.index];if(e&&a>0||!e&&a<0)return s.index}return null}function Nx(n,t){const{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:a,vScale:l,index:c}=i,f=a.axis,d=l.axis,g=CL(a,l,i),y=t.length;let _;for(let S=0;S<y;++S){const x=t[S],{[f]:E,[d]:T}=x,N=x._stacks||(x._stacks={});_=N[d]=RL(s,g,E),_[c]=T,_._top=Cx(_,l,!0,i.type),_._bottom=Cx(_,l,!1,i.type);const M=_._visualValues||(_._visualValues={});M[c]=T}}function ng(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function LL(n,t){return Zl(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function PL(n,t,e){return Zl(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Dc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const s of t){const a=s._stacks;if(!a||a[i]===void 0||a[i][e]===void 0)return;delete a[i][e],a[i]._visualValues!==void 0&&a[i]._visualValues[e]!==void 0&&delete a[i]._visualValues[e]}}}const ig=n=>n==="reset"||n==="none",Rx=(n,t)=>t?n:Object.assign({},n),DL=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:nA(e,!0),values:null};class iA{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=eg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Dc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(y,_,S,x)=>y==="x"?_:y==="r"?x:S,a=e.xAxisID=zn(i.xAxisID,ng(t,"x")),l=e.yAxisID=zn(i.yAxisID,ng(t,"y")),c=e.rAxisID=zn(i.rAxisID,ng(t,"r")),f=e.indexAxis,d=e.iAxisID=s(f,a,l,c),g=e.vAxisID=s(f,l,a,c);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(c),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&ux(this._data,this),t._stacked&&Dc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(yn(e)){const s=this._cachedMeta;this._data=OL(e,s)}else if(i!==e){if(i){ux(i,this);const s=this._cachedMeta;Dc(s),s._parsed=[]}e&&Object.isExtensible(e)&&h3(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const a=e._stacked;e._stacked=eg(e.vScale,e),e.stack!==i.stack&&(s=!0,Dc(e),e.stack=i.stack),this._resyncElements(t),(s||a!==e._stacked)&&(Nx(this,e._parsed),e._stacked=eg(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:l}=i,c=a.axis;let f=t===0&&e===s.length?!0:i._sorted,d=t>0&&i._parsed[t-1],g,y,_;if(this._parsing===!1)i._parsed=s,i._sorted=!0,_=s;else{qi(s[t])?_=this.parseArrayData(i,s,t,e):yn(s[t])?_=this.parseObjectData(i,s,t,e):_=this.parsePrimitiveData(i,s,t,e);const S=()=>y[c]===null||d&&y[c]<d[c];for(g=0;g<e;++g)i._parsed[g+t]=y=_[g],f&&(S()&&(f=!1),d=y);i._sorted=f}l&&Nx(this,_)}parsePrimitiveData(t,e,i,s){const{iScale:a,vScale:l}=t,c=a.axis,f=l.axis,d=a.getLabels(),g=a===l,y=new Array(s);let _,S,x;for(_=0,S=s;_<S;++_)x=_+i,y[_]={[c]:g||a.parse(d[x],x),[f]:l.parse(e[x],x)};return y}parseArrayData(t,e,i,s){const{xScale:a,yScale:l}=t,c=new Array(s);let f,d,g,y;for(f=0,d=s;f<d;++f)g=f+i,y=e[g],c[f]={x:a.parse(y[0],g),y:l.parse(y[1],g)};return c}parseObjectData(t,e,i,s){const{xScale:a,yScale:l}=t,{xAxisKey:c="x",yAxisKey:f="y"}=this._parsing,d=new Array(s);let g,y,_,S;for(g=0,y=s;g<y;++g)_=g+i,S=e[_],d[g]={x:a.parse(Id(S,c),_),y:l.parse(Id(S,f),_)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,a=this._cachedMeta,l=e[t.axis],c={keys:nA(s,!0),values:e._stacks[t.axis]._visualValues};return Ox(c,l,a.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const a=i[e.axis];let l=a===null?NaN:a;const c=s&&i._stacks[e.axis];s&&c&&(s.values=c,l=Ox(s,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,a=i._sorted&&t===i.iScale,l=s.length,c=this._getOtherScale(t),f=DL(e,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:y}=NL(c);let _,S;function x(){S=s[_];const E=S[c.axis];return!dr(S[t.axis])||g>E||y<E}for(_=0;_<l&&!(!x()&&(this.updateRangeFromParsed(d,t,S,f),a));++_);if(a){for(_=l-1;_>=0;--_)if(!x()){this.updateRangeFromParsed(d,t,S,f);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,a,l;for(s=0,a=e.length;s<a;++s)l=e[s][t.axis],dr(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=ML(zn(this.options.clip,kL(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],a=e.chartArea,l=[],c=this._drawStart||0,f=this._drawCount||s.length-c,d=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(t,a,c,f),g=c;g<c+f;++g){const y=s[g];y.hidden||(y.active&&d?l.push(y):y.draw(t,a))}for(g=0;g<l.length;++g)l[g].draw(t,a)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=PL(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=s.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=LL(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const s=e==="active",a=this._cachedDataOpts,l=t+"-"+e,c=a[l],f=this.enableOptionSharing&&zd(i);if(c)return Rx(c,f);const d=this.chart.config,g=d.datasetElementScopeKeys(this._type,t),y=s?[`${t}Hover`,"hover",t,""]:[t,""],_=d.getOptionScopes(this.getDataset(),g),S=Object.keys(Oi.elements[t]),x=()=>this.getContext(i,s,e),E=d.resolveNamedOptions(_,S,x,y);return E.$shared&&(E.$shared=f,a[l]=Object.freeze(Rx(E,f))),E}_resolveAnimations(t,e,i){const s=this.chart,a=this._cachedDataOpts,l=`animation-${e}`,c=a[l];if(c)return c;let f;if(s.options.animation!==!1){const g=this.chart.config,y=g.datasetAnimationScopeKeys(this._type,e),_=g.getOptionScopes(this.getDataset(),y);f=g.createResolver(_,this.getContext(t,i,e))}const d=new eA(s,f&&f.animations);return f&&f._cacheable&&(a[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||ig(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),s=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(e,a)||a!==s;return this.updateSharedOptions(a,e,i),{sharedOptions:a,includeOptions:l}}updateElement(t,e,i,s){ig(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!ig(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const a=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[c,f,d]of this._syncList)this[c](f,d);this._syncList=[];const s=i.length,a=e.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,t):a<s&&this._removeElements(a,s-a)}_insertElements(t,e,i=!0){const s=this._cachedMeta,a=s.data,l=t+e;let c;const f=d=>{for(d.length+=e,c=d.length-1;c>=l;c--)d[c]=d[c-e]};for(f(a),c=t;c<l;++c)a[c]=new this.dataElementType;this._parsing&&f(s._parsed),this.parse(t,e),i&&this.updateElements(a,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&Dc(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class jL extends iA{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:s=[],_dataset:a}=e,l=this.chart._animationsDisabled;let{start:c,count:f}=g3(e,s,l);this._drawStart=c,this._drawCount=f,y3(e)&&(c=0,f=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=s;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:d},t),this.updateElements(s,c,f,t)}updateElements(t,e,i,s){const a=s==="reset",{iScale:l,vScale:c,_stacked:f,_dataset:d}=this._cachedMeta,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(e,s),_=l.axis,S=c.axis,{spanGaps:x,segment:E}=this.options,T=xf(x)?x:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||a||s==="none",M=e+i,D=t.length;let I=e>0&&this.getParsed(e-1);for(let R=0;R<D;++R){const z=t[R],j=N?z:{};if(R<e||R>=M){j.skip=!0;continue}const W=this.getParsed(R),J=Ln(W[S]),tt=j[_]=l.getPixelForValue(W[_],R),ot=j[S]=a||J?c.getBasePixel():c.getPixelForValue(f?this.applyStack(c,W,f):W[S],R);j.skip=isNaN(tt)||isNaN(ot)||J,j.stop=R>0&&Math.abs(W[_]-I[_])>T,E&&(j.parsed=W,j.raw=d.data[R]),y&&(j.options=g||this.resolveDataElementOptions(R,z.active?"active":s)),N||this.updateElement(z,R,j,s),I=W}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const a=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function Dl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class fb{static override(t){Object.assign(fb.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Dl()}parse(){return Dl()}format(){return Dl()}add(){return Dl()}diff(){return Dl()}startOf(){return Dl()}endOf(){return Dl()}}var IL={_date:fb};function zL(n,t,e,i){const{controller:s,data:a,_sorted:l}=n,c=s._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&l&&a.length){const d=c._reversePixels?c3:aa;if(i){if(s._sharedOptions){const g=a[0],y=typeof g.getRange=="function"&&g.getRange(t);if(y){const _=d(a,t,e-y),S=d(a,t,e+y);return{lo:_.lo,hi:S.hi}}}}else{const g=d(a,t,e);if(f){const{vScale:y}=s._cachedMeta,{_parsed:_}=n,S=_.slice(0,g.lo+1).reverse().findIndex(E=>!Ln(E[y.axis]));g.lo-=Math.max(0,S);const x=_.slice(g.hi).findIndex(E=>!Ln(E[y.axis]));g.hi+=Math.max(0,x)}return g}}return{lo:0,hi:a.length-1}}function Qd(n,t,e,i,s){const a=n.getSortedVisibleDatasetMetas(),l=e[t];for(let c=0,f=a.length;c<f;++c){const{index:d,data:g}=a[c],{lo:y,hi:_}=zL(a[c],t,l,s);for(let S=y;S<=_;++S){const x=g[S];x.skip||i(x,d,S)}}}function BL(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,s){const a=t?Math.abs(i.x-s.x):0,l=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function rg(n,t,e,i,s){const a=[];return!s&&!n.isPointInArea(t)||Qd(n,e,t,function(c,f,d){!s&&!Sf(c,n.chartArea,0)||c.inRange(t.x,t.y,i)&&a.push({element:c,datasetIndex:f,index:d})},!0),a}function UL(n,t,e,i){let s=[];function a(l,c,f){const{startAngle:d,endAngle:g}=l.getProps(["startAngle","endAngle"],i),{angle:y}=a3(l,{x:t.x,y:t.y});zE(y,d,g)&&s.push({element:l,datasetIndex:c,index:f})}return Qd(n,e,t,a),s}function FL(n,t,e,i,s,a){let l=[];const c=BL(e);let f=Number.POSITIVE_INFINITY;function d(g,y,_){const S=g.inRange(t.x,t.y,s);if(i&&!S)return;const x=g.getCenterPoint(s);if(!(!!a||n.isPointInArea(x))&&!S)return;const T=c(t,x);T<f?(l=[{element:g,datasetIndex:y,index:_}],f=T):T===f&&l.push({element:g,datasetIndex:y,index:_})}return Qd(n,e,t,d),l}function sg(n,t,e,i,s,a){return!a&&!n.isPointInArea(t)?[]:e==="r"&&!i?UL(n,t,e,s):FL(n,t,e,i,s,a)}function Lx(n,t,e,i,s){const a=[],l=e==="x"?"inXRange":"inYRange";let c=!1;return Qd(n,e,t,(f,d,g)=>{f[l]&&f[l](t[e],s)&&(a.push({element:f,datasetIndex:d,index:g}),c=c||f.inRange(t.x,t.y,s))}),i&&!c?[]:a}var HL={modes:{index(n,t,e,i){const s=jl(t,n),a=e.axis||"x",l=e.includeInvisible||!1,c=e.intersect?rg(n,s,a,i,l):sg(n,s,a,!1,i,l),f=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const g=c[0].index,y=d.data[g];y&&!y.skip&&f.push({element:y,datasetIndex:d.index,index:g})}),f):[]},dataset(n,t,e,i){const s=jl(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;let c=e.intersect?rg(n,s,a,i,l):sg(n,s,a,!1,i,l);if(c.length>0){const f=c[0].datasetIndex,d=n.getDatasetMeta(f).data;c=[];for(let g=0;g<d.length;++g)c.push({element:d[g],datasetIndex:f,index:g})}return c},point(n,t,e,i){const s=jl(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return rg(n,s,a,i,l)},nearest(n,t,e,i){const s=jl(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return sg(n,s,a,e.intersect,i,l)},x(n,t,e,i){const s=jl(t,n);return Lx(n,s,"x",e.intersect,i)},y(n,t,e,i){const s=jl(t,n);return Lx(n,s,"y",e.intersect,i)}}};const rA=["left","top","right","bottom"];function jc(n,t){return n.filter(e=>e.pos===t)}function Px(n,t){return n.filter(e=>rA.indexOf(e.pos)===-1&&e.box.axis===t)}function Ic(n,t){return n.sort((e,i)=>{const s=t?i:e,a=t?e:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function qL(n){const t=[];let e,i,s,a,l,c;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],{position:a,options:{stack:l,stackWeight:c=1}}=s,t.push({index:e,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:c});return t}function VL(n){const t={};for(const e of n){const{stack:i,pos:s,stackWeight:a}=e;if(!i||!rA.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}function WL(n,t){const e=VL(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let a,l,c;for(a=0,l=n.length;a<l;++a){c=n[a];const{fullSize:f}=c.box,d=e[c.stack],g=d&&c.stackWeight/d.weight;c.horizontal?(c.width=g?g*i:f&&t.availableWidth,c.height=s):(c.width=i,c.height=g?g*s:f&&t.availableHeight)}return e}function KL(n){const t=qL(n),e=Ic(t.filter(d=>d.box.fullSize),!0),i=Ic(jc(t,"left"),!0),s=Ic(jc(t,"right")),a=Ic(jc(t,"top"),!0),l=Ic(jc(t,"bottom")),c=Px(t,"x"),f=Px(t,"y");return{fullSize:e,leftAndTop:i.concat(a),rightAndBottom:s.concat(f).concat(l).concat(c),chartArea:jc(t,"chartArea"),vertical:i.concat(s).concat(f),horizontal:a.concat(l).concat(c)}}function Dx(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function sA(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function YL(n,t,e,i){const{pos:s,box:a}=e,l=n.maxPadding;if(!yn(s)){e.size&&(n[s]-=e.size);const y=i[e.stack]||{size:0,count:1};y.size=Math.max(y.size,e.horizontal?a.height:a.width),e.size=y.size/y.count,n[s]+=e.size}a.getPadding&&sA(l,a.getPadding());const c=Math.max(0,t.outerWidth-Dx(l,n,"left","right")),f=Math.max(0,t.outerHeight-Dx(l,n,"top","bottom")),d=c!==n.w,g=f!==n.h;return n.w=c,n.h=f,e.horizontal?{same:d,other:g}:{same:g,other:d}}function ZL(n){const t=n.maxPadding;function e(i){const s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function XL(n,t){const e=t.maxPadding;function i(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(t[l],e[l])}),a}return i(n?["left","right"]:["top","bottom"])}function Qc(n,t,e,i){const s=[];let a,l,c,f,d,g;for(a=0,l=n.length,d=0;a<l;++a){c=n[a],f=c.box,f.update(c.width||t.w,c.height||t.h,XL(c.horizontal,t));const{same:y,other:_}=YL(t,e,c,i);d|=y&&s.length,g=g||_,f.fullSize||s.push(c)}return d&&Qc(s,t,e,i)||g}function Hh(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function jx(n,t,e,i){const s=e.padding;let{x:a,y:l}=t;for(const c of n){const f=c.box,d=i[c.stack]||{placed:0,weight:1},g=c.stackWeight/d.weight||1;if(c.horizontal){const y=t.w*g,_=d.size||f.height;zd(d.start)&&(l=d.start),f.fullSize?Hh(f,s.left,l,e.outerWidth-s.right-s.left,_):Hh(f,t.left+d.placed,l,y,_),d.start=l,d.placed+=y,l=f.bottom}else{const y=t.h*g,_=d.size||f.width;zd(d.start)&&(a=d.start),f.fullSize?Hh(f,a,s.top,_,e.outerHeight-s.bottom-s.top):Hh(f,a,t.top+d.placed,_,y),d.start=a,d.placed+=y,a=f.right}}t.x=a,t.y=l}var qh={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const s=sl(n.options.layout.padding),a=Math.max(t-s.width,0),l=Math.max(e-s.height,0),c=KL(n.boxes),f=c.vertical,d=c.horizontal;Rn(n.boxes,E=>{typeof E.beforeLayout=="function"&&E.beforeLayout()});const g=f.reduce((E,T)=>T.box.options&&T.box.options.display===!1?E:E+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/g,hBoxMaxHeight:l/2}),_=Object.assign({},s);sA(_,sl(i));const S=Object.assign({maxPadding:_,w:a,h:l,x:s.left,y:s.top},s),x=WL(f.concat(d),y);Qc(c.fullSize,S,y,x),Qc(f,S,y,x),Qc(d,S,y,x)&&Qc(f,S,y,x),ZL(S),jx(c.leftAndTop,S,y,x),S.x+=S.w,S.y+=S.h,jx(c.rightAndBottom,S,y,x),n.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},Rn(c.chartArea,E=>{const T=E.box;Object.assign(T,n.chartArea),T.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class oA{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class GL extends oA{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Od="$chartjs",$L={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ix=n=>n===null||n==="";function QL(n,t){const e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[Od]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Ix(s)){const a=Sx(n,"width");a!==void 0&&(n.width=a)}if(Ix(i))if(n.style.height==="")n.height=n.width/(t||2);else{const a=Sx(n,"height");a!==void 0&&(n.height=a)}return n}const aA=lL?{passive:!0}:!1;function JL(n,t,e){n&&n.addEventListener(t,e,aA)}function tP(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,aA)}function eP(n,t){const e=$L[n.type]||n.type,{x:i,y:s}=jl(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Fd(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function nP(n,t,e){const i=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Fd(c.addedNodes,i),l=l&&!Fd(c.removedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function iP(n,t,e){const i=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Fd(c.removedNodes,i),l=l&&!Fd(c.addedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const Ef=new Map;let zx=0;function lA(){const n=window.devicePixelRatio;n!==zx&&(zx=n,Ef.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function rP(n,t){Ef.size||window.addEventListener("resize",lA),Ef.set(n,t)}function sP(n){Ef.delete(n),Ef.size||window.removeEventListener("resize",lA)}function oP(n,t,e){const i=n.canvas,s=i&&cb(i);if(!s)return;const a=HE((c,f)=>{const d=s.clientWidth;e(c,f),d<s.clientWidth&&e()},window),l=new ResizeObserver(c=>{const f=c[0],d=f.contentRect.width,g=f.contentRect.height;d===0&&g===0||a(d,g)});return l.observe(s),rP(n,a),l}function og(n,t,e){e&&e.disconnect(),t==="resize"&&sP(n)}function aP(n,t,e){const i=n.canvas,s=HE(a=>{n.ctx!==null&&e(eP(a,n))},n);return JL(i,t,s),s}class lP extends oA{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(QL(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Od])return!1;const i=e[Od].initial;["height","width"].forEach(a=>{const l=i[a];Ln(l)?e.removeAttribute(a):e.setAttribute(a,l)});const s=i.style||{};return Object.keys(s).forEach(a=>{e.style[a]=s[a]}),e.width=e.width,delete e[Od],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),l={attach:nP,detach:iP,resize:oP}[e]||aP;s[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:og,detach:og,resize:og}[e]||tP)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return aL(t,e,i,s)}isAttached(t){const e=t&&cb(t);return!!(e&&e.isConnected)}}function uP(n){return!ub()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?GL:lP}let Nf=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return xf(this.x)&&xf(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach(a=>{s[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),s}};function cP(n,t){const e=n.options.ticks,i=fP(n),s=Math.min(e.maxTicksLimit||i,i),a=e.major.enabled?dP(t):[],l=a.length,c=a[0],f=a[l-1],d=[];if(l>s)return pP(t,d,a,l/s),d;const g=hP(a,t,s);if(l>0){let y,_;const S=l>1?Math.round((f-c)/(l-1)):null;for(Vh(t,d,g,Ln(S)?0:c-S,c),y=0,_=l-1;y<_;y++)Vh(t,d,g,a[y],a[y+1]);return Vh(t,d,g,f,Ln(S)?t.length:f+S),d}return Vh(t,d,g),d}function fP(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),s=n._maxLength/e;return Math.floor(Math.min(i,s))}function hP(n,t,e){const i=mP(n),s=t.length/e;if(!i)return Math.max(s,1);const a=n3(i);for(let l=0,c=a.length-1;l<c;l++){const f=a[l];if(f>s)return f}return Math.max(s,1)}function dP(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function pP(n,t,e,i){let s=0,a=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===a&&(t.push(n[l]),s++,a=e[s*i])}function Vh(n,t,e,i,s){const a=zn(i,0),l=Math.min(zn(s,n.length),n.length);let c=0,f,d,g;for(e=Math.ceil(e),s&&(f=s-i,e=f/Math.floor(f/e)),g=a;g<0;)c++,g=Math.round(a+c*e);for(d=Math.max(a,0);d<l;d++)d===g&&(t.push(n[d]),c++,g=Math.round(a+c*e))}function mP(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const gP=n=>n==="left"?"right":n==="right"?"left":n,Bx=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Ux=(n,t)=>Math.min(t||n,n);function Fx(n,t){const e=[],i=n.length/t,s=n.length;let a=0;for(;a<s;a+=i)e.push(n[Math.floor(a)]);return e}function yP(n,t,e){const i=n.ticks.length,s=Math.min(t,i-1),a=n._startPixel,l=n._endPixel,c=1e-6;let f=n.getPixelForTick(s),d;if(!(e&&(i===1?d=Math.max(f-a,l-f):t===0?d=(n.getPixelForTick(1)-f)/2:d=(f-n.getPixelForTick(s-1))/2,f+=s<t?d:-d,f<a-c||f>l+c)))return f}function _P(n,t){Rn(n,e=>{const i=e.gc,s=i.length/2;let a;if(s>t){for(a=0;a<s;++a)delete e.data[i[a]];i.splice(0,s)}})}function zc(n){return n.drawTicks?n.tickLength:0}function Hx(n,t){if(!n.display)return 0;const e=bo(n.font,t),i=sl(n.padding);return(qi(n.text)?n.text.length:1)*e.lineHeight+i.height}function bP(n,t){return Zl(n,{scale:t,type:"scale"})}function vP(n,t,e){return Zl(n,{tick:e,index:t,type:"tick"})}function wP(n,t,e){let i=m3(n);return(e&&t!=="right"||!e&&t==="right")&&(i=gP(i)),i}function xP(n,t,e,i){const{top:s,left:a,bottom:l,right:c,chart:f}=n,{chartArea:d,scales:g}=f;let y=0,_,S,x;const E=l-s,T=c-a;if(n.isHorizontal()){if(S=cx(i,a,c),yn(e)){const N=Object.keys(e)[0],M=e[N];x=g[N].getPixelForValue(M)+E-t}else e==="center"?x=(d.bottom+d.top)/2+E-t:x=Bx(n,e,t);_=c-a}else{if(yn(e)){const N=Object.keys(e)[0],M=e[N];S=g[N].getPixelForValue(M)-T+t}else e==="center"?S=(d.left+d.right)/2-T+t:S=Bx(n,e,t);x=cx(i,l,s),y=e==="left"?-Ws:Ws}return{titleX:S,titleY:x,maxWidth:_,rotation:y}}class Ku extends Nf{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=fo(t,Number.POSITIVE_INFINITY),e=fo(e,Number.NEGATIVE_INFINITY),i=fo(i,Number.POSITIVE_INFINITY),s=fo(s,Number.NEGATIVE_INFINITY),{min:fo(t,i),max:fo(e,s),minDefined:dr(t),maxDefined:dr(e)}}getMinMax(t){let{min:e,max:i,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:e,max:i};const c=this.getMatchingVisibleMetas();for(let f=0,d=c.length;f<d;++f)l=c[f].controller.getMinMax(this,t),s||(e=Math.min(e,l.min)),a||(i=Math.max(i,l.max));return e=a&&e>i?i:e,i=s&&e>i?e:i,{min:fo(e,fo(i,e)),max:fo(i,fo(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){bi(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=B3(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=c<this.ticks.length;this._convertTicksToLabels(f?Fx(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=cP(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){bi(this.options.afterUpdate,[this])}beforeSetDimensions(){bi(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){bi(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),bi(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){bi(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,a;for(i=0,s=t.length;i<s;i++)a=t[i],a.label=bi(e.callback,[a.value,i,t],this)}afterTickToLabelConversion(){bi(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){bi(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Ux(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,a=e.maxRotation;let l=s,c,f,d;if(!this._isVisible()||!e.display||s>=a||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const g=this._getLabelSizes(),y=g.widest.width,_=g.highest.height,S=qr(this.chart.width-y,0,this.maxWidth);c=t.offset?this.maxWidth/i:S/(i-1),y+6>c&&(c=S/(i-(t.offset?.5:1)),f=this.maxHeight-zc(t.grid)-e.padding-Hx(t.title,this.chart.options.font),d=Math.sqrt(y*y+_*_),l=o3(Math.min(Math.asin(qr((g.highest.height+6)/c,-1,1)),Math.asin(qr(f/d,-1,1))-Math.asin(qr(_/d,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){bi(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){bi(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const f=Hx(s,e.options.font);if(c?(t.width=this.maxWidth,t.height=zc(a)+f):(t.height=this.maxHeight,t.width=zc(a)+f),i.display&&this.ticks.length){const{first:d,last:g,widest:y,highest:_}=this._getLabelSizes(),S=i.padding*2,x=Ul(this.labelRotation),E=Math.cos(x),T=Math.sin(x);if(c){const N=i.mirror?0:T*y.width+E*_.height;t.height=Math.min(this.maxHeight,t.height+N+S)}else{const N=i.mirror?0:E*y.width+T*_.height;t.width=Math.min(this.maxWidth,t.width+N+S)}this._calculatePadding(d,g,T,E)}}this._handleMargins(),c?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:a,padding:l},position:c}=this.options,f=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,S=0;f?d?(_=s*t.width,S=i*e.height):(_=i*t.height,S=s*e.width):a==="start"?S=e.width:a==="end"?_=t.width:a!=="inner"&&(_=t.width/2,S=e.width/2),this.paddingLeft=Math.max((_-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((S-y+l)*this.width/(this.width-y),0)}else{let g=e.height/2,y=t.height/2;a==="start"?(g=0,y=t.height):a==="end"&&(g=e.height,y=0),this.paddingTop=g+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){bi(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Ln(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Fx(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:s,_longestTextCache:a}=this,l=[],c=[],f=Math.floor(e/Ux(e,i));let d=0,g=0,y,_,S,x,E,T,N,M,D,I,R;for(y=0;y<e;y+=f){if(x=t[y].label,E=this._resolveTickFontOptions(y),s.font=T=E.string,N=a[T]=a[T]||{data:{},gc:[]},M=E.lineHeight,D=I=0,!Ln(x)&&!qi(x))D=mx(s,N.data,N.gc,D,x),I=M;else if(qi(x))for(_=0,S=x.length;_<S;++_)R=x[_],!Ln(R)&&!qi(R)&&(D=mx(s,N.data,N.gc,D,R),I+=M);l.push(D),c.push(I),d=Math.max(D,d),g=Math.max(I,g)}_P(a,e);const z=l.indexOf(d),j=c.indexOf(g),W=J=>({width:l[J]||0,height:c[J]||0});return{first:W(0),last:W(e-1),widest:W(z),highest:W(j),widths:l,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return u3(this._alignToPixels?Pl(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=vP(this.getContext(),t,i))}return this.$context||(this.$context=bP(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ul(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,c=a?a.widest.width+l:0,f=a?a.highest.height+l:0;return this.isHorizontal()?f*i>c*s?c/i:f/s:f*s<c*i?f/i:c/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:a,position:l,border:c}=s,f=a.offset,d=this.isHorizontal(),y=this.ticks.length+(f?1:0),_=zc(a),S=[],x=c.setContext(this.getContext()),E=x.display?x.width:0,T=E/2,N=function(rt){return Pl(i,rt,E)};let M,D,I,R,z,j,W,J,tt,ot,G,dt;if(l==="top")M=N(this.bottom),j=this.bottom-_,J=M-T,ot=N(t.top)+T,dt=t.bottom;else if(l==="bottom")M=N(this.top),ot=t.top,dt=N(t.bottom)-T,j=M+T,J=this.top+_;else if(l==="left")M=N(this.right),z=this.right-_,W=M-T,tt=N(t.left)+T,G=t.right;else if(l==="right")M=N(this.left),tt=t.left,G=N(t.right)-T,z=M+T,W=this.left+_;else if(e==="x"){if(l==="center")M=N((t.top+t.bottom)/2+.5);else if(yn(l)){const rt=Object.keys(l)[0],lt=l[rt];M=N(this.chart.scales[rt].getPixelForValue(lt))}ot=t.top,dt=t.bottom,j=M+T,J=j+_}else if(e==="y"){if(l==="center")M=N((t.left+t.right)/2);else if(yn(l)){const rt=Object.keys(l)[0],lt=l[rt];M=N(this.chart.scales[rt].getPixelForValue(lt))}z=M-T,W=z-_,tt=t.left,G=t.right}const ht=zn(s.ticks.maxTicksLimit,y),ut=Math.max(1,Math.ceil(y/ht));for(D=0;D<y;D+=ut){const rt=this.getContext(D),lt=a.setContext(rt),et=c.setContext(rt),Pt=lt.lineWidth,nt=lt.color,Y=et.dash||[],Z=et.dashOffset,at=lt.tickWidth,Tt=lt.tickColor,gt=lt.tickBorderDash||[],Ut=lt.tickBorderDashOffset;I=yP(this,D,f),I!==void 0&&(R=Pl(i,I,Pt),d?z=W=tt=G=R:j=J=ot=dt=R,S.push({tx1:z,ty1:j,tx2:W,ty2:J,x1:tt,y1:ot,x2:G,y2:dt,width:Pt,color:nt,borderDash:Y,borderDashOffset:Z,tickWidth:at,tickColor:Tt,tickBorderDash:gt,tickBorderDashOffset:Ut}))}return this._ticksLength=y,this._borderValue=M,S}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:a}=i,l=this.isHorizontal(),c=this.ticks,{align:f,crossAlign:d,padding:g,mirror:y}=a,_=zc(i.grid),S=_+g,x=y?-g:S,E=-Ul(this.labelRotation),T=[];let N,M,D,I,R,z,j,W,J,tt,ot,G,dt="middle";if(s==="top")z=this.bottom-x,j=this._getXAxisLabelAlignment();else if(s==="bottom")z=this.top+x,j=this._getXAxisLabelAlignment();else if(s==="left"){const ut=this._getYAxisLabelAlignment(_);j=ut.textAlign,R=ut.x}else if(s==="right"){const ut=this._getYAxisLabelAlignment(_);j=ut.textAlign,R=ut.x}else if(e==="x"){if(s==="center")z=(t.top+t.bottom)/2+S;else if(yn(s)){const ut=Object.keys(s)[0],rt=s[ut];z=this.chart.scales[ut].getPixelForValue(rt)+S}j=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")R=(t.left+t.right)/2-S;else if(yn(s)){const ut=Object.keys(s)[0],rt=s[ut];R=this.chart.scales[ut].getPixelForValue(rt)}j=this._getYAxisLabelAlignment(_).textAlign}e==="y"&&(f==="start"?dt="top":f==="end"&&(dt="bottom"));const ht=this._getLabelSizes();for(N=0,M=c.length;N<M;++N){D=c[N],I=D.label;const ut=a.setContext(this.getContext(N));W=this.getPixelForTick(N)+a.labelOffset,J=this._resolveTickFontOptions(N),tt=J.lineHeight,ot=qi(I)?I.length:1;const rt=ot/2,lt=ut.color,et=ut.textStrokeColor,Pt=ut.textStrokeWidth;let nt=j;l?(R=W,j==="inner"&&(N===M-1?nt=this.options.reverse?"left":"right":N===0?nt=this.options.reverse?"right":"left":nt="center"),s==="top"?d==="near"||E!==0?G=-ot*tt+tt/2:d==="center"?G=-ht.highest.height/2-rt*tt+tt:G=-ht.highest.height+tt/2:d==="near"||E!==0?G=tt/2:d==="center"?G=ht.highest.height/2-rt*tt:G=ht.highest.height-ot*tt,y&&(G*=-1),E!==0&&!ut.showLabelBackdrop&&(R+=tt/2*Math.sin(E))):(z=W,G=(1-ot)*tt/2);let Y;if(ut.showLabelBackdrop){const Z=sl(ut.backdropPadding),at=ht.heights[N],Tt=ht.widths[N];let gt=G-Z.top,Ut=0-Z.left;switch(dt){case"middle":gt-=at/2;break;case"bottom":gt-=at;break}switch(j){case"center":Ut-=Tt/2;break;case"right":Ut-=Tt;break;case"inner":N===M-1?Ut-=Tt:N>0&&(Ut-=Tt/2);break}Y={left:Ut,top:gt,width:Tt+Z.width,height:at+Z.height,color:ut.backdropColor}}T.push({label:I,font:J,textOffset:G,options:{rotation:E,color:lt,strokeColor:et,strokeWidth:Pt,textAlign:nt,textBaseline:dt,translation:[R,z],backdrop:Y}})}return T}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ul(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),c=t+a,f=l.widest.width;let d,g;return e==="left"?s?(g=this.right+a,i==="near"?d="left":i==="center"?(d="center",g+=f/2):(d="right",g+=f)):(g=this.right-c,i==="near"?d="right":i==="center"?(d="center",g-=f/2):(d="left",g=this.left)):e==="right"?s?(g=this.left+a,i==="near"?d="right":i==="center"?(d="center",g-=f/2):(d="left",g-=f)):(g=this.left+c,i==="near"?d="left":i==="center"?(d="center",g+=f/2):(d="right",g=this.right)):d="right",{textAlign:d,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:a,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,a,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(a=>a.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const c=(f,d,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(e.display)for(a=0,l=s.length;a<l;++a){const f=s[a];e.drawOnChartArea&&c({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&c({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:s}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const c=s.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let d,g,y,_;this.isHorizontal()?(d=Pl(t,this.left,l)-l/2,g=Pl(t,this.right,c)+c/2,y=_=f):(y=Pl(t,this.top,l)-l/2,_=Pl(t,this.bottom,c)+c/2,d=g=f),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(d,y),e.lineTo(g,_),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&rb(i,s);const a=this.getLabelItems(t);for(const l of a){const c=l.options,f=l.font,d=l.label,g=l.textOffset;yx(i,d,0,g,f,c)}s&&sb(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const a=bo(i.font),l=sl(i.padding),c=i.align;let f=a.lineHeight/2;e==="bottom"||e==="center"||yn(e)?(f+=l.bottom,qi(i.text)&&(f+=a.lineHeight*(i.text.length-1))):f+=l.top;const{titleX:d,titleY:g,maxWidth:y,rotation:_}=xP(this,f,e,c);yx(t,i.text,0,0,a,{color:i.color,maxWidth:y,rotation:_,textAlign:wP(c,e,s),textBaseline:"middle",translation:[d,g]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=zn(t.grid&&t.grid.z,-1),s=zn(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ku.prototype.draw?[{z:e,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let a,l;for(a=0,l=e.length;a<l;++a){const c=e[a];c[i]===this.id&&(!t||c.type===t)&&s.push(c)}return s}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return bo(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Wh{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;AP(e)&&(i=this.register(e));const s=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in s||(s[a]=t,SP(t,l,i),this.override&&Oi.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in Oi[s]&&(delete Oi[s][i],this.override&&delete Vl[i])}}function SP(n,t,e){const i=wf(Object.create(null),[e?Oi.get(e):{},Oi.get(t),n.defaults]);Oi.set(t,i),n.defaultRoutes&&EP(t,n.defaultRoutes),n.descriptors&&Oi.describe(t,n.descriptors)}function EP(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),s=i.pop(),a=[n].concat(i).join("."),l=t[e].split("."),c=l.pop(),f=l.join(".");Oi.route(a,s,f,c)})}function AP(n){return"id"in n&&"defaults"in n}class TP{constructor(){this.controllers=new Wh(iA,"datasets",!0),this.elements=new Wh(Nf,"elements"),this.plugins=new Wh(Object,"plugins"),this.scales=new Wh(Ku,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{const a=i||this._getRegistryForType(s);i||a.isForType(s)||a===this.plugins&&s.id?this._exec(t,a,s):Rn(s,l=>{const c=i||this._getRegistryForType(l);this._exec(t,c,l)})})}_exec(t,e,i){const s=eb(t);bi(i["before"+s],[],i),e[t](i),bi(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var mo=new TP;class kP{constructor(){this._init=void 0}notify(t,e,i,s){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const a=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(a,t,e,i);return e==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),l}_notify(t,e,i,s){s=s||{};for(const a of t){const l=a.plugin,c=l[i],f=[e,s,a.options];if(bi(c,f,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Ln(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=zn(i.options&&i.options.plugins,{}),a=MP(i);return s===!1&&!e?[]:CP(t,a,s,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(a,l)=>a.filter(c=>!l.some(f=>c.plugin.id===f.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function MP(n){const t={},e=[],i=Object.keys(mo.plugins.items);for(let a=0;a<i.length;a++)e.push(mo.getPlugin(i[a]));const s=n.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function OP(n,t){return!t&&n===!1?null:n===!0?{}:n}function CP(n,{plugins:t,localIds:e},i,s){const a=[],l=n.getContext();for(const c of t){const f=c.id,d=OP(i[f],s);d!==null&&a.push({plugin:c,options:NP(n.config,{plugin:c,local:e[f]},d,l)})}return a}function NP(n,{plugin:t,local:e},i,s){const a=n.pluginScopeKeys(t),l=n.getOptionScopes(i,a);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function S_(n,t){const e=Oi.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function RP(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function LP(n,t){return n===t?"_index_":"_value_"}function qx(n){if(n==="x"||n==="y"||n==="r")return n}function PP(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function E_(n,...t){if(qx(n))return n;for(const e of t){const i=e.axis||PP(e.position)||n.length>1&&qx(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Vx(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function DP(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return Vx(n,"x",e[0])||Vx(n,"y",e[0])}return{}}function jP(n,t){const e=Vl[n.type]||{scales:{}},i=t.scales||{},s=S_(n.type,t),a=Object.create(null);return Object.keys(i).forEach(l=>{const c=i[l];if(!yn(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=E_(l,c,DP(l,n),Oi.scales[c.type]),d=LP(f,s),g=e.scales||{};a[l]=cf(Object.create(null),[{axis:f},c,g[f],g[d]])}),n.data.datasets.forEach(l=>{const c=l.type||n.type,f=l.indexAxis||S_(c,t),g=(Vl[c]||{}).scales||{};Object.keys(g).forEach(y=>{const _=RP(y,f),S=l[_+"AxisID"]||_;a[S]=a[S]||Object.create(null),cf(a[S],[{axis:_},i[S],g[y]])})}),Object.keys(a).forEach(l=>{const c=a[l];cf(c,[Oi.scales[c.type],Oi.scale])}),a}function uA(n){const t=n.options||(n.options={});t.plugins=zn(t.plugins,{}),t.scales=jP(n,t)}function cA(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function IP(n){return n=n||{},n.data=cA(n.data),uA(n),n}const Wx=new Map,fA=new Set;function Kh(n,t){let e=Wx.get(n);return e||(e=t(),Wx.set(n,e),fA.add(e)),e}const Bc=(n,t,e)=>{const i=Id(t,e);i!==void 0&&n.add(i)};class zP{constructor(t){this._config=IP(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=cA(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),uA(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Kh(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Kh(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Kh(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Kh(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:a}=this,l=this._cachedScopes(t,i),c=l.get(e);if(c)return c;const f=new Set;e.forEach(g=>{t&&(f.add(t),g.forEach(y=>Bc(f,t,y))),g.forEach(y=>Bc(f,s,y)),g.forEach(y=>Bc(f,Vl[a]||{},y)),g.forEach(y=>Bc(f,Oi,y)),g.forEach(y=>Bc(f,w_,y))});const d=Array.from(f);return d.length===0&&d.push(Object.create(null)),fA.has(e)&&l.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,Vl[e]||{},Oi.datasets[e]||{},{type:e},Oi,w_]}resolveNamedOptions(t,e,i,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=Kx(this._resolverCache,t,s);let f=l;if(UP(l,e)){a.$shared=!1,i=rl(i)?i():i;const d=this.createResolver(t,i,c);f=Uu(l,i,d)}for(const d of e)a[d]=f[d];return a}createResolver(t,e,i=[""],s){const{resolver:a}=Kx(this._resolverCache,t,i);return yn(e)?Uu(a,e,void 0,s):a}}function Kx(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const s=e.join();let a=i.get(s);return a||(a={resolver:ob(t,e),subPrefixes:e.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,a)),a}const BP=n=>yn(n)&&Object.getOwnPropertyNames(n).some(t=>rl(n[t]));function UP(n,t){const{isScriptable:e,isIndexable:i}=KE(n);for(const s of t){const a=e(s),l=i(s),c=(l||a)&&n[s];if(a&&(rl(c)||BP(c))||l&&qi(c))return!0}return!1}var FP="4.5.1";const HP=["top","bottom","left","right","chartArea"];function Yx(n,t){return n==="top"||n==="bottom"||HP.indexOf(n)===-1&&t==="x"}function Zx(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function Xx(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),bi(e&&e.onComplete,[n],t)}function qP(n){const t=n.chart,e=t.options.animation;bi(e&&e.onProgress,[n],t)}function hA(n){return ub()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Cd={},Gx=n=>{const t=hA(n);return Object.values(Cd).filter(e=>e.canvas===t).pop()};function VP(n,t,e){const i=Object.keys(n);for(const s of i){const a=+s;if(a>=t){const l=n[s];delete n[s],(e>0||a>t)&&(n[a+e]=l)}}}function WP(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let Jd=class{static defaults=Oi;static instances=Cd;static overrides=Vl;static registry=mo;static version=FP;static getChart=Gx;static register(...t){mo.add(...t),$x()}static unregister(...t){mo.remove(...t),$x()}constructor(t,e){const i=this.config=new zP(e),s=hA(t),a=Gx(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||uP(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,l.aspectRatio),f=c&&c.canvas,d=f&&f.height,g=f&&f.width;if(this.id=YR(),this.ctx=c,this.canvas=f,this.width=g,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new kP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=p3(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],Cd[this.id]=this,!c||!f){console.error("Failed to create chart: can't acquire context from the given item");return}ta.listen(this,"complete",Xx),ta.listen(this,"progress",qP),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:a}=this;return Ln(t)?e&&a?a:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return mo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():xx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return gx(this.canvas,this.ctx),this}stop(){return ta.stop(this),this}resize(t,e){ta.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,e,a),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,xx(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),bi(i.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Rn(e,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((l,c)=>(l[c]=!1,l),{});let a=[];e&&(a=a.concat(Object.keys(e).map(l=>{const c=e[l],f=E_(l,c),d=f==="r",g=f==="x";return{options:c,dposition:d?"chartArea":g?"bottom":"left",dtype:d?"radialLinear":g?"category":"linear"}}))),Rn(a,l=>{const c=l.options,f=c.id,d=E_(f,c),g=zn(c.type,l.dtype);(c.position===void 0||Yx(c.position,d)!==Yx(l.dposition))&&(c.position=l.dposition),s[f]=!0;let y=null;if(f in i&&i[f].type===g)y=i[f];else{const _=mo.getScale(g);y=new _({id:f,type:g,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(c,t)}),Rn(s,(l,c)=>{l||delete i[c]}),Rn(i,l=>{qh.configure(this,l,l.options),qh.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((s,a)=>s.index-a.index),i>e){for(let s=e;s<i;++s)this._destroyDatasetMeta(s);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(Zx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,s)=>{e.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const a=e[i];let l=this.getDatasetMeta(i);const c=a.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=c,l.indexAxis=a.indexAxis||S_(c,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const f=mo.getController(c),{datasetElementType:d,dataElementType:g}=Oi.datasets[c];Object.assign(f,{dataElementType:mo.getElement(g),datasetElementType:d&&mo.getElement(d)}),l.controller=new f(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Rn(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,g=this.data.datasets.length;d<g;d++){const{controller:y}=this.getDatasetMeta(d),_=!s&&a.indexOf(y)===-1;y.buildOrUpdateElements(_),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||Rn(a,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Zx("z","_idx"));const{_active:c,_lastEvent:f}=this;f?this._eventHandler(f,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Rn(this.scales,t=>{qh.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!sx(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:a}of e){const l=i==="_removeElements"?-a:a;VP(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=a=>new Set(t.filter(l=>l[0]===a).map((l,c)=>c+","+l.splice(1).join(","))),s=i(0);for(let a=1;a<e;a++)if(!sx(s,i(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;qh.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Rn(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,rl(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ta.has(this)?this.attached&&!ta.running(this)&&ta.start(this):(this.draw(),Xx({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,a;for(s=0,a=e.length;s<a;++s){const l=e[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=tA(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&rb(e,s),t.controller.draw(),s&&sb(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Sf(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){const a=HL.modes[e];return typeof a=="function"?a(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter(a=>a&&a._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Zl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,s);zd(e)?(a.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(a,{visible:i}),this.update(c=>c.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ta.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),gx(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Cd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(a,l)=>{e.addEventListener(this,a,l),t[a]=l},s=(a,l,c)=>{a.offsetX=l,a.offsetY=c,this._eventHandler(a)};Rn(this.options.events,a=>i(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,d)=>{e.addEventListener(this,f,d),t[f]=d},s=(f,d)=>{t[f]&&(e.removeEventListener(this,f,d),delete t[f])},a=(f,d)=>{this.canvas&&this.resize(f,d)};let l;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),i("attach",c)},e.isAttached(this.canvas)?c():l()}unbindEvents(){Rn(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Rn(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let a,l,c,f;for(e==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),c=0,f=t.length;c<f;++c){l=t[c];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:a,index:l})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[l],index:l}});!Dd(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const s=this.options.hover,a=(f,d)=>f.filter(g=>!d.some(y=>g.datasetIndex===y.datasetIndex&&g.index===y.index)),l=a(e,t),c=i?t:a(t,e);l.length&&this.updateHoverStyle(l,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const a=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(a||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:a}=this,l=e,c=this._getActiveElements(t,s,i,l),f=JR(t),d=WP(t,this._lastEvent,i,f);i&&(this._lastEvent=null,bi(a.onHover,[t,c,this],this),f&&bi(a.onClick,[t,c,this],this));const g=!Dd(c,s);return(g||e)&&(this._active=c,this._updateHoverStyles(c,s,e)),this._lastEvent=d,g}_getActiveElements(t,e,i,s){if(t.type==="mouseout")return[];if(!i)return e;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,s)}};function $x(){return Rn(Jd.instances,n=>n._plugins.invalidate())}function dA(n,t,e=t){n.lineCap=zn(e.borderCapStyle,t.borderCapStyle),n.setLineDash(zn(e.borderDash,t.borderDash)),n.lineDashOffset=zn(e.borderDashOffset,t.borderDashOffset),n.lineJoin=zn(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=zn(e.borderWidth,t.borderWidth),n.strokeStyle=zn(e.borderColor,t.borderColor)}function KP(n,t,e){n.lineTo(e.x,e.y)}function YP(n){return n.stepped?O3:n.tension||n.cubicInterpolationMode==="monotone"?C3:KP}function pA(n,t,e={}){const i=n.length,{start:s=0,end:a=i-1}=e,{start:l,end:c}=t,f=Math.max(s,l),d=Math.min(a,c),g=s<l&&a<l||s>c&&a>c;return{count:i,start:f,loop:t.loop,ilen:d<f&&!g?i+d-f:d-f}}function ZP(n,t,e,i){const{points:s,options:a}=t,{count:l,start:c,loop:f,ilen:d}=pA(s,e,i),g=YP(a);let{move:y=!0,reverse:_}=i||{},S,x,E;for(S=0;S<=d;++S)x=s[(c+(_?d-S:S))%l],!x.skip&&(y?(n.moveTo(x.x,x.y),y=!1):g(n,E,x,_,a.stepped),E=x);return f&&(x=s[(c+(_?d:0))%l],g(n,E,x,_,a.stepped)),!!f}function XP(n,t,e,i){const s=t.points,{count:a,start:l,ilen:c}=pA(s,e,i),{move:f=!0,reverse:d}=i||{};let g=0,y=0,_,S,x,E,T,N;const M=I=>(l+(d?c-I:I))%a,D=()=>{E!==T&&(n.lineTo(g,T),n.lineTo(g,E),n.lineTo(g,N))};for(f&&(S=s[M(0)],n.moveTo(S.x,S.y)),_=0;_<=c;++_){if(S=s[M(_)],S.skip)continue;const I=S.x,R=S.y,z=I|0;z===x?(R<E?E=R:R>T&&(T=R),g=(y*g+I)/++y):(D(),n.lineTo(I,R),x=z,y=0,E=T=R),N=R}D()}function A_(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?XP:ZP}function GP(n){return n.stepped?uL:n.tension||n.cubicInterpolationMode==="monotone"?cL:Il}function $P(n,t,e,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,i)&&s.closePath()),dA(n,t.options),n.stroke(s)}function QP(n,t,e,i){const{segments:s,options:a}=t,l=A_(t);for(const c of s)dA(n,a,c.style),n.beginPath(),l(n,t,c,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const JP=typeof Path2D=="function";function tD(n,t,e,i){JP&&!t.options.segment?$P(n,t,e,i):QP(n,t,e,i)}class tp extends Nf{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;eL(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_L(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,s=t[e],a=this.points,l=JE(this,{property:e,start:s,end:s});if(!l.length)return;const c=[],f=GP(i);let d,g;for(d=0,g=l.length;d<g;++d){const{start:y,end:_}=l[d],S=a[y],x=a[_];if(S===x){c.push(S);continue}const E=Math.abs((s-S[e])/(x[e]-S[e])),T=f(S,x,E,i.stepped);T[e]=t[e],c.push(T)}return c.length===1?c[0]:c}pathSegment(t,e,i){return A_(this)(t,this,e,i)}path(t,e,i){const s=this.segments,a=A_(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const c of s)l&=a(t,this,c,{start:e,end:e+i-1});return!!l}draw(t,e,i,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),tD(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Qx(n,t,e,i){const s=n.options,{[e]:a}=n.getProps([e],i);return Math.abs(t-a)<s.radius+s.hitRadius}class eD extends Nf{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.options,{x:a,y:l}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(e-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){return Qx(this,t,"x",e)}inYRange(t,e){return Qx(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Sf(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,x_(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function nD(n,t,e,i,s){const a=s.samples||i;if(a>=e)return n.slice(t,t+e);const l=[],c=(e-2)/(a-2);let f=0;const d=t+e-1;let g=t,y,_,S,x,E;for(l[f++]=n[g],y=0;y<a-2;y++){let T=0,N=0,M;const D=Math.floor((y+1)*c)+1+t,I=Math.min(Math.floor((y+2)*c)+1,e)+t,R=I-D;for(M=D;M<I;M++)T+=n[M].x,N+=n[M].y;T/=R,N/=R;const z=Math.floor(y*c)+1+t,j=Math.min(Math.floor((y+1)*c)+1,e)+t,{x:W,y:J}=n[g];for(S=x=-1,M=z;M<j;M++)x=.5*Math.abs((W-T)*(n[M].y-J)-(W-n[M].x)*(N-J)),x>S&&(S=x,_=n[M],E=M);l[f++]=_,g=E}return l[f++]=n[d],l}function iD(n,t,e,i){let s=0,a=0,l,c,f,d,g,y,_,S,x,E;const T=[],N=t+e-1,M=n[t].x,I=n[N].x-M;for(l=t;l<t+e;++l){c=n[l],f=(c.x-M)/I*i,d=c.y;const R=f|0;if(R===g)d<x?(x=d,y=l):d>E&&(E=d,_=l),s=(a*s+c.x)/++a;else{const z=l-1;if(!Ln(y)&&!Ln(_)){const j=Math.min(y,_),W=Math.max(y,_);j!==S&&j!==z&&T.push({...n[j],x:s}),W!==S&&W!==z&&T.push({...n[W],x:s})}l>0&&z!==S&&T.push(n[z]),T.push(c),g=R,a=0,x=E=d,y=_=S=l}}return T}function mA(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Jx(n){n.data.datasets.forEach(t=>{mA(t)})}function rD(n,t){const e=t.length;let i=0,s;const{iScale:a}=n,{min:l,max:c,minDefined:f,maxDefined:d}=a.getUserBounds();return f&&(i=qr(aa(t,a.axis,l).lo,0,e-1)),d?s=qr(aa(t,a.axis,c).hi+1,i,e)-i:s=e-i,{start:i,count:s}}var sD={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){Jx(n);return}const i=n.width;n.data.datasets.forEach((s,a)=>{const{_data:l,indexAxis:c}=s,f=n.getDatasetMeta(a),d=l||s.data;if($c([c,n.options.indexAxis])==="y"||!f.controller.supportsDecimation)return;const g=n.scales[f.xAxisID];if(g.type!=="linear"&&g.type!=="time"||n.options.parsing)return;let{start:y,count:_}=rD(f,d);const S=e.threshold||4*i;if(_<=S){mA(s);return}Ln(l)&&(s._data=d,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(E){this._data=E}}));let x;switch(e.algorithm){case"lttb":x=nD(d,y,_,i,e);break;case"min-max":x=iD(d,y,_,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}s._decimated=x})},destroy(n){Jx(n)}};function oD(n,t,e){const i=n.segments,s=n.points,a=t.points,l=[];for(const c of i){let{start:f,end:d}=c;d=ep(f,d,s);const g=T_(e,s[f],s[d],c.loop);if(!t.segments){l.push({source:c,target:g,start:s[f],end:s[d]});continue}const y=JE(t,g);for(const _ of y){const S=T_(e,a[_.start],a[_.end],_.loop),x=QE(c,s,S);for(const E of x)l.push({source:E,target:_,start:{[e]:tS(g,S,"start",Math.max)},end:{[e]:tS(g,S,"end",Math.min)}})}}return l}function T_(n,t,e,i){if(i)return;let s=t[n],a=e[n];return n==="angle"&&(s=go(s),a=go(a)),{property:n,start:s,end:a}}function aD(n,t){const{x:e=null,y:i=null}=n||{},s=t.points,a=[];return t.segments.forEach(({start:l,end:c})=>{c=ep(l,c,s);const f=s[l],d=s[c];i!==null?(a.push({x:f.x,y:i}),a.push({x:d.x,y:i})):e!==null&&(a.push({x:e,y:f.y}),a.push({x:e,y:d.y}))}),a}function ep(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function tS(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function gA(n,t){let e=[],i=!1;return qi(n)?(i=!0,e=n):e=aD(n,t),e.length?new tp({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function eS(n){return n&&n.fill!==!1}function lD(n,t,e){let s=n[t].fill;const a=[t];let l;if(!e)return s;for(;s!==!1&&a.indexOf(s)===-1;){if(!dr(s))return s;if(l=n[s],!l)return!1;if(l.visible)return s;a.push(s),s=l.fill}return!1}function uD(n,t,e){const i=dD(n);if(yn(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return dr(s)&&Math.floor(s)===s?cD(i[0],t,s,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function cD(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function fD(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:yn(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function hD(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:yn(n)?i=n.value:i=t.getBaseValue(),i}function dD(n){const t=n.options,e=t.fill;let i=zn(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function pD(n){const{scale:t,index:e,line:i}=n,s=[],a=i.segments,l=i.points,c=mD(t,e);c.push(gA({x:null,y:t.bottom},i));for(let f=0;f<a.length;f++){const d=a[f];for(let g=d.start;g<=d.end;g++)gD(s,l[g],c)}return new tp({points:s,options:{}})}function mD(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const a=i[s];if(a.index===t)break;a.hidden||e.unshift(a.dataset)}return e}function gD(n,t,e){const i=[];for(let s=0;s<e.length;s++){const a=e[s],{first:l,last:c,point:f}=yD(a,t,"x");if(!(!f||l&&c)){if(l)i.unshift(f);else if(n.push(f),!c)break}}n.push(...i)}function yD(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const s=i[e],a=n.segments,l=n.points;let c=!1,f=!1;for(let d=0;d<a.length;d++){const g=a[d],y=l[g.start][e],_=l[g.end][e];if(BE(s,y,_)){c=s===y,f=s===_;break}}return{first:c,last:f,point:i}}class yA{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:s,y:a,radius:l}=this;return e=e||{start:0,end:wo},t.arc(s,a,l,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:s}=this,a=t.angle;return{x:e+Math.cos(a)*s,y:i+Math.sin(a)*s,angle:a}}}function _D(n){const{chart:t,fill:e,line:i}=n;if(dr(e))return bD(t,e);if(e==="stack")return pD(n);if(e==="shape")return!0;const s=vD(n);return s instanceof yA?s:gA(s,i)}function bD(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function vD(n){return(n.scale||{}).getPointPositionForValue?xD(n):wD(n)}function wD(n){const{scale:t={},fill:e}=n,i=fD(e,t);if(dr(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function xD(n){const{scale:t,fill:e}=n,i=t.options,s=t.getLabels().length,a=i.reverse?t.max:t.min,l=hD(e,t,a),c=[];if(i.grid.circular){const f=t.getPointPositionForValue(0,a);return new yA({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(l)})}for(let f=0;f<s;++f)c.push(t.getPointPositionForValue(f,l));return c}function ag(n,t,e){const i=_D(t),{chart:s,index:a,line:l,scale:c,axis:f}=t,d=l.options,g=d.fill,y=d.backgroundColor,{above:_=y,below:S=y}=g||{},x=s.getDatasetMeta(a),E=tA(s,x);i&&l.points.length&&(rb(n,e),SD(n,{line:l,target:i,above:_,below:S,area:e,scale:c,axis:f,clip:E}),sb(n))}function SD(n,t){const{line:e,target:i,above:s,below:a,area:l,scale:c,clip:f}=t,d=e._loop?"angle":t.axis;n.save();let g=a;a!==s&&(d==="x"?(nS(n,i,l.top),lg(n,{line:e,target:i,color:s,scale:c,property:d,clip:f}),n.restore(),n.save(),nS(n,i,l.bottom)):d==="y"&&(iS(n,i,l.left),lg(n,{line:e,target:i,color:a,scale:c,property:d,clip:f}),n.restore(),n.save(),iS(n,i,l.right),g=s)),lg(n,{line:e,target:i,color:g,scale:c,property:d,clip:f}),n.restore()}function nS(n,t,e){const{segments:i,points:s}=t;let a=!0,l=!1;n.beginPath();for(const c of i){const{start:f,end:d}=c,g=s[f],y=s[ep(f,d,s)];a?(n.moveTo(g.x,g.y),a=!1):(n.lineTo(g.x,e),n.lineTo(g.x,g.y)),l=!!t.pathSegment(n,c,{move:l}),l?n.closePath():n.lineTo(y.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function iS(n,t,e){const{segments:i,points:s}=t;let a=!0,l=!1;n.beginPath();for(const c of i){const{start:f,end:d}=c,g=s[f],y=s[ep(f,d,s)];a?(n.moveTo(g.x,g.y),a=!1):(n.lineTo(e,g.y),n.lineTo(g.x,g.y)),l=!!t.pathSegment(n,c,{move:l}),l?n.closePath():n.lineTo(e,y.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function lg(n,t){const{line:e,target:i,property:s,color:a,scale:l,clip:c}=t,f=oD(e,i,s);for(const{source:d,target:g,start:y,end:_}of f){const{style:{backgroundColor:S=a}={}}=d,x=i!==!0;n.save(),n.fillStyle=S,ED(n,l,c,x&&T_(s,y,_)),n.beginPath();const E=!!e.pathSegment(n,d);let T;if(x){E?n.closePath():rS(n,i,_,s);const N=!!i.pathSegment(n,g,{move:E,reverse:!0});T=E&&N,T||rS(n,i,y,s)}n.closePath(),n.fill(T?"evenodd":"nonzero"),n.restore()}}function ED(n,t,e,i){const s=t.chart.chartArea,{property:a,start:l,end:c}=i||{};if(a==="x"||a==="y"){let f,d,g,y;a==="x"?(f=l,d=s.top,g=c,y=s.bottom):(f=s.left,d=l,g=s.right,y=c),n.beginPath(),e&&(f=Math.max(f,e.left),g=Math.min(g,e.right),d=Math.max(d,e.top),y=Math.min(y,e.bottom)),n.rect(f,d,g-f,y-d),n.clip()}}function rS(n,t,e,i){const s=t.interpolate(e,i);s&&n.lineTo(s.x,s.y)}var AD={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,s=[];let a,l,c,f;for(l=0;l<i;++l)a=n.getDatasetMeta(l),c=a.dataset,f=null,c&&c.options&&c instanceof tp&&(f={visible:n.isDatasetVisible(l),index:l,fill:uD(c,l,i),chart:n,axis:a.controller.options.indexAxis,scale:a.vScale,line:c}),a.$filler=f,s.push(f);for(l=0;l<i;++l)f=s[l],!(!f||f.fill===!1)&&(f.fill=lD(s,l,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",s=n.getSortedVisibleDatasetMetas(),a=n.chartArea;for(let l=s.length-1;l>=0;--l){const c=s[l].$filler;c&&(c.line.updateControlPoints(a,c.axis),i&&c.fill&&ag(n.ctx,c,a))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const a=i[s].$filler;eS(a)&&ag(n.ctx,a,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!eS(i)||e.drawTime!=="beforeDatasetDraw"||ag(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Jc={average(n){if(!n.length)return!1;let t,e,i=new Set,s=0,a=0;for(t=0,e=n.length;t<e;++t){const c=n[t].element;if(c&&c.hasValue()){const f=c.tooltipPosition();i.add(f.x),s+=f.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((c,f)=>c+f)/i.size,y:s/a}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,s=Number.POSITIVE_INFINITY,a,l,c;for(a=0,l=n.length;a<l;++a){const f=n[a].element;if(f&&f.hasValue()){const d=f.getCenterPoint(),g=v_(t,d);g<s&&(s=g,c=f)}}if(c){const f=c.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function ho(n,t){return t&&(qi(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function ea(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function TD(n,t){const{element:e,datasetIndex:i,index:s}=t,a=n.getDatasetMeta(i).controller,{label:l,value:c}=a.getLabelAndValue(s);return{chart:n,label:l,parsed:a.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:c,dataset:a.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function sS(n,t){const e=n.chart.ctx,{body:i,footer:s,title:a}=n,{boxWidth:l,boxHeight:c}=t,f=bo(t.bodyFont),d=bo(t.titleFont),g=bo(t.footerFont),y=a.length,_=s.length,S=i.length,x=sl(t.padding);let E=x.height,T=0,N=i.reduce((I,R)=>I+R.before.length+R.lines.length+R.after.length,0);if(N+=n.beforeBody.length+n.afterBody.length,y&&(E+=y*d.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),N){const I=t.displayColors?Math.max(c,f.lineHeight):f.lineHeight;E+=S*I+(N-S)*f.lineHeight+(N-1)*t.bodySpacing}_&&(E+=t.footerMarginTop+_*g.lineHeight+(_-1)*t.footerSpacing);let M=0;const D=function(I){T=Math.max(T,e.measureText(I).width+M)};return e.save(),e.font=d.string,Rn(n.title,D),e.font=f.string,Rn(n.beforeBody.concat(n.afterBody),D),M=t.displayColors?l+2+t.boxPadding:0,Rn(i,I=>{Rn(I.before,D),Rn(I.lines,D),Rn(I.after,D)}),M=0,e.font=g.string,Rn(n.footer,D),e.restore(),T+=x.width,{width:T,height:E}}function kD(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function MD(n,t,e,i){const{x:s,width:a}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&s+a+l>t.width||n==="right"&&s-a-l<0)return!0}function OD(n,t,e,i){const{x:s,width:a}=e,{width:l,chartArea:{left:c,right:f}}=n;let d="center";return i==="center"?d=s<=(c+f)/2?"left":"right":s<=a/2?d="left":s>=l-a/2&&(d="right"),MD(d,n,t,e)&&(d="center"),d}function oS(n,t,e){const i=e.yAlign||t.yAlign||kD(n,e);return{xAlign:e.xAlign||t.xAlign||OD(n,t,e,i),yAlign:i}}function CD(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function ND(n,t,e){let{y:i,height:s}=n;return t==="top"?i+=e:t==="bottom"?i-=s+e:i-=s/2,i}function aS(n,t,e,i){const{caretSize:s,caretPadding:a,cornerRadius:l}=n,{xAlign:c,yAlign:f}=e,d=s+a,{topLeft:g,topRight:y,bottomLeft:_,bottomRight:S}=Md(l);let x=CD(t,c);const E=ND(t,f,d);return f==="center"?c==="left"?x+=d:c==="right"&&(x-=d):c==="left"?x-=Math.max(g,_)+s:c==="right"&&(x+=Math.max(y,S)+s),{x:qr(x,0,i.width-t.width),y:qr(E,0,i.height-t.height)}}function Yh(n,t,e){const i=sl(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function lS(n){return ho([],ea(n))}function RD(n,t,e){return Zl(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function uS(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const _A={beforeTitle:Go,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Go,beforeBody:Go,beforeLabel:Go,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Ln(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Go,afterBody:Go,beforeFooter:Go,footer:Go,afterFooter:Go};function Br(n,t,e,i){const s=n[t].call(e,i);return typeof s>"u"?_A[t].call(e,i):s}class cS extends Nf{static positioners=Jc;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,a=new eA(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=RD(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,s=Br(i,"beforeTitle",this,t),a=Br(i,"title",this,t),l=Br(i,"afterTitle",this,t);let c=[];return c=ho(c,ea(s)),c=ho(c,ea(a)),c=ho(c,ea(l)),c}getBeforeBody(t,e){return lS(Br(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,s=[];return Rn(t,a=>{const l={before:[],lines:[],after:[]},c=uS(i,a);ho(l.before,ea(Br(c,"beforeLabel",this,a))),ho(l.lines,Br(c,"label",this,a)),ho(l.after,ea(Br(c,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(t,e){return lS(Br(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,s=Br(i,"beforeFooter",this,t),a=Br(i,"footer",this,t),l=Br(i,"afterFooter",this,t);let c=[];return c=ho(c,ea(s)),c=ho(c,ea(a)),c=ho(c,ea(l)),c}_createItems(t){const e=this._active,i=this.chart.data,s=[],a=[],l=[];let c=[],f,d;for(f=0,d=e.length;f<d;++f)c.push(TD(this.chart,e[f]));return t.filter&&(c=c.filter((g,y,_)=>t.filter(g,y,_,i))),t.itemSort&&(c=c.sort((g,y)=>t.itemSort(g,y,i))),Rn(c,g=>{const y=uS(t.callbacks,g);s.push(Br(y,"labelColor",this,g)),a.push(Br(y,"labelPointStyle",this,g)),l.push(Br(y,"labelTextColor",this,g))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const c=Jc[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const f=this._size=sS(this,i),d=Object.assign({},c,f),g=oS(this.chart,i,d),y=aS(i,d,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,a={opacity:1,x:y.x,y:y.y,width:f.width,height:f.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const a=this.getCaretPosition(t,i,s);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:c}=i,{topLeft:f,topRight:d,bottomLeft:g,bottomRight:y}=Md(c),{x:_,y:S}=t,{width:x,height:E}=e;let T,N,M,D,I,R;return a==="center"?(I=S+E/2,s==="left"?(T=_,N=T-l,D=I+l,R=I-l):(T=_+x,N=T+l,D=I-l,R=I+l),M=T):(s==="left"?N=_+Math.max(f,g)+l:s==="right"?N=_+x-Math.max(d,y)-l:N=this.caretX,a==="top"?(D=S,I=D-l,T=N-l,M=N+l):(D=S+E,I=D+l,T=N+l,M=N-l),R=D),{x1:T,x2:N,x3:M,y1:D,y2:I,y3:R}}drawTitle(t,e,i){const s=this.title,a=s.length;let l,c,f;if(a){const d=tg(i.rtl,this.x,this.width);for(t.x=Yh(this,i.titleAlign,i),e.textAlign=d.textAlign(i.titleAlign),e.textBaseline="middle",l=bo(i.titleFont),c=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,f=0;f<a;++f)e.fillText(s[f],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+c,f+1===a&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,e,i,s,a){const l=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:f,boxWidth:d}=a,g=bo(a.bodyFont),y=Yh(this,"left",a),_=s.x(y),S=f<g.lineHeight?(g.lineHeight-f)/2:0,x=e.y+S;if(a.usePointStyle){const E={radius:Math.min(d,f)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},T=s.leftForLtr(_,d)+d/2,N=x+f/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,x_(t,E,T,N),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,x_(t,E,T,N)}else{t.lineWidth=yn(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const E=s.leftForLtr(_,d),T=s.leftForLtr(s.xPlus(_,1),d-2),N=Md(l.borderRadius);Object.values(N).some(M=>M!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,_x(t,{x:E,y:x,w:d,h:f,radius:N}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),_x(t,{x:T,y:x+1,w:d-2,h:f-2,radius:N}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(E,x,d,f),t.strokeRect(E,x,d,f),t.fillStyle=l.backgroundColor,t.fillRect(T,x+1,d-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:f,boxWidth:d,boxPadding:g}=i,y=bo(i.bodyFont);let _=y.lineHeight,S=0;const x=tg(i.rtl,this.x,this.width),E=function(W){e.fillText(W,x.x(t.x+S),t.y+_/2),t.y+=_+a},T=x.textAlign(l);let N,M,D,I,R,z,j;for(e.textAlign=l,e.textBaseline="middle",e.font=y.string,t.x=Yh(this,T,i),e.fillStyle=i.bodyColor,Rn(this.beforeBody,E),S=c&&T!=="right"?l==="center"?d/2+g:d+2+g:0,I=0,z=s.length;I<z;++I){for(N=s[I],M=this.labelTextColors[I],e.fillStyle=M,Rn(N.before,E),D=N.lines,c&&D.length&&(this._drawColorBox(e,t,I,x,i),_=Math.max(y.lineHeight,f)),R=0,j=D.length;R<j;++R)E(D[R]),_=y.lineHeight;Rn(N.after,E)}S=0,_=y.lineHeight,Rn(this.afterBody,E),t.y-=a}drawFooter(t,e,i){const s=this.footer,a=s.length;let l,c;if(a){const f=tg(i.rtl,this.x,this.width);for(t.x=Yh(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",l=bo(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,c=0;c<a;++c)e.fillText(s[c],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:a,yAlign:l}=this,{x:c,y:f}=t,{width:d,height:g}=i,{topLeft:y,topRight:_,bottomLeft:S,bottomRight:x}=Md(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(c+y,f),l==="top"&&this.drawCaret(t,e,i,s),e.lineTo(c+d-_,f),e.quadraticCurveTo(c+d,f,c+d,f+_),l==="center"&&a==="right"&&this.drawCaret(t,e,i,s),e.lineTo(c+d,f+g-x),e.quadraticCurveTo(c+d,f+g,c+d-x,f+g),l==="bottom"&&this.drawCaret(t,e,i,s),e.lineTo(c+S,f+g),e.quadraticCurveTo(c,f+g,c,f+g-S),l==="center"&&a==="left"&&this.drawCaret(t,e,i,s),e.lineTo(c,f+y),e.quadraticCurveTo(c,f,c+y,f),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,a=i&&i.y;if(s||a){const l=Jc[t.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=sS(this,t),f=Object.assign({},l,this._size),d=oS(e,t,f),g=aS(t,f,d,e);(s._to!==g.x||a._to!==g.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=sl(e.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,s,e),dL(t,e.textDirection),a.y+=l.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),pL(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map(({datasetIndex:c,index:f})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[f],index:f}}),a=!Dd(i,s),l=this._positionChanged(s,e);(a||l)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(t,a,e,i),c=this._positionChanged(l,t),f=e||!Dd(l,a)||c;return f&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,s){const a=this.options;if(t.type==="mouseout")return[];if(!s)return e.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:s,options:a}=this,l=Jc[a.position].call(this,t,e);return l!==!1&&(i!==l.x||s!==l.y)}}var LD={id:"tooltip",_element:cS,positioners:Jc,afterInit(n,t,e){e&&(n.tooltip=new cS({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:_A},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const PD=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function DD(n,t,e,i){const s=n.indexOf(t);if(s===-1)return PD(n,t,e,i);const a=n.lastIndexOf(t);return s!==a?e:s}const jD=(n,t)=>n===null?null:qr(Math.round(n),0,t);function fS(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class ID extends Ku{static id="category";static defaults={ticks:{callback:fS}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:s,label:a}of e)i[s]===a&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Ln(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:DD(i,t,zn(e,t),this._addedLabels),jD(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let a=this.getLabels();a=t===0&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)s.push({value:l});return s}getLabelForValue(t){return fS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function zD(n,t){const e=[],{bounds:s,step:a,min:l,max:c,precision:f,count:d,maxTicks:g,maxDigits:y,includeBounds:_}=n,S=a||1,x=g-1,{min:E,max:T}=t,N=!Ln(l),M=!Ln(c),D=!Ln(d),I=(T-E)/(y+1);let R=ax((T-E)/x/S)*S,z,j,W,J;if(R<1e-14&&!N&&!M)return[{value:E},{value:T}];J=Math.ceil(T/R)-Math.floor(E/R),J>x&&(R=ax(J*R/x/S)*S),Ln(f)||(z=Math.pow(10,f),R=Math.ceil(R*z)/z),s==="ticks"?(j=Math.floor(E/R)*R,W=Math.ceil(T/R)*R):(j=E,W=T),N&&M&&a&&r3((c-l)/a,R/1e3)?(J=Math.round(Math.min((c-l)/R,g)),R=(c-l)/J,j=l,W=c):D?(j=N?l:j,W=M?c:W,J=d-1,R=(W-j)/J):(J=(W-j)/R,ff(J,Math.round(J),R/1e3)?J=Math.round(J):J=Math.ceil(J));const tt=Math.max(lx(R),lx(j));z=Math.pow(10,Ln(f)?tt:f),j=Math.round(j*z)/z,W=Math.round(W*z)/z;let ot=0;for(N&&(_&&j!==l?(e.push({value:l}),j<l&&ot++,ff(Math.round((j+ot*R)*z)/z,l,hS(l,I,n))&&ot++):j<l&&ot++);ot<J;++ot){const G=Math.round((j+ot*R)*z)/z;if(M&&G>c)break;e.push({value:G})}return M&&_&&W!==c?e.length&&ff(e[e.length-1].value,c,hS(c,I,n))?e[e.length-1].value=c:e.push({value:c}):(!M||W===c)&&e.push({value:W}),e}function hS(n,t,{horizontal:e,minRotation:i}){const s=Ul(i),a=(e?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+n).length;return Math.min(t/a,l)}class BD extends Ku{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Ln(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:a}=this;const l=f=>s=e?s:f,c=f=>a=i?a:f;if(t){const f=Bu(s),d=Bu(a);f<0&&d<0?c(0):f>0&&d>0&&l(0)}if(s===a){let f=a===0?1:Math.abs(a*.05);c(a+f),t||l(s-f)}this.min=s,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,l=zD(s,a);return t.bounds==="ticks"&&s3(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return qE(t,this.chart.options.locale,this.options.ticks.format)}}class UD extends BD{static id="linear";static defaults={ticks:{callback:VE.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=dr(t)?t:0,this.max=dr(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Ul(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const np={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Hr=Object.keys(np);function dS(n,t){return n-t}function pS(n,t){if(Ln(t))return null;const e=n._adapter,{parser:i,round:s,isoWeekday:a}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),dr(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(s&&(l=s==="week"&&(xf(a)||a===!0)?e.startOf(l,"isoWeek",a):e.startOf(l,s)),+l)}function mS(n,t,e,i){const s=Hr.length;for(let a=Hr.indexOf(n);a<s-1;++a){const l=np[Hr[a]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(c*l.size))<=i)return Hr[a]}return Hr[s-1]}function FD(n,t,e,i,s){for(let a=Hr.length-1;a>=Hr.indexOf(e);a--){const l=Hr[a];if(np[l].common&&n._adapter.diff(s,i,l)>=t-1)return l}return Hr[e?Hr.indexOf(e):0]}function HD(n){for(let t=Hr.indexOf(n)+1,e=Hr.length;t<e;++t)if(np[Hr[t]].common)return Hr[t]}function gS(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:s}=nb(e,t),a=e[i]>=t?e[i]:e[s];n[a]=!0}}function qD(n,t,e,i){const s=n._adapter,a=+s.startOf(t[0].value,i),l=t[t.length-1].value;let c,f;for(c=a;c<=l;c=+s.add(c,1,i))f=e[c],f>=0&&(t[f].major=!0);return t}function yS(n,t,e){const i=[],s={},a=t.length;let l,c;for(l=0;l<a;++l)c=t[l],s[c]=l,i.push({value:c,major:!1});return a===0||!e?i:qD(n,i,s,e)}class _S extends Ku{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),s=this._adapter=new IL._date(t.adapters.date);s.init(e),cf(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:pS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function f(d){!l&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!c&&!isNaN(d.max)&&(a=Math.max(a,d.max))}(!l||!c)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),s=dr(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),a=dr(a)&&!isNaN(a)?a:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,c=f3(s,a,l);return this._unit=e.unit||(i.autoSkip?mS(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):FD(this,c.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:HD(this._unit),this.initOffsets(s),t.reverse&&c.reverse(),yS(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,s,a;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=qr(e,0,l),i=qr(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,a=s.time,l=a.unit||mS(a.minUnit,e,i,this._getLabelCapacity(e)),c=zn(s.ticks.stepSize,1),f=l==="week"?a.isoWeekday:!1,d=xf(f)||f===!0,g={};let y=e,_,S;if(d&&(y=+t.startOf(y,"isoWeek",f)),y=+t.startOf(y,d?"day":l),t.diff(i,e,l)>1e5*c)throw new Error(e+" and "+i+" are too far apart with stepSize of "+c+" "+l);const x=s.ticks.source==="data"&&this.getDataTimestamps();for(_=y,S=0;_<i;_=+t.add(_,c,l),S++)gS(g,_,x);return(_===i||s.bounds==="ticks"||S===1)&&gS(g,_,x),Object.keys(g).sort(dS).map(E=>+E)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,a=this._unit,l=e||s[a];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,s){const a=this.options,l=a.ticks.callback;if(l)return bi(l,[t,e,i],this);const c=a.time.displayFormats,f=this._unit,d=this._majorUnit,g=f&&c[f],y=d&&c[d],_=i[e],S=d&&y&&_&&_.major;return this._adapter.format(t,s||(S?y:g))}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=Ul(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(s),l=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*a+c*l,h:i*l+c*a}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,a=this._tickFormatFunction(t,0,yS(this,[t],this._majorUnit),s),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,i=s.length;e<i;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(pS(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return d3(t.sort(dS))}}function Zh(n,t,e){let i=0,s=n.length-1,a,l,c,f;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=aa(n,"pos",t)),{pos:a,time:c}=n[i],{pos:l,time:f}=n[s]):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=aa(n,"time",t)),{time:a,pos:c}=n[i],{time:l,pos:f}=n[s]);const d=l-a;return d?c+(f-c)*(t-a)/d:c}class Y5 extends _S{static id="timeseries";static defaults=_S.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Zh(e,this.min),this._tableRange=Zh(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],a=[];let l,c,f,d,g;for(l=0,c=t.length;l<c;++l)d=t[l],d>=e&&d<=i&&s.push(d);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,c=s.length;l<c;++l)g=s[l+1],f=s[l-1],d=s[l],Math.round((g+f)/2)!==d&&a.push({time:d,pos:l/(c-1)});return a}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((s,a)=>s-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Zh(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Zh(this._table,i*this._tableRange+this._minPos,!0)}}const bA="label";function bS(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function VD(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function vA(n,t){n.labels=t}function wA(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bA;const i=[];n.datasets=t.map(s=>{const a=n.datasets.find(l=>l[e]===s[e]);return!a||!s.data||i.includes(a)?{...s}:(i.push(a),Object.assign(a,s),a)})}function WD(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bA;const e={labels:[],datasets:[]};return vA(e,n.labels),wA(e,n.datasets,t),e}function KD(n,t){const{height:e=150,width:i=300,redraw:s=!1,datasetIdKey:a,type:l,data:c,options:f,plugins:d=[],fallbackContent:g,updateMode:y,..._}=n,S=Ee.useRef(null),x=Ee.useRef(null),E=()=>{S.current&&(x.current=new Jd(S.current,{type:l,data:WD(c,a),options:f&&{...f},plugins:d}),bS(t,x.current))},T=()=>{bS(t,null),x.current&&(x.current.destroy(),x.current=null)};return Ee.useEffect(()=>{!s&&x.current&&f&&VD(x.current,f)},[s,f]),Ee.useEffect(()=>{!s&&x.current&&vA(x.current.config.data,c.labels)},[s,c.labels]),Ee.useEffect(()=>{!s&&x.current&&c.datasets&&wA(x.current.config.data,c.datasets,a)},[s,c.datasets]),Ee.useEffect(()=>{x.current&&(s?(T(),setTimeout(E)):x.current.update(y))},[s,f,c.labels,c.datasets,y]),Ee.useEffect(()=>{x.current&&(T(),setTimeout(E))},[l]),Ee.useEffect(()=>(E(),()=>T()),[]),oa.createElement("canvas",{ref:S,role:"img",height:e,width:i,..._},g)}const YD=Ee.forwardRef(KD);function ZD(n,t){return Jd.register(t),Ee.forwardRef((e,i)=>oa.createElement(YD,{...e,ref:i,type:n}))}const XD=ZD("line",jL);Jd.register(tp,UD,eD,ID,AD,LD,sD);function ug({label:n,series:t=[],value:e,xWindow:i=10,yMin:s=0,yMax:a=100,decimateSamples:l}){const c=T=>Array.isArray(T)&&T.length?T[T.length-1]:null,f=Number.isFinite(e)?e:c(t)??0,d=$D(f,s,a),g=Array.isArray(t)?typeof i=="number"&&i>0?t.slice(-i):t:[],y=g.map((T,N)=>N),_=JD(d),S=tj(_).join(","),x={labels:y,datasets:[{data:g,borderColor:_,backgroundColor:`rgba(${S},0.16)`,fill:!0,tension:.35,pointRadius:0,borderWidth:1.5}]},E={responsive:!0,maintainAspectRatio:!1,scales:{x:{display:!1},y:{display:!1,min:s,max:a}},plugins:{legend:{display:!1},tooltip:{enabled:!1},decimation:l?{enabled:!0,algorithm:"lttb",samples:l}:{enabled:!1}},animation:!1};return V.jsxs("div",{className:"relative w-full h-24 rounded-xl overflow-hidden ring-1 ring-white/20 bg-[#0f172a] shadow-sm","aria-label":`${n} ${d}%`,title:`${n} ${d}%`,children:[V.jsx("div",{className:"absolute inset-0",children:V.jsx(XD,{data:x,options:E})}),V.jsx("div",{className:"absolute inset-0 px-3 py-2 flex items-start justify-center",children:V.jsxs("div",{className:"text-sm font-semibold",style:{color:_},children:[QD(d),"%"]})})]})}function GD({cpuSeries:n=[],emmcSeries:t=[],ramSeries:e=[],cpuValue:i,emmcValue:s,ramValue:a,xWindow:l,yMin:c=0,yMax:f=100,decimateSamples:d}){return V.jsx("div",{className:"h-36 col-span-4 bg-slate-900 rounded-xl ring-1 ring-slate-900/10 border border-white/10 bg-[#122033]/60 p-2 shadow-md",children:V.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[V.jsxs("div",{className:"flex flex-col items-center",children:[V.jsx("span",{className:"text-slate-200 text-lg",children:"CPU"}),V.jsx(ug,{label:"CPU",series:n,value:i,xWindow:l,yMin:c,yMax:f,decimateSamples:d})]}),V.jsxs("div",{className:"flex flex-col items-center",children:[V.jsx("span",{className:"text-slate-200 text-lg",children:"eMMC"}),V.jsx(ug,{label:"eMMC",series:t,value:s,xWindow:l,yMin:c,yMax:f,decimateSamples:d})]}),V.jsxs("div",{className:"flex flex-col items-center",children:[V.jsx("span",{className:"text-slate-200 text-lg",children:"RAM"}),V.jsx(ug,{label:"RAM",series:e,value:a,xWindow:l,yMin:c,yMax:f,decimateSamples:d})]})]})})}function $D(n,t,e){return Math.min(e,Math.max(t,n))}function QD(n){return Math.round(n*10)/10}function JD(n){return n>=75?"#ef4444":n>=55?"#f59e0b":"#22c55e"}function tj(n){const t=n.replace("#",""),e=parseInt(t.length===3?t.split("").map(i=>i+i).join(""):t,16);return[e>>16&255,e>>8&255,e&255]}function ej({open:n,onClose:t,issues:e=[],title:i="정상 상태가 아닌 항목"}){return n?V.jsxs("div",{className:"fixed inset-0 z-[9999]",children:[V.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:t}),V.jsx("div",{className:"absolute inset-0 grid place-items-center p-4",children:V.jsxs("div",{className:"w-full max-w-lg rounded-2xl bg-[#0f172a] ring-1 ring-white/10 shadow-xl overflow-hidden",children:[V.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/10",children:[V.jsx("h3",{className:"text-slate-100 font-semibold",children:i}),V.jsx("button",{onClick:t,className:"p-1 rounded hover:bg-white/10","aria-label":"닫기",children:V.jsx(Gd,{size:18})})]}),V.jsxs("div",{className:"p-4 text-sm",children:[e.length===0?V.jsx("div",{className:"text-emerald-300",children:"모든 항목이 정상입니다."}):V.jsx("ul",{className:"space-y-2",children:e.map((s,a)=>V.jsxs("li",{className:"flex items-start gap-2",children:[V.jsx(HN,{className:"mt-0.5",size:16}),V.jsx("span",{className:"text-slate-200",children:s})]},a))}),V.jsx("p",{className:"text-slate-400 text-xs mt-4",children:"* 항목은 장치가 보고한 상태를 바탕으로 계산됩니다."})]}),V.jsx("div",{className:"px-4 py-3 border-t border-white/10 flex justify-end",children:V.jsx("button",{onClick:t,className:"px-3 py-1.5 rounded bg-slate-700 hover:bg-slate-600 text-slate-100",children:"닫기"})})]})})]}):null}function xA(n){if(typeof n=="string"&&n.trim())return n.trim();try{const t=n?.interface_info?.interface_array;if(!Array.isArray(t))return null;const e=t.find(s=>s?.name==="ltev2x0"&&s?.ip_addr);if(e?.ip_addr)return e.ip_addr;const i=t.find(s=>s?.ip_addr&&s.ip_addr!=="127.0.0.1");if(i?.ip_addr)return i.ip_addr}catch(t){console.error("IP 추출 실패:",t)}return null}function nj(n=new Date){const t=-n.getTimezoneOffset(),e=t>=0?"+":"-",i=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),s=String(Math.abs(t)%60).padStart(2,"0");return n.toISOString().replace("Z",`${e}${i}:${s}`)}function SA(){return Math.floor(Date.now()%1e9+Math.random()*1e6)}function ij(n){const t=new Uint8Array(n);let e="";for(let i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);return btoa(e)}async function rj(n,{connectTimeout:t=5e3,keepalive:e=30,reconnectPeriod:i=2e3}={}){return new Promise((s,a)=>{const l=gE.connect(n,{connectTimeout:t,keepalive:e,reconnectPeriod:i}),c=()=>{d(),s(l),ri({level:"INFO",source:"DIRECT",event:"DIRECT_CONNECTED",message:`Connected to ${n}`})},f=g=>{d();try{l.end(!0)}catch{}a(g)},d=()=>{l.off("connect",c),l.off("error",f)};l.once("connect",c),l.once("error",f)})}async function sj(n,t={}){const e=`ws://${n}:9001`;try{return{client:await rj(e,t),url:e}}catch(i){throw ri({level:"ERROR",source:"DIRECT",entity:n,event:"DIRECT_CONNECT_FAIL",message:"Direct MQTT connect failed",details:{url:e,error:String(i)}}),i??new Error(`Direct MQTT connect failed: ${n}`)}}class oj{constructor(t,e,i){this.ip=t,this.client=e,this.url=i,this.lastUsed=Date.now()}touch(){this.lastUsed=Date.now()}publishJson(t,e,{qos:i=1,retain:s=!1}={}){return this.touch(),new Promise((a,l)=>{try{this.client.publish(t,JSON.stringify(e),{qos:i,retain:s},c=>{c?(ri({level:"ERROR",source:"DIRECT",entity:this.ip,event:"DIRECT_PUBLISH_FAIL",message:`Publish failed: ${t}`,details:{error:String(c)}}),l(c)):(ri({level:"INFO",source:"DIRECT",entity:this.ip,event:"DIRECT_PUBLISH_OK",message:`Publish success: ${t}`}),a())})}catch(c){ri({level:"ERROR",source:"DIRECT",entity:this.ip,event:"DIRECT_PUBLISH_THROW",message:`Publish threw: ${t}`,details:{error:String(c)}}),l(c)}})}rpcJson({reqTopic:t,resTopic:e,payload:i,match:s,timeoutMs:a=6e3,qos:l=1}){return this.touch(),new Promise(async(c,f)=>{let d;const g=(y,_)=>{if(y===e)try{const S=JSON.parse(_.toString());console.log("RPC Response:",S),!s||s(S)?(clearTimeout(d),this.client.off("message",g),this.client.unsubscribe(e,()=>{}),ri({level:"INFO",source:"DIRECT",entity:this.ip,event:"DIRECT_RPC_OK",message:`RPC matched: ${e}`}),c(S)):console.log("RPC Response match failed",{response:S,match:s})}catch(S){console.error("Failed to parse RPC response:",S)}};try{await new Promise((y,_)=>this.client.subscribe(e,{qos:l},S=>S?_(S):y())),this.client.on("message",g),d=setTimeout(()=>{this.client.off("message",g),this.client.unsubscribe(e,()=>{}),ri({level:"WARN",source:"DIRECT",entity:this.ip,event:"DIRECT_RPC_TIMEOUT",message:`RPC timeout: ${e}`,details:{reqTopic:t,timeoutMs:a}}),f(new Error(`RPC timeout: ${e}`))},a),await this.publishJson(t,i,{qos:l})}catch(y){clearTimeout(d),this.client.off("message",g);try{this.client.unsubscribe(e,()=>{})}catch{}ri({level:"ERROR",source:"DIRECT",entity:this.ip,event:"DIRECT_RPC_FAIL",message:"RPC flow failed",details:{error:String(y),reqTopic:t,resTopic:e}}),f(y)}})}close(){try{this.client.end(!0)}catch{}}}const Pu=new Map;let vS=null;const aj=120*1e3;function lj(){vS||(vS=setInterval(()=>{const n=Date.now();for(const[t,e]of Pu.entries())Promise.resolve(e).then(i=>{n-i.lastUsed>aj&&(i.close(),Pu.delete(t),ri({level:"INFO",source:"DIRECT",entity:t,event:"SESSION_CLEANED",message:"Idle session cleaned up"}))}).catch(()=>Pu.delete(t))},3e4))}async function EA(n){const t=xA(n);if(!t)throw new Error("Device IP required (unable to extract from packet)");return lj(),Pu.has(t)||Pu.set(t,(async()=>{const{client:e,url:i}=await sj(t);return new oj(t,e,i)})()),Pu.get(t)}async function uj({pktOrIp:n,topic:t,payload:e,qos:i=1,retain:s=!1}){return(await EA(n)).publishJson(t,e,{qos:i,retain:s})}async function cj({pktOrIp:n,reqTopic:t,resTopic:e,payload:i,match:s,timeoutMs:a=6e3,qos:l=1}){return(await EA(n)).rpcJson({reqTopic:t,resTopic:e,payload:i,match:s,timeoutMs:a,qos:l})}const Hd={TAMPER_ENABLE:"fac/V2X_MAINTENANCE_HUB_CLIENT_PA/TAMPER_SECURE_PA/tamperSecureEnable/req",TAMPER_DISABLE:"fac/V2X_MAINTENANCE_HUB_CLIENT_PA/TAMPER_SECURE_PA/tamperSecureDisable/req",CERT_APPLY_REQ:"fac/V2X_MAINTENANCE_HUB_CLIENT_PA/SS_DOT2_SVC_PA/ssDot2ApplyDot2BundleCertZip/req",CERT_APPLY_RES:"fac/SS_DOT2_SVC_PA/V2X_MAINTENANCE_HUB_CLIENT_PA/ssDot2ApplyDot2BundleCertZip/resp"},fj={CERT_UPLOAD:12e3},hj={gnssAntenna:"GNSS 안테나",lteAntenna1:"LTE-V2X 안테나1",lteAntenna2:"LTE-V2X 안테나2",v2xUsb:"V2X USB",v2xSpi:"V2X SPI",sramVbat:"SRAM VBAT",ppsSync:"1PPS 동기",cpuOk:"CPU 사용률",memOk:"메모리 사용률",diskOk:"스토리지 사용률",tempOk:"온도"},tl={BASE:"h-36 col-span-2 device-inspection-icon-btn transition-colors",OK:"bg-emerald-900/90 ring-1 ring-emerald-500/30",WARN:"bg-amber-900/90 ring-1"},sa={OK:"ok",EXPIRED:"expired",DISABLED:"disabled",UNKNOWN:"unknown"};async function dj(n,t,e){const i={VER:"1.0",TRANSACTION_ID:e,BUNDLE_CERT_DATA_BASE64:t};return await cj({pktOrIp:n,reqTopic:Hd.CERT_APPLY_REQ,resTopic:Hd.CERT_APPLY_RES,payload:i,timeoutMs:fj.CERT_UPLOAD,match:a=>Number(a?.CODE)===200})}function wS(n){return n?new Date(n).toLocaleString():"정보 없음"}function pj({open:n,onClose:t,certificate:e,certDaysLeft:i,pktOrIp:s}){if(!n)return null;const a=!!e?.ltev2x_cert_status_security_enable,l=ju(Number(e?.ltev2x_cert_valid_start)),c=ju(Number(e?.ltev2x_cert_valid_end)),f=Number.isFinite(i)?i>=0?`D-${i}`:`만료 ${-i}일`:"정보 없음";async function d(){try{if(!s){alert("업로드 대상 정보가 없습니다.");return}const g=document.createElement("input");g.type="file",g.accept=".zip",g.onchange=async y=>{try{const _=y.target.files?.[0];if(!_)return;const S=await _.arrayBuffer(),x=ij(S),E=SA(),T=await dj(s,x,E);console.log("[Certificate Upload Response]",T),alert(`응답 CODE=${T?.CODE}, TX=${T?.TRANSACTION_ID}
전송 성공`)}catch(_){console.error("Certificate upload error:",_),alert(`업로드 실패: ${_?.message||_}`)}finally{if(y?.target)try{y.target.value=""}catch{}}},g.click()}catch(g){console.error("Upload preparation error:",g),alert(`업로드 준비 실패: ${g?.message||g}`)}}return V.jsxs("div",{className:"fixed inset-0 z-[9999]",children:[V.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:t}),V.jsx("div",{className:"absolute inset-0 grid place-items-center p-4",children:V.jsxs("div",{className:"w-full max-w-lg rounded-2xl bg-[#0f172a] ring-1 ring-white/10 shadow-xl overflow-hidden",children:[V.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/10",children:[V.jsxs("h3",{className:"text-slate-100 font-semibold flex items-center gap-2",children:[V.jsx(OE,{size:18}),"인증서 정보"]}),V.jsx("button",{onClick:t,className:"p-1 rounded hover:bg-white/10 transition-colors","aria-label":"닫기",children:V.jsx(Gd,{size:18})})]}),V.jsxs("div",{className:"p-4 space-y-3 text-sm text-slate-200",children:[V.jsxs("div",{className:"grid grid-cols-3 gap-y-2",children:[V.jsx("div",{className:"text-slate-400",children:"보안 기능"}),V.jsx("div",{className:"col-span-2",children:a?"활성화":"비활성화"}),V.jsx("div",{className:"text-slate-400",children:"유효 시작"}),V.jsx("div",{className:"col-span-2",children:wS(l)}),V.jsx("div",{className:"text-slate-400",children:"유효 종료"}),V.jsx("div",{className:"col-span-2",children:wS(c)}),V.jsx("div",{className:"text-slate-400",children:"만기"}),V.jsx("div",{className:"col-span-2",children:f})]}),V.jsx("div",{className:"mt-3 text-xs text-slate-400",children:"* 유효 기간 epoch는 플랫폼 설정에 따라 1970 또는 2004 기준일 수 있습니다."})]}),V.jsxs("div",{className:"px-4 py-3 border-t border-white/10 flex justify-end gap-2",children:[V.jsx("button",{onClick:d,className:"px-3 py-1.5 rounded bg-slate-700 text-slate-100 hover:bg-slate-600 transition-colors",children:"갱신 (업로드)"}),V.jsx("button",{onClick:t,className:"px-3 py-1.5 rounded bg-slate-700 text-slate-100 hover:bg-slate-600 transition-colors",children:"닫기"})]})]})})]})}function k_(n,t="정보 없음"){if(!n)return t;try{return new Date(n).toLocaleString()}catch{return t}}function cg(n,t=3,e="—"){return Number.isFinite(n)?`${n.toFixed(t)}%`:e}function mj(n,t="—"){return Number.isFinite(n)?`${n} ℃`:t}function gj(n,t=6,e="—"){return!n||!Number.isFinite(n.lat)||!Number.isFinite(n.lon)?e:`${n.lat.toFixed(t)}, ${n.lon.toFixed(t)}`}function yj(n,t="—"){return n!=null?`${n} dBm`:t}function _j(n,t="정보 없음"){return Number.isFinite(n)?n>=0?`D-${n}`:`만료 ${-n}일`:t}function bj(n,t="data.json"){try{const e=JSON.stringify(n,null,2),i=new Blob([e],{type:"application/json"}),s=URL.createObjectURL(i),a=document.createElement("a");return a.href=s,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s),!0}catch(e){return console.error("JSON download failed:",e),!1}}async function vj(n){try{if(navigator.clipboard&&navigator.clipboard.writeText)return await navigator.clipboard.writeText(n),!0;const t=document.createElement("textarea");t.value=n,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select();const e=document.execCommand("copy");return document.body.removeChild(t),e}catch(t){return console.error("Clipboard copy failed:",t),!1}}function AA(n){return n?typeof n=="number"&&Number.isFinite(n)?Number(n):typeof n=="object"?Number(n.healthPct??n.pct??0):0:0}function wj(n){return!n||typeof n!="object"?[]:Object.entries(n).filter(([t,e])=>e===!1).map(([t])=>t)}function ur({label:n,value:t}){return V.jsxs("div",{className:"grid grid-cols-3 gap-y-1",children:[V.jsx("div",{className:"text-slate-400",children:n}),V.jsx("div",{className:"col-span-2",children:t})]})}function Uc({title:n,children:t,className:e=""}){return V.jsxs("div",{className:`rounded-xl bg-[#0b1524] ring-1 ring-white/10 p-3 space-y-2 ${e}`,children:[V.jsx("div",{className:"font-semibold text-slate-100",children:n}),t]})}function xj({open:n,onClose:t,selected:e}){const i=Xm(T=>T.showRawJson),s=Xm(T=>T.toggleRawJson),a=Xm(T=>T.reset),[l,c]=Ee.useState(!1);if(!n)return null;const f=()=>{a(),t()},d=()=>{const T=`debug_${e?.serial??e?.id??"unknown"}.json`;bj(e??{},T)||alert("다운로드에 실패했습니다.")},g=async()=>{const T=JSON.stringify(e?.__raw??{},null,2);await vj(T)?(c(!0),setTimeout(()=>c(!1),2e3)):alert("클립보드 복사에 실패했습니다.")},y=Sj(e),_=Ej(e),S=Aj(e),x=Tj(e),E=kj(e);return V.jsxs("div",{className:"fixed inset-0 z-[9999]",children:[V.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:f}),V.jsx("div",{className:"absolute inset-0 grid place-items-center p-4",children:V.jsxs("div",{className:"w-full max-w-3xl rounded-2xl bg-[#0f172a] ring-1 ring-white/10 shadow-xl overflow-hidden flex flex-col max-h-[90vh]",children:[V.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/10 shrink-0",children:[V.jsx("h3",{className:"text-slate-100 font-semibold",children:"디버그 정보"}),V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsxs("button",{onClick:d,className:"inline-flex items-center gap-1 px-2 py-1 rounded bg-slate-700 hover:bg-slate-600 text-slate-100 text-xs transition-colors",title:"JSON 다운로드",children:[V.jsx(PN,{size:16}),"JSON 저장"]}),V.jsx("button",{onClick:f,className:"p-1 rounded hover:bg-white/10 transition-colors","aria-label":"닫기",children:V.jsx(Gd,{size:18})})]})]}),V.jsxs("div",{className:"p-4 grid grid-cols-2 overflow-y-auto gap-4 text-sm text-slate-200 flex-1",children:[V.jsxs(Uc,{title:"기본",className:"col-span-2 md:col-span-1",children:[V.jsx(ur,{label:"시리얼",value:y.serial}),V.jsx(ur,{label:"상태",value:y.status}),V.jsx(ur,{label:"최종 갱신",value:y.lastUpdate})]}),V.jsxs(Uc,{title:"신호 / 위치",className:"col-span-2 md:col-span-1",children:[V.jsx(ur,{label:"RSSI(dBm)",value:_.rssi}),V.jsx(ur,{label:"Bars",value:_.bars}),V.jsx(ur,{label:"좌표",value:_.coordinates})]}),V.jsxs(Uc,{title:"Health",className:"col-span-2 md:col-span-1",children:[V.jsx(ur,{label:"정상 비율",value:S.percentage}),V.jsx(ur,{label:"이슈 개수",value:S.issueCount}),S.issues.length>0&&V.jsxs("div",{className:"mt-1",children:[V.jsx("div",{className:"text-slate-400 mb-1",children:"비정상 항목"}),V.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:S.issues.map((T,N)=>V.jsx("li",{children:T},N))})]})]}),V.jsxs(Uc,{title:"시스템 리소스",className:"col-span-2 md:col-span-1",children:[V.jsx(ur,{label:"CPU 사용률",value:x.cpu}),V.jsx(ur,{label:"메모리 사용률",value:x.memory}),V.jsx(ur,{label:"스토리지 사용률",value:x.disk}),V.jsx(ur,{label:"온도",value:x.temperature})]}),V.jsxs(Uc,{title:"인증서",className:"col-span-2",children:[V.jsx(ur,{label:"보안 기능",value:E.status}),V.jsx(ur,{label:"유효 시작",value:E.validStart}),V.jsx(ur,{label:"유효 종료",value:E.validEnd}),V.jsx(ur,{label:"만기",value:E.expiry}),V.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"* 유효 기간 epoch는 플랫폼 설정에 따라 1970 또는 2004 기준일 수 있습니다."})]}),V.jsxs("div",{className:"col-span-2",children:[V.jsxs("button",{type:"button",onClick:s,className:"inline-flex items-center gap-1 px-2 py-1 rounded ring-1 ring-white/10 bg-slate-700/40 hover:bg-slate-700/50 text-xs transition-colors","aria-expanded":i,children:[i?V.jsx(kN,{size:14}):V.jsx(ON,{size:14}),"자세히(원본 JSON)"]}),i&&V.jsxs("div",{className:"mt-2 relative",children:[V.jsx("button",{onClick:g,className:"absolute top-2 right-2 p-1.5 rounded bg-slate-700/80 hover:bg-slate-600/80 text-slate-100 transition-colors",title:"JSON 복사",children:l?V.jsx(AN,{size:14}):V.jsx(RN,{size:14})}),V.jsx("pre",{className:"max-h-64 overflow-auto text-xs whitespace-pre-wrap bg-black/30 rounded p-3 pr-12",children:JSON.stringify(e?.__raw??{},null,2)})]})]})]}),V.jsx("div",{className:"px-4 py-3 border-t border-white/10 flex justify-end shrink-0",children:V.jsx("button",{onClick:f,className:"px-3 py-1.5 rounded bg-slate-700 hover:bg-slate-600 text-slate-100 transition-colors",children:"닫기"})})]})})]})}function Sj(n){return{serial:n?.serial??n?.id??"—",status:n?.active?"Active":"Inactive",lastUpdate:n?.updatedAt?k_(n.updatedAt):"—"}}function Ej(n){return{rssi:yj(n?.rssiDbm),bars:String(Number.isFinite(n?.bars)?n.bars:0),coordinates:gj(n?.coords)}}function Aj(n){const t=n?.health,e=AA(t),i=Array.isArray(t?.issues)&&t.issues.length>0?t.issues:[],s=wj(t?.flags),a=i.length>0?i:s;return{percentage:`${e}%`,issueCount:String(a.length),issues:a}}function Tj(n){return{cpu:cg(n?.cpuTotalPct),memory:cg(n?.memUsedPct),disk:cg(n?.diskUsedPct),temperature:mj(n?.temperatureC)}}function kj(n){const t=n?.__raw?.certificate??n?.certificate??null,e=!!t?.ltev2x_cert_status_security_enable;return{status:t?e?"활성화":"비활성화":"정보 없음",validStart:t?k_(ju(Number(t?.ltev2x_cert_valid_start))):"정보 없음",validEnd:t?k_(ju(Number(t?.ltev2x_cert_valid_end))):"정보 없음",expiry:_j(n?.certDaysLeft)}}function Mj(n){if(!n)return null;const t=n.ltev2x_cert_valid_end;if(!t||t===0)return null;const i=(t+1072915200)*1e3,s=Date.now(),a=i-s;return Math.floor(a/(1e3*60*60*24))}function Oj(){const n=Of(f=>f.phase),t=Ga(f=>f.setSelected);Ee.useEffect(()=>(vo.getState().startStaleWatcher(10,1e3),()=>vo.getState().stopStaleWatcher()),[]),Ee.useEffect(()=>{n!=="running"&&t(null)},[n,t]);const e=Ga(f=>f.selectedId),i=vo(f=>e?f.byId[e]:null,__),s=Ga(f=>f.seriesById),a=Ga(f=>f.latestById),l=Ee.useMemo(()=>{const f=s?.[e]||{};return{cpu:Array.isArray(f.cpu)?f.cpu:[],emmc:Array.isArray(f.emmc)?f.emmc:[],ram:Array.isArray(f.ram)?f.ram:[]}},[s,e]),c=Ee.useMemo(()=>{const f=a?.[e]||{};return{cpu:Number.isFinite(f.cpu)?f.cpu:null,emmc:Number.isFinite(f.emmc)?f.emmc:null,ram:Number.isFinite(f.ram)?f.ram:null}},[a,e]);return V.jsx("div",{className:"grid w-full h-full",children:V.jsxs(la,{className:"p-4 overflow-hidden gap-2",children:[V.jsx("div",{className:"flex items-start justify-between mb-3",children:V.jsx("h2",{className:"main-card-title",children:"장치 모니터링"})}),V.jsx(Cj,{selected:i,series:l,latest:c}),V.jsx(ER,{selectedId:e,onSelect:f=>t(f.id)})]})})}function Cj({selected:n,series:t,latest:e}){const i=Zm(S=>S.modals),s=Zm(S=>S.openModal),a=Zm(S=>S.closeModal),l=Ga(S=>S.setWarning),c=AA(n?.health);Ee.useEffect(()=>{if(!n?.id)return;const x=Number.isFinite(c)?c!==100:!1;l(n.id,x)},[n?.id,c,l]);const f=Ee.useMemo(()=>{const S=n?.__raw?.certificate;return S?Mj(S):null},[n?.__raw?.certificate]),d=Ee.useMemo(()=>({bars:Number.isFinite(n?.bars)?n.bars:0,rssiDbm:Number.isFinite(n?.rssiDbm)?n.rssiDbm:null}),[n?.bars,n?.rssiDbm]);if(!n||!n.active)return V.jsx("div",{className:"rounded-xl ring-1 ring-white/10 bg-[#122033]/60 p-4",children:V.jsx("div",{className:"text-slate-400",children:"하단 목록을 클릭하면 상세정보가 표시됩니다."})});const g=!!n?.__raw?.tamper_secure_status;async function y(){const S=!g,x=S?Hd.TAMPER_ENABLE:Hd.TAMPER_DISABLE,E=S?"물리 보안을 적용하시겠습니까? (장치가 재부팅 됩니다)":"물리 보안을 해제하시겠습니까?";if(window.confirm(E))try{const T=xA(n.__raw);if(!T)throw new Error("장치의 LTE-V2X IP를 찾을 수 없습니다.");const N={VER:"1.0",TRANSACTION_ID:SA(),TS:nj()};await uj({pktOrIp:T,topic:x,payload:N,qos:1}),console.log("Tamper toggle success"),alert("요청 전송 완료")}catch(T){console.error("Tamper toggle failed:",T),alert(`전송 실패: ${T?.message||T}`)}}const _=Rj(n?.health);return V.jsxs("div",{className:"rounded-xl ring-1 ring-white/10 bg-[#122033]/80 p-4 text-slate-300 text-sm",children:[V.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[V.jsx("div",{className:"flex items-center gap-2 col-span-4 justify-between",children:V.jsxs("div",{className:"flex items-center gap-4",children:[V.jsx(NE,{on:!!n.active}),V.jsx("div",{className:"px-2 py-1.5 rounded-lg bg-[#0f172a] ring-1 ring-white/10 text-slate-200 w-40",children:n.serial})]})}),V.jsxs("div",{className:"col-start-6 col-span-5 flex items-end gap-1 mb-2","aria-label":"신호 세기",children:[V.jsx(RE,{bars:d.bars}),V.jsx("span",{className:"ml-2",children:d.rssiDbm!=null?`${d.rssiDbm} dBm`:"-"})]}),V.jsx("div",{className:"col-span-2 device-inspection-icon-btn bg-rose-900/90",children:V.jsx("span",{children:"재부팅"})}),V.jsxs("div",{className:"flex justify-between col-span-12 space-x-2",children:[V.jsx("button",{className:"w-40 flex-auto device-inspection-icon-btn justify-center bg-cyan-900/90",children:V.jsx("span",{children:"MAP Data 업데이트"})}),V.jsx("button",{className:"w-40 flex-auto device-inspection-icon-btn justify-center bg-cyan-900/90",children:V.jsx("span",{children:"장치제어(SNMP)"})}),V.jsx("button",{className:"w-40 flex-auto device-inspection-icon-btn justify-center bg-cyan-900/90",children:V.jsx("span",{children:"S/W 업데이트"})}),V.jsx("button",{type:"button",onClick:()=>s("debug"),className:"w-40 flex-auto device-inspection-icon-btn justify-center bg-cyan-900/90",title:"전체 정보 보기/저장",children:V.jsx("span",{children:"디버그 정보 저장"})})]}),V.jsx(Nj,{isTamperOn:g,onTamperToggle:y,certificate:n?.__raw?.certificate,certDaysLeft:f,onCertClick:()=>s("certificate")}),V.jsx("button",{type:"button",className:"col-span-4 row-span-2 flex items-center justify-center gap-4",onClick:()=>s("healthIssues"),"aria-label":"비정상 항목 보기",title:"비정상 항목 보기",children:V.jsxs("div",{className:"relative w-36 h-36",children:[V.jsx($_,{value:c,variant:"conic",size:144,stroke:18,title:`정상 ${c}%`,"aria-label":"current status",formatValue:S=>`${S}%`}),V.jsx("span",{className:"text-[10px] w-42 h-10 text-slate-400",children:"* 상세 정보를 보려면 클릭"})]})}),V.jsx(GD,{cpuSeries:t?.cpu??[],emmcSeries:t?.emmc??[],ramSeries:t?.ram??[],cpuValue:e?.cpu,emmcValue:e?.emmc,ramValue:e?.ram})]}),V.jsx(ej,{open:i.healthIssues,onClose:()=>a("healthIssues"),issues:_,title:"정상 상태가 아닌 항목"}),V.jsx(pj,{open:i.certificate,onClose:()=>a("certificate"),certificate:n?.__raw?.certificate,certDaysLeft:f,pktOrIp:n?.__raw}),V.jsx(xj,{open:i.debug,onClose:()=>a("debug"),selected:n})]})}function Nj({isTamperOn:n,onTamperToggle:t,certificate:e,certDaysLeft:i,onCertClick:s}){const a=n?OE:UN,l=Lj(e,i),c=Pj(l,i);return V.jsxs(V.Fragment,{children:[V.jsxs("button",{className:`${tl.BASE} ${n?tl.OK:tl.WARN}`,title:n?"물리 보안: 적용 중":"물리 보안: 비활성 — 조치 필요",onClick:t,"aria-live":"polite",children:[V.jsx("span",{children:"물리 보안"}),V.jsx(a,{size:50}),V.jsx("span",{children:n?"적용 중":"미적용"})]}),V.jsxs("button",{type:"button",onClick:s,className:`${tl.BASE} ${c.tileClass}`,title:c.title,"aria-live":"polite",children:[V.jsx("span",{children:"인증서"}),V.jsx(c.Icon,{size:50}),V.jsx("span",{children:c.label})]})]})}function Rj(n){if(!n)return[];if(Array.isArray(n.issues)&&n.issues.length>0)return n.issues;const t=n.flags&&typeof n.flags=="object"?n.flags:null;return t?Object.entries(t).filter(([e,i])=>i===!1).map(([e])=>hj[e]||e):[]}function Lj(n,t){if(!n)return sa.UNKNOWN;const e=n.ltev2x_cert_status_security_enable;return e===!0||e===1||e==="1"||e==="Y"||e==="y"?t==null?sa.UNKNOWN:t>=0?sa.OK:sa.EXPIRED:sa.DISABLED}function Pj(n,t){return{[sa.OK]:{Icon:SN,tileClass:tl.OK,label:`D-${t}`,title:"인증서 유효"},[sa.EXPIRED]:{Icon:Ym,tileClass:tl.WARN,label:`만료 ${-t}일`,title:`인증서 만료 ${-t}일 — 조치 필요`},[sa.DISABLED]:{Icon:Ym,tileClass:tl.WARN,label:"비활성화",title:"인증서 비활성화 — 조치 필요"},[sa.UNKNOWN]:{Icon:Ym,tileClass:tl.WARN,label:"정보 없음",title:"인증서 D-day 정보 없음 — 조치 필요"}}[n]}function Dj(){return V.jsxs(la,{children:[V.jsx("h1",{className:"text-2xl",children:"설정"}),V.jsx("button",{className:"btn",children:"지도 권역 추가(업로드)"})]})}function TA(n,t){const e=Ee.useRef(t);Ee.useEffect(function(){t!==e.current&&n.attributionControl!=null&&(e.current!=null&&n.attributionControl.removeAttribution(e.current),t!=null&&n.attributionControl.addAttribution(t)),e.current=t},[n,t])}var jj=BS();const Ij=1;function zj(n){return Object.freeze({__version:Ij,map:n})}function Bj(n,t){return Object.freeze({...n,...t})}const hb=Ee.createContext(null);function db(){const n=Ee.use(hb);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function Uj(n){function t(e,i){const{instance:s,context:a}=n(e).current;Ee.useImperativeHandle(i,()=>s);const{children:l}=e;return l==null?null:oa.createElement(hb,{value:a},l)}return Ee.forwardRef(t)}function Fj(n){function t(e,i){const[s,a]=Ee.useState(!1),{instance:l}=n(e,a).current;Ee.useImperativeHandle(i,()=>l),Ee.useEffect(function(){s&&l.update()},[l,s,e.children]);const c=l._contentNode;return c?jj.createPortal(e.children,c):null}return Ee.forwardRef(t)}function kA(n,t){const e=Ee.useRef(void 0);Ee.useEffect(function(){return t!=null&&n.instance.on(t),e.current=t,function(){e.current!=null&&n.instance.off(e.current),e.current=null}},[n,t])}function MA(n,t){const e=n.pane??t.pane;return e?{...n,pane:e}:n}function Hj(n,t){return function(i,s){const a=db(),l=n(MA(i,a),a);return TA(a.map,i.attribution),kA(l.current,i.eventHandlers),t(l.current,a,i,s),l}}var tf={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var qj=tf.exports,xS;function Vj(){return xS||(xS=1,(function(n,t){(function(e,i){i(t)})(qj,(function(e){var i="1.9.4";function s(u){var p,v,O,U;for(v=1,O=arguments.length;v<O;v++){U=arguments[v];for(p in U)u[p]=U[p]}return u}var a=Object.create||(function(){function u(){}return function(p){return u.prototype=p,new u}})();function l(u,p){var v=Array.prototype.slice;if(u.bind)return u.bind.apply(u,v.call(arguments,1));var O=v.call(arguments,2);return function(){return u.apply(p,O.length?O.concat(v.call(arguments)):arguments)}}var c=0;function f(u){return"_leaflet_id"in u||(u._leaflet_id=++c),u._leaflet_id}function d(u,p,v){var O,U,$,yt;return yt=function(){O=!1,U&&($.apply(v,U),U=!1)},$=function(){O?U=arguments:(u.apply(v,arguments),setTimeout(yt,p),O=!0)},$}function g(u,p,v){var O=p[1],U=p[0],$=O-U;return u===O&&v?u:((u-U)%$+$)%$+U}function y(){return!1}function _(u,p){if(p===!1)return u;var v=Math.pow(10,p===void 0?6:p);return Math.round(u*v)/v}function S(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function x(u){return S(u).split(/\s+/)}function E(u,p){Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?a(u.options):{});for(var v in p)u.options[v]=p[v];return u.options}function T(u,p,v){var O=[];for(var U in u)O.push(encodeURIComponent(v?U.toUpperCase():U)+"="+encodeURIComponent(u[U]));return(!p||p.indexOf("?")===-1?"?":"&")+O.join("&")}var N=/\{ *([\w_ -]+) *\}/g;function M(u,p){return u.replace(N,function(v,O){var U=p[O];if(U===void 0)throw new Error("No value provided for variable "+v);return typeof U=="function"&&(U=U(p)),U})}var D=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function I(u,p){for(var v=0;v<u.length;v++)if(u[v]===p)return v;return-1}var R="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function z(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var j=0;function W(u){var p=+new Date,v=Math.max(0,16-(p-j));return j=p+v,window.setTimeout(u,v)}var J=window.requestAnimationFrame||z("RequestAnimationFrame")||W,tt=window.cancelAnimationFrame||z("CancelAnimationFrame")||z("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function ot(u,p,v){if(v&&J===W)u.call(p);else return J.call(window,l(u,p))}function G(u){u&&tt.call(window,u)}var dt={__proto__:null,extend:s,create:a,bind:l,get lastId(){return c},stamp:f,throttle:d,wrapNum:g,falseFn:y,formatNum:_,trim:S,splitWords:x,setOptions:E,getParamString:T,template:M,isArray:D,indexOf:I,emptyImageUrl:R,requestFn:J,cancelFn:tt,requestAnimFrame:ot,cancelAnimFrame:G};function ht(){}ht.extend=function(u){var p=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},v=p.__super__=this.prototype,O=a(v);O.constructor=p,p.prototype=O;for(var U in this)Object.prototype.hasOwnProperty.call(this,U)&&U!=="prototype"&&U!=="__super__"&&(p[U]=this[U]);return u.statics&&s(p,u.statics),u.includes&&(ut(u.includes),s.apply(null,[O].concat(u.includes))),s(O,u),delete O.statics,delete O.includes,O.options&&(O.options=v.options?a(v.options):{},s(O.options,u.options)),O._initHooks=[],O.callInitHooks=function(){if(!this._initHooksCalled){v.callInitHooks&&v.callInitHooks.call(this),this._initHooksCalled=!0;for(var $=0,yt=O._initHooks.length;$<yt;$++)O._initHooks[$].call(this)}},p},ht.include=function(u){var p=this.prototype.options;return s(this.prototype,u),u.options&&(this.prototype.options=p,this.mergeOptions(u.options)),this},ht.mergeOptions=function(u){return s(this.prototype.options,u),this},ht.addInitHook=function(u){var p=Array.prototype.slice.call(arguments,1),v=typeof u=="function"?u:function(){this[u].apply(this,p)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(v),this};function ut(u){if(!(typeof L>"u"||!L||!L.Mixin)){u=D(u)?u:[u];for(var p=0;p<u.length;p++)u[p]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var rt={on:function(u,p,v){if(typeof u=="object")for(var O in u)this._on(O,u[O],p);else{u=x(u);for(var U=0,$=u.length;U<$;U++)this._on(u[U],p,v)}return this},off:function(u,p,v){if(!arguments.length)delete this._events;else if(typeof u=="object")for(var O in u)this._off(O,u[O],p);else{u=x(u);for(var U=arguments.length===1,$=0,yt=u.length;$<yt;$++)U?this._off(u[$]):this._off(u[$],p,v)}return this},_on:function(u,p,v,O){if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}if(this._listens(u,p,v)===!1){v===this&&(v=void 0);var U={fn:p,ctx:v};O&&(U.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(U)}},_off:function(u,p,v){var O,U,$;if(this._events&&(O=this._events[u],!!O)){if(arguments.length===1){if(this._firingCount)for(U=0,$=O.length;U<$;U++)O[U].fn=y;delete this._events[u];return}if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}var yt=this._listens(u,p,v);if(yt!==!1){var qt=O[yt];this._firingCount&&(qt.fn=y,this._events[u]=O=O.slice()),O.splice(yt,1)}}},fire:function(u,p,v){if(!this.listens(u,v))return this;var O=s({},p,{type:u,target:this,sourceTarget:p&&p.sourceTarget||this});if(this._events){var U=this._events[u];if(U){this._firingCount=this._firingCount+1||1;for(var $=0,yt=U.length;$<yt;$++){var qt=U[$],$t=qt.fn;qt.once&&this.off(u,$t,qt.ctx),$t.call(qt.ctx||this,O)}this._firingCount--}}return v&&this._propagateEvent(O),this},listens:function(u,p,v,O){typeof u!="string"&&console.warn('"string" type argument expected');var U=p;typeof p!="function"&&(O=!!p,U=void 0,v=void 0);var $=this._events&&this._events[u];if($&&$.length&&this._listens(u,U,v)!==!1)return!0;if(O){for(var yt in this._eventParents)if(this._eventParents[yt].listens(u,p,v,O))return!0}return!1},_listens:function(u,p,v){if(!this._events)return!1;var O=this._events[u]||[];if(!p)return!!O.length;v===this&&(v=void 0);for(var U=0,$=O.length;U<$;U++)if(O[U].fn===p&&O[U].ctx===v)return U;return!1},once:function(u,p,v){if(typeof u=="object")for(var O in u)this._on(O,u[O],p,!0);else{u=x(u);for(var U=0,$=u.length;U<$;U++)this._on(u[U],p,v,!0)}return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[f(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[f(u)],this},_propagateEvent:function(u){for(var p in this._eventParents)this._eventParents[p].fire(u.type,s({layer:u.target,propagatedFrom:u.target},u),!0)}};rt.addEventListener=rt.on,rt.removeEventListener=rt.clearAllEventListeners=rt.off,rt.addOneTimeEventListener=rt.once,rt.fireEvent=rt.fire,rt.hasEventListeners=rt.listens;var lt=ht.extend(rt);function et(u,p,v){this.x=v?Math.round(u):u,this.y=v?Math.round(p):p}var Pt=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};et.prototype={clone:function(){return new et(this.x,this.y)},add:function(u){return this.clone()._add(nt(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(nt(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new et(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new et(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Pt(this.x),this.y=Pt(this.y),this},distanceTo:function(u){u=nt(u);var p=u.x-this.x,v=u.y-this.y;return Math.sqrt(p*p+v*v)},equals:function(u){return u=nt(u),u.x===this.x&&u.y===this.y},contains:function(u){return u=nt(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function nt(u,p,v){return u instanceof et?u:D(u)?new et(u[0],u[1]):u==null?u:typeof u=="object"&&"x"in u&&"y"in u?new et(u.x,u.y):new et(u,p,v)}function Y(u,p){if(u)for(var v=p?[u,p]:u,O=0,U=v.length;O<U;O++)this.extend(v[O])}Y.prototype={extend:function(u){var p,v;if(!u)return this;if(u instanceof et||typeof u[0]=="number"||"x"in u)p=v=nt(u);else if(u=Z(u),p=u.min,v=u.max,!p||!v)return this;return!this.min&&!this.max?(this.min=p.clone(),this.max=v.clone()):(this.min.x=Math.min(p.x,this.min.x),this.max.x=Math.max(v.x,this.max.x),this.min.y=Math.min(p.y,this.min.y),this.max.y=Math.max(v.y,this.max.y)),this},getCenter:function(u){return nt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return nt(this.min.x,this.max.y)},getTopRight:function(){return nt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var p,v;return typeof u[0]=="number"||u instanceof et?u=nt(u):u=Z(u),u instanceof Y?(p=u.min,v=u.max):p=v=u,p.x>=this.min.x&&v.x<=this.max.x&&p.y>=this.min.y&&v.y<=this.max.y},intersects:function(u){u=Z(u);var p=this.min,v=this.max,O=u.min,U=u.max,$=U.x>=p.x&&O.x<=v.x,yt=U.y>=p.y&&O.y<=v.y;return $&&yt},overlaps:function(u){u=Z(u);var p=this.min,v=this.max,O=u.min,U=u.max,$=U.x>p.x&&O.x<v.x,yt=U.y>p.y&&O.y<v.y;return $&&yt},isValid:function(){return!!(this.min&&this.max)},pad:function(u){var p=this.min,v=this.max,O=Math.abs(p.x-v.x)*u,U=Math.abs(p.y-v.y)*u;return Z(nt(p.x-O,p.y-U),nt(v.x+O,v.y+U))},equals:function(u){return u?(u=Z(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight())):!1}};function Z(u,p){return!u||u instanceof Y?u:new Y(u,p)}function at(u,p){if(u)for(var v=p?[u,p]:u,O=0,U=v.length;O<U;O++)this.extend(v[O])}at.prototype={extend:function(u){var p=this._southWest,v=this._northEast,O,U;if(u instanceof gt)O=u,U=u;else if(u instanceof at){if(O=u._southWest,U=u._northEast,!O||!U)return this}else return u?this.extend(Ut(u)||Tt(u)):this;return!p&&!v?(this._southWest=new gt(O.lat,O.lng),this._northEast=new gt(U.lat,U.lng)):(p.lat=Math.min(O.lat,p.lat),p.lng=Math.min(O.lng,p.lng),v.lat=Math.max(U.lat,v.lat),v.lng=Math.max(U.lng,v.lng)),this},pad:function(u){var p=this._southWest,v=this._northEast,O=Math.abs(p.lat-v.lat)*u,U=Math.abs(p.lng-v.lng)*u;return new at(new gt(p.lat-O,p.lng-U),new gt(v.lat+O,v.lng+U))},getCenter:function(){return new gt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new gt(this.getNorth(),this.getWest())},getSouthEast:function(){return new gt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){typeof u[0]=="number"||u instanceof gt||"lat"in u?u=Ut(u):u=Tt(u);var p=this._southWest,v=this._northEast,O,U;return u instanceof at?(O=u.getSouthWest(),U=u.getNorthEast()):O=U=u,O.lat>=p.lat&&U.lat<=v.lat&&O.lng>=p.lng&&U.lng<=v.lng},intersects:function(u){u=Tt(u);var p=this._southWest,v=this._northEast,O=u.getSouthWest(),U=u.getNorthEast(),$=U.lat>=p.lat&&O.lat<=v.lat,yt=U.lng>=p.lng&&O.lng<=v.lng;return $&&yt},overlaps:function(u){u=Tt(u);var p=this._southWest,v=this._northEast,O=u.getSouthWest(),U=u.getNorthEast(),$=U.lat>p.lat&&O.lat<v.lat,yt=U.lng>p.lng&&O.lng<v.lng;return $&&yt},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,p){return u?(u=Tt(u),this._southWest.equals(u.getSouthWest(),p)&&this._northEast.equals(u.getNorthEast(),p)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Tt(u,p){return u instanceof at?u:new at(u,p)}function gt(u,p,v){if(isNaN(u)||isNaN(p))throw new Error("Invalid LatLng object: ("+u+", "+p+")");this.lat=+u,this.lng=+p,v!==void 0&&(this.alt=+v)}gt.prototype={equals:function(u,p){if(!u)return!1;u=Ut(u);var v=Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng));return v<=(p===void 0?1e-9:p)},toString:function(u){return"LatLng("+_(this.lat,u)+", "+_(this.lng,u)+")"},distanceTo:function(u){return ct.distance(this,Ut(u))},wrap:function(){return ct.wrapLatLng(this)},toBounds:function(u){var p=180*u/40075017,v=p/Math.cos(Math.PI/180*this.lat);return Tt([this.lat-p,this.lng-v],[this.lat+p,this.lng+v])},clone:function(){return new gt(this.lat,this.lng,this.alt)}};function Ut(u,p,v){return u instanceof gt?u:D(u)&&typeof u[0]!="object"?u.length===3?new gt(u[0],u[1],u[2]):u.length===2?new gt(u[0],u[1]):null:u==null?u:typeof u=="object"&&"lat"in u?new gt(u.lat,"lng"in u?u.lng:u.lon,u.alt):p===void 0?null:new gt(u,p,v)}var _t={latLngToPoint:function(u,p){var v=this.projection.project(u),O=this.scale(p);return this.transformation._transform(v,O)},pointToLatLng:function(u,p){var v=this.scale(p),O=this.transformation.untransform(u,v);return this.projection.unproject(O)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var p=this.projection.bounds,v=this.scale(u),O=this.transformation.transform(p.min,v),U=this.transformation.transform(p.max,v);return new Y(O,U)},infinite:!1,wrapLatLng:function(u){var p=this.wrapLng?g(u.lng,this.wrapLng,!0):u.lng,v=this.wrapLat?g(u.lat,this.wrapLat,!0):u.lat,O=u.alt;return new gt(v,p,O)},wrapLatLngBounds:function(u){var p=u.getCenter(),v=this.wrapLatLng(p),O=p.lat-v.lat,U=p.lng-v.lng;if(O===0&&U===0)return u;var $=u.getSouthWest(),yt=u.getNorthEast(),qt=new gt($.lat-O,$.lng-U),$t=new gt(yt.lat-O,yt.lng-U);return new at(qt,$t)}},ct=s({},_t,{wrapLng:[-180,180],R:6371e3,distance:function(u,p){var v=Math.PI/180,O=u.lat*v,U=p.lat*v,$=Math.sin((p.lat-u.lat)*v/2),yt=Math.sin((p.lng-u.lng)*v/2),qt=$*$+Math.cos(O)*Math.cos(U)*yt*yt,$t=2*Math.atan2(Math.sqrt(qt),Math.sqrt(1-qt));return this.R*$t}}),vt=6378137,Mt={R:vt,MAX_LATITUDE:85.0511287798,project:function(u){var p=Math.PI/180,v=this.MAX_LATITUDE,O=Math.max(Math.min(v,u.lat),-v),U=Math.sin(O*p);return new et(this.R*u.lng*p,this.R*Math.log((1+U)/(1-U))/2)},unproject:function(u){var p=180/Math.PI;return new gt((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*p,u.x*p/this.R)},bounds:(function(){var u=vt*Math.PI;return new Y([-u,-u],[u,u])})()};function Rt(u,p,v,O){if(D(u)){this._a=u[0],this._b=u[1],this._c=u[2],this._d=u[3];return}this._a=u,this._b=p,this._c=v,this._d=O}Rt.prototype={transform:function(u,p){return this._transform(u.clone(),p)},_transform:function(u,p){return p=p||1,u.x=p*(this._a*u.x+this._b),u.y=p*(this._c*u.y+this._d),u},untransform:function(u,p){return p=p||1,new et((u.x/p-this._b)/this._a,(u.y/p-this._d)/this._c)}};function At(u,p,v,O){return new Rt(u,p,v,O)}var ce=s({},ct,{code:"EPSG:3857",projection:Mt,transformation:(function(){var u=.5/(Math.PI*Mt.R);return At(u,.5,-u,.5)})()}),Jt=s({},ce,{code:"EPSG:900913"});function ft(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function Et(u,p){var v="",O,U,$,yt,qt,$t;for(O=0,$=u.length;O<$;O++){for(qt=u[O],U=0,yt=qt.length;U<yt;U++)$t=qt[U],v+=(U?"L":"M")+$t.x+" "+$t.y;v+=p?Re.svg?"z":"x":""}return v||"M0 0"}var Vt=document.documentElement.style,ie="ActiveXObject"in window,re=ie&&!document.addEventListener,he="msLaunchUri"in navigator&&!("documentMode"in document),wt=cn("webkit"),fe=cn("android"),ve=cn("android 2")||cn("android 3"),Xt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ke=fe&&cn("Google")&&Xt<537&&!("AudioNode"in window),C=!!window.opera,F=!he&&cn("chrome"),K=cn("gecko")&&!wt&&!C&&!ie,bt=!F&&cn("safari"),Bt=cn("phantom"),ee="OTransition"in Vt,we=navigator.platform.indexOf("Win")===0,Ot=ie&&"transition"in Vt,Wt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ve,Pe="MozPerspective"in Vt,ue=!window.L_DISABLE_3D&&(Ot||Wt||Pe)&&!ee&&!Bt,Fe=typeof orientation<"u"||cn("mobile"),Ye=Fe&&wt,Ci=Fe&&Wt,Te=!window.PointerEvent&&window.MSPointerEvent,Pn=!!(window.PointerEvent||Te),di="ontouchstart"in window||!!window.TouchEvent,vi=!window.L_NO_TOUCH&&(di||Pn),wi=Fe&&C,Kn=Fe&&K,Ks=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Yr=(function(){var u=!1;try{var p=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",y,p),window.removeEventListener("testPassiveEventSupport",y,p)}catch{}return u})(),zi=(function(){return!!document.createElement("canvas").getContext})(),it=!!(document.createElementNS&&ft("svg").createSVGRect),pt=!!it&&(function(){var u=document.createElement("div");return u.innerHTML="<svg/>",(u.firstChild&&u.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),xe=!it&&(function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var p=u.firstChild;return p.style.behavior="url(#default#VML)",p&&typeof p.adj=="object"}catch{return!1}})(),be=navigator.platform.indexOf("Mac")===0,Me=navigator.platform.indexOf("Linux")===0;function cn(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var Re={ie,ielt9:re,edge:he,webkit:wt,android:fe,android23:ve,androidStock:Ke,opera:C,chrome:F,gecko:K,safari:bt,phantom:Bt,opera12:ee,win:we,ie3d:Ot,webkit3d:Wt,gecko3d:Pe,any3d:ue,mobile:Fe,mobileWebkit:Ye,mobileWebkit3d:Ci,msPointer:Te,pointer:Pn,touch:vi,touchNative:di,mobileOpera:wi,mobileGecko:Kn,retina:Ks,passiveEvents:Yr,canvas:zi,svg:it,vml:xe,inlineSvg:pt,mac:be,linux:Me},oi=Re.msPointer?"MSPointerDown":"pointerdown",Ji=Re.msPointer?"MSPointerMove":"pointermove",Ni=Re.msPointer?"MSPointerUp":"pointerup",pn=Re.msPointer?"MSPointerCancel":"pointercancel",kn={touchstart:oi,touchmove:Ji,touchend:Ni,touchcancel:pn},Hn={touchstart:Fi,touchmove:Ui,touchend:Ui,touchcancel:Ui},qn={},pr=!1;function xi(u,p,v){return p==="touchstart"&&Mn(),Hn[p]?(v=Hn[p].bind(this,v),u.addEventListener(kn[p],v,!1),v):(console.warn("wrong event specified:",p),y)}function Bi(u,p,v){if(!kn[p]){console.warn("wrong event specified:",p);return}u.removeEventListener(kn[p],v,!1)}function Yn(u){qn[u.pointerId]=u}function pa(u){qn[u.pointerId]&&(qn[u.pointerId]=u)}function Zr(u){delete qn[u.pointerId]}function Mn(){pr||(document.addEventListener(oi,Yn,!0),document.addEventListener(Ji,pa,!0),document.addEventListener(Ni,Zr,!0),document.addEventListener(pn,Zr,!0),pr=!0)}function Ui(u,p){if(p.pointerType!==(p.MSPOINTER_TYPE_MOUSE||"mouse")){p.touches=[];for(var v in qn)p.touches.push(qn[v]);p.changedTouches=[p],u(p)}}function Fi(u,p){p.MSPOINTER_TYPE_TOUCH&&p.pointerType===p.MSPOINTER_TYPE_TOUCH&&Vn(p),Ui(u,p)}function ti(u){var p={},v,O;for(O in u)v=u[O],p[O]=v&&v.bind?v.bind(u):v;return u=p,p.type="dblclick",p.detail=2,p.isTrusted=!1,p._simulated=!0,p}var ks=200;function So(u,p){u.addEventListener("dblclick",p);var v=0,O;function U($){if($.detail!==1){O=$.detail;return}if(!($.pointerType==="mouse"||$.sourceCapabilities&&!$.sourceCapabilities.firesTouchEvents)){var yt=Ns($);if(!(yt.some(function($t){return $t instanceof HTMLLabelElement&&$t.attributes.for})&&!yt.some(function($t){return $t instanceof HTMLInputElement||$t instanceof HTMLSelectElement}))){var qt=Date.now();qt-v<=ks?(O++,O===2&&p(ti($))):O=1,v=qt}}}return u.addEventListener("click",U),{dblclick:p,simDblclick:U}}function Xr(u,p){u.removeEventListener("dblclick",p.dblclick),u.removeEventListener("click",p.simDblclick)}var Mr=Ms(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),mr=Ms(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ma=mr==="webkitTransition"||mr==="OTransition"?mr+"End":"transitionend";function Ys(u){return typeof u=="string"?document.getElementById(u):u}function Zs(u,p){var v=u.style[p]||u.currentStyle&&u.currentStyle[p];if((!v||v==="auto")&&document.defaultView){var O=document.defaultView.getComputedStyle(u,null);v=O?O[p]:null}return v==="auto"?null:v}function je(u,p,v){var O=document.createElement(u);return O.className=p||"",v&&v.appendChild(O),O}function Sn(u){var p=u.parentNode;p&&p.removeChild(u)}function Ki(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function Xn(u){var p=u.parentNode;p&&p.lastChild!==u&&p.appendChild(u)}function gr(u){var p=u.parentNode;p&&p.firstChild!==u&&p.insertBefore(u,p.firstChild)}function ga(u,p){if(u.classList!==void 0)return u.classList.contains(p);var v=hs(u);return v.length>0&&new RegExp("(^|\\s)"+p+"(\\s|$)").test(v)}function Ge(u,p){if(u.classList!==void 0)for(var v=x(p),O=0,U=v.length;O<U;O++)u.classList.add(v[O]);else if(!ga(u,p)){var $=hs(u);mn(u,($?$+" ":"")+p)}}function Un(u,p){u.classList!==void 0?u.classList.remove(p):mn(u,S((" "+hs(u)+" ").replace(" "+p+" "," ")))}function mn(u,p){u.className.baseVal===void 0?u.className=p:u.className.baseVal=p}function hs(u){return u.correspondingElement&&(u=u.correspondingElement),u.className.baseVal===void 0?u.className:u.className.baseVal}function En(u,p){"opacity"in u.style?u.style.opacity=p:"filter"in u.style&&ds(u,p)}function ds(u,p){var v=!1,O="DXImageTransform.Microsoft.Alpha";try{v=u.filters.item(O)}catch{if(p===1)return}p=Math.round(p*100),v?(v.Enabled=p!==100,v.Opacity=p):u.style.filter+=" progid:"+O+"(opacity="+p+")"}function Ms(u){for(var p=document.documentElement.style,v=0;v<u.length;v++)if(u[v]in p)return u[v];return!1}function yr(u,p,v){var O=p||new et(0,0);u.style[Mr]=(Re.ie3d?"translate("+O.x+"px,"+O.y+"px)":"translate3d("+O.x+"px,"+O.y+"px,0)")+(v?" scale("+v+")":"")}function _n(u,p){u._leaflet_pos=p,Re.any3d?yr(u,p):(u.style.left=p.x+"px",u.style.top=p.y+"px")}function Gr(u){return u._leaflet_pos||new et(0,0)}var $r,_r,ul;if("onselectstart"in document)$r=function(){Ie(window,"selectstart",Vn)},_r=function(){fn(window,"selectstart",Vn)};else{var en=Ms(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);$r=function(){if(en){var u=document.documentElement.style;ul=u[en],u[en]="none"}},_r=function(){en&&(document.documentElement.style[en]=ul,ul=void 0)}}function Eo(){Ie(window,"dragstart",Vn)}function Ao(){fn(window,"dragstart",Vn)}var ya,Ri;function br(u){for(;u.tabIndex===-1;)u=u.parentNode;u.style&&(Li(),ya=u,Ri=u.style.outlineStyle,u.style.outlineStyle="none",Ie(window,"keydown",Li))}function Li(){ya&&(ya.style.outlineStyle=Ri,ya=void 0,Ri=void 0,fn(window,"keydown",Li))}function vr(u){do u=u.parentNode;while((!u.offsetWidth||!u.offsetHeight)&&u!==document.body);return u}function Xs(u){var p=u.getBoundingClientRect();return{x:p.width/u.offsetWidth||1,y:p.height/u.offsetHeight||1,boundingClientRect:p}}var Os={__proto__:null,TRANSFORM:Mr,TRANSITION:mr,TRANSITION_END:ma,get:Ys,getStyle:Zs,create:je,remove:Sn,empty:Ki,toFront:Xn,toBack:gr,hasClass:ga,addClass:Ge,removeClass:Un,setClass:mn,getClass:hs,setOpacity:En,testProp:Ms,setTransform:yr,setPosition:_n,getPosition:Gr,get disableTextSelection(){return $r},get enableTextSelection(){return _r},disableImageDrag:Eo,enableImageDrag:Ao,preventOutline:br,restoreOutline:Li,getSizedParentNode:vr,getScale:Xs};function Ie(u,p,v,O){if(p&&typeof p=="object")for(var U in p)ai(u,U,p[U],v);else{p=x(p);for(var $=0,yt=p.length;$<yt;$++)ai(u,p[$],v,O)}return this}var Gn="_leaflet_events";function fn(u,p,v,O){if(arguments.length===1)Cs(u),delete u[Gn];else if(p&&typeof p=="object")for(var U in p)To(u,U,p[U],v);else if(p=x(p),arguments.length===2)Cs(u,function(qt){return I(p,qt)!==-1});else for(var $=0,yt=p.length;$<yt;$++)To(u,p[$],v,O);return this}function Cs(u,p){for(var v in u[Gn]){var O=v.split(/\d/)[0];(!p||p(O))&&To(u,O,null,null,v)}}var Qr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ai(u,p,v,O){var U=p+f(v)+(O?"_"+f(O):"");if(u[Gn]&&u[Gn][U])return this;var $=function(qt){return v.call(O||u,qt||window.event)},yt=$;!Re.touchNative&&Re.pointer&&p.indexOf("touch")===0?$=xi(u,p,$):Re.touch&&p==="dblclick"?$=So(u,$):"addEventListener"in u?p==="touchstart"||p==="touchmove"||p==="wheel"||p==="mousewheel"?u.addEventListener(Qr[p]||p,$,Re.passiveEvents?{passive:!1}:!1):p==="mouseenter"||p==="mouseleave"?($=function(qt){qt=qt||window.event,Jr(u,qt)&&yt(qt)},u.addEventListener(Qr[p],$,!1)):u.addEventListener(p,yt,!1):u.attachEvent("on"+p,$),u[Gn]=u[Gn]||{},u[Gn][U]=$}function To(u,p,v,O,U){U=U||p+f(v)+(O?"_"+f(O):"");var $=u[Gn]&&u[Gn][U];if(!$)return this;!Re.touchNative&&Re.pointer&&p.indexOf("touch")===0?Bi(u,p,$):Re.touch&&p==="dblclick"?Xr(u,$):"removeEventListener"in u?u.removeEventListener(Qr[p]||p,$,!1):u.detachEvent("on"+p,$),u[Gn][U]=null}function $n(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function tr(u){return ai(u,"wheel",$n),this}function ps(u){return Ie(u,"mousedown touchstart dblclick contextmenu",$n),u._leaflet_disable_click=!0,this}function Vn(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function er(u){return Vn(u),$n(u),this}function Ns(u){if(u.composedPath)return u.composedPath();for(var p=[],v=u.target;v;)p.push(v),v=v.parentNode;return p}function Gs(u,p){if(!p)return new et(u.clientX,u.clientY);var v=Xs(p),O=v.boundingClientRect;return new et((u.clientX-O.left)/v.x-p.clientLeft,(u.clientY-O.top)/v.y-p.clientTop)}var Xl=Re.linux&&Re.chrome?window.devicePixelRatio:Re.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ei(u){return Re.edge?u.wheelDeltaY/2:u.deltaY&&u.deltaMode===0?-u.deltaY/Xl:u.deltaY&&u.deltaMode===1?-u.deltaY*20:u.deltaY&&u.deltaMode===2?-u.deltaY*60:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?-u.detail*20:u.detail?u.detail/-32765*60:0}function Jr(u,p){var v=p.relatedTarget;if(!v)return!0;try{for(;v&&v!==u;)v=v.parentNode}catch{return!1}return v!==u}var _a={__proto__:null,on:Ie,off:fn,stopPropagation:$n,disableScrollPropagation:tr,disableClickPropagation:ps,preventDefault:Vn,stop:er,getPropagationPath:Ns,getMousePosition:Gs,getWheelDelta:ei,isExternalTarget:Jr,addListener:Ie,removeListener:fn},ts=lt.extend({run:function(u,p,v,O){this.stop(),this._el=u,this._inProgress=!0,this._duration=v||.25,this._easeOutPower=1/Math.max(O||.5,.2),this._startPos=Gr(u),this._offset=p.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ot(this._animate,this),this._step()},_step:function(u){var p=+new Date-this._startTime,v=this._duration*1e3;p<v?this._runFrame(this._easeOut(p/v),u):(this._runFrame(1),this._complete())},_runFrame:function(u,p){var v=this._startPos.add(this._offset.multiplyBy(u));p&&v._round(),_n(this._el,v),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),nn=lt.extend({options:{crs:ce,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,p){p=E(this,p),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),p.maxBounds&&this.setMaxBounds(p.maxBounds),p.zoom!==void 0&&(this._zoom=this._limitZoom(p.zoom)),p.center&&p.zoom!==void 0&&this.setView(Ut(p.center),p.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=mr&&Re.any3d&&!Re.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ie(this._proxy,ma,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,p,v){if(p=p===void 0?this._zoom:this._limitZoom(p),u=this._limitCenter(Ut(u),p,this.options.maxBounds),v=v||{},this._stop(),this._loaded&&!v.reset&&v!==!0){v.animate!==void 0&&(v.zoom=s({animate:v.animate},v.zoom),v.pan=s({animate:v.animate,duration:v.duration},v.pan));var O=this._zoom!==p?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,p,v.zoom):this._tryAnimatedPan(u,v.pan);if(O)return clearTimeout(this._sizeTimer),this}return this._resetView(u,p,v.pan&&v.pan.noMoveStart),this},setZoom:function(u,p){return this._loaded?this.setView(this.getCenter(),u,{zoom:p}):(this._zoom=u,this)},zoomIn:function(u,p){return u=u||(Re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+u,p)},zoomOut:function(u,p){return u=u||(Re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-u,p)},setZoomAround:function(u,p,v){var O=this.getZoomScale(p),U=this.getSize().divideBy(2),$=u instanceof et?u:this.latLngToContainerPoint(u),yt=$.subtract(U).multiplyBy(1-1/O),qt=this.containerPointToLatLng(U.add(yt));return this.setView(qt,p,{zoom:v})},_getBoundsCenterZoom:function(u,p){p=p||{},u=u.getBounds?u.getBounds():Tt(u);var v=nt(p.paddingTopLeft||p.padding||[0,0]),O=nt(p.paddingBottomRight||p.padding||[0,0]),U=this.getBoundsZoom(u,!1,v.add(O));if(U=typeof p.maxZoom=="number"?Math.min(p.maxZoom,U):U,U===1/0)return{center:u.getCenter(),zoom:U};var $=O.subtract(v).divideBy(2),yt=this.project(u.getSouthWest(),U),qt=this.project(u.getNorthEast(),U),$t=this.unproject(yt.add(qt).divideBy(2).add($),U);return{center:$t,zoom:U}},fitBounds:function(u,p){if(u=Tt(u),!u.isValid())throw new Error("Bounds are not valid.");var v=this._getBoundsCenterZoom(u,p);return this.setView(v.center,v.zoom,p)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,p){return this.setView(u,this._zoom,{pan:p})},panBy:function(u,p){if(u=nt(u).round(),p=p||{},!u.x&&!u.y)return this.fire("moveend");if(p.animate!==!0&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ts,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),p.noMoveStart||this.fire("movestart"),p.animate!==!1){Ge(this._mapPane,"leaflet-pan-anim");var v=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,v,p.duration||.25,p.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,p,v){if(v=v||{},v.animate===!1||!Re.any3d)return this.setView(u,p,v);this._stop();var O=this.project(this.getCenter()),U=this.project(u),$=this.getSize(),yt=this._zoom;u=Ut(u),p=p===void 0?yt:p;var qt=Math.max($.x,$.y),$t=qt*this.getZoomScale(yt,p),ye=U.distanceTo(O)||1,Le=1.42,Ue=Le*Le;function rn(ii){var js=ii?-1:1,Io=ii?$t:qt,Ju=$t*$t-qt*qt+js*Ue*Ue*ye*ye,vl=2*Io*Ue*ye,wl=Ju/vl,lo=Math.sqrt(wl*wl+1)-wl,Is=lo<1e-9?-18:Math.log(lo);return Is}function Di(ii){return(Math.exp(ii)-Math.exp(-ii))/2}function ui(ii){return(Math.exp(ii)+Math.exp(-ii))/2}function xr(ii){return Di(ii)/ui(ii)}var bn=rn(0);function vn(ii){return qt*(ui(bn)/ui(bn+Le*ii))}function an(ii){return qt*(ui(bn)*xr(bn+Le*ii)-Di(bn))/Ue}function oo(ii){return 1-Math.pow(1-ii,1.5)}var Lr=Date.now(),nu=(rn(1)-bn)/Le,ao=v.duration?1e3*v.duration:1e3*nu*.8;function Qu(){var ii=(Date.now()-Lr)/ao,js=oo(ii)*nu;ii<=1?(this._flyToFrame=ot(Qu,this),this._move(this.unproject(O.add(U.subtract(O).multiplyBy(an(js)/ye)),yt),this.getScaleZoom(qt/vn(js),yt),{flyTo:!0})):this._move(u,p)._moveEnd(!0)}return this._moveStart(!0,v.noMoveStart),Qu.call(this),this},flyToBounds:function(u,p){var v=this._getBoundsCenterZoom(u,p);return this.flyTo(v.center,v.zoom,p)},setMaxBounds:function(u){return u=Tt(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var p=this.options.minZoom;return this.options.minZoom=u,this._loaded&&p!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var p=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&p!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,p){this._enforcingBounds=!0;var v=this.getCenter(),O=this._limitCenter(v,this._zoom,Tt(u));return v.equals(O)||this.panTo(O,p),this._enforcingBounds=!1,this},panInside:function(u,p){p=p||{};var v=nt(p.paddingTopLeft||p.padding||[0,0]),O=nt(p.paddingBottomRight||p.padding||[0,0]),U=this.project(this.getCenter()),$=this.project(u),yt=this.getPixelBounds(),qt=Z([yt.min.add(v),yt.max.subtract(O)]),$t=qt.getSize();if(!qt.contains($)){this._enforcingBounds=!0;var ye=$.subtract(qt.getCenter()),Le=qt.extend($).getSize().subtract($t);U.x+=ye.x<0?-Le.x:Le.x,U.y+=ye.y<0?-Le.y:Le.y,this.panTo(this.unproject(U),p),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=s({animate:!1,pan:!0},u===!0?{animate:!0}:u);var p=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var v=this.getSize(),O=p.divideBy(2).round(),U=v.divideBy(2).round(),$=O.subtract(U);return!$.x&&!$.y?this:(u.animate&&u.pan?this.panBy($):(u.pan&&this._rawPanBy($),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:p,newSize:v}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=s({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var p=l(this._handleGeolocationResponse,this),v=l(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(p,v,u):navigator.geolocation.getCurrentPosition(p,v,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var p=u.code,v=u.message||(p===1?"permission denied":p===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:p,message:"Geolocation error: "+v+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var p=u.coords.latitude,v=u.coords.longitude,O=new gt(p,v),U=O.toBounds(u.coords.accuracy*2),$=this._locateOptions;if($.setView){var yt=this.getBoundsZoom(U);this.setView(O,$.maxZoom?Math.min(yt,$.maxZoom):yt)}var qt={latlng:O,bounds:U,timestamp:u.timestamp};for(var $t in u.coords)typeof u.coords[$t]=="number"&&(qt[$t]=u.coords[$t]);this.fire("locationfound",qt)}},addHandler:function(u,p){if(!p)return this;var v=this[u]=new p(this);return this._handlers.push(v),this.options[u]&&v.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Sn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var u;for(u in this._layers)this._layers[u].remove();for(u in this._panes)Sn(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,p){var v="leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),O=je("div",v,p||this._mapPane);return u&&(this._panes[u]=O),O},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds(),p=this.unproject(u.getBottomLeft()),v=this.unproject(u.getTopRight());return new at(p,v)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,p,v){u=Tt(u),v=nt(v||[0,0]);var O=this.getZoom()||0,U=this.getMinZoom(),$=this.getMaxZoom(),yt=u.getNorthWest(),qt=u.getSouthEast(),$t=this.getSize().subtract(v),ye=Z(this.project(qt,O),this.project(yt,O)).getSize(),Le=Re.any3d?this.options.zoomSnap:1,Ue=$t.x/ye.x,rn=$t.y/ye.y,Di=p?Math.max(Ue,rn):Math.min(Ue,rn);return O=this.getScaleZoom(Di,O),Le&&(O=Math.round(O/(Le/100))*(Le/100),O=p?Math.ceil(O/Le)*Le:Math.floor(O/Le)*Le),Math.max(U,Math.min($,O))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new et(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,p){var v=this._getTopLeftPoint(u,p);return new Y(v,v.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(u===void 0?this.getZoom():u)},getPane:function(u){return typeof u=="string"?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,p){var v=this.options.crs;return p=p===void 0?this._zoom:p,v.scale(u)/v.scale(p)},getScaleZoom:function(u,p){var v=this.options.crs;p=p===void 0?this._zoom:p;var O=v.zoom(u*v.scale(p));return isNaN(O)?1/0:O},project:function(u,p){return p=p===void 0?this._zoom:p,this.options.crs.latLngToPoint(Ut(u),p)},unproject:function(u,p){return p=p===void 0?this._zoom:p,this.options.crs.pointToLatLng(nt(u),p)},layerPointToLatLng:function(u){var p=nt(u).add(this.getPixelOrigin());return this.unproject(p)},latLngToLayerPoint:function(u){var p=this.project(Ut(u))._round();return p._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(Ut(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(Tt(u))},distance:function(u,p){return this.options.crs.distance(Ut(u),Ut(p))},containerPointToLayerPoint:function(u){return nt(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return nt(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var p=this.containerPointToLayerPoint(nt(u));return this.layerPointToLatLng(p)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ut(u)))},mouseEventToContainerPoint:function(u){return Gs(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var p=this._container=Ys(u);if(p){if(p._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ie(p,"scroll",this._onScroll,this),this._containerId=f(p)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&Re.any3d,Ge(u,"leaflet-container"+(Re.touch?" leaflet-touch":"")+(Re.retina?" leaflet-retina":"")+(Re.ielt9?" leaflet-oldie":"")+(Re.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var p=Zs(u,"position");p!=="absolute"&&p!=="relative"&&p!=="fixed"&&p!=="sticky"&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),_n(this._mapPane,new et(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ge(u.markerPane,"leaflet-zoom-hide"),Ge(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,p,v){_n(this._mapPane,new et(0,0));var O=!this._loaded;this._loaded=!0,p=this._limitZoom(p),this.fire("viewprereset");var U=this._zoom!==p;this._moveStart(U,v)._move(u,p)._moveEnd(U),this.fire("viewreset"),O&&this.fire("load")},_moveStart:function(u,p){return u&&this.fire("zoomstart"),p||this.fire("movestart"),this},_move:function(u,p,v,O){p===void 0&&(p=this._zoom);var U=this._zoom!==p;return this._zoom=p,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),O?v&&v.pinch&&this.fire("zoom",v):((U||v&&v.pinch)&&this.fire("zoom",v),this.fire("move",v)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){_n(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[f(this._container)]=this;var p=u?fn:Ie;p(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&p(window,"resize",this._onResize,this),Re.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=ot(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,p){for(var v=[],O,U=p==="mouseout"||p==="mouseover",$=u.target||u.srcElement,yt=!1;$;){if(O=this._targets[f($)],O&&(p==="click"||p==="preclick")&&this._draggableMoved(O)){yt=!0;break}if(O&&O.listens(p,!0)&&(U&&!Jr($,u)||(v.push(O),U))||$===this._container)break;$=$.parentNode}return!v.length&&!yt&&!U&&this.listens(p,!0)&&(v=[this]),v},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var p=u.target||u.srcElement;if(!(!this._loaded||p._leaflet_disable_events||u.type==="click"&&this._isClickDisabled(p))){var v=u.type;v==="mousedown"&&br(p),this._fireDOMEvent(u,v)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,p,v){if(u.type==="click"){var O=s({},u);O.type="preclick",this._fireDOMEvent(O,O.type,v)}var U=this._findEventTargets(u,p);if(v){for(var $=[],yt=0;yt<v.length;yt++)v[yt].listens(p,!0)&&$.push(v[yt]);U=$.concat(U)}if(U.length){p==="contextmenu"&&Vn(u);var qt=U[0],$t={originalEvent:u};if(u.type!=="keypress"&&u.type!=="keydown"&&u.type!=="keyup"){var ye=qt.getLatLng&&(!qt._radius||qt._radius<=10);$t.containerPoint=ye?this.latLngToContainerPoint(qt.getLatLng()):this.mouseEventToContainerPoint(u),$t.layerPoint=this.containerPointToLayerPoint($t.containerPoint),$t.latlng=ye?qt.getLatLng():this.layerPointToLatLng($t.layerPoint)}for(yt=0;yt<U.length;yt++)if(U[yt].fire(p,$t,!0),$t.originalEvent._stopped||U[yt].options.bubblingMouseEvents===!1&&I(this._mouseEvents,p)!==-1)return}},_draggableMoved:function(u){return u=u.dragging&&u.dragging.enabled()?u:this,u.dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,p=this._handlers.length;u<p;u++)this._handlers[u].disable()},whenReady:function(u,p){return this._loaded?u.call(p||this,{target:this}):this.on("load",u,p),this},_getMapPanePos:function(){return Gr(this._mapPane)||new et(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,p){var v=u&&p!==void 0?this._getNewPixelOrigin(u,p):this.getPixelOrigin();return v.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,p){var v=this.getSize()._divideBy(2);return this.project(u,p)._subtract(v)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,p,v){var O=this._getNewPixelOrigin(v,p);return this.project(u,p)._subtract(O)},_latLngBoundsToNewLayerBounds:function(u,p,v){var O=this._getNewPixelOrigin(v,p);return Z([this.project(u.getSouthWest(),p)._subtract(O),this.project(u.getNorthWest(),p)._subtract(O),this.project(u.getSouthEast(),p)._subtract(O),this.project(u.getNorthEast(),p)._subtract(O)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,p,v){if(!v)return u;var O=this.project(u,p),U=this.getSize().divideBy(2),$=new Y(O.subtract(U),O.add(U)),yt=this._getBoundsOffset($,v,p);return Math.abs(yt.x)<=1&&Math.abs(yt.y)<=1?u:this.unproject(O.add(yt),p)},_limitOffset:function(u,p){if(!p)return u;var v=this.getPixelBounds(),O=new Y(v.min.add(u),v.max.add(u));return u.add(this._getBoundsOffset(O,p))},_getBoundsOffset:function(u,p,v){var O=Z(this.project(p.getNorthEast(),v),this.project(p.getSouthWest(),v)),U=O.min.subtract(u.min),$=O.max.subtract(u.max),yt=this._rebound(U.x,-$.x),qt=this._rebound(U.y,-$.y);return new et(yt,qt)},_rebound:function(u,p){return u+p>0?Math.round(u-p)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(p))},_limitZoom:function(u){var p=this.getMinZoom(),v=this.getMaxZoom(),O=Re.any3d?this.options.zoomSnap:1;return O&&(u=Math.round(u/O)*O),Math.max(p,Math.min(v,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Un(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,p){var v=this._getCenterOffset(u)._trunc();return(p&&p.animate)!==!0&&!this.getSize().contains(v)?!1:(this.panBy(v,p),!0)},_createAnimProxy:function(){var u=this._proxy=je("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(p){var v=Mr,O=this._proxy.style[v];yr(this._proxy,this.project(p.center,p.zoom),this.getZoomScale(p.zoom,1)),O===this._proxy.style[v]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Sn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),p=this.getZoom();yr(this._proxy,this.project(u,p),this.getZoomScale(p,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,p,v){if(this._animatingZoom)return!0;if(v=v||{},!this._zoomAnimated||v.animate===!1||this._nothingToAnimate()||Math.abs(p-this._zoom)>this.options.zoomAnimationThreshold)return!1;var O=this.getZoomScale(p),U=this._getCenterOffset(u)._divideBy(1-1/O);return v.animate!==!0&&!this.getSize().contains(U)?!1:(ot(function(){this._moveStart(!0,v.noMoveStart||!1)._animateZoom(u,p,!0)},this),!0)},_animateZoom:function(u,p,v,O){this._mapPane&&(v&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=p,Ge(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:p,noUpdate:O}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Un(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ko(u,p){return new nn(u,p)}var Yi=ht.extend({options:{position:"topright"},initialize:function(u){E(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var p=this._map;return p&&p.removeControl(this),this.options.position=u,p&&p.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var p=this._container=this.onAdd(u),v=this.getPosition(),O=u._controlCorners[v];return Ge(p,"leaflet-control"),v.indexOf("bottom")!==-1?O.insertBefore(p,O.firstChild):O.appendChild(p),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Sn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),es=function(u){return new Yi(u)};nn.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},p="leaflet-",v=this._controlContainer=je("div",p+"control-container",this._container);function O(U,$){var yt=p+U+" "+p+$;u[U+$]=je("div",yt,v)}O("top","left"),O("top","right"),O("bottom","left"),O("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)Sn(this._controlCorners[u]);Sn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Mo=Yi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,p,v,O){return v<O?-1:O<v?1:0}},initialize:function(u,p,v){E(this,v),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var O in u)this._addLayer(u[O],O);for(O in p)this._addLayer(p[O],O,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return Yi.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,p){return this._addLayer(u,p),this._map?this._update():this},addOverlay:function(u,p){return this._addLayer(u,p,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var p=this._getLayer(f(u));return p&&this._layers.splice(this._layers.indexOf(p),1),this._map?this._update():this},expand:function(){Ge(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(Ge(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):Un(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Un(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",p=this._container=je("div",u),v=this.options.collapsed;p.setAttribute("aria-haspopup",!0),ps(p),tr(p);var O=this._section=je("section",u+"-list");v&&(this._map.on("click",this.collapse,this),Ie(p,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var U=this._layersLink=je("a",u+"-toggle",p);U.href="#",U.title="Layers",U.setAttribute("role","button"),Ie(U,{keydown:function($){$.keyCode===13&&this._expandSafely()},click:function($){Vn($),this._expandSafely()}},this),v||this.expand(),this._baseLayersList=je("div",u+"-base",O),this._separator=je("div",u+"-separator",O),this._overlaysList=je("div",u+"-overlays",O),p.appendChild(O)},_getLayer:function(u){for(var p=0;p<this._layers.length;p++)if(this._layers[p]&&f(this._layers[p].layer)===u)return this._layers[p]},_addLayer:function(u,p,v){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:p,overlay:v}),this.options.sortLayers&&this._layers.sort(l(function(O,U){return this.options.sortFunction(O.layer,U.layer,O.name,U.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ki(this._baseLayersList),Ki(this._overlaysList),this._layerControlInputs=[];var u,p,v,O,U=0;for(v=0;v<this._layers.length;v++)O=this._layers[v],this._addItem(O),p=p||O.overlay,u=u||!O.overlay,U+=O.overlay?0:1;return this.options.hideSingleBase&&(u=u&&U>1,this._baseLayersList.style.display=u?"":"none"),this._separator.style.display=p&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var p=this._getLayer(f(u.target)),v=p.overlay?u.type==="add"?"overlayadd":"overlayremove":u.type==="add"?"baselayerchange":null;v&&this._map.fire(v,p)},_createRadioElement:function(u,p){var v='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(p?' checked="checked"':"")+"/>",O=document.createElement("div");return O.innerHTML=v,O.firstChild},_addItem:function(u){var p=document.createElement("label"),v=this._map.hasLayer(u.layer),O;u.overlay?(O=document.createElement("input"),O.type="checkbox",O.className="leaflet-control-layers-selector",O.defaultChecked=v):O=this._createRadioElement("leaflet-base-layers_"+f(this),v),this._layerControlInputs.push(O),O.layerId=f(u.layer),Ie(O,"click",this._onInputClick,this);var U=document.createElement("span");U.innerHTML=" "+u.name;var $=document.createElement("span");p.appendChild($),$.appendChild(O),$.appendChild(U);var yt=u.overlay?this._overlaysList:this._baseLayersList;return yt.appendChild(p),this._checkDisabledLayers(),p},_onInputClick:function(){if(!this._preventClick){var u=this._layerControlInputs,p,v,O=[],U=[];this._handlingClick=!0;for(var $=u.length-1;$>=0;$--)p=u[$],v=this._getLayer(p.layerId).layer,p.checked?O.push(v):p.checked||U.push(v);for($=0;$<U.length;$++)this._map.hasLayer(U[$])&&this._map.removeLayer(U[$]);for($=0;$<O.length;$++)this._map.hasLayer(O[$])||this._map.addLayer(O[$]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u=this._layerControlInputs,p,v,O=this._map.getZoom(),U=u.length-1;U>=0;U--)p=u[U],v=this._getLayer(p.layerId).layer,p.disabled=v.options.minZoom!==void 0&&O<v.options.minZoom||v.options.maxZoom!==void 0&&O>v.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,Ie(u,"click",Vn),this.expand();var p=this;setTimeout(function(){fn(u,"click",Vn),p._preventClick=!1})}}),ba=function(u,p,v){return new Mo(u,p,v)},Oo=Yi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var p="leaflet-control-zoom",v=je("div",p+" leaflet-bar"),O=this.options;return this._zoomInButton=this._createButton(O.zoomInText,O.zoomInTitle,p+"-in",v,this._zoomIn),this._zoomOutButton=this._createButton(O.zoomOutText,O.zoomOutTitle,p+"-out",v,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),v},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,p,v,O,U){var $=je("a",v,O);return $.innerHTML=u,$.href="#",$.title=p,$.setAttribute("role","button"),$.setAttribute("aria-label",p),ps($),Ie($,"click",er),Ie($,"click",U,this),Ie($,"click",this._refocusOnMap,this),$},_updateDisabled:function(){var u=this._map,p="leaflet-disabled";Un(this._zoomInButton,p),Un(this._zoomOutButton,p),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(Ge(this._zoomOutButton,p),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(Ge(this._zoomInButton,p),this._zoomInButton.setAttribute("aria-disabled","true"))}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Oo,this.addControl(this.zoomControl))});var Gl=function(u){return new Oo(u)},Co=Yi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var p="leaflet-control-scale",v=je("div",p),O=this.options;return this._addScales(O,p+"-line",v),u.on(O.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),v},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,p,v){u.metric&&(this._mScale=je("div",p,v)),u.imperial&&(this._iScale=je("div",p,v))},_update:function(){var u=this._map,p=u.getSize().y/2,v=u.distance(u.containerPointToLatLng([0,p]),u.containerPointToLatLng([this.options.maxWidth,p]));this._updateScales(v)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var p=this._getRoundNum(u),v=p<1e3?p+" m":p/1e3+" km";this._updateScale(this._mScale,v,p/u)},_updateImperial:function(u){var p=u*3.2808399,v,O,U;p>5280?(v=p/5280,O=this._getRoundNum(v),this._updateScale(this._iScale,O+" mi",O/v)):(U=this._getRoundNum(p),this._updateScale(this._iScale,U+" ft",U/p))},_updateScale:function(u,p,v){u.style.width=Math.round(this.options.maxWidth*v)+"px",u.innerHTML=p},_getRoundNum:function(u){var p=Math.pow(10,(Math.floor(u)+"").length-1),v=u/p;return v=v>=10?10:v>=5?5:v>=3?3:v>=2?2:1,p*v}}),$s=function(u){return new Co(u)},va='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',wa=Yi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Re.inlineSvg?va+" ":"")+"Leaflet</a>"},initialize:function(u){E(this,u),this._attributions={}},onAdd:function(u){u.attributionControl=this,this._container=je("div","leaflet-control-attribution"),ps(this._container);for(var p in u._layers)u._layers[p].getAttribution&&this.addAttribution(u._layers[p].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var p in this._attributions)this._attributions[p]&&u.push(p);var v=[];this.options.prefix&&v.push(this.options.prefix),u.length&&v.push(u.join(", ")),this._container.innerHTML=v.join(' <span aria-hidden="true">|</span> ')}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook(function(){this.options.attributionControl&&new wa().addTo(this)});var Yu=function(u){return new wa(u)};Yi.Layers=Mo,Yi.Zoom=Oo,Yi.Scale=Co,Yi.Attribution=wa,es.layers=ba,es.zoom=Gl,es.scale=$s,es.attribution=Yu;var Pi=ht.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Pi.addTo=function(u,p){return u.addHandler(p,this),this};var cl={Events:rt},No=Re.touch?"touchstart mousedown":"mousedown",Or=lt.extend({options:{clickTolerance:3},initialize:function(u,p,v,O){E(this,O),this._element=u,this._dragStartTarget=p||u,this._preventOutline=v},enable:function(){this._enabled||(Ie(this._dragStartTarget,No,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Or._dragging===this&&this.finishDrag(!0),fn(this._dragStartTarget,No,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!ga(this._element,"leaflet-zoom-anim"))){if(u.touches&&u.touches.length!==1){Or._dragging===this&&this.finishDrag();return}if(!(Or._dragging||u.shiftKey||u.which!==1&&u.button!==1&&!u.touches)&&(Or._dragging=this,this._preventOutline&&br(this._element),Eo(),$r(),!this._moving)){this.fire("down");var p=u.touches?u.touches[0]:u,v=vr(this._element);this._startPoint=new et(p.clientX,p.clientY),this._startPos=Gr(this._element),this._parentScale=Xs(v);var O=u.type==="mousedown";Ie(document,O?"mousemove":"touchmove",this._onMove,this),Ie(document,O?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1){this._moved=!0;return}var p=u.touches&&u.touches.length===1?u.touches[0]:u,v=new et(p.clientX,p.clientY)._subtract(this._startPoint);!v.x&&!v.y||Math.abs(v.x)+Math.abs(v.y)<this.options.clickTolerance||(v.x/=this._parentScale.x,v.y/=this._parentScale.y,Vn(u),this._moved||(this.fire("dragstart"),this._moved=!0,Ge(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ge(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(v),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),_n(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){Un(document.body,"leaflet-dragging"),this._lastTarget&&(Un(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),fn(document,"mousemove touchmove",this._onMove,this),fn(document,"mouseup touchend touchcancel",this._onUp,this),Ao(),_r();var p=this._moved&&this._moving;this._moving=!1,Or._dragging=!1,p&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function xa(u,p,v){var O,U=[1,4,2,8],$,yt,qt,$t,ye,Le,Ue,rn;for($=0,Le=u.length;$<Le;$++)u[$]._code=Cr(u[$],p);for(qt=0;qt<4;qt++){for(Ue=U[qt],O=[],$=0,Le=u.length,yt=Le-1;$<Le;yt=$++)$t=u[$],ye=u[yt],$t._code&Ue?ye._code&Ue||(rn=Js(ye,$t,Ue,p,v),rn._code=Cr(rn,p),O.push(rn)):(ye._code&Ue&&(rn=Js(ye,$t,Ue,p,v),rn._code=Cr(rn,p),O.push(rn)),O.push($t));u=O}return u}function pi(u,p){var v,O,U,$,yt,qt,$t,ye,Le;if(!u||u.length===0)throw new Error("latlngs not passed");nr(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Ue=Ut([0,0]),rn=Tt(u),Di=rn.getNorthWest().distanceTo(rn.getSouthWest())*rn.getNorthEast().distanceTo(rn.getNorthWest());Di<1700&&(Ue=Rs(u));var ui=u.length,xr=[];for(v=0;v<ui;v++){var bn=Ut(u[v]);xr.push(p.project(Ut([bn.lat-Ue.lat,bn.lng-Ue.lng])))}for(qt=$t=ye=0,v=0,O=ui-1;v<ui;O=v++)U=xr[v],$=xr[O],yt=U.y*$.x-$.y*U.x,$t+=(U.x+$.x)*yt,ye+=(U.y+$.y)*yt,qt+=yt*3;qt===0?Le=xr[0]:Le=[$t/qt,ye/qt];var vn=p.unproject(nt(Le));return Ut([vn.lat+Ue.lat,vn.lng+Ue.lng])}function Rs(u){for(var p=0,v=0,O=0,U=0;U<u.length;U++){var $=Ut(u[U]);p+=$.lat,v+=$.lng,O++}return Ut([p/O,v/O])}var Ls={__proto__:null,clipPolygon:xa,polygonCenter:pi,centroid:Rs};function fl(u,p){if(!p||!u.length)return u.slice();var v=p*p;return u=dl(u,v),u=hl(u,v),u}function Ro(u,p,v){return Math.sqrt(to(u,p,v,!0))}function $l(u,p,v){return to(u,p,v)}function hl(u,p){var v=u.length,O=typeof Uint8Array<"u"?Uint8Array:Array,U=new O(v);U[0]=U[v-1]=1,Qs(u,U,p,0,v-1);var $,yt=[];for($=0;$<v;$++)U[$]&&yt.push(u[$]);return yt}function Qs(u,p,v,O,U){var $=0,yt,qt,$t;for(qt=O+1;qt<=U-1;qt++)$t=to(u[qt],u[O],u[U],!0),$t>$&&(yt=qt,$=$t);$>v&&(p[yt]=1,Qs(u,p,v,O,yt),Qs(u,p,v,yt,U))}function dl(u,p){for(var v=[u[0]],O=1,U=0,$=u.length;O<$;O++)pl(u[O],u[U])>p&&(v.push(u[O]),U=O);return U<$-1&&v.push(u[$-1]),v}var ms;function Sa(u,p,v,O,U){var $=O?ms:Cr(u,v),yt=Cr(p,v),qt,$t,ye;for(ms=yt;;){if(!($|yt))return[u,p];if($&yt)return!1;qt=$||yt,$t=Js(u,p,qt,v,U),ye=Cr($t,v),qt===$?(u=$t,$=ye):(p=$t,yt=ye)}}function Js(u,p,v,O,U){var $=p.x-u.x,yt=p.y-u.y,qt=O.min,$t=O.max,ye,Le;return v&8?(ye=u.x+$*($t.y-u.y)/yt,Le=$t.y):v&4?(ye=u.x+$*(qt.y-u.y)/yt,Le=qt.y):v&2?(ye=$t.x,Le=u.y+yt*($t.x-u.x)/$):v&1&&(ye=qt.x,Le=u.y+yt*(qt.x-u.x)/$),new et(ye,Le,U)}function Cr(u,p){var v=0;return u.x<p.min.x?v|=1:u.x>p.max.x&&(v|=2),u.y<p.min.y?v|=4:u.y>p.max.y&&(v|=8),v}function pl(u,p){var v=p.x-u.x,O=p.y-u.y;return v*v+O*O}function to(u,p,v,O){var U=p.x,$=p.y,yt=v.x-U,qt=v.y-$,$t=yt*yt+qt*qt,ye;return $t>0&&(ye=((u.x-U)*yt+(u.y-$)*qt)/$t,ye>1?(U=v.x,$=v.y):ye>0&&(U+=yt*ye,$+=qt*ye)),yt=u.x-U,qt=u.y-$,O?yt*yt+qt*qt:new et(U,$)}function nr(u){return!D(u[0])||typeof u[0][0]!="object"&&typeof u[0][0]<"u"}function eo(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),nr(u)}function ns(u,p){var v,O,U,$,yt,qt,$t,ye;if(!u||u.length===0)throw new Error("latlngs not passed");nr(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Le=Ut([0,0]),Ue=Tt(u),rn=Ue.getNorthWest().distanceTo(Ue.getSouthWest())*Ue.getNorthEast().distanceTo(Ue.getNorthWest());rn<1700&&(Le=Rs(u));var Di=u.length,ui=[];for(v=0;v<Di;v++){var xr=Ut(u[v]);ui.push(p.project(Ut([xr.lat-Le.lat,xr.lng-Le.lng])))}for(v=0,O=0;v<Di-1;v++)O+=ui[v].distanceTo(ui[v+1])/2;if(O===0)ye=ui[0];else for(v=0,$=0;v<Di-1;v++)if(yt=ui[v],qt=ui[v+1],U=yt.distanceTo(qt),$+=U,$>O){$t=($-O)/U,ye=[qt.x-$t*(qt.x-yt.x),qt.y-$t*(qt.y-yt.y)];break}var bn=p.unproject(nt(ye));return Ut([bn.lat+Le.lat,bn.lng+Le.lng])}var Zu={__proto__:null,simplify:fl,pointToSegmentDistance:Ro,closestPointOnSegment:$l,clipSegment:Sa,_getEdgeIntersection:Js,_getBitCode:Cr,_sqClosestPointOnSegment:to,isFlat:nr,_flat:eo,polylineCenter:ns},no={project:function(u){return new et(u.lng,u.lat)},unproject:function(u){return new gt(u.y,u.x)},bounds:new Y([-180,-90],[180,90])},io={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Y([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(u){var p=Math.PI/180,v=this.R,O=u.lat*p,U=this.R_MINOR/v,$=Math.sqrt(1-U*U),yt=$*Math.sin(O),qt=Math.tan(Math.PI/4-O/2)/Math.pow((1-yt)/(1+yt),$/2);return O=-v*Math.log(Math.max(qt,1e-10)),new et(u.lng*p*v,O)},unproject:function(u){for(var p=180/Math.PI,v=this.R,O=this.R_MINOR/v,U=Math.sqrt(1-O*O),$=Math.exp(-u.y/v),yt=Math.PI/2-2*Math.atan($),qt=0,$t=.1,ye;qt<15&&Math.abs($t)>1e-7;qt++)ye=U*Math.sin(yt),ye=Math.pow((1-ye)/(1+ye),U/2),$t=Math.PI/2-2*Math.atan($*ye)-yt,yt+=$t;return new gt(yt*p,u.x*p/v)}},Ql={__proto__:null,LonLat:no,Mercator:io,SphericalMercator:Mt},ml=s({},ct,{code:"EPSG:3395",projection:io,transformation:(function(){var u=.5/(Math.PI*io.R);return At(u,.5,-u,.5)})()}),gl=s({},ct,{code:"EPSG:4326",projection:no,transformation:At(1/180,1,-1/180,.5)}),Ps=s({},_t,{projection:no,transformation:At(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,p){var v=p.lng-u.lng,O=p.lat-u.lat;return Math.sqrt(v*v+O*O)},infinite:!0});_t.Earth=ct,_t.EPSG3395=ml,_t.EPSG3857=ce,_t.EPSG900913=Jt,_t.EPSG4326=gl,_t.Simple=Ps;var ir=lt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[f(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[f(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var p=u.target;if(p.hasLayer(this)){if(this._map=p,this._zoomAnimated=p._zoomAnimated,this.getEvents){var v=this.getEvents();p.on(v,this),this.once("remove",function(){p.off(v,this)},this)}this.onAdd(p),this.fire("add"),p.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var p=f(u);return this._layers[p]?this:(this._layers[p]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u),this)},removeLayer:function(u){var p=f(u);return this._layers[p]?(this._loaded&&u.onRemove(this),delete this._layers[p],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return f(u)in this._layers},eachLayer:function(u,p){for(var v in this._layers)u.call(p,this._layers[v]);return this},_addLayers:function(u){u=u?D(u)?u:[u]:[];for(var p=0,v=u.length;p<v;p++)this.addLayer(u[p])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[f(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var p=f(u);this._zoomBoundLayers[p]&&(delete this._zoomBoundLayers[p],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,p=-1/0,v=this._getZoomSpan();for(var O in this._zoomBoundLayers){var U=this._zoomBoundLayers[O].options;u=U.minZoom===void 0?u:Math.min(u,U.minZoom),p=U.maxZoom===void 0?p:Math.max(p,U.maxZoom)}this._layersMaxZoom=p===-1/0?void 0:p,this._layersMinZoom=u===1/0?void 0:u,v!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ro=ir.extend({initialize:function(u,p){E(this,p),this._layers={};var v,O;if(u)for(v=0,O=u.length;v<O;v++)this.addLayer(u[v])},addLayer:function(u){var p=this.getLayerId(u);return this._layers[p]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var p=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[p]&&this._map.removeLayer(this._layers[p]),delete this._layers[p],this},hasLayer:function(u){var p=typeof u=="number"?u:this.getLayerId(u);return p in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var p=Array.prototype.slice.call(arguments,1),v,O;for(v in this._layers)O=this._layers[v],O[u]&&O[u].apply(O,p);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,p){for(var v in this._layers)u.call(p,this._layers[v]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return f(u)}}),Jl=function(u,p){return new ro(u,p)},rr=ro.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),ro.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),ro.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new at;for(var p in this._layers){var v=this._layers[p];u.extend(v.getBounds?v.getBounds():v.getLatLng())}return u}}),yl=function(u,p){return new rr(u,p)},wr=ht.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){E(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,p){var v=this._getIconUrl(u);if(!v){if(u==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var O=this._createImg(v,p&&p.tagName==="IMG"?p:null);return this._setIconStyles(O,u),(this.options.crossOrigin||this.options.crossOrigin==="")&&(O.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),O},_setIconStyles:function(u,p){var v=this.options,O=v[p+"Size"];typeof O=="number"&&(O=[O,O]);var U=nt(O),$=nt(p==="shadow"&&v.shadowAnchor||v.iconAnchor||U&&U.divideBy(2,!0));u.className="leaflet-marker-"+p+" "+(v.className||""),$&&(u.style.marginLeft=-$.x+"px",u.style.marginTop=-$.y+"px"),U&&(u.style.width=U.x+"px",u.style.height=U.y+"px")},_createImg:function(u,p){return p=p||document.createElement("img"),p.src=u,p},_getIconUrl:function(u){return Re.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});function Lo(u){return new wr(u)}var Po=wr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return typeof Po.imagePath!="string"&&(Po.imagePath=this._detectIconPath()),(this.options.imagePath||Po.imagePath)+wr.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var p=function(v,O,U){var $=O.exec(v);return $&&$[U]};return u=p(u,/^url\((['"])?(.+)\1\)$/,2),u&&p(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=je("div","leaflet-default-icon-path",document.body),p=Zs(u,"background-image")||Zs(u,"backgroundImage");if(document.body.removeChild(u),p=this._stripUrl(p),p)return p;var v=document.querySelector('link[href$="leaflet.css"]');return v?v.href.substring(0,v.href.length-11-1):""}}),Do=Pi.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new Or(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ge(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Un(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var p=this._marker,v=p._map,O=this._marker.options.autoPanSpeed,U=this._marker.options.autoPanPadding,$=Gr(p._icon),yt=v.getPixelBounds(),qt=v.getPixelOrigin(),$t=Z(yt.min._subtract(qt).add(U),yt.max._subtract(qt).subtract(U));if(!$t.contains($)){var ye=nt((Math.max($t.max.x,$.x)-$t.max.x)/(yt.max.x-$t.max.x)-(Math.min($t.min.x,$.x)-$t.min.x)/(yt.min.x-$t.min.x),(Math.max($t.max.y,$.y)-$t.max.y)/(yt.max.y-$t.max.y)-(Math.min($t.min.y,$.y)-$t.min.y)/(yt.min.y-$t.min.y)).multiplyBy(O);v.panBy(ye,{animate:!1}),this._draggable._newPos._add(ye),this._draggable._startPos._add(ye),_n(p._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=ot(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=ot(this._adjustPan.bind(this,u)))},_onDrag:function(u){var p=this._marker,v=p._shadow,O=Gr(p._icon),U=p._map.layerPointToLatLng(O);v&&_n(v,O),p._latlng=U,u.latlng=U,u.oldLatLng=this._oldLatLng,p.fire("move",u).fire("drag",u)},_onDragEnd:function(u){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),gs=ir.extend({options:{icon:new Po,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,p){E(this,p),this._latlng=Ut(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var p=this._latlng;return this._latlng=Ut(u),this.update(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,p="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),v=u.icon.createIcon(this._icon),O=!1;v!==this._icon&&(this._icon&&this._removeIcon(),O=!0,u.title&&(v.title=u.title),v.tagName==="IMG"&&(v.alt=u.alt||"")),Ge(v,p),u.keyboard&&(v.tabIndex="0",v.setAttribute("role","button")),this._icon=v,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ie(v,"focus",this._panOnFocus,this);var U=u.icon.createShadow(this._shadow),$=!1;U!==this._shadow&&(this._removeShadow(),$=!0),U&&(Ge(U,p),U.alt=""),this._shadow=U,u.opacity<1&&this._updateOpacity(),O&&this.getPane().appendChild(this._icon),this._initInteraction(),U&&$&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fn(this._icon,"focus",this._panOnFocus,this),Sn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Sn(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&_n(this._icon,u),this._shadow&&_n(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(p)},_initInteraction:function(){if(this.options.interactive&&(Ge(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Do)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Do(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&En(this._icon,u),this._shadow&&En(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var p=this.options.icon.options,v=p.iconSize?nt(p.iconSize):nt(0,0),O=p.iconAnchor?nt(p.iconAnchor):nt(0,0);u.panInside(this._latlng,{paddingTopLeft:O,paddingBottomRight:v.subtract(O)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Nr(u,p){return new gs(u,p)}var gn=ir.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return E(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),is=gn.extend({options:{fill:!0,radius:10},initialize:function(u,p){E(this,p),this._latlng=Ut(u),this._radius=this.options.radius},setLatLng:function(u){var p=this._latlng;return this._latlng=Ut(u),this.redraw(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var p=u&&u.radius||this._radius;return gn.prototype.setStyle.call(this,u),this.setRadius(p),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,p=this._radiusY||u,v=this._clickTolerance(),O=[u+v,p+v];this._pxBounds=new Y(this._point.subtract(O),this._point.add(O))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Zi(u,p){return new is(u,p)}var Ea=is.extend({initialize:function(u,p,v){if(typeof p=="number"&&(p=s({},v,{radius:p})),E(this,p),this._latlng=Ut(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new at(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:gn.prototype.setStyle,_project:function(){var u=this._latlng.lng,p=this._latlng.lat,v=this._map,O=v.options.crs;if(O.distance===ct.distance){var U=Math.PI/180,$=this._mRadius/ct.R/U,yt=v.project([p+$,u]),qt=v.project([p-$,u]),$t=yt.add(qt).divideBy(2),ye=v.unproject($t).lat,Le=Math.acos((Math.cos($*U)-Math.sin(p*U)*Math.sin(ye*U))/(Math.cos(p*U)*Math.cos(ye*U)))/U;(isNaN(Le)||Le===0)&&(Le=$/Math.cos(Math.PI/180*p)),this._point=$t.subtract(v.getPixelOrigin()),this._radius=isNaN(Le)?0:$t.x-v.project([ye,u-Le]).x,this._radiusY=$t.y-yt.y}else{var Ue=O.unproject(O.project(this._latlng).subtract([this._mRadius,0]));this._point=v.latLngToLayerPoint(this._latlng),this._radius=this._point.x-v.latLngToLayerPoint(Ue).x}this._updateBounds()}});function Aa(u,p,v){return new Ea(u,p,v)}var Rr=gn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,p){E(this,p),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var p=1/0,v=null,O=to,U,$,yt=0,qt=this._parts.length;yt<qt;yt++)for(var $t=this._parts[yt],ye=1,Le=$t.length;ye<Le;ye++){U=$t[ye-1],$=$t[ye];var Ue=O(u,U,$,!0);Ue<p&&(p=Ue,v=O(u,U,$))}return v&&(v.distance=Math.sqrt(p)),v},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ns(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,p){return p=p||this._defaultShape(),u=Ut(u),p.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new at,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return nr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var p=[],v=nr(u),O=0,U=u.length;O<U;O++)v?(p[O]=Ut(u[O]),this._bounds.extend(p[O])):p[O]=this._convertLatLngs(u[O]);return p},_project:function(){var u=new Y;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),p=new et(u,u);this._rawPxBounds&&(this._pxBounds=new Y([this._rawPxBounds.min.subtract(p),this._rawPxBounds.max.add(p)]))},_projectLatlngs:function(u,p,v){var O=u[0]instanceof gt,U=u.length,$,yt;if(O){for(yt=[],$=0;$<U;$++)yt[$]=this._map.latLngToLayerPoint(u[$]),v.extend(yt[$]);p.push(yt)}else for($=0;$<U;$++)this._projectLatlngs(u[$],p,v)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}var p=this._parts,v,O,U,$,yt,qt,$t;for(v=0,U=0,$=this._rings.length;v<$;v++)for($t=this._rings[v],O=0,yt=$t.length;O<yt-1;O++)qt=Sa($t[O],$t[O+1],u,O,!0),qt&&(p[U]=p[U]||[],p[U].push(qt[0]),(qt[1]!==$t[O+1]||O===yt-2)&&(p[U].push(qt[1]),U++))}},_simplifyPoints:function(){for(var u=this._parts,p=this.options.smoothFactor,v=0,O=u.length;v<O;v++)u[v]=fl(u[v],p)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,p){var v,O,U,$,yt,qt,$t=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(v=0,$=this._parts.length;v<$;v++)for(qt=this._parts[v],O=0,yt=qt.length,U=yt-1;O<yt;U=O++)if(!(!p&&O===0)&&Ro(u,qt[U],qt[O])<=$t)return!0;return!1}});function Ds(u,p){return new Rr(u,p)}Rr._flat=eo;var ys=Rr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return pi(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var p=Rr.prototype._convertLatLngs.call(this,u),v=p.length;return v>=2&&p[0]instanceof gt&&p[0].equals(p[v-1])&&p.pop(),p},_setLatLngs:function(u){Rr.prototype._setLatLngs.call(this,u),nr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return nr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,p=this.options.weight,v=new et(p,p);if(u=new Y(u.min.subtract(v),u.max.add(v)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}for(var O=0,U=this._rings.length,$;O<U;O++)$=xa(this._rings[O],u,!0),$.length&&this._parts.push($)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var p=!1,v,O,U,$,yt,qt,$t,ye;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for($=0,$t=this._parts.length;$<$t;$++)for(v=this._parts[$],yt=0,ye=v.length,qt=ye-1;yt<ye;qt=yt++)O=v[yt],U=v[qt],O.y>u.y!=U.y>u.y&&u.x<(U.x-O.x)*(u.y-O.y)/(U.y-O.y)+O.x&&(p=!p);return p||Rr.prototype._containsPoint.call(this,u,!0)}});function so(u,p){return new ys(u,p)}var Si=rr.extend({initialize:function(u,p){E(this,p),this._layers={},u&&this.addData(u)},addData:function(u){var p=D(u)?u:u.features,v,O,U;if(p){for(v=0,O=p.length;v<O;v++)U=p[v],(U.geometries||U.geometry||U.features||U.coordinates)&&this.addData(U);return this}var $=this.options;if($.filter&&!$.filter(u))return this;var yt=mi(u,$);return yt?(yt.feature=st(u),yt.defaultOptions=yt.options,this.resetStyle(yt),$.onEachFeature&&$.onEachFeature(u,yt),this.addLayer(yt)):this},resetStyle:function(u){return u===void 0?this.eachLayer(this.resetStyle,this):(u.options=s({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(p){this._setLayerStyle(p,u)},this)},_setLayerStyle:function(u,p){u.setStyle&&(typeof p=="function"&&(p=p(u.feature)),u.setStyle(p))}});function mi(u,p){var v=u.type==="Feature"?u.geometry:u,O=v?v.coordinates:null,U=[],$=p&&p.pointToLayer,yt=p&&p.coordsToLatLng||A,qt,$t,ye,Le;if(!O&&!v)return null;switch(v.type){case"Point":return qt=yt(O),b($,u,qt,p);case"MultiPoint":for(ye=0,Le=O.length;ye<Le;ye++)qt=yt(O[ye]),U.push(b($,u,qt,p));return new rr(U);case"LineString":case"MultiLineString":return $t=P(O,v.type==="LineString"?0:1,yt),new Rr($t,p);case"Polygon":case"MultiPolygon":return $t=P(O,v.type==="Polygon"?1:2,yt),new ys($t,p);case"GeometryCollection":for(ye=0,Le=v.geometries.length;ye<Le;ye++){var Ue=mi({geometry:v.geometries[ye],type:"Feature",properties:u.properties},p);Ue&&U.push(Ue)}return new rr(U);case"FeatureCollection":for(ye=0,Le=v.features.length;ye<Le;ye++){var rn=mi(v.features[ye],p);rn&&U.push(rn)}return new rr(U);default:throw new Error("Invalid GeoJSON object.")}}function b(u,p,v,O){return u?u(p,v):new gs(v,O&&O.markersInheritOptions&&O)}function A(u){return new gt(u[1],u[0],u[2])}function P(u,p,v){for(var O=[],U=0,$=u.length,yt;U<$;U++)yt=p?P(u[U],p-1,v):(v||A)(u[U]),O.push(yt);return O}function B(u,p){return u=Ut(u),u.alt!==void 0?[_(u.lng,p),_(u.lat,p),_(u.alt,p)]:[_(u.lng,p),_(u.lat,p)]}function q(u,p,v,O){for(var U=[],$=0,yt=u.length;$<yt;$++)U.push(p?q(u[$],nr(u[$])?0:p-1,v,O):B(u[$],O));return!p&&v&&U.length>0&&U.push(U[0].slice()),U}function X(u,p){return u.feature?s({},u.feature,{geometry:p}):st(p)}function st(u){return u.type==="Feature"||u.type==="FeatureCollection"?u:{type:"Feature",properties:{},geometry:u}}var mt={toGeoJSON:function(u){return X(this,{type:"Point",coordinates:B(this.getLatLng(),u)})}};gs.include(mt),Ea.include(mt),is.include(mt),Rr.include({toGeoJSON:function(u){var p=!nr(this._latlngs),v=q(this._latlngs,p?1:0,!1,u);return X(this,{type:(p?"Multi":"")+"LineString",coordinates:v})}}),ys.include({toGeoJSON:function(u){var p=!nr(this._latlngs),v=p&&!nr(this._latlngs[0]),O=q(this._latlngs,v?2:p?1:0,!0,u);return p||(O=[O]),X(this,{type:(v?"Multi":"")+"Polygon",coordinates:O})}}),ro.include({toMultiPoint:function(u){var p=[];return this.eachLayer(function(v){p.push(v.toGeoJSON(u).geometry.coordinates)}),X(this,{type:"MultiPoint",coordinates:p})},toGeoJSON:function(u){var p=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(p==="MultiPoint")return this.toMultiPoint(u);var v=p==="GeometryCollection",O=[];return this.eachLayer(function(U){if(U.toGeoJSON){var $=U.toGeoJSON(u);if(v)O.push($.geometry);else{var yt=st($);yt.type==="FeatureCollection"?O.push.apply(O,yt.features):O.push(yt)}}}),v?X(this,{geometries:O,type:"GeometryCollection"}):{type:"FeatureCollection",features:O}}});function kt(u,p){return new Si(u,p)}var Ct=kt,zt=ir.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,p,v){this._url=u,this._bounds=Tt(p),E(this,v)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ge(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Sn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&Xn(this._image),this},bringToBack:function(){return this._map&&gr(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=Tt(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u=this._url.tagName==="IMG",p=this._image=u?this._url:je("img");if(Ge(p,"leaflet-image-layer"),this._zoomAnimated&&Ge(p,"leaflet-zoom-animated"),this.options.className&&Ge(p,this.options.className),p.onselectstart=y,p.onmousemove=y,p.onload=l(this.fire,this,"load"),p.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u){this._url=p.src;return}p.src=this._url,p.alt=this.options.alt},_animateZoom:function(u){var p=this._map.getZoomScale(u.zoom),v=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;yr(this._image,v,p)},_reset:function(){var u=this._image,p=new Y(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),v=p.getSize();_n(u,p.min),u.style.width=v.x+"px",u.style.height=v.y+"px"},_updateOpacity:function(){En(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),xt=function(u,p,v){return new zt(u,p,v)},Ft=zt.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u=this._url.tagName==="VIDEO",p=this._image=u?this._url:je("video");if(Ge(p,"leaflet-image-layer"),this._zoomAnimated&&Ge(p,"leaflet-zoom-animated"),this.options.className&&Ge(p,this.options.className),p.onselectstart=y,p.onmousemove=y,p.onloadeddata=l(this.fire,this,"load"),u){for(var v=p.getElementsByTagName("source"),O=[],U=0;U<v.length;U++)O.push(v[U].src);this._url=v.length>0?O:[p.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(p.style,"objectFit")&&(p.style.objectFit="fill"),p.autoplay=!!this.options.autoplay,p.loop=!!this.options.loop,p.muted=!!this.options.muted,p.playsInline=!!this.options.playsInline;for(var $=0;$<this._url.length;$++){var yt=je("source");yt.src=this._url[$],p.appendChild(yt)}}});function Nt(u,p,v){return new Ft(u,p,v)}var Dt=zt.extend({_initImage:function(){var u=this._image=this._url;Ge(u,"leaflet-image-layer"),this._zoomAnimated&&Ge(u,"leaflet-zoom-animated"),this.options.className&&Ge(u,this.options.className),u.onselectstart=y,u.onmousemove=y}});function It(u,p,v){return new Dt(u,p,v)}var jt=ir.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,p){u&&(u instanceof gt||D(u))?(this._latlng=Ut(u),E(this,p)):(E(this,u),this._source=p),this.options.content&&(this._content=this.options.content)},openOn:function(u){return u=arguments.length?u:this._source._map,u.hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&En(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&En(this._container,1),this.bringToFront(),this.options.interactive&&(Ge(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(En(this._container,0),this._removeTimeout=setTimeout(l(Sn,void 0,this._container),200)):Sn(this._container),this.options.interactive&&(Un(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=Ut(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Xn(this._container),this},bringToBack:function(){return this._map&&gr(this._container),this},_prepareOpen:function(u){var p=this._source;if(!p._map)return!1;if(p instanceof rr){p=null;var v=this._source._layers;for(var O in v)if(v[O]._map){p=v[O];break}if(!p)return!1;this._source=p}if(!u)if(p.getCenter)u=p.getCenter();else if(p.getLatLng)u=p.getLatLng();else if(p.getBounds)u=p.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,p=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof p=="string")u.innerHTML=p;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(p)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),p=nt(this.options.offset),v=this._getAnchor();this._zoomAnimated?_n(this._container,u.add(v)):p=p.add(u).add(v);var O=this._containerBottom=-p.y,U=this._containerLeft=-Math.round(this._containerWidth/2)+p.x;this._container.style.bottom=O+"px",this._container.style.left=U+"px"}},_getAnchor:function(){return[0,0]}});nn.include({_initOverlay:function(u,p,v,O){var U=p;return U instanceof u||(U=new u(O).setContent(p)),v&&U.setLatLng(v),U}}),ir.include({_initOverlay:function(u,p,v,O){var U=v;return U instanceof u?(E(U,O),U._source=this):(U=p&&!O?p:new u(O,this),U.setContent(v)),U}});var Kt=jt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u=arguments.length?u:this._source._map,!u.hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,jt.prototype.openOn.call(this,u)},onAdd:function(u){jt.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof gn||this._source.on("preclick",$n))},onRemove:function(u){jt.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof gn||this._source.off("preclick",$n))},getEvents:function(){var u=jt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",p=this._container=je("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),v=this._wrapper=je("div",u+"-content-wrapper",p);if(this._contentNode=je("div",u+"-content",v),ps(p),tr(this._contentNode),Ie(p,"contextmenu",$n),this._tipContainer=je("div",u+"-tip-container",p),this._tip=je("div",u+"-tip",this._tipContainer),this.options.closeButton){var O=this._closeButton=je("a",u+"-close-button",p);O.setAttribute("role","button"),O.setAttribute("aria-label","Close popup"),O.href="#close",O.innerHTML='<span aria-hidden="true">&#215;</span>',Ie(O,"click",function(U){Vn(U),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,p=u.style;p.width="",p.whiteSpace="nowrap";var v=u.offsetWidth;v=Math.min(v,this.options.maxWidth),v=Math.max(v,this.options.minWidth),p.width=v+1+"px",p.whiteSpace="",p.height="";var O=u.offsetHeight,U=this.options.maxHeight,$="leaflet-popup-scrolled";U&&O>U?(p.height=U+"px",Ge(u,$)):Un(u,$),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),v=this._getAnchor();_n(this._container,p.add(v))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var u=this._map,p=parseInt(Zs(this._container,"marginBottom"),10)||0,v=this._container.offsetHeight+p,O=this._containerWidth,U=new et(this._containerLeft,-v-this._containerBottom);U._add(Gr(this._container));var $=u.layerPointToContainerPoint(U),yt=nt(this.options.autoPanPadding),qt=nt(this.options.autoPanPaddingTopLeft||yt),$t=nt(this.options.autoPanPaddingBottomRight||yt),ye=u.getSize(),Le=0,Ue=0;$.x+O+$t.x>ye.x&&(Le=$.x+O-ye.x+$t.x),$.x-Le-qt.x<0&&(Le=$.x-qt.x),$.y+v+$t.y>ye.y&&(Ue=$.y+v-ye.y+$t.y),$.y-Ue-qt.y<0&&(Ue=$.y-qt.y),(Le||Ue)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([Le,Ue]))}},_getAnchor:function(){return nt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Gt=function(u,p){return new Kt(u,p)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(u,p,v){return this._initOverlay(Kt,u,p,v).openOn(this),this},closePopup:function(u){return u=arguments.length?u:this._popup,u&&u.close(),this}}),ir.include({bindPopup:function(u,p){return this._popup=this._initOverlay(Kt,this._popup,u,p),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof rr||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(!(!this._popup||!this._map)){er(u);var p=u.layer||u.target;if(this._popup._source===p&&!(p instanceof gn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng);return}this._popup._source=p,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){u.originalEvent.keyCode===13&&this._openPopup(u)}});var se=jt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){jt.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){jt.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=jt.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){var u="leaflet-tooltip",p=u+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=je("div",p),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var p,v,O=this._map,U=this._container,$=O.latLngToContainerPoint(O.getCenter()),yt=O.layerPointToContainerPoint(u),qt=this.options.direction,$t=U.offsetWidth,ye=U.offsetHeight,Le=nt(this.options.offset),Ue=this._getAnchor();qt==="top"?(p=$t/2,v=ye):qt==="bottom"?(p=$t/2,v=0):qt==="center"?(p=$t/2,v=ye/2):qt==="right"?(p=0,v=ye/2):qt==="left"?(p=$t,v=ye/2):yt.x<$.x?(qt="right",p=0,v=ye/2):(qt="left",p=$t+(Le.x+Ue.x)*2,v=ye/2),u=u.subtract(nt(p,v,!0)).add(Le).add(Ue),Un(U,"leaflet-tooltip-right"),Un(U,"leaflet-tooltip-left"),Un(U,"leaflet-tooltip-top"),Un(U,"leaflet-tooltip-bottom"),Ge(U,"leaflet-tooltip-"+qt),_n(U,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&En(this._container,u)},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(p)},_getAnchor:function(){return nt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ge=function(u,p){return new se(u,p)};nn.include({openTooltip:function(u,p,v){return this._initOverlay(se,u,p,v).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),ir.include({bindTooltip:function(u,p){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(se,this._tooltip,u,p),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(!(!u&&this._tooltipHandlersAdded)){var p=u?"off":"on",v={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?v.add=this._openTooltip:(v.mouseover=this._openTooltip,v.mouseout=this.closeTooltip,v.click=this._openTooltip,this._map?this._addFocusListeners():v.add=this._addFocusListeners),this._tooltip.options.sticky&&(v.mousemove=this._moveTooltip),this[p](v),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof rr||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var p=typeof u.getElement=="function"&&u.getElement();p&&(Ie(p,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),Ie(p,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var p=typeof u.getElement=="function"&&u.getElement();p&&p.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var p=this;this._map.once("moveend",function(){p._openOnceFlag=!1,p._openTooltip(u)});return}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var p=u.latlng,v,O;this._tooltip.options.sticky&&u.originalEvent&&(v=this._map.mouseEventToContainerPoint(u.originalEvent),O=this._map.containerPointToLayerPoint(v),p=this._map.layerPointToLatLng(O)),this._tooltip.setLatLng(p)}});var ke=wr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var p=u&&u.tagName==="DIV"?u:document.createElement("div"),v=this.options;if(v.html instanceof Element?(Ki(p),p.appendChild(v.html)):p.innerHTML=v.html!==!1?v.html:"",v.bgPos){var O=nt(v.bgPos);p.style.backgroundPosition=-O.x+"px "+-O.y+"px"}return this._setIconStyles(p,"icon"),p},createShadow:function(){return null}});function Ne(u){return new ke(u)}wr.Default=Po;var Se=ir.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Re.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){E(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),Sn(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Xn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(gr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof et?u:new et(u,u)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var p=this.getPane().children,v=-u(-1/0,1/0),O=0,U=p.length,$;O<U;O++)$=p[O].style.zIndex,p[O]!==this._container&&$&&(v=u(v,+$));isFinite(v)&&(this.options.zIndex=v+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Re.ielt9){En(this._container,this.options.opacity);var u=+new Date,p=!1,v=!1;for(var O in this._tiles){var U=this._tiles[O];if(!(!U.current||!U.loaded)){var $=Math.min(1,(u-U.loaded)/200);En(U.el,$),$<1?p=!0:(U.active?v=!0:this._onOpaqueTile(U),U.active=!0)}}v&&!this._noPrune&&this._pruneTiles(),p&&(G(this._fadeFrame),this._fadeFrame=ot(this._updateOpacity,this))}},_onOpaqueTile:y,_initContainer:function(){this._container||(this._container=je("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,p=this.options.maxZoom;if(u!==void 0){for(var v in this._levels)v=Number(v),this._levels[v].el.children.length||v===u?(this._levels[v].el.style.zIndex=p-Math.abs(u-v),this._onUpdateLevel(v)):(Sn(this._levels[v].el),this._removeTilesAtZoom(v),this._onRemoveLevel(v),delete this._levels[v]);var O=this._levels[u],U=this._map;return O||(O=this._levels[u]={},O.el=je("div","leaflet-tile-container leaflet-zoom-animated",this._container),O.el.style.zIndex=p,O.origin=U.project(U.unproject(U.getPixelOrigin()),u).round(),O.zoom=u,this._setZoomTransform(O,U.getCenter(),U.getZoom()),y(O.el.offsetWidth),this._onCreateLevel(O)),this._level=O,O}},_onUpdateLevel:y,_onRemoveLevel:y,_onCreateLevel:y,_pruneTiles:function(){if(this._map){var u,p,v=this._map.getZoom();if(v>this.options.maxZoom||v<this.options.minZoom){this._removeAllTiles();return}for(u in this._tiles)p=this._tiles[u],p.retain=p.current;for(u in this._tiles)if(p=this._tiles[u],p.current&&!p.active){var O=p.coords;this._retainParent(O.x,O.y,O.z,O.z-5)||this._retainChildren(O.x,O.y,O.z,O.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var p in this._tiles)this._tiles[p].coords.z===u&&this._removeTile(p)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)Sn(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,p,v,O){var U=Math.floor(u/2),$=Math.floor(p/2),yt=v-1,qt=new et(+U,+$);qt.z=+yt;var $t=this._tileCoordsToKey(qt),ye=this._tiles[$t];return ye&&ye.active?(ye.retain=!0,!0):(ye&&ye.loaded&&(ye.retain=!0),yt>O?this._retainParent(U,$,yt,O):!1)},_retainChildren:function(u,p,v,O){for(var U=2*u;U<2*u+2;U++)for(var $=2*p;$<2*p+2;$++){var yt=new et(U,$);yt.z=v+1;var qt=this._tileCoordsToKey(yt),$t=this._tiles[qt];if($t&&$t.active){$t.retain=!0;continue}else $t&&$t.loaded&&($t.retain=!0);v+1<O&&this._retainChildren(U,$,v+1,O)}},_resetView:function(u){var p=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),p,p)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var p=this.options;return p.minNativeZoom!==void 0&&u<p.minNativeZoom?p.minNativeZoom:p.maxNativeZoom!==void 0&&p.maxNativeZoom<u?p.maxNativeZoom:u},_setView:function(u,p,v,O){var U=Math.round(p);this.options.maxZoom!==void 0&&U>this.options.maxZoom||this.options.minZoom!==void 0&&U<this.options.minZoom?U=void 0:U=this._clampZoom(U);var $=this.options.updateWhenZooming&&U!==this._tileZoom;(!O||$)&&(this._tileZoom=U,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),U!==void 0&&this._update(u),v||this._pruneTiles(),this._noPrune=!!v),this._setZoomTransforms(u,p)},_setZoomTransforms:function(u,p){for(var v in this._levels)this._setZoomTransform(this._levels[v],u,p)},_setZoomTransform:function(u,p,v){var O=this._map.getZoomScale(v,u.zoom),U=u.origin.multiplyBy(O).subtract(this._map._getNewPixelOrigin(p,v)).round();Re.any3d?yr(u.el,U,O):_n(u.el,U)},_resetGrid:function(){var u=this._map,p=u.options.crs,v=this._tileSize=this.getTileSize(),O=this._tileZoom,U=this._map.getPixelWorldBounds(this._tileZoom);U&&(this._globalTileRange=this._pxBoundsToTileRange(U)),this._wrapX=p.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,p.wrapLng[0]],O).x/v.x),Math.ceil(u.project([0,p.wrapLng[1]],O).x/v.y)],this._wrapY=p.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([p.wrapLat[0],0],O).y/v.x),Math.ceil(u.project([p.wrapLat[1],0],O).y/v.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var p=this._map,v=p._animatingZoom?Math.max(p._animateToZoom,p.getZoom()):p.getZoom(),O=p.getZoomScale(v,this._tileZoom),U=p.project(u,this._tileZoom).floor(),$=p.getSize().divideBy(O*2);return new Y(U.subtract($),U.add($))},_update:function(u){var p=this._map;if(p){var v=this._clampZoom(p.getZoom());if(u===void 0&&(u=p.getCenter()),this._tileZoom!==void 0){var O=this._getTiledPixelBounds(u),U=this._pxBoundsToTileRange(O),$=U.getCenter(),yt=[],qt=this.options.keepBuffer,$t=new Y(U.getBottomLeft().subtract([qt,-qt]),U.getTopRight().add([qt,-qt]));if(!(isFinite(U.min.x)&&isFinite(U.min.y)&&isFinite(U.max.x)&&isFinite(U.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ye in this._tiles){var Le=this._tiles[ye].coords;(Le.z!==this._tileZoom||!$t.contains(new et(Le.x,Le.y)))&&(this._tiles[ye].current=!1)}if(Math.abs(v-this._tileZoom)>1){this._setView(u,v);return}for(var Ue=U.min.y;Ue<=U.max.y;Ue++)for(var rn=U.min.x;rn<=U.max.x;rn++){var Di=new et(rn,Ue);if(Di.z=this._tileZoom,!!this._isValidTile(Di)){var ui=this._tiles[this._tileCoordsToKey(Di)];ui?ui.current=!0:yt.push(Di)}}if(yt.sort(function(bn,vn){return bn.distanceTo($)-vn.distanceTo($)}),yt.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var xr=document.createDocumentFragment();for(rn=0;rn<yt.length;rn++)this._addTile(yt[rn],xr);this._level.el.appendChild(xr)}}}},_isValidTile:function(u){var p=this._map.options.crs;if(!p.infinite){var v=this._globalTileRange;if(!p.wrapLng&&(u.x<v.min.x||u.x>v.max.x)||!p.wrapLat&&(u.y<v.min.y||u.y>v.max.y))return!1}if(!this.options.bounds)return!0;var O=this._tileCoordsToBounds(u);return Tt(this.options.bounds).overlaps(O)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var p=this._map,v=this.getTileSize(),O=u.scaleBy(v),U=O.add(v),$=p.unproject(O,u.z),yt=p.unproject(U,u.z);return[$,yt]},_tileCoordsToBounds:function(u){var p=this._tileCoordsToNwSe(u),v=new at(p[0],p[1]);return this.options.noWrap||(v=this._map.wrapLatLngBounds(v)),v},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var p=u.split(":"),v=new et(+p[0],+p[1]);return v.z=+p[2],v},_removeTile:function(u){var p=this._tiles[u];p&&(Sn(p.el),delete this._tiles[u],this.fire("tileunload",{tile:p.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){Ge(u,"leaflet-tile");var p=this.getTileSize();u.style.width=p.x+"px",u.style.height=p.y+"px",u.onselectstart=y,u.onmousemove=y,Re.ielt9&&this.options.opacity<1&&En(u,this.options.opacity)},_addTile:function(u,p){var v=this._getTilePos(u),O=this._tileCoordsToKey(u),U=this.createTile(this._wrapCoords(u),l(this._tileReady,this,u));this._initTile(U),this.createTile.length<2&&ot(l(this._tileReady,this,u,null,U)),_n(U,v),this._tiles[O]={el:U,coords:u,current:!0},p.appendChild(U),this.fire("tileloadstart",{tile:U,coords:u})},_tileReady:function(u,p,v){p&&this.fire("tileerror",{error:p,tile:v,coords:u});var O=this._tileCoordsToKey(u);v=this._tiles[O],v&&(v.loaded=+new Date,this._map._fadeAnimated?(En(v.el,0),G(this._fadeFrame),this._fadeFrame=ot(this._updateOpacity,this)):(v.active=!0,this._pruneTiles()),p||(Ge(v.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:v.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Re.ielt9||!this._map._fadeAnimated?ot(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var p=new et(this._wrapX?g(u.x,this._wrapX):u.x,this._wrapY?g(u.y,this._wrapY):u.y);return p.z=u.z,p},_pxBoundsToTileRange:function(u){var p=this.getTileSize();return new Y(u.min.unscaleBy(p).floor(),u.max.unscaleBy(p).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});function Oe(u){return new Se(u)}var Ce=Se.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,p){this._url=u,p=E(this,p),p.detectRetina&&Re.retina&&p.maxZoom>0?(p.tileSize=Math.floor(p.tileSize/2),p.zoomReverse?(p.zoomOffset--,p.minZoom=Math.min(p.maxZoom,p.minZoom+1)):(p.zoomOffset++,p.maxZoom=Math.max(p.minZoom,p.maxZoom-1)),p.minZoom=Math.max(0,p.minZoom)):p.zoomReverse?p.minZoom=Math.min(p.maxZoom,p.minZoom):p.maxZoom=Math.max(p.minZoom,p.maxZoom),typeof p.subdomains=="string"&&(p.subdomains=p.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,p){return this._url===u&&p===void 0&&(p=!0),this._url=u,p||this.redraw(),this},createTile:function(u,p){var v=document.createElement("img");return Ie(v,"load",l(this._tileOnLoad,this,p,v)),Ie(v,"error",l(this._tileOnError,this,p,v)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(v.referrerPolicy=this.options.referrerPolicy),v.alt="",v.src=this.getTileUrl(u),v},getTileUrl:function(u){var p={r:Re.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var v=this._globalTileRange.max.y-u.y;this.options.tms&&(p.y=v),p["-y"]=v}return M(this._url,s(p,this.options))},_tileOnLoad:function(u,p){Re.ielt9?setTimeout(l(u,this,null,p),0):u(null,p)},_tileOnError:function(u,p,v){var O=this.options.errorTileUrl;O&&p.getAttribute("src")!==O&&(p.src=O),u(v,p)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom,p=this.options.maxZoom,v=this.options.zoomReverse,O=this.options.zoomOffset;return v&&(u=p-u),u+O},_getSubdomain:function(u){var p=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[p]},_abortLoading:function(){var u,p;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&(p=this._tiles[u].el,p.onload=y,p.onerror=y,!p.complete)){p.src=R;var v=this._tiles[u].coords;Sn(p),delete this._tiles[u],this.fire("tileabort",{tile:p,coords:v})}},_removeTile:function(u){var p=this._tiles[u];if(p)return p.el.setAttribute("src",R),Se.prototype._removeTile.call(this,u)},_tileReady:function(u,p,v){if(!(!this._map||v&&v.getAttribute("src")===R))return Se.prototype._tileReady.call(this,u,p,v)}});function Ae(u,p){return new Ce(u,p)}var De=Ce.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,p){this._url=u;var v=s({},this.defaultWmsParams);for(var O in p)O in this.options||(v[O]=p[O]);p=E(this,p);var U=p.detectRetina&&Re.retina?2:1,$=this.getTileSize();v.width=$.x*U,v.height=$.y*U,this.wmsParams=v},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var p=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[p]=this._crs.code,Ce.prototype.onAdd.call(this,u)},getTileUrl:function(u){var p=this._tileCoordsToNwSe(u),v=this._crs,O=Z(v.project(p[0]),v.project(p[1])),U=O.min,$=O.max,yt=(this._wmsVersion>=1.3&&this._crs===gl?[U.y,U.x,$.y,$.x]:[U.x,U.y,$.x,$.y]).join(","),qt=Ce.prototype.getTileUrl.call(this,u);return qt+T(this.wmsParams,qt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+yt},setParams:function(u,p){return s(this.wmsParams,u),p||this.redraw(),this}});function He(u,p){return new De(u,p)}Ce.WMS=De,Ae.wms=He;var qe=ir.extend({options:{padding:.1},initialize:function(u){E(this,u),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ge(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,p){var v=this._map.getZoomScale(p,this._zoom),O=this._map.getSize().multiplyBy(.5+this.options.padding),U=this._map.project(this._center,p),$=O.multiplyBy(-v).add(U).subtract(this._map._getNewPixelOrigin(u,p));Re.any3d?yr(this._container,$,v):_n(this._container,$)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var u in this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,p=this._map.getSize(),v=this._map.containerPointToLayerPoint(p.multiplyBy(-u)).round();this._bounds=new Y(v,v.add(p.multiplyBy(1+u*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),$e=qe.extend({options:{tolerance:0},getEvents:function(){var u=qe.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qe.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");Ie(u,"mousemove",this._onMouseMove,this),Ie(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ie(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,Sn(this._container),fn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var u;this._redrawBounds=null;for(var p in this._layers)u=this._layers[p],u._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qe.prototype._update.call(this);var u=this._bounds,p=this._container,v=u.getSize(),O=Re.retina?2:1;_n(p,u.min),p.width=O*v.x,p.height=O*v.y,p.style.width=v.x+"px",p.style.height=v.y+"px",Re.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){qe.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[f(u)]=u;var p=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=p),this._drawLast=p,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var p=u._order,v=p.next,O=p.prev;v?v.prev=O:this._drawLast=O,O?O.next=v:this._drawFirst=v,delete u._order,delete this._layers[f(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if(typeof u.options.dashArray=="string"){var p=u.options.dashArray.split(/[, ]+/),v=[],O,U;for(U=0;U<p.length;U++){if(O=Number(p[U]),isNaN(O))return;v.push(O)}u.options._dashArray=v}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||ot(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var p=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Y,this._redrawBounds.extend(u._pxBounds.min.subtract([p,p])),this._redrawBounds.extend(u._pxBounds.max.add([p,p]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var p=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,p.x,p.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,p=this._redrawBounds;if(this._ctx.save(),p){var v=p.getSize();this._ctx.beginPath(),this._ctx.rect(p.min.x,p.min.y,v.x,v.y),this._ctx.clip()}this._drawing=!0;for(var O=this._drawFirst;O;O=O.next)u=O.layer,(!p||u._pxBounds&&u._pxBounds.intersects(p))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,p){if(this._drawing){var v,O,U,$,yt=u._parts,qt=yt.length,$t=this._ctx;if(qt){for($t.beginPath(),v=0;v<qt;v++){for(O=0,U=yt[v].length;O<U;O++)$=yt[v][O],$t[O?"lineTo":"moveTo"]($.x,$.y);p&&$t.closePath()}this._fillStroke($t,u)}}},_updateCircle:function(u){if(!(!this._drawing||u._empty())){var p=u._point,v=this._ctx,O=Math.max(Math.round(u._radius),1),U=(Math.max(Math.round(u._radiusY),1)||O)/O;U!==1&&(v.save(),v.scale(1,U)),v.beginPath(),v.arc(p.x,p.y/U,O,0,Math.PI*2,!1),U!==1&&v.restore(),this._fillStroke(v,u)}},_fillStroke:function(u,p){var v=p.options;v.fill&&(u.globalAlpha=v.fillOpacity,u.fillStyle=v.fillColor||v.color,u.fill(v.fillRule||"evenodd")),v.stroke&&v.weight!==0&&(u.setLineDash&&u.setLineDash(p.options&&p.options._dashArray||[]),u.globalAlpha=v.opacity,u.lineWidth=v.weight,u.strokeStyle=v.color,u.lineCap=v.lineCap,u.lineJoin=v.lineJoin,u.stroke())},_onClick:function(u){for(var p=this._map.mouseEventToLayerPoint(u),v,O,U=this._drawFirst;U;U=U.next)v=U.layer,v.options.interactive&&v._containsPoint(p)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(v))&&(O=v);this._fireEvent(O?[O]:!1,u)},_onMouseMove:function(u){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var p=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,p)}},_handleMouseOut:function(u){var p=this._hoveredLayer;p&&(Un(this._container,"leaflet-interactive"),this._fireEvent([p],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,p){if(!this._mouseHoverThrottled){for(var v,O,U=this._drawFirst;U;U=U.next)v=U.layer,v.options.interactive&&v._containsPoint(p)&&(O=v);O!==this._hoveredLayer&&(this._handleMouseOut(u),O&&(Ge(this._container,"leaflet-interactive"),this._fireEvent([O],u,"mouseover"),this._hoveredLayer=O)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,u),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,p,v){this._map._fireDOMEvent(p,v||p.type,u)},_bringToFront:function(u){var p=u._order;if(p){var v=p.next,O=p.prev;if(v)v.prev=O;else return;O?O.next=v:v&&(this._drawFirst=v),p.prev=this._drawLast,this._drawLast.next=p,p.next=null,this._drawLast=p,this._requestRedraw(u)}},_bringToBack:function(u){var p=u._order;if(p){var v=p.next,O=p.prev;if(O)O.next=v;else return;v?v.prev=O:O&&(this._drawLast=O),p.prev=null,p.next=this._drawFirst,this._drawFirst.prev=p,this._drawFirst=p,this._requestRedraw(u)}}});function gi(u){return Re.canvas?new $e(u):null}var We=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),li={_initContainer:function(){this._container=je("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qe.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var p=u._container=We("shape");Ge(p,"leaflet-vml-shape "+(this.options.className||"")),p.coordsize="1 1",u._path=We("path"),p.appendChild(u._path),this._updateStyle(u),this._layers[f(u)]=u},_addPath:function(u){var p=u._container;this._container.appendChild(p),u.options.interactive&&u.addInteractiveTarget(p)},_removePath:function(u){var p=u._container;Sn(p),u.removeInteractiveTarget(p),delete this._layers[f(u)]},_updateStyle:function(u){var p=u._stroke,v=u._fill,O=u.options,U=u._container;U.stroked=!!O.stroke,U.filled=!!O.fill,O.stroke?(p||(p=u._stroke=We("stroke")),U.appendChild(p),p.weight=O.weight+"px",p.color=O.color,p.opacity=O.opacity,O.dashArray?p.dashStyle=D(O.dashArray)?O.dashArray.join(" "):O.dashArray.replace(/( *, *)/g," "):p.dashStyle="",p.endcap=O.lineCap.replace("butt","flat"),p.joinstyle=O.lineJoin):p&&(U.removeChild(p),u._stroke=null),O.fill?(v||(v=u._fill=We("fill")),U.appendChild(v),v.color=O.fillColor||O.color,v.opacity=O.fillOpacity):v&&(U.removeChild(v),u._fill=null)},_updateCircle:function(u){var p=u._point.round(),v=Math.round(u._radius),O=Math.round(u._radiusY||v);this._setPath(u,u._empty()?"M0 0":"AL "+p.x+","+p.y+" "+v+","+O+" 0,"+65535*360)},_setPath:function(u,p){u._path.v=p},_bringToFront:function(u){Xn(u._container)},_bringToBack:function(u){gr(u._container)}},On=Re.vml?We:ft,rs=qe.extend({_initContainer:function(){this._container=On("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=On("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Sn(this._container),fn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qe.prototype._update.call(this);var u=this._bounds,p=u.getSize(),v=this._container;(!this._svgSize||!this._svgSize.equals(p))&&(this._svgSize=p,v.setAttribute("width",p.x),v.setAttribute("height",p.y)),_n(v,u.min),v.setAttribute("viewBox",[u.min.x,u.min.y,p.x,p.y].join(" ")),this.fire("update")}},_initPath:function(u){var p=u._path=On("path");u.options.className&&Ge(p,u.options.className),u.options.interactive&&Ge(p,"leaflet-interactive"),this._updateStyle(u),this._layers[f(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){Sn(u._path),u.removeInteractiveTarget(u._path),delete this._layers[f(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var p=u._path,v=u.options;p&&(v.stroke?(p.setAttribute("stroke",v.color),p.setAttribute("stroke-opacity",v.opacity),p.setAttribute("stroke-width",v.weight),p.setAttribute("stroke-linecap",v.lineCap),p.setAttribute("stroke-linejoin",v.lineJoin),v.dashArray?p.setAttribute("stroke-dasharray",v.dashArray):p.removeAttribute("stroke-dasharray"),v.dashOffset?p.setAttribute("stroke-dashoffset",v.dashOffset):p.removeAttribute("stroke-dashoffset")):p.setAttribute("stroke","none"),v.fill?(p.setAttribute("fill",v.fillColor||v.color),p.setAttribute("fill-opacity",v.fillOpacity),p.setAttribute("fill-rule",v.fillRule||"evenodd")):p.setAttribute("fill","none"))},_updatePoly:function(u,p){this._setPath(u,Et(u._parts,p))},_updateCircle:function(u){var p=u._point,v=Math.max(Math.round(u._radius),1),O=Math.max(Math.round(u._radiusY),1)||v,U="a"+v+","+O+" 0 1,0 ",$=u._empty()?"M0 0":"M"+(p.x-v)+","+p.y+U+v*2+",0 "+U+-v*2+",0 ";this._setPath(u,$)},_setPath:function(u,p){u._path.setAttribute("d",p)},_bringToFront:function(u){Xn(u._path)},_bringToBack:function(u){gr(u._path)}});Re.vml&&rs.include(li);function ni(u){return Re.svg||Re.vml?new rs(u):null}nn.include({getRenderer:function(u){var p=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return p||(p=this._renderer=this._createRenderer()),this.hasLayer(p)||this.addLayer(p),p},_getPaneRenderer:function(u){if(u==="overlayPane"||u===void 0)return!1;var p=this._paneRenderers[u];return p===void 0&&(p=this._createRenderer({pane:u}),this._paneRenderers[u]=p),p},_createRenderer:function(u){return this.options.preferCanvas&&gi(u)||ni(u)}});var Xi=ys.extend({initialize:function(u,p){ys.prototype.initialize.call(this,this._boundsToLatLngs(u),p)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return u=Tt(u),[u.getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});function _l(u,p){return new Xi(u,p)}rs.create=On,rs.pointsToPath=Et,Si.geometryToLayer=mi,Si.coordsToLatLng=A,Si.coordsToLatLngs=P,Si.latLngToCoords=B,Si.latLngsToCoords=q,Si.getFeature=X,Si.asFeature=st,nn.mergeOptions({boxZoom:!0});var sr=Pi.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){Ie(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){fn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Sn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||u.which!==1&&u.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),$r(),Eo(),this._startPoint=this._map.mouseEventToContainerPoint(u),Ie(document,{contextmenu:er,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=je("div","leaflet-zoom-box",this._container),Ge(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var p=new Y(this._point,this._startPoint),v=p.getSize();_n(this._box,p.min),this._box.style.width=v.x+"px",this._box.style.height=v.y+"px"},_finish:function(){this._moved&&(Sn(this._box),Un(this._container,"leaflet-crosshair")),_r(),Ao(),fn(document,{contextmenu:er,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if(!(u.which!==1&&u.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var p=new at(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(p).fire("boxzoomend",{boxZoomBounds:p})}},_onKeyDown:function(u){u.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nn.addInitHook("addHandler","boxZoom",sr),nn.mergeOptions({doubleClickZoom:!0});var tu=Pi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var p=this._map,v=p.getZoom(),O=p.options.zoomDelta,U=u.originalEvent.shiftKey?v-O:v+O;p.options.doubleClickZoom==="center"?p.setZoom(U):p.setZoomAround(u.containerPoint,U)}});nn.addInitHook("addHandler","doubleClickZoom",tu),nn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _s=Pi.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new Or(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}Ge(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Un(this._map._container,"leaflet-grab"),Un(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var p=Tt(this._map.options.maxBounds);this._offsetLimit=Z(this._map.latLngToContainerPoint(p.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(p.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var p=this._lastTime=+new Date,v=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(v),this._times.push(p),this._prunePositions(p)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),p=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=p.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,p){return u-(u-p)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var u=this._draggable._newPos.subtract(this._draggable._startPos),p=this._offsetLimit;u.x<p.min.x&&(u.x=this._viscousLimit(u.x,p.min.x)),u.y<p.min.y&&(u.y=this._viscousLimit(u.y,p.min.y)),u.x>p.max.x&&(u.x=this._viscousLimit(u.x,p.max.x)),u.y>p.max.y&&(u.y=this._viscousLimit(u.y,p.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,p=Math.round(u/2),v=this._initialWorldOffset,O=this._draggable._newPos.x,U=(O-p+v)%u+p-v,$=(O+p+v)%u-p-v,yt=Math.abs(U+v)<Math.abs($+v)?U:$;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=yt},_onDragEnd:function(u){var p=this._map,v=p.options,O=!v.inertia||u.noInertia||this._times.length<2;if(p.fire("dragend",u),O)p.fire("moveend");else{this._prunePositions(+new Date);var U=this._lastPos.subtract(this._positions[0]),$=(this._lastTime-this._times[0])/1e3,yt=v.easeLinearity,qt=U.multiplyBy(yt/$),$t=qt.distanceTo([0,0]),ye=Math.min(v.inertiaMaxSpeed,$t),Le=qt.multiplyBy(ye/$t),Ue=ye/(v.inertiaDeceleration*yt),rn=Le.multiplyBy(-Ue/2).round();!rn.x&&!rn.y?p.fire("moveend"):(rn=p._limitOffset(rn,p.options.maxBounds),ot(function(){p.panBy(rn,{duration:Ue,easeLinearity:yt,noMoveStart:!0,animate:!0})}))}}});nn.addInitHook("addHandler","dragging",_s),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Xu=Pi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),Ie(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),fn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,p=document.documentElement,v=u.scrollTop||p.scrollTop,O=u.scrollLeft||p.scrollLeft;this._map._container.focus(),window.scrollTo(O,v)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var p=this._panKeys={},v=this.keyCodes,O,U;for(O=0,U=v.left.length;O<U;O++)p[v.left[O]]=[-1*u,0];for(O=0,U=v.right.length;O<U;O++)p[v.right[O]]=[u,0];for(O=0,U=v.down.length;O<U;O++)p[v.down[O]]=[0,u];for(O=0,U=v.up.length;O<U;O++)p[v.up[O]]=[0,-1*u]},_setZoomDelta:function(u){var p=this._zoomKeys={},v=this.keyCodes,O,U;for(O=0,U=v.zoomIn.length;O<U;O++)p[v.zoomIn[O]]=u;for(O=0,U=v.zoomOut.length;O<U;O++)p[v.zoomOut[O]]=-u},_addHooks:function(){Ie(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){fn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var p=u.keyCode,v=this._map,O;if(p in this._panKeys){if(!v._panAnim||!v._panAnim._inProgress)if(O=this._panKeys[p],u.shiftKey&&(O=nt(O).multiplyBy(3)),v.options.maxBounds&&(O=v._limitOffset(nt(O),v.options.maxBounds)),v.options.worldCopyJump){var U=v.wrapLatLng(v.unproject(v.project(v.getCenter()).add(O)));v.panTo(U)}else v.panBy(O)}else if(p in this._zoomKeys)v.setZoom(v.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[p]);else if(p===27&&v._popup&&v._popup.options.closeOnEscapeKey)v.closePopup();else return;er(u)}}});nn.addInitHook("addHandler","keyboard",Xu),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var bl=Pi.extend({addHooks:function(){Ie(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){fn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var p=ei(u),v=this._map.options.wheelDebounceTime;this._delta+=p,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var O=Math.max(v-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),O),er(u)},_performZoom:function(){var u=this._map,p=u.getZoom(),v=this._map.options.zoomSnap||0;u._stop();var O=this._delta/(this._map.options.wheelPxPerZoomLevel*4),U=4*Math.log(2/(1+Math.exp(-Math.abs(O))))/Math.LN2,$=v?Math.ceil(U/v)*v:U,yt=u._limitZoom(p+(this._delta>0?$:-$))-p;this._delta=0,this._startTime=null,yt&&(u.options.scrollWheelZoom==="center"?u.setZoom(p+yt):u.setZoomAround(this._lastMousePos,p+yt))}});nn.addInitHook("addHandler","scrollWheelZoom",bl);var jo=600;nn.mergeOptions({tapHold:Re.touchNative&&Re.safari&&Re.mobile,tapTolerance:15});var eu=Pi.extend({addHooks:function(){Ie(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){fn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),u.touches.length===1){var p=u.touches[0];this._startPos=this._newPos=new et(p.clientX,p.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Ie(document,"touchend",Vn),Ie(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",p))},this),jo),Ie(document,"touchend touchcancel contextmenu",this._cancel,this),Ie(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){fn(document,"touchend",Vn),fn(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),fn(document,"touchend touchcancel contextmenu",this._cancel,this),fn(document,"touchmove",this._onMove,this)},_onMove:function(u){var p=u.touches[0];this._newPos=new et(p.clientX,p.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,p){var v=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:p.screenX,screenY:p.screenY,clientX:p.clientX,clientY:p.clientY});v._simulated=!0,p.target.dispatchEvent(v)}});nn.addInitHook("addHandler","tapHold",eu),nn.mergeOptions({touchZoom:Re.touch,bounceAtZoomLimits:!0});var Gu=Pi.extend({addHooks:function(){Ge(this._map._container,"leaflet-touch-zoom"),Ie(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Un(this._map._container,"leaflet-touch-zoom"),fn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var p=this._map;if(!(!u.touches||u.touches.length!==2||p._animatingZoom||this._zooming)){var v=p.mouseEventToContainerPoint(u.touches[0]),O=p.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=p.getSize()._divideBy(2),this._startLatLng=p.containerPointToLatLng(this._centerPoint),p.options.touchZoom!=="center"&&(this._pinchStartLatLng=p.containerPointToLatLng(v.add(O)._divideBy(2))),this._startDist=v.distanceTo(O),this._startZoom=p.getZoom(),this._moved=!1,this._zooming=!0,p._stop(),Ie(document,"touchmove",this._onTouchMove,this),Ie(document,"touchend touchcancel",this._onTouchEnd,this),Vn(u)}},_onTouchMove:function(u){if(!(!u.touches||u.touches.length!==2||!this._zooming)){var p=this._map,v=p.mouseEventToContainerPoint(u.touches[0]),O=p.mouseEventToContainerPoint(u.touches[1]),U=v.distanceTo(O)/this._startDist;if(this._zoom=p.getScaleZoom(U,this._startZoom),!p.options.bounceAtZoomLimits&&(this._zoom<p.getMinZoom()&&U<1||this._zoom>p.getMaxZoom()&&U>1)&&(this._zoom=p._limitZoom(this._zoom)),p.options.touchZoom==="center"){if(this._center=this._startLatLng,U===1)return}else{var $=v._add(O)._divideBy(2)._subtract(this._centerPoint);if(U===1&&$.x===0&&$.y===0)return;this._center=p.unproject(p.project(this._pinchStartLatLng,this._zoom).subtract($),this._zoom)}this._moved||(p._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var yt=l(p._move,p,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ot(yt,this,!0),Vn(u)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),fn(document,"touchmove",this._onTouchMove,this),fn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});nn.addInitHook("addHandler","touchZoom",Gu),nn.BoxZoom=sr,nn.DoubleClickZoom=tu,nn.Drag=_s,nn.Keyboard=Xu,nn.ScrollWheelZoom=bl,nn.TapHold=eu,nn.TouchZoom=Gu,e.Bounds=Y,e.Browser=Re,e.CRS=_t,e.Canvas=$e,e.Circle=Ea,e.CircleMarker=is,e.Class=ht,e.Control=Yi,e.DivIcon=ke,e.DivOverlay=jt,e.DomEvent=_a,e.DomUtil=Os,e.Draggable=Or,e.Evented=lt,e.FeatureGroup=rr,e.GeoJSON=Si,e.GridLayer=Se,e.Handler=Pi,e.Icon=wr,e.ImageOverlay=zt,e.LatLng=gt,e.LatLngBounds=at,e.Layer=ir,e.LayerGroup=ro,e.LineUtil=Zu,e.Map=nn,e.Marker=gs,e.Mixin=cl,e.Path=gn,e.Point=et,e.PolyUtil=Ls,e.Polygon=ys,e.Polyline=Rr,e.Popup=Kt,e.PosAnimation=ts,e.Projection=Ql,e.Rectangle=Xi,e.Renderer=qe,e.SVG=rs,e.SVGOverlay=Dt,e.TileLayer=Ce,e.Tooltip=se,e.Transformation=Rt,e.Util=dt,e.VideoOverlay=Ft,e.bind=l,e.bounds=Z,e.canvas=gi,e.circle=Aa,e.circleMarker=Zi,e.control=es,e.divIcon=Ne,e.extend=s,e.featureGroup=yl,e.geoJSON=kt,e.geoJson=Ct,e.gridLayer=Oe,e.icon=Lo,e.imageOverlay=xt,e.latLng=Ut,e.latLngBounds=Tt,e.layerGroup=Jl,e.map=ko,e.marker=Nr,e.point=nt,e.polygon=so,e.polyline=Ds,e.popup=Gt,e.rectangle=_l,e.setOptions=E,e.stamp=f,e.svg=ni,e.svgOverlay=It,e.tileLayer=Ae,e.tooltip=ge,e.transformation=At,e.version=i,e.videoOverlay=Nt;var $u=window.L;e.noConflict=function(){return window.L=$u,this},window.L=e}))})(tf,tf.exports)),tf.exports}var ip=Vj();const Rf=D_(ip);function OA(n,t,e){return Object.freeze({instance:n,context:t,container:e})}function CA(n,t){return t==null?function(i,s){const a=Ee.useRef(void 0);return a.current||(a.current=n(i,s)),a}:function(i,s){const a=Ee.useRef(void 0);a.current||(a.current=n(i,s));const l=Ee.useRef(i),{instance:c}=a.current;return Ee.useEffect(function(){l.current!==i&&(t(c,i,l.current),l.current=i)},[c,i,t]),a}}function Wj(n,t){Ee.useEffect(function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){t.layerContainer?.removeLayer(n.instance),t.map.removeLayer(n.instance)}},[t,n])}function Kj(n){return function(e){const i=db(),s=n(MA(e,i),i);return TA(i.map,e.attribution),kA(s.current,e.eventHandlers),Wj(s.current,i),s}}function Yj(n,t){const e=CA(n,t),i=Kj(e);return Uj(i)}function Zj(n,t){const e=CA(n),i=Hj(e,t);return Fj(i)}function rp(){return db().map}function Xj(n){const t=rp();return Ee.useEffect(function(){return t.on(n),function(){t.off(n)}},[t,n]),t}function Gj({bounds:n,boundsOptions:t,center:e,children:i,className:s,id:a,placeholder:l,style:c,whenReady:f,zoom:d,...g},y){const[_]=Ee.useState({className:s,id:a,style:c}),[S,x]=Ee.useState(null),E=Ee.useRef(void 0);Ee.useImperativeHandle(y,()=>S?.map??null,[S]);const T=Ee.useCallback(M=>{if(M!==null&&!E.current){const D=new ip.Map(M,g);E.current=D,e!=null&&d!=null?D.setView(e,d):n!=null&&D.fitBounds(n,t),f!=null&&D.whenReady(f),x(zj(D))}},[]);Ee.useEffect(()=>()=>{S?.map.remove()},[S]);const N=S?oa.createElement(hb,{value:S},i):l??null;return oa.createElement("div",{..._,ref:T},N)}const $j=Ee.forwardRef(Gj),NA=Yj(function({position:t,...e},i){const s=new ip.Marker(t,e);return OA(s,Bj(i,{overlayContainer:s}))},function(t,e,i){e.position!==i.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==i.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==i.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==i.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),RA=Zj(function(t,e){const i=new ip.Popup(t,e.overlayContainer);return OA(i,e)},function(t,e,{position:i},s){Ee.useEffect(function(){const{instance:l}=t;function c(d){d.popup===l&&(l.update(),s(!0))}function f(d){d.popup===l&&s(!1)}return e.map.on({popupopen:c,popupclose:f}),e.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(e.map)):e.overlayContainer.bindPopup(l),function(){e.map.off({popupopen:c,popupclose:f}),e.overlayContainer?.unbindPopup(),e.map.removeLayer(l)}},[t,e,s,i])}),Qj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",Jj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",tI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";(function(){var n=L.Marker.prototype._initIcon,t=L.Marker.prototype._setPos,e=L.DomUtil.TRANSFORM==="msTransform";L.Marker.addInitHook(function(){var i=this.options.icon&&this.options.icon.options,s=i&&this.options.icon.options.iconAnchor;s&&(s=s[0]+"px "+s[1]+"px"),this.options.rotationOrigin=this.options.rotationOrigin||s||"center bottom",this.options.rotationAngle=this.options.rotationAngle||0,this.on("drag",function(a){a.target._applyRotation()})}),L.Marker.include({_initIcon:function(){n.call(this)},_setPos:function(i){t.call(this,i),this._applyRotation()},_applyRotation:function(){this.options.rotationAngle&&(this._icon.style[L.DomUtil.TRANSFORM+"Origin"]=this.options.rotationOrigin,e?this._icon.style[L.DomUtil.TRANSFORM]="rotate("+this.options.rotationAngle+"deg)":this._icon.style[L.DomUtil.TRANSFORM]+=" rotateZ("+this.options.rotationAngle+"deg)")},setRotationAngle:function(i){return this.options.rotationAngle=i,this.update(),this},setRotationOrigin:function(i){return this.options.rotationOrigin=i,this.update(),this}})})();function tn(n,t){this.x=n,this.y=t}tn.prototype={clone(){return new tn(this.x,this.y)},add(n){return this.clone()._add(n)},sub(n){return this.clone()._sub(n)},multByPoint(n){return this.clone()._multByPoint(n)},divByPoint(n){return this.clone()._divByPoint(n)},mult(n){return this.clone()._mult(n)},div(n){return this.clone()._div(n)},rotate(n){return this.clone()._rotate(n)},rotateAround(n,t){return this.clone()._rotateAround(n,t)},matMult(n){return this.clone()._matMult(n)},unit(){return this.clone()._unit()},perp(){return this.clone()._perp()},round(){return this.clone()._round()},mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals(n){return this.x===n.x&&this.y===n.y},dist(n){return Math.sqrt(this.distSqr(n))},distSqr(n){const t=n.x-this.x,e=n.y-this.y;return t*t+e*e},angle(){return Math.atan2(this.y,this.x)},angleTo(n){return Math.atan2(this.y-n.y,this.x-n.x)},angleWith(n){return this.angleWithSep(n.x,n.y)},angleWithSep(n,t){return Math.atan2(this.x*t-this.y*n,this.x*n+this.y*t)},_matMult(n){const t=n[0]*this.x+n[1]*this.y,e=n[2]*this.x+n[3]*this.y;return this.x=t,this.y=e,this},_add(n){return this.x+=n.x,this.y+=n.y,this},_sub(n){return this.x-=n.x,this.y-=n.y,this},_mult(n){return this.x*=n,this.y*=n,this},_div(n){return this.x/=n,this.y/=n,this},_multByPoint(n){return this.x*=n.x,this.y*=n.y,this},_divByPoint(n){return this.x/=n.x,this.y/=n.y,this},_unit(){return this._div(this.mag()),this},_perp(){const n=this.y;return this.y=this.x,this.x=-n,this},_rotate(n){const t=Math.cos(n),e=Math.sin(n),i=t*this.x-e*this.y,s=e*this.x+t*this.y;return this.x=i,this.y=s,this},_rotateAround(n,t){const e=Math.cos(n),i=Math.sin(n),s=t.x+e*(this.x-t.x)-i*(this.y-t.y),a=t.y+i*(this.x-t.x)+e*(this.y-t.y);return this.x=s,this.y=a,this},_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},constructor:tn};tn.convert=function(n){if(n instanceof tn)return n;if(Array.isArray(n))return new tn(+n[0],+n[1]);if(n.x!==void 0&&n.y!==void 0)return new tn(+n.x,+n.y);throw new Error("Expected [x, y] or {x, y} point format")};var eI=Object.defineProperty,xo=(n,t)=>eI(n,"name",{value:t,configurable:!0});function Ur(n,t){let e="script";return n==="name"?e="script":n==="name2"?e="script2":n==="name3"&&(e="script3"),[["coalesce",["get",`pgf:${n}`],["get",n]],{"text-font":["case",["==",["get",e],"Devanagari"],["literal",["Noto Sans Devanagari Regular v1"]],["literal",[t||"Noto Sans Regular"]]]}]}xo(Ur,"get_name_block");function po(n,t,e){let i="name";return e==="name"?i="":e==="name2"?i="2":e==="name3"&&(i="3"),t==="Latin"?["has",`script${i}`]:n==="ja"?["all",["!=",["get",`script${i}`],"Han"],["!=",["get",`script${i}`],"Hiragana"],["!=",["get",`script${i}`],"Katakana"],["!=",["get",`script${i}`],"Mixed-Japanese"]]:["!=",["get",`script${i}`],t]}xo(po,"is_not_in_target_script");function qs(n){return n==="Devanagari"?{"text-font":["literal",["Noto Sans Devanagari Regular v1"]]}:{}}xo(qs,"get_font_formatting");function pb(n){let t=nI.find(e=>e.lang===n);return t===void 0?"Latin":t.script}xo(pb,"get_default_script");function LA(n,t){let e=t||pb(n),i;return e==="Devanagari"?i="pgf:":i="",["format",["coalesce",["get",`${i}name:${n}`],["get","name:en"]],qs(e)]}xo(LA,"get_country_name");function Hs(n,t,e){let i=t||pb(n),s;return i==="Devanagari"?s="pgf:":s="",["case",["all",["any",["has","name"],["has","pgf:name"]],["!",["any",["has","name2"],["has","pgf:name2"]]],["!",["any",["has","name3"],["has","pgf:name3"]]]],["case",po(n,i,"name"),["case",["any",["is-supported-script",["get","name"]],["has","pgf:name"]],["format",["coalesce",["get",`${s}name:${n}`],["get","name:en"]],qs(i),`
`,{},["case",["all",["!",["has",`${s}name:${n}`]],["has","name:en"],["!",["has","script"]]],"",["coalesce",["get","pgf:name"],["get","name"]]],{"text-font":["case",["==",["get","script"],"Devanagari"],["literal",["Noto Sans Devanagari Regular v1"]],["literal",[e||"Noto Sans Regular"]]]}],["get","name:en"]],["format",["coalesce",["get",`${s}name:${n}`],["get","pgf:name"],["get","name"]],qs(i)]],["all",["any",["has","name"],["has","pgf:name"]],["any",["has","name2"],["has","pgf:name2"]],["!",["any",["has","name3"],["has","pgf:name3"]]]],["case",["all",po(n,i,"name"),po(n,i,"name2")],["format",["get",`${s}name:${n}`],qs(i),`
`,{},...Ur("name",e),`
`,{},...Ur("name2",e)],["case",po(n,i,"name2"),["format",["coalesce",["get",`${s}name:${n}`],["get","pgf:name"],["get","name"]],qs(i),`
`,{},...Ur("name2",e)],["format",["coalesce",["get",`${s}name:${n}`],["get","pgf:name2"],["get","name2"]],qs(i),`
`,{},...Ur("name",e)]]],["case",["all",po(n,i,"name"),po(n,i,"name2"),po(n,i,"name3")],["format",["get",`${s}name:${n}`],qs(i),`
`,{},...Ur("name",e),`
`,{},...Ur("name2",e),`
`,{},...Ur("name3",e)],["case",["!",po(n,i,"name")],["format",["coalesce",["get",`${s}name:${n}`],["get","pgf:name"],["get","name"]],qs(i),`
`,{},...Ur("name2",e),`
`,{},...Ur("name3",e)],["!",po(n,i,"name2")],["format",["coalesce",["get",`${s}name:${n}`],["get","pgf:name2"],["get","name2"]],qs(i),`
`,{},...Ur("name",e),`
`,{},...Ur("name3",e)],["format",["coalesce",["get",`${s}name:${n}`],["get","pgf:name3"],["get","name3"]],qs(i),`
`,{},...Ur("name",e),`
`,{},...Ur("name2",e)]]]]}xo(Hs,"get_multiline_name");var nI=[{lang:"ar",full_name:"Arabic",script:"Arabic"},{lang:"cs",full_name:"Czech",script:"Latin"},{lang:"bg",full_name:"Bulgarian",script:"Cyrillic"},{lang:"da",full_name:"Danish",script:"Latin"},{lang:"de",full_name:"German",script:"Latin"},{lang:"el",full_name:"Greek",script:"Greek"},{lang:"en",full_name:"English",script:"Latin"},{lang:"es",full_name:"Spanish",script:"Latin"},{lang:"et",full_name:"Estonian",script:"Latin"},{lang:"fa",full_name:"Persian",script:"Arabic"},{lang:"fi",full_name:"Finnish",script:"Latin"},{lang:"fr",full_name:"French",script:"Latin"},{lang:"ga",full_name:"Irish",script:"Latin"},{lang:"he",full_name:"Hebrew",script:"Hebrew"},{lang:"hi",full_name:"Hindi",script:"Devanagari"},{lang:"hr",full_name:"Croatian",script:"Latin"},{lang:"hu",full_name:"Hungarian",script:"Latin"},{lang:"id",full_name:"Indonesian",script:"Latin"},{lang:"it",full_name:"Italian",script:"Latin"},{lang:"ja",full_name:"Japanese",script:""},{lang:"ko",full_name:"Korean",script:"Hangul"},{lang:"lt",full_name:"Lithuanian",script:"Latin"},{lang:"lv",full_name:"Latvian",script:"Latin"},{lang:"ne",full_name:"Nepali",script:"Devanagari"},{lang:"nl",full_name:"Dutch",script:"Latin"},{lang:"no",full_name:"Norwegian",script:"Latin"},{lang:"mr",full_name:"Marathi",script:"Devanagari"},{lang:"mt",full_name:"Maltese",script:"Latin"},{lang:"pl",full_name:"Polish",script:"Latin"},{lang:"pt",full_name:"Portuguese",script:"Latin"},{lang:"ro",full_name:"Romanian",script:"Latin"},{lang:"ru",full_name:"Russian",script:"Cyrillic"},{lang:"sk",full_name:"Slovak",script:"Latin"},{lang:"sl",full_name:"Slovenian",script:"Latin"},{lang:"sv",full_name:"Swedish",script:"Latin"},{lang:"tr",full_name:"Turkish",script:"Latin"},{lang:"uk",full_name:"Ukrainian",script:"Cyrillic"},{lang:"ur",full_name:"Urdu",script:"Arabic"},{lang:"vi",full_name:"Vietnamese",script:"Latin"},{lang:"zh-Hans",full_name:"Chinese (Simplified)",script:"Han"},{lang:"zh-Hant",full_name:"Chinese (Traditional)",script:"Han"}];function PA(n,t){return[{id:"background",type:"background",paint:{"background-color":t.background}},{id:"earth",type:"fill",filter:["==","$type","Polygon"],source:n,"source-layer":"earth",paint:{"fill-color":t.earth}},...t.landcover?[{id:"landcover",type:"fill",source:n,"source-layer":"landcover",paint:{"fill-color":["match",["get","kind"],"grassland",t.landcover.grassland,"barren",t.landcover.barren,"urban_area",t.landcover.urban_area,"farmland",t.landcover.farmland,"glacier",t.landcover.glacier,"scrub",t.landcover.scrub,t.landcover.forest],"fill-opacity":["interpolate",["linear"],["zoom"],5,1,7,0]}}]:[],{id:"landuse_park",type:"fill",source:n,"source-layer":"landuse",filter:["in","kind","national_park","park","cemetery","protected_area","nature_reserve","forest","golf_course","wood","nature_reserve","forest","scrub","grassland","grass","military","naval_base","airfield"],paint:{"fill-opacity":["interpolate",["linear"],["zoom"],6,0,11,1],"fill-color":["case",["in",["get","kind"],["literal",["national_park","park","cemetery","protected_area","nature_reserve","forest","golf_course"]]],t.park_b,["in",["get","kind"],["literal",["wood","nature_reserve","forest"]]],t.wood_b,["in",["get","kind"],["literal",["scrub","grassland","grass"]]],t.scrub_b,["in",["get","kind"],["literal",["glacier"]]],t.glacier,["in",["get","kind"],["literal",["sand"]]],t.sand,["in",["get","kind"],["literal",["military","naval_base","airfield"]]],t.zoo,t.earth]}},{id:"landuse_urban_green",type:"fill",source:n,"source-layer":"landuse",filter:["in","kind","allotments","village_green","playground"],paint:{"fill-color":t.park_b,"fill-opacity":.7}},{id:"landuse_hospital",type:"fill",source:n,"source-layer":"landuse",filter:["==","kind","hospital"],paint:{"fill-color":t.hospital}},{id:"landuse_industrial",type:"fill",source:n,"source-layer":"landuse",filter:["==","kind","industrial"],paint:{"fill-color":t.industrial}},{id:"landuse_school",type:"fill",source:n,"source-layer":"landuse",filter:["in","kind","school","university","college"],paint:{"fill-color":t.school}},{id:"landuse_beach",type:"fill",source:n,"source-layer":"landuse",filter:["in","kind","beach"],paint:{"fill-color":t.beach}},{id:"landuse_zoo",type:"fill",source:n,"source-layer":"landuse",filter:["in","kind","zoo"],paint:{"fill-color":t.zoo}},{id:"landuse_aerodrome",type:"fill",source:n,"source-layer":"landuse",filter:["in","kind","aerodrome"],paint:{"fill-color":t.aerodrome}},{id:"roads_runway",type:"line",source:n,"source-layer":"roads",filter:["==","kind_detail","runway"],paint:{"line-color":t.runway,"line-width":["interpolate",["exponential",1.6],["zoom"],10,0,12,4,18,30]}},{id:"roads_taxiway",type:"line",source:n,"source-layer":"roads",minzoom:13,filter:["==","kind_detail","taxiway"],paint:{"line-color":t.runway,"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,15,6]}},{id:"landuse_runway",type:"fill",source:n,"source-layer":"landuse",filter:["any",["in","kind","runway","taxiway"]],paint:{"fill-color":t.runway}},{id:"water",type:"fill",filter:["==","$type","Polygon"],source:n,"source-layer":"water",paint:{"fill-color":t.water}},{id:"water_stream",type:"line",source:n,"source-layer":"water",minzoom:14,filter:["in","kind","stream"],paint:{"line-color":t.water,"line-width":.5}},{id:"water_river",type:"line",source:n,"source-layer":"water",minzoom:9,filter:["in","kind","river"],paint:{"line-color":t.water,"line-width":["interpolate",["exponential",1.6],["zoom"],9,0,9.5,1,18,12]}},{id:"landuse_pedestrian",type:"fill",source:n,"source-layer":"landuse",filter:["in","kind","pedestrian","dam"],paint:{"fill-color":t.pedestrian}},{id:"landuse_pier",type:"fill",source:n,"source-layer":"landuse",filter:["==","kind","pier"],paint:{"fill-color":t.pier}},{id:"roads_tunnels_other_casing",type:"line",source:n,"source-layer":"roads",filter:["all",["has","is_tunnel"],["in","kind","other","path"]],paint:{"line-color":t.tunnel_other_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],14,0,20,7]}},{id:"roads_tunnels_minor_casing",type:"line",source:n,"source-layer":"roads",filter:["all",["has","is_tunnel"],["==","kind","minor_road"]],paint:{"line-color":t.tunnel_minor_casing,"line-dasharray":[3,2],"line-gap-width":["interpolate",["exponential",1.6],["zoom"],11,0,12.5,.5,15,2,18,11],"line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,1]}},{id:"roads_tunnels_link_casing",type:"line",source:n,"source-layer":"roads",filter:["all",["has","is_tunnel"],["has","is_link"]],paint:{"line-color":t.tunnel_link_casing,"line-dasharray":[3,2],"line-gap-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,18,11],"line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,1]}},{id:"roads_tunnels_major_casing",type:"line",source:n,"source-layer":"roads",filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","major_road"]],paint:{"line-color":t.tunnel_major_casing,"line-dasharray":[3,2],"line-gap-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,.5,18,13],"line-width":["interpolate",["exponential",1.6],["zoom"],9,0,9.5,1]}},{id:"roads_tunnels_highway_casing",type:"line",source:n,"source-layer":"roads",filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","highway"],["!has","is_link"]],paint:{"line-color":t.tunnel_highway_casing,"line-dasharray":[6,.5],"line-gap-width":["interpolate",["exponential",1.6],["zoom"],3,0,3.5,.5,18,15],"line-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,1,20,15]}},{id:"roads_tunnels_other",type:"line",source:n,"source-layer":"roads",filter:["all",["has","is_tunnel"],["in","kind","other","path"]],paint:{"line-color":t.tunnel_other,"line-dasharray":[4.5,.5],"line-width":["interpolate",["exponential",1.6],["zoom"],14,0,20,7]}},{id:"roads_tunnels_minor",type:"line",source:n,"source-layer":"roads",filter:["all",["has","is_tunnel"],["==","kind","minor_road"]],paint:{"line-color":t.tunnel_minor,"line-width":["interpolate",["exponential",1.6],["zoom"],11,0,12.5,.5,15,2,18,11]}},{id:"roads_tunnels_link",type:"line",source:n,"source-layer":"roads",filter:["all",["has","is_tunnel"],["has","is_link"]],paint:{"line-color":t.tunnel_minor,"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,18,11]}},{id:"roads_tunnels_major",type:"line",source:n,"source-layer":"roads",filter:["all",["has","is_tunnel"],["==","kind","major_road"]],paint:{"line-color":t.tunnel_major,"line-width":["interpolate",["exponential",1.6],["zoom"],6,0,12,1.6,15,3,18,13]}},{id:"roads_tunnels_highway",type:"line",source:n,"source-layer":"roads",filter:["all",["has","is_tunnel"],["==",["get","kind"],"highway"],["!",["has","is_link"]]],paint:{"line-color":t.tunnel_highway,"line-width":["interpolate",["exponential",1.6],["zoom"],3,0,6,1.1,12,1.6,15,5,18,15]}},{id:"buildings",type:"fill",source:n,"source-layer":"buildings",filter:["in","kind","building","building_part"],paint:{"fill-color":t.buildings,"fill-opacity":.5}},{id:"roads_pier",type:"line",source:n,"source-layer":"roads",filter:["==","kind_detail","pier"],paint:{"line-color":t.pier,"line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,.5,20,16]}},{id:"roads_minor_service_casing",type:"line",source:n,"source-layer":"roads",minzoom:13,filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","minor_road"],["==","kind_detail","service"]],paint:{"line-color":t.minor_service_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],13,0,18,8],"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,.8]}},{id:"roads_minor_casing",type:"line",source:n,"source-layer":"roads",filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","minor_road"],["!=","kind_detail","service"]],paint:{"line-color":t.minor_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],11,0,12.5,.5,15,2,18,11],"line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,1]}},{id:"roads_link_casing",type:"line",source:n,"source-layer":"roads",minzoom:13,filter:["has","is_link"],paint:{"line-color":t.minor_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,18,11],"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1.5]}},{id:"roads_major_casing_late",type:"line",source:n,"source-layer":"roads",minzoom:12,filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","major_road"]],paint:{"line-color":t.major_casing_late,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],6,0,12,1.6,15,3,18,13],"line-width":["interpolate",["exponential",1.6],["zoom"],9,0,9.5,1]}},{id:"roads_highway_casing_late",type:"line",source:n,"source-layer":"roads",minzoom:12,filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","highway"],["!has","is_link"]],paint:{"line-color":t.highway_casing_late,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],3,0,3.5,.5,18,15],"line-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,1,20,15]}},{id:"roads_other",type:"line",source:n,"source-layer":"roads",filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["in","kind","other","path"],["!=","kind_detail","pier"]],paint:{"line-color":t.other,"line-dasharray":[3,1],"line-width":["interpolate",["exponential",1.6],["zoom"],14,0,20,7]}},{id:"roads_link",type:"line",source:n,"source-layer":"roads",filter:["has","is_link"],paint:{"line-color":t.link,"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,18,11]}},{id:"roads_minor_service",type:"line",source:n,"source-layer":"roads",filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","minor_road"],["==","kind_detail","service"]],paint:{"line-color":t.minor_service,"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,18,8]}},{id:"roads_minor",type:"line",source:n,"source-layer":"roads",filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","minor_road"],["!=","kind_detail","service"]],paint:{"line-color":["interpolate",["exponential",1.6],["zoom"],11,t.minor_a,16,t.minor_b],"line-width":["interpolate",["exponential",1.6],["zoom"],11,0,12.5,.5,15,2,18,11]}},{id:"roads_major_casing_early",type:"line",source:n,"source-layer":"roads",maxzoom:12,filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","major_road"]],paint:{"line-color":t.major_casing_early,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,.5,18,13],"line-width":["interpolate",["exponential",1.6],["zoom"],9,0,9.5,1]}},{id:"roads_major",type:"line",source:n,"source-layer":"roads",filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","major_road"]],paint:{"line-color":t.major,"line-width":["interpolate",["exponential",1.6],["zoom"],6,0,12,1.6,15,3,18,13]}},{id:"roads_highway_casing_early",type:"line",source:n,"source-layer":"roads",maxzoom:12,filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","highway"],["!has","is_link"]],paint:{"line-color":t.highway_casing_early,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],3,0,3.5,.5,18,15],"line-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,1]}},{id:"roads_highway",type:"line",source:n,"source-layer":"roads",filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","highway"],["!has","is_link"]],paint:{"line-color":t.highway,"line-width":["interpolate",["exponential",1.6],["zoom"],3,0,6,1.1,12,1.6,15,5,18,15]}},{id:"roads_rail",type:"line",source:n,"source-layer":"roads",filter:["==","kind","rail"],paint:{"line-dasharray":[.3,.75],"line-opacity":.5,"line-color":t.railway,"line-width":["interpolate",["exponential",1.6],["zoom"],3,0,6,.15,18,9]}},{id:"boundaries_country",type:"line",source:n,"source-layer":"boundaries",filter:["<=","kind_detail",2],paint:{"line-color":t.boundaries,"line-width":.7,"line-dasharray":["step",["zoom"],["literal",[2,0]],4,["literal",[2,1]]]}},{id:"boundaries",type:"line",source:n,"source-layer":"boundaries",filter:[">","kind_detail",2],paint:{"line-color":t.boundaries,"line-width":.4,"line-dasharray":["step",["zoom"],["literal",[2,0]],4,["literal",[2,1]]]}},{id:"roads_bridges_other_casing",type:"line",source:n,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["in","kind","other","path"]],paint:{"line-color":t.bridges_other_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],14,0,20,7]}},{id:"roads_bridges_link_casing",type:"line",source:n,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["has","is_link"]],paint:{"line-color":t.bridges_minor_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,18,11],"line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,1.5]}},{id:"roads_bridges_minor_casing",type:"line",source:n,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["==","kind","minor_road"]],paint:{"line-color":t.bridges_minor_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],11,0,12.5,.5,15,2,18,11],"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,.8]}},{id:"roads_bridges_major_casing",type:"line",source:n,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["==","kind","major_road"]],paint:{"line-color":t.bridges_major_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,.5,18,10],"line-width":["interpolate",["exponential",1.6],["zoom"],9,0,9.5,1.5]}},{id:"roads_bridges_other",type:"line",source:n,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["in","kind","other","path"]],paint:{"line-color":t.bridges_other,"line-dasharray":[2,1],"line-width":["interpolate",["exponential",1.6],["zoom"],14,0,20,7]}},{id:"roads_bridges_minor",type:"line",source:n,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["==","kind","minor_road"]],paint:{"line-color":t.bridges_minor,"line-width":["interpolate",["exponential",1.6],["zoom"],11,0,12.5,.5,15,2,18,11]}},{id:"roads_bridges_link",type:"line",source:n,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["has","is_link"]],paint:{"line-color":t.bridges_minor,"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,18,11]}},{id:"roads_bridges_major",type:"line",source:n,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["==","kind","major_road"]],paint:{"line-color":t.bridges_major,"line-width":["interpolate",["exponential",1.6],["zoom"],6,0,12,1.6,15,3,18,13]}},{id:"roads_bridges_highway_casing",type:"line",source:n,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["==","kind","highway"],["!has","is_link"]],paint:{"line-color":t.bridges_highway_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],3,0,3.5,.5,18,15],"line-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,1,20,15]}},{id:"roads_bridges_highway",type:"line",source:n,"source-layer":"roads",filter:["all",["has","is_bridge"],["==","kind","highway"],["!has","is_link"]],paint:{"line-color":t.bridges_highway,"line-width":["interpolate",["exponential",1.6],["zoom"],3,0,6,1.1,12,1.6,15,5,18,15]}}]}xo(PA,"nolabels_layers");function DA(n,t,e,i){return[{id:"address_label",type:"symbol",source:n,"source-layer":"buildings",minzoom:18,filter:["==","kind","address"],layout:{"symbol-placement":"point","text-font":[t.italic||"Noto Sans Italic"],"text-field":["get","addr_housenumber"],"text-size":12},paint:{"text-color":t.address_label,"text-halo-color":t.address_label_halo,"text-halo-width":1}},{id:"water_waterway_label",type:"symbol",source:n,"source-layer":"water",minzoom:13,filter:["in","kind","river","stream"],layout:{"symbol-placement":"line","text-font":[t.italic||"Noto Sans Italic"],"text-field":Hs(e,i,t.regular),"text-size":12,"text-letter-spacing":.2},paint:{"text-color":t.ocean_label,"text-halo-color":t.water,"text-halo-width":1}},{id:"roads_oneway",type:"symbol",source:n,"source-layer":"roads",minzoom:16,filter:["==",["get","oneway"],"yes"],layout:{"symbol-placement":"line","icon-image":"arrow","icon-rotate":90,"symbol-spacing":100}},{id:"roads_labels_minor",type:"symbol",source:n,"source-layer":"roads",minzoom:15,filter:["in","kind","minor_road","other","path"],layout:{"symbol-sort-key":["get","min_zoom"],"symbol-placement":"line","text-font":[t.regular||"Noto Sans Regular"],"text-field":Hs(e,i,t.regular),"text-size":12},paint:{"text-color":t.roads_label_minor,"text-halo-color":t.roads_label_minor_halo,"text-halo-width":1}},{id:"water_label_ocean",type:"symbol",source:n,"source-layer":"water",filter:["in","kind","sea","ocean","bay","strait","fjord"],layout:{"text-font":[t.italic||"Noto Sans Italic"],"text-field":Hs(e,i,t.regular),"text-size":["interpolate",["linear"],["zoom"],3,10,10,12],"text-letter-spacing":.1,"text-max-width":9,"text-transform":"uppercase"},paint:{"text-color":t.ocean_label,"text-halo-width":1,"text-halo-color":t.water}},{id:"earth_label_islands",type:"symbol",source:n,"source-layer":"earth",filter:["in","kind","island"],layout:{"text-font":[t.italic||"Noto Sans Italic"],"text-field":Hs(e,i,t.regular),"text-size":10,"text-letter-spacing":.1,"text-max-width":8},paint:{"text-color":t.subplace_label,"text-halo-color":t.subplace_label_halo,"text-halo-width":1}},{id:"water_label_lakes",type:"symbol",source:n,"source-layer":"water",filter:["in","kind","lake","water"],layout:{"text-font":[t.italic||"Noto Sans Italic"],"text-field":Hs(e,i,t.regular),"text-size":["interpolate",["linear"],["zoom"],3,10,6,12,10,12],"text-letter-spacing":.1,"text-max-width":9},paint:{"text-color":t.ocean_label,"text-halo-color":t.water,"text-halo-width":1}},{id:"roads_labels_major",type:"symbol",source:n,"source-layer":"roads",minzoom:11,filter:["in","kind","highway","major_road"],layout:{"symbol-sort-key":["get","min_zoom"],"symbol-placement":"line","text-font":[t.regular||"Noto Sans Regular"],"text-field":Hs(e,i,t.regular),"text-size":12},paint:{"text-color":t.roads_label_major,"text-halo-color":t.roads_label_major_halo,"text-halo-width":1}},...t.pois?[{id:"pois",type:"symbol",source:n,"source-layer":"pois",filter:["all",["in",["get","kind"],["literal",["beach","forest","marina","park","peak","zoo","garden","bench","aerodrome","station","bus_stop","ferry_terminal","stadium","university","library","school","animal","toilets","drinking_water"]]],[">=",["zoom"],["+",["get","min_zoom"],0]]],layout:{"icon-image":["match",["get","kind"],"station","train_station",["get","kind"]],"text-font":[t.regular||"Noto Sans Regular"],"text-justify":"auto","text-field":Hs(e,i,t.regular),"text-size":["interpolate",["linear"],["zoom"],17,10,19,16],"text-max-width":8,"text-offset":[1.1,0],"text-variable-anchor":["left","right"]},paint:{"text-color":["case",["in",["get","kind"],["literal",["beach","forest","marina","park","peak","zoo","garden","bench"]]],t.pois.green,["in",["get","kind"],["literal",["aerodrome","station","bus_stop","ferry_terminal"]]],t.pois.lapis,["in",["get","kind"],["literal",["stadium","university","library","school","animal","toilets","drinking_water"]]],t.pois.slategray,t.earth],"text-halo-color":t.earth,"text-halo-width":1}}]:[],{id:"places_subplace",type:"symbol",source:n,"source-layer":"places",filter:["in","kind","neighbourhood","macrohood"],layout:{"symbol-sort-key":["case",["has","sort_key"],["get","sort_key"],["get","min_zoom"]],"text-field":Hs(e,i,t.regular),"text-font":[t.regular||"Noto Sans Regular"],"text-max-width":7,"text-letter-spacing":.1,"text-padding":["interpolate",["linear"],["zoom"],5,2,8,4,12,18,15,20],"text-size":["interpolate",["exponential",1.2],["zoom"],11,8,14,14,18,24],"text-transform":"uppercase"},paint:{"text-color":t.subplace_label,"text-halo-color":t.subplace_label_halo,"text-halo-width":1}},{id:"places_region",type:"symbol",source:n,"source-layer":"places",filter:["==","kind","region"],layout:{"symbol-sort-key":["get","sort_key"],"text-field":["step",["zoom"],["coalesce",["get","ref:en"],["get","ref"]],6,Hs(e,i,t.regular)],"text-font":[t.regular||"Noto Sans Regular"],"text-size":["interpolate",["linear"],["zoom"],3,11,7,16],"text-radial-offset":.2,"text-anchor":"center","text-transform":"uppercase"},paint:{"text-color":t.state_label,"text-halo-color":t.state_label_halo,"text-halo-width":1}},{id:"places_locality",type:"symbol",source:n,"source-layer":"places",filter:["==","kind","locality"],layout:{"icon-image":["step",["zoom"],["case",["==",["get","capital"],"yes"],"capital","townspot"],8,""],"icon-size":.7,"text-field":Hs(e,i,t.regular),"text-font":["case",["<=",["get","min_zoom"],5],["literal",[t.bold||"Noto Sans Medium"]],["literal",[t.regular||"Noto Sans Regular"]]],"symbol-sort-key":["case",["has","sort_key"],["get","sort_key"],["get","min_zoom"]],"text-padding":["interpolate",["linear"],["zoom"],5,3,8,7,12,11],"text-size":["interpolate",["linear"],["zoom"],2,["case",["<",["get","population_rank"],13],8,[">=",["get","population_rank"],13],13,0],4,["case",["<",["get","population_rank"],13],10,[">=",["get","population_rank"],13],15,0],6,["case",["<",["get","population_rank"],12],11,[">=",["get","population_rank"],12],17,0],8,["case",["<",["get","population_rank"],11],11,[">=",["get","population_rank"],11],18,0],10,["case",["<",["get","population_rank"],9],12,[">=",["get","population_rank"],9],20,0],15,["case",["<",["get","population_rank"],8],12,[">=",["get","population_rank"],8],22,0]],"icon-padding":["interpolate",["linear"],["zoom"],0,0,8,4,10,8,12,6,22,2],"text-justify":"auto","text-variable-anchor":["step",["zoom"],["literal",["bottom","left","right","top"]],8,["literal",["center"]]],"text-radial-offset":.3},paint:{"text-color":t.city_label,"text-halo-color":t.city_label_halo,"text-halo-width":1}},{id:"places_country",type:"symbol",source:n,"source-layer":"places",filter:["==","kind","country"],layout:{"symbol-sort-key":["case",["has","sort_key"],["get","sort_key"],["get","min_zoom"]],"text-field":LA(e,i),"text-font":[t.bold||"Noto Sans Medium"],"text-size":["interpolate",["linear"],["zoom"],2,["case",["<",["get","population_rank"],10],8,[">=",["get","population_rank"],10],12,0],6,["case",["<",["get","population_rank"],8],10,[">=",["get","population_rank"],8],18,0],8,["case",["<",["get","population_rank"],7],11,[">=",["get","population_rank"],7],20,0]],"icon-padding":["interpolate",["linear"],["zoom"],0,2,14,2,16,20,17,2,22,2],"text-transform":"uppercase"},paint:{"text-color":t.country_label,"text-halo-color":t.earth,"text-halo-width":1}}]}xo(DA,"labels_layers");var iI={background:"#cccccc",earth:"#e2dfda",park_a:"#cfddd5",park_b:"#9cd3b4",hospital:"#e4dad9",industrial:"#d1dde1",school:"#e4ded7",wood_a:"#d0ded0",wood_b:"#a0d9a0",pedestrian:"#e3e0d4",scrub_a:"#cedcd7",scrub_b:"#99d2bb",glacier:"#e7e7e7",sand:"#e2e0d7",beach:"#e8e4d0",aerodrome:"#dadbdf",runway:"#e9e9ed",water:"#80deea",zoo:"#c6dcdc",military:"#dcdcdc",tunnel_other_casing:"#e0e0e0",tunnel_minor_casing:"#e0e0e0",tunnel_link_casing:"#e0e0e0",tunnel_major_casing:"#e0e0e0",tunnel_highway_casing:"#e0e0e0",tunnel_other:"#d5d5d5",tunnel_minor:"#d5d5d5",tunnel_link:"#d5d5d5",tunnel_major:"#d5d5d5",tunnel_highway:"#d5d5d5",pier:"#e0e0e0",buildings:"#cccccc",minor_service_casing:"#e0e0e0",minor_casing:"#e0e0e0",link_casing:"#e0e0e0",major_casing_late:"#e0e0e0",highway_casing_late:"#e0e0e0",other:"#ebebeb",minor_service:"#ebebeb",minor_a:"#ebebeb",minor_b:"#ffffff",link:"#ffffff",major_casing_early:"#e0e0e0",major:"#ffffff",highway_casing_early:"#e0e0e0",highway:"#ffffff",railway:"#a7b1b3",boundaries:"#adadad",bridges_other_casing:"#e0e0e0",bridges_minor_casing:"#e0e0e0",bridges_link_casing:"#e0e0e0",bridges_major_casing:"#e0e0e0",bridges_highway_casing:"#e0e0e0",bridges_other:"#ebebeb",bridges_minor:"#ffffff",bridges_link:"#ffffff",bridges_major:"#f5f5f5",bridges_highway:"#ffffff",roads_label_minor:"#91888b",roads_label_minor_halo:"#ffffff",roads_label_major:"#938a8d",roads_label_major_halo:"#ffffff",ocean_label:"#728dd4",subplace_label:"#8f8f8f",subplace_label_halo:"#e0e0e0",city_label:"#5c5c5c",city_label_halo:"#e0e0e0",state_label:"#b3b3b3",state_label_halo:"#e0e0e0",country_label:"#a3a3a3",address_label:"#91888b",address_label_halo:"#ffffff",pois:{blue:"#1A8CBD",green:"#20834D",lapis:"#315BCF",pink:"#EF56BA",red:"#F2567A",slategray:"#6A5B8F",tangerine:"#CB6704",turquoise:"#00C3D4"},landcover:{grassland:"rgba(210, 239, 207, 1)",barren:"rgba(255, 243, 215, 1)",urban_area:"rgba(230, 230, 230, 1)",farmland:"rgba(216, 239, 210, 1)",glacier:"rgba(255, 255, 255, 1)",scrub:"rgba(234, 239, 210, 1)",forest:"rgba(196, 231, 210, 1)"}},rI={background:"#34373d",earth:"#1f1f1f",park_a:"#1c2421",park_b:"#192a24",hospital:"#252424",industrial:"#222222",school:"#262323",wood_a:"#202121",wood_b:"#202121",pedestrian:"#1e1e1e",scrub_a:"#222323",scrub_b:"#222323",glacier:"#1c1c1c",sand:"#212123",beach:"#28282a",aerodrome:"#1e1e1e",runway:"#333333",water:"#31353f",zoo:"#222323",military:"#242323",tunnel_other_casing:"#141414",tunnel_minor_casing:"#141414",tunnel_link_casing:"#141414",tunnel_major_casing:"#141414",tunnel_highway_casing:"#141414",tunnel_other:"#292929",tunnel_minor:"#292929",tunnel_link:"#292929",tunnel_major:"#292929",tunnel_highway:"#292929",pier:"#333333",buildings:"#111111",minor_service_casing:"#1f1f1f",minor_casing:"#1f1f1f",link_casing:"#1f1f1f",major_casing_late:"#1f1f1f",highway_casing_late:"#1f1f1f",other:"#333333",minor_service:"#333333",minor_a:"#3d3d3d",minor_b:"#333333",link:"#3d3d3d",major_casing_early:"#1f1f1f",major:"#3d3d3d",highway_casing_early:"#1f1f1f",highway:"#474747",railway:"#000000",boundaries:"#5b6374",bridges_other_casing:"#2b2b2b",bridges_minor_casing:"#1f1f1f",bridges_link_casing:"#1f1f1f",bridges_major_casing:"#1f1f1f",bridges_highway_casing:"#1f1f1f",bridges_other:"#333333",bridges_minor:"#333333",bridges_link:"#3d3d3d",bridges_major:"#3d3d3d",bridges_highway:"#474747",roads_label_minor:"#525252",roads_label_minor_halo:"#1f1f1f",roads_label_major:"#666666",roads_label_major_halo:"#1f1f1f",ocean_label:"#717784",subplace_label:"#525252",subplace_label_halo:"#1f1f1f",city_label:"#7a7a7a",city_label_halo:"#212121",state_label:"#3d3d3d",state_label_halo:"#1f1f1f",country_label:"#5c5c5c",address_label:"#525252",address_label_halo:"#1f1f1f",pois:{blue:"#4299BB",green:"#30C573",lapis:"#2B5CEA",pink:"#EF56BA",red:"#F2567A",slategray:"#93939F",tangerine:"#F19B6E",turquoise:"#00C3D4"},landcover:{grassland:"rgba(30, 41, 31, 1)",barren:"rgba(38, 38, 36, 1)",urban_area:"rgba(28, 28, 28, 1)",farmland:"rgba(31, 36, 32, 1)",glacier:"rgba(43, 43, 43, 1)",scrub:"rgba(34, 36, 30, 1)",forest:"rgba(28, 41, 37, 1)"}},sI={background:"#ffffff",earth:"#ffffff",park_a:"#fcfcfc",park_b:"#fcfcfc",hospital:"#f8f8f8",industrial:"#fcfcfc",school:"#f8f8f8",wood_a:"#fafafa",wood_b:"#fafafa",pedestrian:"#fdfdfd",scrub_a:"#fafafa",scrub_b:"#fafafa",glacier:"#fcfcfc",sand:"#fafafa",beach:"#f6f6f6",aerodrome:"#fdfdfd",runway:"#efefef",water:"#dcdcdc",zoo:"#f7f7f7",military:"#fcfcfc",tunnel_other_casing:"#d6d6d6",tunnel_minor_casing:"#fcfcfc",tunnel_link_casing:"#fcfcfc",tunnel_major_casing:"#fcfcfc",tunnel_highway_casing:"#fcfcfc",tunnel_other:"#d6d6d6",tunnel_minor:"#d6d6d6",tunnel_link:"#d6d6d6",tunnel_major:"#d6d6d6",tunnel_highway:"#d6d6d6",pier:"#efefef",buildings:"#efefef",minor_service_casing:"#ffffff",minor_casing:"#ffffff",link_casing:"#ffffff",major_casing_late:"#ffffff",highway_casing_late:"#ffffff",other:"#f5f5f5",minor_service:"#f5f5f5",minor_a:"#ebebeb",minor_b:"#f5f5f5",link:"#ebebeb",major_casing_early:"#ffffff",major:"#ebebeb",highway_casing_early:"#ffffff",highway:"#ebebeb",railway:"#d6d6d6",boundaries:"#adadad",bridges_other_casing:"#ffffff",bridges_minor_casing:"#ffffff",bridges_link_casing:"#ffffff",bridges_major_casing:"#ffffff",bridges_highway_casing:"#ffffff",bridges_other:"#f5f5f5",bridges_minor:"#f5f5f5",bridges_link:"#ebebeb",bridges_major:"#ebebeb",bridges_highway:"#ebebeb",roads_label_minor:"#adadad",roads_label_minor_halo:"#ffffff",roads_label_major:"#999999",roads_label_major_halo:"#ffffff",ocean_label:"#adadad",subplace_label:"#8f8f8f",subplace_label_halo:"#ffffff",city_label:"#5c5c5c",city_label_halo:"#ffffff",state_label:"#b3b3b3",state_label_halo:"#ffffff",country_label:"#b8b8b8",address_label:"#adadad",address_label_halo:"#ffffff"},oI={background:"#a3a3a3",earth:"#cccccc",park_a:"#c2c2c2",park_b:"#c2c2c2",hospital:"#d0d0d0",industrial:"#c6c6c6",school:"#d0d0d0",wood_a:"#c2c2c2",wood_b:"#c2c2c2",pedestrian:"#c4c4c4",scrub_a:"#c2c2c2",scrub_b:"#c2c2c2",glacier:"#d2d2d2",sand:"#d2d2d2",beach:"#d2d2d2",aerodrome:"#c9c9c9",runway:"#f5f5f5",water:"#a3a3a3",zoo:"#c7c7c7",military:"#bfbfbf",tunnel_other_casing:"#b8b8b8",tunnel_minor_casing:"#b8b8b8",tunnel_link_casing:"#b8b8b8",tunnel_major_casing:"#b8b8b8",tunnel_highway_casing:"#b8b8b8",tunnel_other:"#d6d6d6",tunnel_minor:"#d6d6d6",tunnel_link:"#d6d6d6",tunnel_major:"#d6d6d6",tunnel_highway:"#d6d6d6",pier:"#b8b8b8",buildings:"#e0e0e0",minor_service_casing:"#cccccc",minor_casing:"#cccccc",link_casing:"#cccccc",major_casing_late:"#cccccc",highway_casing_late:"#cccccc",other:"#e0e0e0",minor_service:"#e0e0e0",minor_a:"#ebebeb",minor_b:"#e0e0e0",link:"#ebebeb",major_casing_early:"#cccccc",major:"#ebebeb",highway_casing_early:"#cccccc",highway:"#ebebeb",railway:"#f5f5f5",boundaries:"#5c5c5c",bridges_other_casing:"#cccccc",bridges_minor_casing:"#cccccc",bridges_link_casing:"#cccccc",bridges_major_casing:"#cccccc",bridges_highway_casing:"#cccccc",bridges_other:"#e0e0e0",bridges_minor:"#e0e0e0",bridges_link:"#ebebeb",bridges_major:"#ebebeb",bridges_highway:"#ebebeb",roads_label_minor:"#999999",roads_label_minor_halo:"#e0e0e0",roads_label_major:"#8f8f8f",roads_label_major_halo:"#ebebeb",ocean_label:"#7a7a7a",subplace_label:"#7a7a7a",subplace_label_halo:"#cccccc",city_label:"#474747",city_label_halo:"#cccccc",state_label:"#999999",state_label_halo:"#cccccc",country_label:"#858585",address_label:"#999999",address_label_halo:"#e0e0e0"},aI={background:"#2b2b2b",earth:"#141414",park_a:"#181818",park_b:"#181818",hospital:"#1d1d1d",industrial:"#101010",school:"#111111",wood_a:"#1a1a1a",wood_b:"#1a1a1a",pedestrian:"#191919",scrub_a:"#1c1c1c",scrub_b:"#1c1c1c",glacier:"#191919",sand:"#161616",beach:"#1f1f1f",aerodrome:"#191919",runway:"#323232",water:"#333333",zoo:"#191919",military:"#121212",tunnel_other_casing:"#101010",tunnel_minor_casing:"#101010",tunnel_link_casing:"#101010",tunnel_major_casing:"#101010",tunnel_highway_casing:"#101010",tunnel_other:"#292929",tunnel_minor:"#292929",tunnel_link:"#292929",tunnel_major:"#292929",tunnel_highway:"#292929",pier:"#0a0a0a",buildings:"#0a0a0a",minor_service_casing:"#141414",minor_casing:"#141414",link_casing:"#141414",major_casing_late:"#141414",highway_casing_late:"#141414",other:"#1f1f1f",minor_service:"#1f1f1f",minor_a:"#292929",minor_b:"#1f1f1f",link:"#1f1f1f",major_casing_early:"#141414",major:"#292929",highway_casing_early:"#141414",highway:"#292929",railway:"#292929",boundaries:"#707070",bridges_other_casing:"#141414",bridges_minor_casing:"#141414",bridges_link_casing:"#141414",bridges_major_casing:"#141414",bridges_highway_casing:"#141414",bridges_other:"#1f1f1f",bridges_minor:"#1f1f1f",bridges_link:"#292929",bridges_major:"#292929",bridges_highway:"#292929",roads_label_minor:"#525252",roads_label_minor_halo:"#141414",roads_label_major:"#5c5c5c",roads_label_major_halo:"#141414",ocean_label:"#707070",subplace_label:"#5c5c5c",subplace_label_halo:"#141414",city_label:"#999999",city_label_halo:"#141414",state_label:"#3d3d3d",state_label_halo:"#141414",country_label:"#707070",address_label:"#525252",address_label_halo:"#141414"};function mb(n){switch(n){case"light":return iI;case"dark":return rI;case"white":return sI;case"grayscale":return oI;case"black":return aI}throw new Error("Flavor not found")}xo(mb,"namedFlavor");function lI(n,t,e){let i=[];return e!=null&&e.labelsOnly||(i=PA(n,t)),e!=null&&e.lang&&(i=i.concat(DA(n,t,e.lang))),i}xo(lI,"layers");function Lu(n,t,e){return Math.min(Math.max(n,e),t)}class uI extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var ef=uI;function SS(n){if(typeof n!="string")throw new ef(n);if(n.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=n.trim();t=yI.test(n)?hI(n):n;const e=dI.exec(t);if(e){const l=Array.from(e).slice(1);return[...l.slice(0,3).map(c=>parseInt(Af(c,2),16)),parseInt(Af(l[3]||"f",2),16)/255]}const i=pI.exec(t);if(i){const l=Array.from(i).slice(1);return[...l.slice(0,3).map(c=>parseInt(c,16)),parseInt(l[3]||"ff",16)/255]}const s=mI.exec(t);if(s){const l=Array.from(s).slice(1);return[...l.slice(0,3).map(c=>parseInt(c,10)),parseFloat(l[3]||"1")]}const a=gI.exec(t);if(a){const[l,c,f,d]=Array.from(a).slice(1).map(parseFloat);if(Lu(0,100,c)!==c)throw new ef(n);if(Lu(0,100,f)!==f)throw new ef(n);return[..._I(l,c,f),Number.isNaN(d)?1:d]}throw new ef(n)}function cI(n){let t=5381,e=n.length;for(;e;)t=t*33^n.charCodeAt(--e);return(t>>>0)%2341}const ES=n=>parseInt(n.replace(/_/g,""),36),fI="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((n,t)=>{const e=ES(t.substring(0,3)),i=ES(t.substring(3)).toString(16);let s="";for(let a=0;a<6-i.length;a++)s+="0";return n[e]=`${s}${i}`,n},{});function hI(n){const t=n.toLowerCase().trim(),e=fI[cI(t)];if(!e)throw new ef(n);return`#${e}`}const Af=(n,t)=>Array.from(Array(t)).map(()=>n).join(""),dI=new RegExp(`^#${Af("([a-f0-9])",3)}([a-f0-9])?$`,"i"),pI=new RegExp(`^#${Af("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),mI=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Af(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),gI=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,yI=/^[a-z]+$/i,AS=n=>Math.round(n*255),_I=(n,t,e)=>{let i=e/100;if(t===0)return[i,i,i].map(AS);const s=(n%360+360)%360/60,a=(1-Math.abs(2*i-1))*(t/100),l=a*(1-Math.abs(s%2-1));let c=0,f=0,d=0;s>=0&&s<1?(c=a,f=l):s>=1&&s<2?(c=l,f=a):s>=2&&s<3?(f=a,d=l):s>=3&&s<4?(f=l,d=a):s>=4&&s<5?(c=l,d=a):s>=5&&s<6&&(c=a,d=l);const g=i-a/2,y=c+g,_=f+g,S=d+g;return[y,_,S].map(AS)};function bI(n,t,e,i){return`rgba(${Lu(0,255,n).toFixed()}, ${Lu(0,255,t).toFixed()}, ${Lu(0,255,e).toFixed()}, ${parseFloat(Lu(0,1,i).toFixed(3))})`}function fg(n,t,e){const i=(R,z)=>z===3?R:R/255,[s,a,l,c]=SS(n).map(i),[f,d,g,y]=SS(t).map(i),_=y-c,S=e*2-1,E=((S*_===-1?S:S+_/(1+S*_))+1)/2,T=1-E,N=(s*T+f*E)*255,M=(a*T+d*E)*255,D=(l*T+g*E)*255,I=y*e+c*(1-e);return bI(N,M,D,I)}class jA{constructor(t,e,i,s,a){this.properties={},this.extent=i,this.type=0,this.id=void 0,this._pbf=t,this._geometry=-1,this._keys=s,this._values=a,t.readFields(vI,this,e)}loadGeometry(){const t=this._pbf;t.pos=this._geometry;const e=t.readVarint()+t.pos,i=[];let s,a=1,l=0,c=0,f=0;for(;t.pos<e;){if(l<=0){const d=t.readVarint();a=d&7,l=d>>3}if(l--,a===1||a===2)c+=t.readSVarint(),f+=t.readSVarint(),a===1&&(s&&i.push(s),s=[]),s&&s.push(new tn(c,f));else if(a===7)s&&s.push(s[0].clone());else throw new Error(`unknown command ${a}`)}return s&&i.push(s),i}bbox(){const t=this._pbf;t.pos=this._geometry;const e=t.readVarint()+t.pos;let i=1,s=0,a=0,l=0,c=1/0,f=-1/0,d=1/0,g=-1/0;for(;t.pos<e;){if(s<=0){const y=t.readVarint();i=y&7,s=y>>3}if(s--,i===1||i===2)a+=t.readSVarint(),l+=t.readSVarint(),a<c&&(c=a),a>f&&(f=a),l<d&&(d=l),l>g&&(g=l);else if(i!==7)throw new Error(`unknown command ${i}`)}return[c,d,f,g]}toGeoJSON(t,e,i){const s=this.extent*Math.pow(2,i),a=this.extent*t,l=this.extent*e,c=this.loadGeometry();function f(_){return[(_.x+a)*360/s-180,360/Math.PI*Math.atan(Math.exp((1-(_.y+l)*2/s)*Math.PI))-90]}function d(_){return _.map(f)}let g;if(this.type===1){const _=[];for(const x of c)_.push(x[0]);const S=d(_);g=_.length===1?{type:"Point",coordinates:S[0]}:{type:"MultiPoint",coordinates:S}}else if(this.type===2){const _=c.map(d);g=_.length===1?{type:"LineString",coordinates:_[0]}:{type:"MultiLineString",coordinates:_}}else if(this.type===3){const _=xI(c),S=[];for(const x of _)S.push(x.map(d));g=S.length===1?{type:"Polygon",coordinates:S[0]}:{type:"MultiPolygon",coordinates:S}}else throw new Error("unknown feature type");const y={type:"Feature",geometry:g,properties:this.properties};return this.id!=null&&(y.id=this.id),y}}jA.types=["Unknown","Point","LineString","Polygon"];function vI(n,t,e){n===1?t.id=e.readVarint():n===2?wI(e,t):n===3?t.type=e.readVarint():n===4&&(t._geometry=e.pos)}function wI(n,t){const e=n.readVarint()+n.pos;for(;n.pos<e;){const i=t._keys[n.readVarint()],s=t._values[n.readVarint()];t.properties[i]=s}}function xI(n){const t=n.length;if(t<=1)return[n];const e=[];let i,s;for(let a=0;a<t;a++){const l=SI(n[a]);l!==0&&(s===void 0&&(s=l<0),s===l<0?(i&&e.push(i),i=[n[a]]):i&&i.push(n[a]))}return i&&e.push(i),e}function SI(n){let t=0;for(let e=0,i=n.length,s=i-1,a,l;e<i;s=e++)a=n[e],l=n[s],t+=(l.x-a.x)*(a.y+l.y);return t}class EI{constructor(t,e){this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(AI,this,e),this.length=this._features.length}feature(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];const e=this._pbf.readVarint()+this._pbf.pos;return new jA(this._pbf,e,this.extent,this._keys,this._values)}}function AI(n,t,e){n===15?t.version=e.readVarint():n===1?t.name=e.readString():n===5?t.extent=e.readVarint():n===2?t._features.push(e.pos):n===3?t._keys.push(e.readString()):n===4&&t._values.push(TI(e))}function TI(n){let t=null;const e=n.readVarint()+n.pos;for(;n.pos<e;){const i=n.readVarint()>>3;t=i===1?n.readString():i===2?n.readFloat():i===3?n.readDouble():i===4?n.readVarint64():i===5?n.readVarint():i===6?n.readSVarint():i===7?n.readBoolean():null}if(t==null)throw new Error("unknown feature value");return t}class kI{constructor(t,e){this.layers=t.readFields(MI,{},e)}}function MI(n,t,e){if(n===3){const i=new EI(e,e.readVarint()+e.pos);i.length&&(t[i.name]=i)}}const M_=65536*65536,TS=1/M_,OI=12,kS=typeof TextDecoder>"u"?null:new TextDecoder("utf-8"),hg=0,Xh=1,Fc=2,Gh=5;class CI{constructor(t=new Uint8Array(16)){this.buf=ArrayBuffer.isView(t)?t:new Uint8Array(t),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(t,e,i=this.length){for(;this.pos<i;){const s=this.readVarint(),a=s>>3,l=this.pos;this.type=s&7,t(a,e,this),this.pos===l&&this.skip(s)}return e}readMessage(t,e){return this.readFields(t,e,this.readVarint()+this.pos)}readFixed32(){const t=this.dataView.getUint32(this.pos,!0);return this.pos+=4,t}readSFixed32(){const t=this.dataView.getInt32(this.pos,!0);return this.pos+=4,t}readFixed64(){const t=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*M_;return this.pos+=8,t}readSFixed64(){const t=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*M_;return this.pos+=8,t}readFloat(){const t=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,t}readDouble(){const t=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,t}readVarint(t){const e=this.buf;let i,s;return s=e[this.pos++],i=s&127,s<128||(s=e[this.pos++],i|=(s&127)<<7,s<128)||(s=e[this.pos++],i|=(s&127)<<14,s<128)||(s=e[this.pos++],i|=(s&127)<<21,s<128)?i:(s=e[this.pos],i|=(s&15)<<28,NI(i,t,this))}readVarint64(){return this.readVarint(!0)}readSVarint(){const t=this.readVarint();return t%2===1?(t+1)/-2:t/2}readBoolean(){return!!this.readVarint()}readString(){const t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=OI&&kS?kS.decode(this.buf.subarray(e,t)):VI(this.buf,e,t)}readBytes(){const t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e}readPackedVarint(t=[],e){const i=this.readPackedEnd();for(;this.pos<i;)t.push(this.readVarint(e));return t}readPackedSVarint(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readSVarint());return t}readPackedBoolean(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readBoolean());return t}readPackedFloat(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readFloat());return t}readPackedDouble(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readDouble());return t}readPackedFixed32(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readFixed32());return t}readPackedSFixed32(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readSFixed32());return t}readPackedFixed64(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readFixed64());return t}readPackedSFixed64(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readSFixed64());return t}readPackedEnd(){return this.type===Fc?this.readVarint()+this.pos:this.pos+1}skip(t){const e=t&7;if(e===hg)for(;this.buf[this.pos++]>127;);else if(e===Fc)this.pos=this.readVarint()+this.pos;else if(e===Gh)this.pos+=4;else if(e===Xh)this.pos+=8;else throw new Error(`Unimplemented type: ${e}`)}writeTag(t,e){this.writeVarint(t<<3|e)}realloc(t){let e=this.length||16;for(;e<this.pos+t;)e*=2;if(e!==this.length){const i=new Uint8Array(e);i.set(this.buf),this.buf=i,this.dataView=new DataView(i.buffer),this.length=e}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(t){this.realloc(4),this.dataView.setInt32(this.pos,t,!0),this.pos+=4}writeSFixed32(t){this.realloc(4),this.dataView.setInt32(this.pos,t,!0),this.pos+=4}writeFixed64(t){this.realloc(8),this.dataView.setInt32(this.pos,t&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(t*TS),!0),this.pos+=8}writeSFixed64(t){this.realloc(8),this.dataView.setInt32(this.pos,t&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(t*TS),!0),this.pos+=8}writeVarint(t){if(t=+t||0,t>268435455||t<0){RI(t,this);return}this.realloc(4),this.buf[this.pos++]=t&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=(t>>>=7)&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=(t>>>=7)&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=t>>>7&127)))}writeSVarint(t){this.writeVarint(t<0?-t*2-1:t*2)}writeBoolean(t){this.writeVarint(+t)}writeString(t){t=String(t),this.realloc(t.length*4),this.pos++;const e=this.pos;this.pos=WI(this.buf,t,this.pos);const i=this.pos-e;i>=128&&MS(e,i,this),this.pos=e-1,this.writeVarint(i),this.pos+=i}writeFloat(t){this.realloc(4),this.dataView.setFloat32(this.pos,t,!0),this.pos+=4}writeDouble(t){this.realloc(8),this.dataView.setFloat64(this.pos,t,!0),this.pos+=8}writeBytes(t){const e=t.length;this.writeVarint(e),this.realloc(e);for(let i=0;i<e;i++)this.buf[this.pos++]=t[i]}writeRawMessage(t,e){this.pos++;const i=this.pos;t(e,this);const s=this.pos-i;s>=128&&MS(i,s,this),this.pos=i-1,this.writeVarint(s),this.pos+=s}writeMessage(t,e,i){this.writeTag(t,Fc),this.writeRawMessage(e,i)}writePackedVarint(t,e){e.length&&this.writeMessage(t,DI,e)}writePackedSVarint(t,e){e.length&&this.writeMessage(t,jI,e)}writePackedBoolean(t,e){e.length&&this.writeMessage(t,BI,e)}writePackedFloat(t,e){e.length&&this.writeMessage(t,II,e)}writePackedDouble(t,e){e.length&&this.writeMessage(t,zI,e)}writePackedFixed32(t,e){e.length&&this.writeMessage(t,UI,e)}writePackedSFixed32(t,e){e.length&&this.writeMessage(t,FI,e)}writePackedFixed64(t,e){e.length&&this.writeMessage(t,HI,e)}writePackedSFixed64(t,e){e.length&&this.writeMessage(t,qI,e)}writeBytesField(t,e){this.writeTag(t,Fc),this.writeBytes(e)}writeFixed32Field(t,e){this.writeTag(t,Gh),this.writeFixed32(e)}writeSFixed32Field(t,e){this.writeTag(t,Gh),this.writeSFixed32(e)}writeFixed64Field(t,e){this.writeTag(t,Xh),this.writeFixed64(e)}writeSFixed64Field(t,e){this.writeTag(t,Xh),this.writeSFixed64(e)}writeVarintField(t,e){this.writeTag(t,hg),this.writeVarint(e)}writeSVarintField(t,e){this.writeTag(t,hg),this.writeSVarint(e)}writeStringField(t,e){this.writeTag(t,Fc),this.writeString(e)}writeFloatField(t,e){this.writeTag(t,Gh),this.writeFloat(e)}writeDoubleField(t,e){this.writeTag(t,Xh),this.writeDouble(e)}writeBooleanField(t,e){this.writeVarintField(t,+e)}}function NI(n,t,e){const i=e.buf;let s,a;if(a=i[e.pos++],s=(a&112)>>4,a<128||(a=i[e.pos++],s|=(a&127)<<3,a<128)||(a=i[e.pos++],s|=(a&127)<<10,a<128)||(a=i[e.pos++],s|=(a&127)<<17,a<128)||(a=i[e.pos++],s|=(a&127)<<24,a<128)||(a=i[e.pos++],s|=(a&1)<<31,a<128))return Tu(n,s,t);throw new Error("Expected varint not more than 10 bytes")}function Tu(n,t,e){return e?t*4294967296+(n>>>0):(t>>>0)*4294967296+(n>>>0)}function RI(n,t){let e,i;if(n>=0?(e=n%4294967296|0,i=n/4294967296|0):(e=~(-n%4294967296),i=~(-n/4294967296),e^4294967295?e=e+1|0:(e=0,i=i+1|0)),n>=18446744073709552e3||n<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),LI(e,i,t),PI(i,t)}function LI(n,t,e){e.buf[e.pos++]=n&127|128,n>>>=7,e.buf[e.pos++]=n&127|128,n>>>=7,e.buf[e.pos++]=n&127|128,n>>>=7,e.buf[e.pos++]=n&127|128,n>>>=7,e.buf[e.pos]=n&127}function PI(n,t){const e=(n&7)<<4;t.buf[t.pos++]|=e|((n>>>=3)?128:0),n&&(t.buf[t.pos++]=n&127|((n>>>=7)?128:0),n&&(t.buf[t.pos++]=n&127|((n>>>=7)?128:0),n&&(t.buf[t.pos++]=n&127|((n>>>=7)?128:0),n&&(t.buf[t.pos++]=n&127|((n>>>=7)?128:0),n&&(t.buf[t.pos++]=n&127)))))}function MS(n,t,e){const i=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(Math.LN2*7));e.realloc(i);for(let s=e.pos-1;s>=n;s--)e.buf[s+i]=e.buf[s]}function DI(n,t){for(let e=0;e<n.length;e++)t.writeVarint(n[e])}function jI(n,t){for(let e=0;e<n.length;e++)t.writeSVarint(n[e])}function II(n,t){for(let e=0;e<n.length;e++)t.writeFloat(n[e])}function zI(n,t){for(let e=0;e<n.length;e++)t.writeDouble(n[e])}function BI(n,t){for(let e=0;e<n.length;e++)t.writeBoolean(n[e])}function UI(n,t){for(let e=0;e<n.length;e++)t.writeFixed32(n[e])}function FI(n,t){for(let e=0;e<n.length;e++)t.writeSFixed32(n[e])}function HI(n,t){for(let e=0;e<n.length;e++)t.writeFixed64(n[e])}function qI(n,t){for(let e=0;e<n.length;e++)t.writeSFixed64(n[e])}function VI(n,t,e){let i="",s=t;for(;s<e;){const a=n[s];let l=null,c=a>239?4:a>223?3:a>191?2:1;if(s+c>e)break;let f,d,g;c===1?a<128&&(l=a):c===2?(f=n[s+1],(f&192)===128&&(l=(a&31)<<6|f&63,l<=127&&(l=null))):c===3?(f=n[s+1],d=n[s+2],(f&192)===128&&(d&192)===128&&(l=(a&15)<<12|(f&63)<<6|d&63,(l<=2047||l>=55296&&l<=57343)&&(l=null))):c===4&&(f=n[s+1],d=n[s+2],g=n[s+3],(f&192)===128&&(d&192)===128&&(g&192)===128&&(l=(a&15)<<18|(f&63)<<12|(d&63)<<6|g&63,(l<=65535||l>=1114112)&&(l=null))),l===null?(l=65533,c=1):l>65535&&(l-=65536,i+=String.fromCharCode(l>>>10&1023|55296),l=56320|l&1023),i+=String.fromCharCode(l),s+=c}return i}function WI(n,t,e){for(let i=0,s,a;i<t.length;i++){if(s=t.charCodeAt(i),s>55295&&s<57344)if(a)if(s<56320){n[e++]=239,n[e++]=191,n[e++]=189,a=s;continue}else s=a-55296<<10|s-56320|65536,a=null;else{s>56319||i+1===t.length?(n[e++]=239,n[e++]=191,n[e++]=189):a=s;continue}else a&&(n[e++]=239,n[e++]=191,n[e++]=189,a=null);s<128?n[e++]=s:(s<2048?n[e++]=s>>6|192:(s<65536?n[e++]=s>>12|224:(n[e++]=s>>18|240,n[e++]=s>>12&63|128),n[e++]=s>>6&63|128),n[e++]=s&63|128)}return e}var Du=Math.pow,fr=(n,t,e)=>new Promise((i,s)=>{var a=f=>{try{c(e.next(f))}catch(d){s(d)}},l=f=>{try{c(e.throw(f))}catch(d){s(d)}},c=f=>f.done?i(f.value):Promise.resolve(f.value).then(a,l);c((e=e.apply(n,t)).next())}),fs=Uint8Array,pf=Uint16Array,KI=Int32Array,IA=new fs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),zA=new fs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),YI=new fs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),BA=function(n,t){for(var e=new pf(31),i=0;i<31;++i)e[i]=t+=1<<n[i-1];for(var s=new KI(e[30]),i=1;i<30;++i)for(var a=e[i];a<e[i+1];++a)s[a]=a-e[i]<<5|i;return{b:e,r:s}},UA=BA(IA,2),FA=UA.b,ZI=UA.r;FA[28]=258,ZI[258]=28;var XI=BA(zA,0),GI=XI.b,HA=new pf(32768);for(Tn=0;Tn<32768;++Tn)$o=(Tn&43690)>>1|(Tn&21845)<<1,$o=($o&52428)>>2|($o&13107)<<2,$o=($o&61680)>>4|($o&3855)<<4,HA[Tn]=(($o&65280)>>8|($o&255)<<8)>>1;var $o,Tn,mf=function(n,t,e){for(var i=n.length,s=0,a=new pf(t);s<i;++s)n[s]&&++a[n[s]-1];var l=new pf(t);for(s=1;s<t;++s)l[s]=l[s-1]+a[s-1]<<1;var c;{c=new pf(1<<t);var f=15-t;for(s=0;s<i;++s)if(n[s])for(var d=s<<4|n[s],g=t-n[s],y=l[n[s]-1]++<<g,_=y|(1<<g)-1;y<=_;++y)c[HA[y]>>f]=d}return c},Lf=new fs(288);for(Tn=0;Tn<144;++Tn)Lf[Tn]=8;var Tn;for(Tn=144;Tn<256;++Tn)Lf[Tn]=9;var Tn;for(Tn=256;Tn<280;++Tn)Lf[Tn]=7;var Tn;for(Tn=280;Tn<288;++Tn)Lf[Tn]=8;var Tn,qA=new fs(32);for(Tn=0;Tn<32;++Tn)qA[Tn]=5;var Tn,$I=mf(Lf,9),QI=mf(qA,5),dg=function(n){for(var t=n[0],e=1;e<n.length;++e)n[e]>t&&(t=n[e]);return t},Us=function(n,t,e){var i=t/8|0;return(n[i]|n[i+1]<<8)>>(t&7)&e},pg=function(n,t){var e=t/8|0;return(n[e]|n[e+1]<<8|n[e+2]<<16)>>(t&7)},JI=function(n){return(n+7)/8|0},tz=function(n,t,e){(e==null||e>n.length)&&(e=n.length);var i=new fs(e-t);return i.set(n.subarray(t,e)),i},ez=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],cs=function(n,t,e){var i=new Error(t||ez[n]);if(i.code=n,Error.captureStackTrace&&Error.captureStackTrace(i,cs),!e)throw i;return i},gb=function(n,t,e,i){var s=n.length,a=0;if(!s||t.f&&!t.l)return e||new fs(0);var l=!e||t.i!=2,c=t.i;e||(e=new fs(s*3));var f=function(Mt){var Rt=e.length;if(Mt>Rt){var At=new fs(Math.max(Rt*2,Mt));At.set(e),e=At}},d=t.f||0,g=t.p||0,y=t.b||0,_=t.l,S=t.d,x=t.m,E=t.n,T=s*8;do{if(!_){d=Us(n,g,1);var N=Us(n,g+1,3);if(g+=3,N)if(N==1)_=$I,S=QI,x=9,E=5;else if(N==2){var R=Us(n,g,31)+257,z=Us(n,g+10,15)+4,j=R+Us(n,g+5,31)+1;g+=14;for(var W=new fs(j),J=new fs(19),tt=0;tt<z;++tt)J[YI[tt]]=Us(n,g+tt*3,7);g+=z*3;for(var ot=dg(J),G=(1<<ot)-1,dt=mf(J,ot),tt=0;tt<j;){var ht=dt[Us(n,g,G)];g+=ht&15;var M=ht>>4;if(M<16)W[tt++]=M;else{var ut=0,rt=0;for(M==16?(rt=3+Us(n,g,3),g+=2,ut=W[tt-1]):M==17?(rt=3+Us(n,g,7),g+=3):M==18&&(rt=11+Us(n,g,127),g+=7);rt--;)W[tt++]=ut}}var lt=W.subarray(0,R),et=W.subarray(R);x=dg(lt),E=dg(et),_=mf(lt,x),S=mf(et,E)}else cs(1);else{var M=JI(g)+4,D=n[M-4]|n[M-3]<<8,I=M+D;if(I>s){c&&cs(0);break}l&&f(y+D),e.set(n.subarray(M,I),y),t.b=y+=D,t.p=g=I*8,t.f=d;continue}if(g>T){c&&cs(0);break}}l&&f(y+131072);for(var Pt=(1<<x)-1,nt=(1<<E)-1,Y=g;;Y=g){var ut=_[pg(n,g)&Pt],Z=ut>>4;if(g+=ut&15,g>T){c&&cs(0);break}if(ut||cs(2),Z<256)e[y++]=Z;else if(Z==256){Y=g,_=null;break}else{var at=Z-254;if(Z>264){var tt=Z-257,Tt=IA[tt];at=Us(n,g,(1<<Tt)-1)+FA[tt],g+=Tt}var gt=S[pg(n,g)&nt],Ut=gt>>4;gt||cs(3),g+=gt&15;var et=GI[Ut];if(Ut>3){var Tt=zA[Ut];et+=pg(n,g)&(1<<Tt)-1,g+=Tt}if(g>T){c&&cs(0);break}l&&f(y+131072);var _t=y+at;if(y<et){var ct=a-et,vt=Math.min(et,_t);for(ct+y<0&&cs(3);y<vt;++y)e[y]=i[ct+y]}for(;y<_t;y+=4)e[y]=e[y-et],e[y+1]=e[y+1-et],e[y+2]=e[y+2-et],e[y+3]=e[y+3-et];y=_t}}t.l=_,t.p=Y,t.b=y,t.f=d,_&&(d=1,t.m=x,t.d=S,t.n=E)}while(!d);return y==e.length?e:tz(e,0,y)},nz=new fs(0),iz=function(n){(n[0]!=31||n[1]!=139||n[2]!=8)&&cs(6,"invalid gzip data");var t=n[3],e=10;t&4&&(e+=(n[10]|n[11]<<8)+2);for(var i=(t>>3&1)+(t>>4&1);i>0;i-=!n[e++]);return e+(t&2)},rz=function(n){var t=n.length;return(n[t-4]|n[t-3]<<8|n[t-2]<<16|n[t-1]<<24)>>>0},sz=function(n,t){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&cs(6,"invalid zlib data"),(n[1]>>5&1)==1&&cs(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function oz(n,t){return gb(n,{i:2},t,t)}function az(n,t){var e=iz(n);return e+8>n.length&&cs(6,"invalid gzip data"),gb(n.subarray(e,-8),{i:2},new fs(rz(n)),t)}function lz(n,t){return gb(n.subarray(sz(n),-4),{i:2},t,t)}function O_(n,t){return n[0]==31&&n[1]==139&&n[2]==8?az(n,t):(n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31?oz(n,t):lz(n,t)}var uz=typeof TextDecoder<"u"&&new TextDecoder,cz=0;try{uz.decode(nz,{stream:!0}),cz=1}catch{}var VA=(n,t)=>n*Du(2,t),Hc=(n,t)=>Math.floor(n/Du(2,t)),qd=(n,t)=>VA(n.getUint16(t+1,!0),8)+n.getUint8(t),WA=(n,t)=>VA(n.getUint32(t+2,!0),16)+n.getUint16(t,!0),fz=(n,t,e,i,s)=>{if(n!==i.getUint8(s))return n-i.getUint8(s);const a=qd(i,s+1);if(t!==a)return t-a;const l=qd(i,s+4);return e!==l?e-l:0},hz=(n,t,e,i)=>{const s=KA(n,t|128,e,i);return s?{z:t,x:e,y:i,offset:s[0],length:s[1],isDir:!0}:null},OS=(n,t,e,i)=>{const s=KA(n,t,e,i);return s?{z:t,x:e,y:i,offset:s[0],length:s[1],isDir:!1}:null},KA=(n,t,e,i)=>{let s=0,a=n.byteLength/17-1;for(;s<=a;){const l=a+s>>1,c=fz(t,e,i,n,l*17);if(c>0)s=l+1;else if(c<0)a=l-1;else return[WA(n,l*17+7),n.getUint32(l*17+13,!0)]}return null},dz=(n,t)=>n.isDir&&!t.isDir?1:!n.isDir&&t.isDir?-1:n.z!==t.z?n.z-t.z:n.x!==t.x?n.x-t.x:n.y-t.y,YA=(n,t)=>{const e=n.getUint8(t*17);return{z:e&127,x:qd(n,t*17+1),y:qd(n,t*17+4),offset:WA(n,t*17+7),length:n.getUint32(t*17+13,!0),isDir:e>>7===1}},CS=n=>{const t=[],e=new DataView(n);for(let i=0;i<e.byteLength/17;i++)t.push(YA(e,i));return pz(t)},pz=n=>{n.sort(dz);const t=new ArrayBuffer(17*n.length),e=new Uint8Array(t);for(let i=0;i<n.length;i++){const s=n[i];let a=s.z;s.isDir&&(a=a|128),e[i*17]=a,e[i*17+1]=s.x&255,e[i*17+2]=s.x>>8&255,e[i*17+3]=s.x>>16&255,e[i*17+4]=s.y&255,e[i*17+5]=s.y>>8&255,e[i*17+6]=s.y>>16&255,e[i*17+7]=s.offset&255,e[i*17+8]=Hc(s.offset,8)&255,e[i*17+9]=Hc(s.offset,16)&255,e[i*17+10]=Hc(s.offset,24)&255,e[i*17+11]=Hc(s.offset,32)&255,e[i*17+12]=Hc(s.offset,48)&255,e[i*17+13]=s.length&255,e[i*17+14]=s.length>>8&255,e[i*17+15]=s.length>>16&255,e[i*17+16]=s.length>>24&255}return t},mz=(n,t)=>{if(n.byteLength<17)return null;const e=n.byteLength/17,i=YA(n,e-1);if(i.isDir){const s=i.z,a=t.z-s,l=Math.trunc(t.x/(1<<a)),c=Math.trunc(t.y/(1<<a));return{z:s,x:l,y:c}}return null};function gz(n){return fr(this,null,function*(){const t=yield n.getBytes(0,512e3),e=new DataView(t.data),i=e.getUint32(4,!0),s=e.getUint16(8,!0),a=new TextDecoder("utf-8"),l=JSON.parse(a.decode(new DataView(t.data,10,i)));let c=0;l.compression==="gzip"&&(c=2);let f=0;"minzoom"in l&&(f=+l.minzoom);let d=0;"maxzoom"in l&&(d=+l.maxzoom);let g=0,y=0,_=0,S=-180,x=-85,E=180,T=85;if(l.bounds){const M=l.bounds.split(",");S=+M[0],x=+M[1],E=+M[2],T=+M[3]}if(l.center){const M=l.center.split(",");g=+M[0],y=+M[1],_=+M[2]}return{specVersion:e.getUint16(2,!0),rootDirectoryOffset:10+i,rootDirectoryLength:s*17,jsonMetadataOffset:10,jsonMetadataLength:i,leafDirectoryOffset:0,leafDirectoryLength:void 0,tileDataOffset:0,tileDataLength:void 0,numAddressedTiles:0,numTileEntries:0,numTileContents:0,clustered:!1,internalCompression:1,tileCompression:c,tileType:1,minZoom:f,maxZoom:d,minLon:S,minLat:x,maxLon:E,maxLat:T,centerZoom:_,centerLon:g,centerLat:y,etag:t.etag}})}function yz(n,t,e,i,s,a,l){return fr(this,null,function*(){let c=yield e.getArrayBuffer(t,n.rootDirectoryOffset,n.rootDirectoryLength,n);n.specVersion===1&&(c=CS(c));const f=OS(new DataView(c),i,s,a);if(f){let y=(yield t.getBytes(f.offset,f.length,l)).data;const _=new DataView(y);return _.getUint8(0)===31&&_.getUint8(1)===139&&(y=O_(new Uint8Array(y))),{data:y}}const d=mz(new DataView(c),{z:i,x:s,y:a});if(d){const g=hz(new DataView(c),d.z,d.x,d.y);if(g){let y=yield e.getArrayBuffer(t,g.offset,g.length,n);n.specVersion===1&&(y=CS(y));const _=OS(new DataView(y),i,s,a);if(_){let x=(yield t.getBytes(_.offset,_.length,l)).data;const E=new DataView(x);return E.getUint8(0)===31&&E.getUint8(1)===139&&(x=O_(new Uint8Array(x))),{data:x}}}}})}var ZA={getHeader:gz,getZxy:yz};function ku(n,t){return(t>>>0)*4294967296+(n>>>0)}function _z(n,t){const e=t.buf;let i=e[t.pos++],s=(i&112)>>4;if(i<128||(i=e[t.pos++],s|=(i&127)<<3,i<128)||(i=e[t.pos++],s|=(i&127)<<10,i<128)||(i=e[t.pos++],s|=(i&127)<<17,i<128)||(i=e[t.pos++],s|=(i&127)<<24,i<128)||(i=e[t.pos++],s|=(i&1)<<31,i<128))return ku(n,s);throw new Error("Expected varint not more than 10 bytes")}function qc(n){const t=n.buf;let e=t[n.pos++],i=e&127;return e<128||(e=t[n.pos++],i|=(e&127)<<7,e<128)||(e=t[n.pos++],i|=(e&127)<<14,e<128)||(e=t[n.pos++],i|=(e&127)<<21,e<128)?i:(e=t[n.pos],i|=(e&15)<<28,_z(i,n))}function bz(n,t,e,i){if(i===0){e===1&&(t[0]=n-1-t[0],t[1]=n-1-t[1]);const s=t[0];t[0]=t[1],t[1]=s}}var vz=[0,1,5,21,85,341,1365,5461,21845,87381,349525,1398101,5592405,22369621,89478485,357913941,1431655765,5726623061,22906492245,91625968981,366503875925,1466015503701,5864062014805,23456248059221,93824992236885,375299968947541,0x5555555555555];function wz(n,t,e){if(n>26)throw Error("Tile zoom level exceeds max safe number limit (26)");if(t>Du(2,n)-1||e>Du(2,n)-1)throw Error("tile x/y outside zoom level bounds");const i=vz[n],s=Du(2,n);let a=0,l=0,c=0;const f=[t,e];let d=s/2;for(;d>0;)a=(f[0]&d)>0?1:0,l=(f[1]&d)>0?1:0,c+=d*d*(3*a^l),bz(d,f,a,l),d=d/2;return i+c}function XA(n,t){return fr(this,null,function*(){if(t===1||t===0)return n;if(t===2){if(typeof globalThis.DecompressionStream>"u")return O_(new Uint8Array(n));const e=new Response(n).body;if(!e)throw Error("Failed to read response stream");const i=e.pipeThrough(new globalThis.DecompressionStream("gzip"));return new Response(i).arrayBuffer()}throw Error("Compression method not supported")})}function xz(n){return n===1?".mvt":n===2?".png":n===3?".jpg":n===4?".webp":n===5?".avif":""}var Sz=127;function Ez(n,t){let e=0,i=n.length-1;for(;e<=i;){const s=i+e>>1,a=t-n[s].tileId;if(a>0)e=s+1;else if(a<0)i=s-1;else return n[s]}return i>=0&&(n[i].runLength===0||t-n[i].tileId<n[i].runLength)?n[i]:null}var Az=class{constructor(n,t=new Headers){this.url=n,this.customHeaders=t,this.mustReload=!1;let e="";"navigator"in globalThis&&(e=globalThis.navigator.userAgent||"");const i=e.indexOf("Windows")>-1,s=/Chrome|Chromium|Edg|OPR|Brave/.test(e);this.chromeWindowsNoCache=!1,i&&s&&(this.chromeWindowsNoCache=!0)}getKey(){return this.url}setHeaders(n){this.customHeaders=n}getBytes(n,t,e,i){return fr(this,null,function*(){let s,a;e?a=e:(s=new AbortController,a=s.signal);const l=new Headers(this.customHeaders);l.set("range",`bytes=${n}-${n+t-1}`);let c;this.mustReload?c="reload":this.chromeWindowsNoCache&&(c="no-store");let f=yield fetch(this.url,{signal:a,cache:c,headers:l});if(n===0&&f.status===416){const _=f.headers.get("Content-Range");if(!_||!_.startsWith("bytes */"))throw Error("Missing content-length on 416 response");const S=+_.substr(8);f=yield fetch(this.url,{signal:a,cache:"reload",headers:{range:`bytes=0-${S-1}`}})}let d=f.headers.get("Etag");if(d?.startsWith("W/")&&(d=null),f.status===416||i&&d&&d!==i)throw this.mustReload=!0,new C_(`Server returned non-matching ETag ${i} after one retry. Check browser extensions and servers for issues that may affect correct ETag headers.`);if(f.status>=300)throw Error(`Bad response code: ${f.status}`);const g=f.headers.get("Content-Length");if(f.status===200&&(!g||+g>t))throw s&&s.abort(),Error("Server returned no content-length header or content-length exceeding request. Check that your storage backend supports HTTP Byte Serving.");return{data:yield f.arrayBuffer(),etag:d||void 0,cacheControl:f.headers.get("Cache-Control")||void 0,expires:f.headers.get("Expires")||void 0}})}};function Fs(n,t){const e=n.getUint32(t+4,!0),i=n.getUint32(t+0,!0);return e*Du(2,32)+i}function Tz(n,t){const e=new DataView(n),i=e.getUint8(7);if(i>3)throw Error(`Archive is spec version ${i} but this library supports up to spec version 3`);return{specVersion:i,rootDirectoryOffset:Fs(e,8),rootDirectoryLength:Fs(e,16),jsonMetadataOffset:Fs(e,24),jsonMetadataLength:Fs(e,32),leafDirectoryOffset:Fs(e,40),leafDirectoryLength:Fs(e,48),tileDataOffset:Fs(e,56),tileDataLength:Fs(e,64),numAddressedTiles:Fs(e,72),numTileEntries:Fs(e,80),numTileContents:Fs(e,88),clustered:e.getUint8(96)===1,internalCompression:e.getUint8(97),tileCompression:e.getUint8(98),tileType:e.getUint8(99),minZoom:e.getUint8(100),maxZoom:e.getUint8(101),minLon:e.getInt32(102,!0)/1e7,minLat:e.getInt32(106,!0)/1e7,maxLon:e.getInt32(110,!0)/1e7,maxLat:e.getInt32(114,!0)/1e7,centerZoom:e.getUint8(118),centerLon:e.getInt32(119,!0)/1e7,centerLat:e.getInt32(123,!0)/1e7,etag:t}}function GA(n){const t={buf:new Uint8Array(n),pos:0},e=qc(t),i=[];let s=0;for(let a=0;a<e;a++){const l=qc(t);i.push({tileId:s+l,offset:0,length:0,runLength:1}),s+=l}for(let a=0;a<e;a++)i[a].runLength=qc(t);for(let a=0;a<e;a++)i[a].length=qc(t);for(let a=0;a<e;a++){const l=qc(t);l===0&&a>0?i[a].offset=i[a-1].offset+i[a-1].length:i[a].offset=l-1}return i}function kz(n){const t=new DataView(n);return t.getUint16(2,!0)===2?(console.warn("PMTiles spec version 2 has been deprecated; please see github.com/protomaps/PMTiles for tools to upgrade"),2):t.getUint16(2,!0)===1?(console.warn("PMTiles spec version 1 has been deprecated; please see github.com/protomaps/PMTiles for tools to upgrade"),1):3}var C_=class extends Error{};function Mz(n,t){return fr(this,null,function*(){const e=yield n.getBytes(0,16384);if(new DataView(e.data).getUint16(0,!0)!==19792)throw new Error("Wrong magic number for PMTiles archive");if(kz(e.data)<3)return[yield ZA.getHeader(n)];const s=e.data.slice(0,Sz),a=Tz(s,e.etag),l=e.data.slice(a.rootDirectoryOffset,a.rootDirectoryOffset+a.rootDirectoryLength),c=`${n.getKey()}|${a.etag||""}|${a.rootDirectoryOffset}|${a.rootDirectoryLength}`,f=GA(yield t(l,a.internalCompression));return[a,[c,f.length,f]]})}function Oz(n,t,e,i,s){return fr(this,null,function*(){const a=yield n.getBytes(e,i,void 0,s.etag),l=yield t(a.data,s.internalCompression),c=GA(l);if(c.length===0)throw new Error("Empty directory is invalid");return c})}var Cz=class{constructor(n=100,t=!0,e=XA){this.cache=new Map,this.invalidations=new Map,this.maxCacheEntries=n,this.counter=1,this.decompress=e}getHeader(n){return fr(this,null,function*(){const t=n.getKey(),e=this.cache.get(t);if(e)return e.lastUsed=this.counter++,yield e.data;const i=new Promise((s,a)=>{Mz(n,this.decompress).then(l=>{l[1]&&this.cache.set(l[1][0],{lastUsed:this.counter++,data:Promise.resolve(l[1][2])}),s(l[0]),this.prune()}).catch(l=>{a(l)})});return this.cache.set(t,{lastUsed:this.counter++,data:i}),i})}getDirectory(n,t,e,i){return fr(this,null,function*(){const s=`${n.getKey()}|${i.etag||""}|${t}|${e}`,a=this.cache.get(s);if(a)return a.lastUsed=this.counter++,yield a.data;const l=new Promise((c,f)=>{Oz(n,this.decompress,t,e,i).then(d=>{c(d),this.prune()}).catch(d=>{f(d)})});return this.cache.set(s,{lastUsed:this.counter++,data:l}),l})}getArrayBuffer(n,t,e,i){return fr(this,null,function*(){const s=`${n.getKey()}|${i.etag||""}|${t}|${e}`,a=this.cache.get(s);if(a)return a.lastUsed=this.counter++,yield a.data;const l=new Promise((c,f)=>{n.getBytes(t,e,void 0,i.etag).then(d=>{c(d.data),this.cache.has(s),this.prune()}).catch(d=>{f(d)})});return this.cache.set(s,{lastUsed:this.counter++,data:l}),l})}prune(){if(this.cache.size>=this.maxCacheEntries){let n=1/0,t;this.cache.forEach((e,i)=>{e.lastUsed<n&&(n=e.lastUsed,t=i)}),t&&this.cache.delete(t)}}invalidate(n){return fr(this,null,function*(){const t=n.getKey();if(this.invalidations.get(t))return yield this.invalidations.get(t);this.cache.delete(n.getKey());const e=new Promise((i,s)=>{this.getHeader(n).then(a=>{i(),this.invalidations.delete(t)}).catch(a=>{s(a)})});this.invalidations.set(t,e)})}},Nz=class{constructor(n,t,e){typeof n=="string"?this.source=new Az(n):this.source=n,e?this.decompress=e:this.decompress=XA,t?this.cache=t:this.cache=new Cz}getHeader(){return fr(this,null,function*(){return yield this.cache.getHeader(this.source)})}getZxyAttempt(n,t,e,i){return fr(this,null,function*(){const s=wz(n,t,e),a=yield this.cache.getHeader(this.source);if(a.specVersion<3)return ZA.getZxy(a,this.source,this.cache,n,t,e,i);if(n<a.minZoom||n>a.maxZoom)return;let l=a.rootDirectoryOffset,c=a.rootDirectoryLength;for(let f=0;f<=3;f++){const d=yield this.cache.getDirectory(this.source,l,c,a),g=Ez(d,s);if(g){if(g.runLength>0){const y=yield this.source.getBytes(a.tileDataOffset+g.offset,g.length,i,a.etag);return{data:yield this.decompress(y.data,a.tileCompression),cacheControl:y.cacheControl,expires:y.expires}}l=a.leafDirectoryOffset+g.offset,c=g.length}else return}throw Error("Maximum directory depth exceeded")})}getZxy(n,t,e,i){return fr(this,null,function*(){try{return yield this.getZxyAttempt(n,t,e,i)}catch(s){if(s instanceof C_)return this.cache.invalidate(this.source),yield this.getZxyAttempt(n,t,e,i);throw s}})}getMetadataAttempt(){return fr(this,null,function*(){const n=yield this.cache.getHeader(this.source),t=yield this.source.getBytes(n.jsonMetadataOffset,n.jsonMetadataLength,void 0,n.etag),e=yield this.decompress(t.data,n.internalCompression),i=new TextDecoder("utf-8");return JSON.parse(i.decode(e))})}getMetadata(){return fr(this,null,function*(){try{return yield this.getMetadataAttempt()}catch(n){if(n instanceof C_)return this.cache.invalidate(this.source),yield this.getMetadataAttempt();throw n}})}getTileJson(n){return fr(this,null,function*(){const t=yield this.getHeader(),e=yield this.getMetadata(),i=xz(t.tileType);return{tilejson:"3.0.0",scheme:"xyz",tiles:[`${n}/{z}/{x}/{y}${i}`],vector_layers:e.vector_layers,attribution:e.attribution,description:e.description,name:e.name,version:e.version,bounds:[t.minLon,t.minLat,t.maxLon,t.maxLat],center:[t.centerLon,t.centerLat,t.centerZoom],minzoom:t.minZoom,maxzoom:t.maxZoom}})}};function Rz(n,t,e,i,s){$A(n,t,e||0,i||n.length-1,s||Lz)}function $A(n,t,e,i,s){for(;i>e;){if(i-e>600){var a=i-e+1,l=t-e+1,c=Math.log(a),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(a-f)/a)*(l-a/2<0?-1:1),g=Math.max(e,Math.floor(t-l*f/a+d)),y=Math.min(i,Math.floor(t+(a-l)*f/a+d));$A(n,t,g,y,s)}var _=n[t],S=e,x=i;for(Vc(n,e,t),s(n[i],_)>0&&Vc(n,e,i);S<x;){for(Vc(n,S,x),S++,x--;s(n[S],_)<0;)S++;for(;s(n[x],_)>0;)x--}s(n[e],_)===0?Vc(n,e,x):(x++,Vc(n,x,i)),x<=t&&(e=x+1),t<=x&&(i=x-1)}}function Vc(n,t,e){var i=n[t];n[t]=n[e],n[e]=i}function Lz(n,t){return n<t?-1:n>t?1:0}class Pz{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let e=this.data;const i=[];if(!Qh(t,e))return i;const s=this.toBBox,a=[];for(;e;){for(let l=0;l<e.children.length;l++){const c=e.children[l],f=e.leaf?s(c):c;Qh(t,f)&&(e.leaf?i.push(c):gg(t,f)?this._all(c,i):a.push(c))}e=a.pop()}return i}collides(t){let e=this.data;if(!Qh(t,e))return!1;const i=[];for(;e;){for(let s=0;s<e.children.length;s++){const a=e.children[s],l=e.leaf?this.toBBox(a):a;if(Qh(t,l)){if(e.leaf||gg(t,l))return!0;i.push(a)}}e=i.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let i=0;i<t.length;i++)this.insert(t[i]);return this}let e=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=e;else if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const i=this.data;this.data=e,e=i}this._insert(e,this.data.height-e.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=Ru([]),this}remove(t,e){if(!t)return this;let i=this.data;const s=this.toBBox(t),a=[],l=[];let c,f,d;for(;i||a.length;){if(i||(i=a.pop(),f=a[a.length-1],c=l.pop(),d=!0),i.leaf){const g=Dz(t,i.children,e);if(g!==-1)return i.children.splice(g,1),a.push(i),this._condense(a),this}!d&&!i.leaf&&gg(i,s)?(a.push(i),l.push(c),c=0,f=i,i=i.children[0]):f?(c++,i=f.children[c],d=!1):i=null}return this}toBBox(t){return t}compareMinX(t,e){return t.minX-e.minX}compareMinY(t,e){return t.minY-e.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,e){const i=[];for(;t;)t.leaf?e.push(...t.children):i.push(...t.children),t=i.pop();return e}_build(t,e,i,s){const a=i-e+1;let l=this._maxEntries,c;if(a<=l)return c=Ru(t.slice(e,i+1)),Mu(c,this.toBBox),c;s||(s=Math.ceil(Math.log(a)/Math.log(l)),l=Math.ceil(a/Math.pow(l,s-1))),c=Ru([]),c.leaf=!1,c.height=s;const f=Math.ceil(a/l),d=f*Math.ceil(Math.sqrt(l));NS(t,e,i,d,this.compareMinX);for(let g=e;g<=i;g+=d){const y=Math.min(g+d-1,i);NS(t,g,y,f,this.compareMinY);for(let _=g;_<=y;_+=f){const S=Math.min(_+f-1,y);c.children.push(this._build(t,_,S,s-1))}}return Mu(c,this.toBBox),c}_chooseSubtree(t,e,i,s){for(;s.push(e),!(e.leaf||s.length-1===i);){let a=1/0,l=1/0,c;for(let f=0;f<e.children.length;f++){const d=e.children[f],g=mg(d),y=zz(t,d)-g;y<l?(l=y,a=g<a?g:a,c=d):y===l&&g<a&&(a=g,c=d)}e=c||e.children[0]}return e}_insert(t,e,i){const s=i?t:this.toBBox(t),a=[],l=this._chooseSubtree(s,this.data,e,a);for(l.children.push(t),rf(l,s);e>=0&&a[e].children.length>this._maxEntries;)this._split(a,e),e--;this._adjustParentBBoxes(s,a,e)}_split(t,e){const i=t[e],s=i.children.length,a=this._minEntries;this._chooseSplitAxis(i,a,s);const l=this._chooseSplitIndex(i,a,s),c=Ru(i.children.splice(l,i.children.length-l));c.height=i.height,c.leaf=i.leaf,Mu(i,this.toBBox),Mu(c,this.toBBox),e?t[e-1].children.push(c):this._splitRoot(i,c)}_splitRoot(t,e){this.data=Ru([t,e]),this.data.height=t.height+1,this.data.leaf=!1,Mu(this.data,this.toBBox)}_chooseSplitIndex(t,e,i){let s,a=1/0,l=1/0;for(let c=e;c<=i-e;c++){const f=nf(t,0,c,this.toBBox),d=nf(t,c,i,this.toBBox),g=Bz(f,d),y=mg(f)+mg(d);g<a?(a=g,s=c,l=y<l?y:l):g===a&&y<l&&(l=y,s=c)}return s||i-e}_chooseSplitAxis(t,e,i){const s=t.leaf?this.compareMinX:jz,a=t.leaf?this.compareMinY:Iz,l=this._allDistMargin(t,e,i,s),c=this._allDistMargin(t,e,i,a);l<c&&t.children.sort(s)}_allDistMargin(t,e,i,s){t.children.sort(s);const a=this.toBBox,l=nf(t,0,e,a),c=nf(t,i-e,i,a);let f=$h(l)+$h(c);for(let d=e;d<i-e;d++){const g=t.children[d];rf(l,t.leaf?a(g):g),f+=$h(l)}for(let d=i-e-1;d>=e;d--){const g=t.children[d];rf(c,t.leaf?a(g):g),f+=$h(c)}return f}_adjustParentBBoxes(t,e,i){for(let s=i;s>=0;s--)rf(e[s],t)}_condense(t){for(let e=t.length-1,i;e>=0;e--)t[e].children.length===0?e>0?(i=t[e-1].children,i.splice(i.indexOf(t[e]),1)):this.clear():Mu(t[e],this.toBBox)}}function Dz(n,t,e){if(!e)return t.indexOf(n);for(let i=0;i<t.length;i++)if(e(n,t[i]))return i;return-1}function Mu(n,t){nf(n,0,n.children.length,t,n)}function nf(n,t,e,i,s){s||(s=Ru(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let a=t;a<e;a++){const l=n.children[a];rf(s,n.leaf?i(l):l)}return s}function rf(n,t){return n.minX=Math.min(n.minX,t.minX),n.minY=Math.min(n.minY,t.minY),n.maxX=Math.max(n.maxX,t.maxX),n.maxY=Math.max(n.maxY,t.maxY),n}function jz(n,t){return n.minX-t.minX}function Iz(n,t){return n.minY-t.minY}function mg(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function $h(n){return n.maxX-n.minX+(n.maxY-n.minY)}function zz(n,t){return(Math.max(t.maxX,n.maxX)-Math.min(t.minX,n.minX))*(Math.max(t.maxY,n.maxY)-Math.min(t.minY,n.minY))}function Bz(n,t){const e=Math.max(n.minX,t.minX),i=Math.max(n.minY,t.minY),s=Math.min(n.maxX,t.maxX),a=Math.min(n.maxY,t.maxY);return Math.max(0,s-e)*Math.max(0,a-i)}function gg(n,t){return n.minX<=t.minX&&n.minY<=t.minY&&t.maxX<=n.maxX&&t.maxY<=n.maxY}function Qh(n,t){return t.minX<=n.maxX&&t.minY<=n.maxY&&t.maxX>=n.minX&&t.maxY>=n.minY}function Ru(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function NS(n,t,e,i,s){const a=[t,e];for(;a.length;){if(e=a.pop(),t=a.pop(),e-t<=i)continue;const l=t+Math.ceil((e-t)/i/2)*i;Rz(n,l,t,e,s),a.push(t,l,l,e)}}function Uz(n){let t=0,e=0;for(const c of n)t+=c.w*c.h,e=Math.max(e,c.w);n.sort((c,f)=>f.h-c.h);const s=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),e),h:1/0}];let a=0,l=0;for(const c of n)for(let f=s.length-1;f>=0;f--){const d=s[f];if(!(c.w>d.w||c.h>d.h)){if(c.x=d.x,c.y=d.y,l=Math.max(l,c.y+c.h),a=Math.max(a,c.x+c.w),c.w===d.w&&c.h===d.h){const g=s.pop();f<s.length&&(s[f]=g)}else c.h===d.h?(d.x+=c.w,d.w-=c.w):c.w===d.w?(d.y+=c.h,d.h-=c.h):(s.push({x:d.x+c.w,y:d.y,w:d.w-c.w,h:c.h}),d.y+=c.h,d.h-=c.h);break}}return{w:a,h:l,fill:t/(a*l)||0}}var Fz=Object.defineProperty,Ar=Math.pow,te=(n,t)=>Fz(n,"name",{value:t,configurable:!0}),As=(n,t,e)=>new Promise((i,s)=>{var a=f=>{try{c(e.next(f))}catch(d){s(d)}},l=f=>{try{c(e.throw(f))}catch(d){s(d)}},c=f=>f.done?i(f.value):Promise.resolve(f.value).then(a,l);c((e=e.apply(n,t)).next())}),QA=class{constructor(t,e){this.str=t??e,this.perFeature=typeof this.str=="function"&&this.str.length===2}get(t,e){return typeof this.str=="function"?this.str(t,e):this.str}};te(QA,"StringAttr");var Vr=QA,JA=class{constructor(t,e=1){this.value=t??e,this.perFeature=typeof this.value=="function"&&this.value.length===2}get(t,e){return typeof this.value=="function"?this.value(t,e):this.value}};te(JA,"NumberAttr");var hi=JA,tT=class{constructor(t){var e;this.labelProps=(e=t?.labelProps)!=null?e:["name"],this.textTransform=t?.textTransform}get(t,e){let i,s;typeof this.labelProps=="function"?s=this.labelProps(t,e):s=this.labelProps;for(let l of s)if(Object.prototype.hasOwnProperty.call(e.props,l)&&typeof e.props[l]=="string"){i=e.props[l];break}let a;return typeof this.textTransform=="function"?a=this.textTransform(t,e):a=this.textTransform,i&&a==="uppercase"?i=i.toUpperCase():i&&a==="lowercase"?i=i.toLowerCase():i&&a==="capitalize"&&(i=i.toLowerCase().split(" ").map(l=>l[0].toUpperCase()+l.slice(1)).join(" ")),i}};te(tT,"TextAttr");var yb=tT,eT=class{constructor(t){var e,i;t!=null&&t.font?this.font=t.font:(this.family=(e=t?.fontFamily)!=null?e:"sans-serif",this.size=(i=t?.fontSize)!=null?i:12,this.weight=t?.fontWeight,this.style=t?.fontStyle)}get(t,e){if(this.font)return typeof this.font=="function"?this.font(t,e):this.font;let i="";this.style&&(typeof this.style=="function"?i=`${this.style(t,e)} `:i=`${this.style} `);let s="";this.weight&&(typeof this.weight=="function"?s=`${this.weight(t,e)} `:s=`${this.weight} `);let a;typeof this.size=="function"?a=this.size(t,e):a=this.size;let l;return typeof this.family=="function"?l=this.family(t,e):l=this.family,`${i}${s}${a}px ${l}`}};te(eT,"FontAttr");var _b=eT,nT=class{constructor(t,e=[]){this.value=t??e,this.perFeature=typeof this.value=="function"&&this.value.length===2}get(t,e){return typeof this.value=="function"?this.value(t,e):this.value}};te(nT,"ArrayAttr");var Hz=nT,qz=te((n,t,e)=>{let i=[],s,a,l,c=0,f=0,d=0,g=0,y=0,_=0,S=0,x=0,E=0,T=0,N=0,M=0;if(n.length<2)return[];if(n.length===2)return d=Math.sqrt(Ar(n[1].x-n[0].x,2)+Ar(n[1].y-n[0].y,2)),[{length:d,beginIndex:0,beginDistance:0,endIndex:2,endDistance:d}];for(g=Math.sqrt(Ar(n[1].x-n[0].x,2)+Ar(n[1].y-n[0].y,2)),c=1,f=n.length-1;c<f;c++)s=n[c-1],a=n[c],l=n[c+1],_=a.x-s.x,S=a.y-s.y,x=l.x-a.x,E=l.y-a.y,y=Math.sqrt(x*x+E*E),d+=g,T=Math.acos((_*x+S*E)/(g*y)),(T>t||d-M>e)&&(i.push({length:d-M,beginDistance:M,beginIndex:N,endIndex:c+1,endDistance:d}),N=c,M=d),g=y;return c-N>0&&i.push({length:d-M+y,beginIndex:N,beginDistance:M,endIndex:c+1,endDistance:d+y}),i},"linelabel");function iT(n,t,e,i){let s=[];for(let a of n){let l=qz(a,Math.PI/45,t);for(let c of l)if(c.length>=t+i){let f=new tn(a[c.beginIndex].x,a[c.beginIndex].y),d=a[c.endIndex-1],g=new tn((d.x-f.x)/c.length,(d.y-f.y)/c.length);for(let y=i;y<c.length-t;y+=e)s.push({start:f.add(g.mult(y)),end:f.add(g.mult(y+t))})}}return s}te(iT,"simpleLabel");function rT(n,t,e,i){let s=t.x-n.x,a=t.y-n.y,l=Math.sqrt(Ar(t.x-n.x,2)+Ar(t.y-n.y,2)),c=[];for(let f=0;f<e+i;f+=2*i){let d=f*1/l;c.push({x:n.x+d*s,y:n.y+d*a})}return c}te(rT,"lineCells");function bb(n,t){if(n.length<=t)return[n];let e=t-1,i=n.lastIndexOf(" ",e),s=n.indexOf(" ",e);if(i===-1&&s===-1)return[n];let a,l;return s===-1||i>=0&&e-i<s-e?(a=n.substring(0,i),l=n.substring(i+1,n.length)):(a=n.substring(0,s),l=n.substring(s+1,n.length)),[a,...bb(l,t)]}te(bb,"linebreak");var Vz=(n=>(n[n.Point=1]="Point",n[n.Line=2]="Line",n[n.Polygon=3]="Polygon",n))(Vz||{});function nl(n){return`${n.x}:${n.y}:${n.z}`}te(nl,"toIndex");var Wz=te((n,t,e)=>{n.pos=t;let i=n.readVarint()+n.pos,s=1,a=0,l=0,c=0,f=1/0,d=-1/0,g=1/0,y=-1/0,_=[],S=[];for(;n.pos<i;){if(a<=0){let x=n.readVarint();s=x&7,a=x>>3}if(a--,s===1||s===2)l+=n.readSVarint()*e,c+=n.readSVarint()*e,l<f&&(f=l),l>d&&(d=l),c<g&&(g=c),c>y&&(y=c),s===1&&(S.length>0&&_.push(S),S=[]),S.push(new tn(l,c));else if(s===7)S&&S.push(S[0].clone());else throw new Error(`unknown command ${s}`)}return S&&_.push(S),{geom:_,bbox:{minX:f,minY:g,maxX:d,maxY:y}}},"loadGeomAndBbox");function vb(n,t){let e=new kI(new CI(n)),i=new Map;for(let[s,a]of Object.entries(e.layers)){let l=[],c=a;for(let f=0;f<c.length;f++){let d=Wz(c.feature(f)._pbf,c.feature(f)._geometry,t/c.extent),g=0;for(let y of d.geom)g+=y.length;l.push({id:c.feature(f).id,geomType:c.feature(f).type,geom:d.geom,numVertices:g,bbox:d.bbox,props:c.feature(f).properties})}i.set(s,l)}return i}te(vb,"parseTile");var sT=class{constructor(t,e){typeof t=="string"?this.p=new Nz(t):this.p=t,this.zoomaborts=[],this.shouldCancelZooms=e}get(t,e){return As(this,null,function*(){this.shouldCancelZooms&&(this.zoomaborts=this.zoomaborts.filter(l=>l.z!==t.z?(l.controller.abort(),!1):!0));let i=new AbortController;this.zoomaborts.push({z:t.z,controller:i});let s=i.signal,a=yield this.p.getZxy(t.z,t.x,t.y,s);return a?vb(a.data,e):new Map})}};te(sT,"PmtilesSource");var RS=sT,oT=class{constructor(t,e){this.url=t,this.zoomaborts=[],this.shouldCancelZooms=e}get(t,e){return As(this,null,function*(){this.shouldCancelZooms&&(this.zoomaborts=this.zoomaborts.filter(l=>l.z!==t.z?(l.controller.abort(),!1):!0));let i=this.url.replace("{z}",t.z.toString()).replace("{x}",t.x.toString()).replace("{y}",t.y.toString()),s=new AbortController;this.zoomaborts.push({z:t.z,controller:s});let a=s.signal;return new Promise((l,c)=>{fetch(i,{signal:a}).then(f=>f.arrayBuffer()).then(f=>{let d=vb(f,e);l(d)}).catch(f=>{c(f)})})})}};te(oT,"ZxySource");var Kz=oT,N_=6378137,LS=85.0511287798,Jh=N_*Math.PI,Yz=te(n=>{let t=Math.PI/180,e=Math.max(Math.min(LS,n[0]),-LS),i=Math.sin(e*t);return new tn(N_*n[1]*t,N_*Math.log((1+i)/(1-i))/2)},"project");function R_(n){return n*n}te(R_,"sqr");function gf(n,t){return R_(n.x-t.x)+R_(n.y-t.y)}te(gf,"dist2");function aT(n,t,e){let i=gf(t,e);if(i===0)return gf(n,t);let s=((n.x-t.x)*(e.x-t.x)+(n.y-t.y)*(e.y-t.y))/i;return s=Math.max(0,Math.min(1,s)),gf(n,new tn(t.x+s*(e.x-t.x),t.y+s*(e.y-t.y)))}te(aT,"distToSegmentSquared");function L_(n,t){let e=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){let a=t[i].x,l=t[i].y,c=t[s].x,f=t[s].y;l>n.y!=f>n.y&&n.x<(c-a)*(n.y-l)/(f-l)+a&&(e=!e)}return e}te(L_,"isInRing");function lT(n){let t=0;for(let e=0;e<n.length;e++){let i=(e+1)%n.length;t+=n[e].x*n[i].y,t-=n[i].x*n[e].y}return t<0}te(lT,"isCcw");function uT(n,t){let e=!1;for(let i of t)if(lT(i))L_(n,i)&&(e=!1);else{if(e)return!0;L_(n,i)&&(e=!0)}return e}te(uT,"pointInPolygon");function cT(n,t){let e=1/0;for(let i of t){let s=Math.sqrt(gf(n,i[0]));s<e&&(e=s)}return e}te(cT,"pointMinDistToPoints");function fT(n,t){let e=1/0;for(let i of t)for(let s=0;s<i.length-1;s++){let a=Math.sqrt(aT(n,i[s],i[s+1]));a<e&&(e=a)}return e}te(fT,"pointMinDistToLines");var hT=class{constructor(t,e){this.source=t,this.cache=new Map,this.inflight=new Map,this.tileSize=e}get(t){return As(this,null,function*(){let e=nl(t);return new Promise((i,s)=>{let a=this.cache.get(e);if(a)a.used=performance.now(),i(a.data);else{let l=this.inflight.get(e);l?l.push({resolve:i,reject:s}):(this.inflight.set(e,[]),this.source.get(t,this.tileSize).then(c=>{this.cache.set(e,{used:performance.now(),data:c});let f=this.inflight.get(e);if(f)for(let d of f)d.resolve(c);if(this.inflight.delete(e),i(c),this.cache.size>=64){let d=1/0,g;this.cache.forEach((y,_)=>{y.used<d&&(d=y.used,g=_)}),g&&this.cache.delete(g)}}).catch(c=>{let f=this.inflight.get(e);if(f)for(let d of f)d.reject(c);this.inflight.delete(e),s(c)}))}})})}queryFeatures(t,e,i,s){let a=Yz([e,t]),l=new tn((a.x+Jh)/(Jh*2),1-(a.y+Jh)/(Jh*2));l.x>1&&(l.x=l.x-Math.floor(l.x));let c=l.mult(1<<i),f=Math.floor(c.x),d=Math.floor(c.y),g=nl({z:i,x:f,y:d}),y=[],_=this.cache.get(g);if(_){let S=new tn((c.x-f)*this.tileSize,(c.y-d)*this.tileSize);for(let[x,E]of _.data.entries())for(let T of E)T.geomType===1?cT(S,T.geom)<s&&y.push({feature:T,layerName:x}):T.geomType===2?fT(S,T.geom)<s&&y.push({feature:T,layerName:x}):uT(S,T.geom)&&y.push({feature:T,layerName:x})}return y}};te(hT,"TileCache");var Zz=hT,Xz=(n=>(n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=3]="Right",n))(Xz||{}),Gz=(n=>(n[n.N=1]="N",n[n.Ne=2]="Ne",n[n.E=3]="E",n[n.Se=4]="Se",n[n.S=5]="S",n[n.Sw=6]="Sw",n[n.W=7]="W",n[n.Nw=8]="Nw",n))(Gz||{});te((n,t,e)=>{let i=document.createElement("canvas"),s=i.getContext("2d");return i.width=n,i.height=t,s!==null&&e(i,s),i},"createPattern");var dT=class{constructor(t){var e;this.pattern=t.pattern,this.fill=new Vr(t.fill,"black"),this.opacity=new hi(t.opacity,1),this.stroke=new Vr(t.stroke,"black"),this.width=new hi(t.width,0),this.perFeature=(e=this.fill.perFeature||this.opacity.perFeature||this.stroke.perFeature||this.width.perFeature||t.perFeature)!=null?e:!1,this.doStroke=!1}before(t,e){if(!this.perFeature){t.globalAlpha=this.opacity.get(e),t.fillStyle=this.fill.get(e),t.strokeStyle=this.stroke.get(e);let i=this.width.get(e);i>0&&(this.doStroke=!0),t.lineWidth=i}if(this.pattern){let i=t.createPattern(this.pattern,"repeat");i&&(t.fillStyle=i)}}draw(t,e,i,s){let a=!1;if(this.perFeature){t.globalAlpha=this.opacity.get(i,s),t.fillStyle=this.fill.get(i,s);let c=this.width.get(i,s);c&&(a=!0,t.strokeStyle=this.stroke.get(i,s),t.lineWidth=c)}let l=te(()=>{t.fill(),(a||this.doStroke)&&t.stroke()},"drawPath");t.beginPath();for(let c of e)for(let f=0;f<c.length;f++){let d=c[f];f===0?t.moveTo(d.x,d.y):t.lineTo(d.x,d.y)}l()}};te(dT,"PolygonSymbolizer");var Mi=dT;function $z(n,t){return e=>{let i=e-n;return i>=0&&i<t.length?t[i]:0}}te($z,"arr");function pT(n,t){let e=0;for(;t[e+1][0]<n;)e++;return e}te(pT,"getStopIndex");function mT(n,t,e){return n*(e-t)+t}te(mT,"interpolate");function gT(n,t,e,i){let s=i[t+1][0]-i[t][0],a=n-i[t][0];return s===0?0:e===1?a/s:(Ar(e,a)-1)/(Ar(e,s)-1)}te(gT,"computeInterpolationFactor");function Vs(n,t){return e=>{if(t.length<1)return 0;if(e<=t[0][0])return t[0][1];if(e>=t[t.length-1][0])return t[t.length-1][1];let i=pT(e,t),s=gT(e,i,n,t);return mT(s,t[i][1],t[i+1][1])}}te(Vs,"exp");function Qz(n,t){return e=>{if(t.length<1)return 0;let i=n;for(let s=0;s<t.length;s++)e>=t[s][0]&&(i=t[s][1]);return i}}te(Qz,"step");function P_(n){return Vs(1,n)}te(P_,"linear");var yT=class{constructor(t){var e;this.color=new Vr(t.color,"black"),this.width=new hi(t.width),this.opacity=new hi(t.opacity),this.dash=t.dash?new Hz(t.dash):null,this.dashColor=new Vr(t.dashColor,"black"),this.dashWidth=new hi(t.dashWidth,1),this.lineCap=new Vr(t.lineCap,"butt"),this.lineJoin=new Vr(t.lineJoin,"miter"),this.skip=!1,this.perFeature=!!((e=this.dash)!=null&&e.perFeature||this.color.perFeature||this.opacity.perFeature||this.width.perFeature||this.lineCap.perFeature||this.lineJoin.perFeature||t.perFeature)}before(t,e){this.perFeature||(t.strokeStyle=this.color.get(e),t.lineWidth=this.width.get(e),t.globalAlpha=this.opacity.get(e),t.lineCap=this.lineCap.get(e),t.lineJoin=this.lineJoin.get(e))}draw(t,e,i,s){if(this.skip)return;let a=te(()=>{this.perFeature&&(t.globalAlpha=this.opacity.get(i,s),t.lineCap=this.lineCap.get(i,s),t.lineJoin=this.lineJoin.get(i,s)),this.dash?(t.save(),this.perFeature?(t.lineWidth=this.dashWidth.get(i,s),t.strokeStyle=this.dashColor.get(i,s),t.setLineDash(this.dash.get(i,s))):t.setLineDash(this.dash.get(i)),t.stroke(),t.restore()):(t.save(),this.perFeature&&(t.lineWidth=this.width.get(i,s),t.strokeStyle=this.color.get(i,s)),t.stroke(),t.restore())},"strokePath");t.beginPath();for(let l of e)for(let c=0;c<l.length;c++){let f=l[c];c===0?t.moveTo(f.x,f.y):t.lineTo(f.x,f.y)}a()}};te(yT,"LineSymbolizer");var Ss=yT,Jz=class{constructor(t){this.name=t.name,this.sheet=t.sheet,this.dpr=window.devicePixelRatio}place(t,e,i){e[0];let s=new tn(e[0][0].x,e[0][0].y),a=this.sheet.get(this.name),l=a.w/this.dpr,c=a.h/this.dpr,f={minX:s.x-l/2,minY:s.y-c/2,maxX:s.x+l/2,maxY:s.y+c/2};return[{anchor:s,bboxes:[f],draw:te(d=>{d.globalAlpha=1,d.drawImage(this.sheet.canvas,a.x,a.y,a.w,a.h,-a.w/2/this.dpr,-a.h/2/this.dpr,a.w/2,a.h/2)},"draw")}]}};te(Jz,"IconSymbolizer");var _T=class{constructor(t){this.radius=new hi(t.radius,3),this.fill=new Vr(t.fill,"black"),this.stroke=new Vr(t.stroke,"white"),this.width=new hi(t.width,0),this.opacity=new hi(t.opacity)}draw(t,e,i,s){t.globalAlpha=this.opacity.get(i,s);let a=this.radius.get(i,s),l=this.width.get(i,s);l>0&&(t.strokeStyle=this.stroke.get(i,s),t.lineWidth=l,t.beginPath(),t.arc(e[0][0].x,e[0][0].y,a+l/2,0,2*Math.PI),t.stroke()),t.fillStyle=this.fill.get(i,s),t.beginPath(),t.arc(e[0][0].x,e[0][0].y,a,0,2*Math.PI),t.fill()}place(t,e,i){e[0];let s=new tn(e[0][0].x,e[0][0].y),a=this.radius.get(t.zoom,i),l={minX:s.x-a,minY:s.y-a,maxX:s.x+a,maxY:s.y+a};return[{anchor:s,bboxes:[l],draw:te(c=>{this.draw(c,[[new tn(0,0)]],t.zoom,i)},"draw")}]}};te(_T,"CircleSymbolizer");var t5=_T,e5=class{constructor(t){this.font=new _b(t),this.text=new yb(t),this.fill=new Vr(t.fill,"black"),this.background=new Vr(t.background,"white"),this.padding=new hi(t.padding,0)}place(t,e,i){let s=this.text.get(t.zoom,i);if(!s)return;let a=this.font.get(t.zoom,i);t.scratch.font=a;let l=t.scratch.measureText(s),c=l.width,f=l.actualBoundingBoxAscent,d=l.actualBoundingBoxDescent;e[0];let g=new tn(e[0][0].x,e[0][0].y),y=this.padding.get(t.zoom,i),_={minX:g.x-c/2-y,minY:g.y-f-y,maxX:g.x+c/2+y,maxY:g.y+d+y};return[{anchor:g,bboxes:[_],draw:te(S=>{S.globalAlpha=1,S.fillStyle=this.background.get(t.zoom,i),S.fillRect(-c/2-y,-f-y,c+2*y,f+d+2*y),S.fillStyle=this.fill.get(t.zoom,i),S.font=a,S.fillText(s,-c/2,0)},"draw")}]}};te(e5,"ShieldSymbolizer");var n5=class{constructor(t){this.list=t}place(t,e,i){let s=this.list[0].place(t,e,i);if(!s)return;let a=s[0],l=a.anchor,c=a.bboxes[0],f=c.maxY-c.minY,d=[{draw:a.draw,translate:{x:0,y:0}}],g=[[new tn(e[0][0].x,e[0][0].y+f)]];for(let y=1;y<this.list.length;y++)s=this.list[y].place(t,g,i),s&&(a=s[0],c=bT(c,a.bboxes[0]),d.push({draw:a.draw,translate:{x:0,y:f}}));return[{anchor:l,bboxes:[c],draw:te(y=>{for(let _ of d)y.save(),y.translate(_.translate.x,_.translate.y),_.draw(y),y.restore()},"draw")}]}};te(n5,"FlexSymbolizer");var bT=te((n,t)=>({minX:Math.min(n.minX,t.minX),minY:Math.min(n.minY,t.minY),maxX:Math.max(n.maxX,t.maxX),maxY:Math.max(n.maxY,t.maxY)}),"mergeBbox"),vT=class{constructor(t){this.list=t}place(t,e,i){let s=this.list[0];if(!s)return;let a=s.place(t,e,i);if(!a)return;let l=a[0],c=l.anchor,f=l.bboxes[0],d=[l.draw];for(let g=1;g<this.list.length;g++){if(a=this.list[g].place(t,e,i),!a)return;l=a[0],f=bT(f,l.bboxes[0]),d.push(l.draw)}return[{anchor:c,bboxes:[f],draw:te(g=>{for(let y of d)y(g)},"draw")}]}};te(vT,"GroupSymbolizer");var i5=vT,wT=class{constructor(t){this.symbolizer=t}place(t,e,i){let s=e[0][0],a=this.symbolizer.place(t,[[new tn(0,0)]],i);if(!a||a.length===0)return;let l=a[0],c=l.bboxes[0],f=c.maxX-c.minX,d=c.maxY-c.minY,g={minX:s.x-f/2,maxX:s.x+f/2,minY:s.y-d/2,maxY:s.y+d/2};return[{anchor:s,bboxes:[g],draw:te(y=>{y.translate(-f/2,d/2-c.maxY),l.draw(y,{justify:2})},"draw")}]}};te(wT,"CenteredSymbolizer");var r5=wT,s5=class{constructor(t,e){this.padding=new hi(t,0),this.symbolizer=e}place(t,e,i){let s=this.symbolizer.place(t,e,i);if(!s||s.length===0)return;let a=this.padding.get(t.zoom,i);for(let l of s)for(let c of l.bboxes)c.minX-=a,c.minY-=a,c.maxX+=a,c.maxY+=a;return s}};te(s5,"Padding");var xT=class{constructor(t){this.font=new _b(t),this.text=new yb(t),this.fill=new Vr(t.fill,"black"),this.stroke=new Vr(t.stroke,"black"),this.width=new hi(t.width,0),this.lineHeight=new hi(t.lineHeight,1),this.letterSpacing=new hi(t.letterSpacing,0),this.maxLineCodeUnits=new hi(t.maxLineChars,15),this.justify=t.justify}place(t,e,i){let s=this.text.get(t.zoom,i);if(!s)return;let a=this.font.get(t.zoom,i);t.scratch.font=a;let l=this.letterSpacing.get(t.zoom,i),c=bb(s,this.maxLineCodeUnits.get(t.zoom,i)),f="",d=0;for(let N of c)N.length>d&&(d=N.length,f=N);let g=t.scratch.measureText(f),y=g.width+l*(d-1),_=g.actualBoundingBoxAscent,S=g.actualBoundingBoxDescent,x=(_+S)*this.lineHeight.get(t.zoom,i),E=new tn(e[0][0].x,e[0][0].y),T={minX:E.x,minY:E.y-_,maxX:E.x+y,maxY:E.y+S+(c.length-1)*x};return[{anchor:E,bboxes:[T],draw:te((N,M)=>{N.globalAlpha=1,N.font=a,N.fillStyle=this.fill.get(t.zoom,i);let D=this.width.get(t.zoom,i),I=0;for(let R of c){let z=0;if(this.justify===2||M&&M.justify===2?z=(y-N.measureText(R).width)/2:(this.justify===3||M&&M.justify===3)&&(z=y-N.measureText(R).width),D)if(N.lineWidth=D*2,N.strokeStyle=this.stroke.get(t.zoom,i),l>0){let j=z;for(let W of R)N.strokeText(W,j,I),j+=N.measureText(W).width+l}else N.strokeText(R,z,I);if(l>0){let j=z;for(let W of R)N.fillText(W,j,I),j+=N.measureText(W).width+l}else N.fillText(R,z,I);I+=x}},"draw")}]}};te(xT,"TextSymbolizer");var ST=xT,ET=class{constructor(t){this.centered=new r5(new ST(t))}place(t,e,i){return this.centered.place(t,e,i)}};te(ET,"CenteredTextSymbolizer");var Wc=ET,AT=class{constructor(t,e){var i,s,a;this.symbolizer=t,this.offsetX=new hi(e.offsetX,0),this.offsetY=new hi(e.offsetY,0),this.justify=(i=e.justify)!=null?i:void 0,this.placements=(s=e.placements)!=null?s:[2,6,8,4,1,3,5,7],this.ddValues=(a=e.ddValues)!=null?a:()=>({})}place(t,e,i){if(i.geomType!==1)return;let s=e[0][0],a=this.symbolizer.place(t,[[new tn(0,0)]],i);if(!a||a.length===0)return;let l=a[0],c=l.bboxes[0],f=this.offsetX,d=this.offsetY,g=this.justify,y=this.placements,{offsetX:_,offsetY:S,justify:x,placements:E}=this.ddValues(t.zoom,i)||{};_&&(f=new hi(_,0)),S&&(d=new hi(S,0)),x&&(g=x),E&&(y=E);let T=f.get(t.zoom,i),N=d.get(t.zoom,i),M=te((j,W)=>({minX:j.x+W.x+c.minX,minY:j.y+W.y+c.minY,maxX:j.x+W.x+c.maxX,maxY:j.y+W.y+c.maxY}),"getBbox"),D=new tn(T,N),I,R=te(j=>{j.translate(D.x,D.y),l.draw(j,{justify:I})},"draw"),z=te((j,W)=>{let J=M(j,W);if(!t.index.bboxCollides(J,t.order))return[{anchor:s,bboxes:[J],draw:R}]},"placeLabelInPoint");for(let j of y){let W=this.computeXaxisOffset(T,c,j),J=this.computeYaxisOffset(N,c,j);return I=this.computeJustify(g,j),D=new tn(W,J),z(s,D)}}computeXaxisOffset(t,e,i){let s=e.maxX,a=s/2;return[1,5].includes(i)?t-a:[8,7,6].includes(i)?t-s:t}computeYaxisOffset(t,e,i){let s=Math.abs(e.minY),a=e.maxY,l=(e.minY+e.maxY)/2;return[3,7].includes(i)?t-l:[8,2,1].includes(i)?t-a:[6,4,5].includes(i)?t+s:t}computeJustify(t,e){return t||([1,5].includes(e)?2:[2,3,4].includes(e)?1:3)}};te(AT,"OffsetSymbolizer");var o5=AT,TT=class{constructor(t){this.symbolizer=new o5(new ST(t),t)}place(t,e,i){return this.symbolizer.place(t,e,i)}};te(TT,"OffsetTextSymbolizer");var a5=TT,l5=(n=>(n[n.Above=1]="Above",n[n.Center=2]="Center",n[n.Below=3]="Below",n))(l5||{}),kT=class{constructor(t){var e;this.font=new _b(t),this.text=new yb(t),this.fill=new Vr(t.fill,"black"),this.stroke=new Vr(t.stroke,"black"),this.width=new hi(t.width,0),this.offset=new hi(t.offset,0),this.position=(e=t.position)!=null?e:1,this.maxLabelCodeUnits=new hi(t.maxLabelChars,40),this.repeatDistance=new hi(t.repeatDistance,250)}place(t,e,i){let s=this.text.get(t.zoom,i);if(!s||s.length>this.maxLabelCodeUnits.get(t.zoom,i))return;let a=20,l=i.bbox;if(l.maxY-l.minY<a&&l.maxX-l.minX<a)return;let c=this.font.get(t.zoom,i);t.scratch.font=c;let f=t.scratch.measureText(s),d=f.width,g=f.actualBoundingBoxAscent+f.actualBoundingBoxDescent,y=this.repeatDistance.get(t.zoom,i);t.overzoom>4&&(y*=1<<t.overzoom-4);let _=g*2,S=iT(e,d,y,_);if(S.length===0)return;let x=[];for(let E of S){let T=E.end.x-E.start.x,N=E.end.y-E.start.y,M=rT(E.start,E.end,d,_/2).map(I=>({minX:I.x-_/2,minY:I.y-_/2,maxX:I.x+_/2,maxY:I.y+_/2})),D=te(I=>{I.globalAlpha=1,I.rotate(Math.atan2(N,T)),T<0&&(I.scale(-1,-1),I.translate(-d,0));let R=0;this.position===3?R+=g:this.position===2&&(R+=g/2),I.translate(0,R-this.offset.get(t.zoom,i)),I.font=c;let z=this.width.get(t.zoom,i);z&&(I.lineWidth=z,I.strokeStyle=this.stroke.get(t.zoom,i),I.strokeText(s,0,0)),I.fillStyle=this.fill.get(t.zoom,i),I.fillText(s,0,0)},"draw");x.push({anchor:E.start,bboxes:M,draw:D,deduplicationKey:s,deduplicationDistance:y})}return x}};te(kT,"LineLabelSymbolizer");var yg=kT,Fr=te((n,t)=>{let e=n[t];return typeof e=="string"?e:""},"getString"),PS=te((n,t)=>{let e=n[t];return typeof e=="number"?e:0},"getNumber"),MT=te(n=>[{dataLayer:"earth",symbolizer:new Mi({fill:n.earth})},...n.landcover?[{dataLayer:"landcover",symbolizer:new Mi({fill:te((t,e)=>{let i=n.landcover;if(!i||!e)return"";let s=Fr(e.props,"kind");return s==="grassland"?i.grassland:s==="barren"?i.barren:s==="urban_area"?i.urban_area:s==="farmland"?i.farmland:s==="glacier"?i.glacier:s==="scrub"?i.scrub:i.forest},"fill"),opacity:te((t,e)=>t===8?.5:1,"opacity")})}]:[],{dataLayer:"landuse",symbolizer:new Mi({fill:te((t,e)=>fg(n.park_a,n.park_b,Math.min(Math.max(t/12,12),0)),"fill")}),filter:te((t,e)=>{let i=Fr(e.props,"kind");return["allotments","village_green","playground"].includes(i)},"filter")},{dataLayer:"landuse",symbolizer:new Mi({fill:n.park_b,opacity:te((t,e)=>t<8?0:t===8?.5:1,"opacity")}),filter:te((t,e)=>{let i=Fr(e.props,"kind");return["national_park","park","cemetery","protected_area","nature_reserve","forest","golf_course"].includes(i)},"filter")},{dataLayer:"landuse",symbolizer:new Mi({fill:n.hospital}),filter:te((t,e)=>e.props.kind==="hospital","filter")},{dataLayer:"landuse",symbolizer:new Mi({fill:n.industrial}),filter:te((t,e)=>e.props.kind==="industrial","filter")},{dataLayer:"landuse",symbolizer:new Mi({fill:n.school}),filter:te((t,e)=>{let i=Fr(e.props,"kind");return["school","university","college"].includes(i)},"filter")},{dataLayer:"landuse",symbolizer:new Mi({fill:n.beach}),filter:te((t,e)=>e.props.kind==="beach","filter")},{dataLayer:"landuse",symbolizer:new Mi({fill:n.zoo}),filter:te((t,e)=>e.props.kind==="zoo","filter")},{dataLayer:"landuse",symbolizer:new Mi({fill:n.zoo}),filter:te((t,e)=>{let i=Fr(e.props,"kind");return["military","naval_base","airfield"].includes(i)},"filter")},{dataLayer:"landuse",symbolizer:new Mi({fill:te((t,e)=>fg(n.wood_a,n.wood_b,Math.min(Math.max(t/12,12),0)),"fill"),opacity:te((t,e)=>t<8?0:t===8?.5:1,"opacity")}),filter:te((t,e)=>{let i=Fr(e.props,"kind");return["wood","nature_reserve","forest"].includes(i)},"filter")},{dataLayer:"landuse",symbolizer:new Mi({fill:te((t,e)=>fg(n.scrub_a,n.scrub_b,Math.min(Math.max(t/12,12),0)),"fill")}),filter:te((t,e)=>{let i=Fr(e.props,"kind");return["scrub","grassland","grass"].includes(i)},"filter")},{dataLayer:"landuse",symbolizer:new Mi({fill:n.scrub_b}),filter:te((t,e)=>{let i=Fr(e.props,"kind");return["scrub","grassland","grass"].includes(i)},"filter")},{dataLayer:"landuse",symbolizer:new Mi({fill:n.glacier}),filter:te((t,e)=>e.props.kind==="glacier","filter")},{dataLayer:"landuse",symbolizer:new Mi({fill:n.sand,opacity:te((t,e)=>t<8?0:t===8?.5:1,"opacity")}),filter:te((t,e)=>e.props.kind==="sand","filter")},{dataLayer:"landuse",symbolizer:new Mi({fill:n.aerodrome}),filter:te((t,e)=>e.props.kind==="aerodrome","filter")},{dataLayer:"water",symbolizer:new Mi({fill:n.water}),filter:te((t,e)=>e.geomType===3,"filter")},{dataLayer:"roads",symbolizer:new Ss({color:n.runway,width:te((t,e)=>Vs(1.6,[[11,0],[13,4],[19,30]])(t),"width")}),filter:te((t,e)=>e.props.kind_detail==="runway","filter")},{dataLayer:"roads",symbolizer:new Ss({color:n.runway,width:te((t,e)=>Vs(1.6,[[14,0],[14.5,1],[16,6]])(t),"width")}),filter:te((t,e)=>e.props.kind_detail==="taxiway","filter")},{dataLayer:"roads",symbolizer:new Ss({color:n.pier,width:te((t,e)=>Vs(1.6,[[13,0],[13.5,0,5],[21,16]])(t),"width")}),filter:te((t,e)=>e.props.kind==="path"&&e.props.kind_detail==="pier","filter")},{dataLayer:"water",minzoom:14,symbolizer:new Ss({color:n.water,width:te((t,e)=>Vs(1.6,[[9,0],[9.5,1],[18,12]])(t),"width")}),filter:te((t,e)=>e.geomType===2&&e.props.kind==="river","filter")},{dataLayer:"water",minzoom:14,symbolizer:new Ss({color:n.water,width:.5}),filter:te((t,e)=>e.geomType===2&&e.props.kind==="stream","filter")},{dataLayer:"landuse",symbolizer:new Mi({fill:n.pedestrian}),filter:te((t,e)=>e.props.kind==="pedestrian","filter")},{dataLayer:"landuse",symbolizer:new Mi({fill:n.pier}),filter:te((t,e)=>e.props.kind==="pier","filter")},{dataLayer:"buildings",symbolizer:new Mi({fill:n.buildings,opacity:.5})},{dataLayer:"roads",symbolizer:new Ss({color:n.major,width:te((t,e)=>Vs(1.6,[[14,0],[20,7]])(t),"width")}),filter:te((t,e)=>{let i=Fr(e.props,"kind");return["other","path"].includes(i)},"filter")},{dataLayer:"roads",symbolizer:new Ss({color:n.major,width:te((t,e)=>Vs(1.6,[[13,0],[18,8]])(t),"width")}),filter:te((t,e)=>e.props.kind==="minor_road","filter")},{dataLayer:"roads",symbolizer:new Ss({color:n.major,width:te((t,e)=>Vs(1.6,[[6,0],[12,1.6],[15,3],[18,13]])(t),"width")}),filter:te((t,e)=>e.props.kind==="major_road","filter")},{dataLayer:"roads",symbolizer:new Ss({color:n.major,width:te((t,e)=>Vs(1.6,[[3,0],[6,1.1],[12,1.6],[15,5],[18,15]])(t),"width")}),filter:te((t,e)=>e.props.kind==="highway","filter")},{dataLayer:"boundaries",symbolizer:new Ss({color:n.boundaries,width:1}),filter:te((t,e)=>{let i=e.props.kind_detail;return typeof i=="number"&&i<=2},"filter")},{dataLayer:"roads",symbolizer:new Ss({dash:[.3,.75],color:n.railway,dashWidth:te((t,e)=>Vs(1.6,[[4,0],[7,.15],[19,9]])(t),"dashWidth"),opacity:.5}),filter:te((t,e)=>e.props.kind==="rail","filter")},{dataLayer:"boundaries",symbolizer:new Ss({color:n.boundaries,width:.5}),filter:te((t,e)=>{let i=e.props.kind_detail;return typeof i=="number"&&i>2},"filter")}],"paintRules"),OT=te((n,t)=>{let e=[`name:${t}`,"name"];return[{dataLayer:"roads",symbolizer:new yg({labelProps:e,fill:n.roads_label_minor,font:"400 12px sans-serif",width:2,stroke:n.roads_label_minor_halo}),minzoom:16,filter:te((i,s)=>{let a=Fr(s.props,"kind");return["minor_road","other","path"].includes(a)},"filter")},{dataLayer:"roads",symbolizer:new yg({labelProps:e,fill:n.roads_label_major,font:"400 12px sans-serif",width:2,stroke:n.roads_label_major_halo}),minzoom:12,filter:te((i,s)=>{let a=Fr(s.props,"kind");return["highway","major_road"].includes(a)},"filter")},{dataLayer:"roads",symbolizer:new yg({labelProps:e,fill:n.roads_label_major,font:"400 12px sans-serif",width:2,stroke:n.roads_label_major_halo}),minzoom:12,filter:te((i,s)=>{let a=Fr(s.props,"kind");return["highway","major_road"].includes(a)},"filter")},{dataLayer:"water",symbolizer:new Wc({labelProps:e,fill:n.ocean_label,lineHeight:1.5,letterSpacing:1,font:te((i,s)=>`400 ${P_([[3,10],[10,12]])(i)}px sans-serif`,"font"),textTransform:"uppercase"}),filter:te((i,s)=>{let a=Fr(s.props,"kind");return s.geomType===1&&["ocean","bay","strait","fjord"].includes(a)},"filter")},{dataLayer:"water",symbolizer:new Wc({labelProps:e,fill:n.ocean_label,lineHeight:1.5,letterSpacing:1,font:te((i,s)=>`400 ${P_([[3,10],[6,12],[10,12]])(i)}px sans-serif`,"font")}),filter:te((i,s)=>{let a=Fr(s.props,"kind");return s.geomType===1&&["sea","lake","water"].includes(a)},"filter")},{dataLayer:"places",symbolizer:new Wc({labelProps:te((i,s)=>i<6?[`ref:${t}`,"ref"]:e,"labelProps"),fill:n.state_label,stroke:n.state_label_halo,width:1,lineHeight:1.5,font:te((i,s)=>"400 12px sans-serif","font"),textTransform:"uppercase"}),filter:te((i,s)=>s.props.kind==="region","filter")},{dataLayer:"places",symbolizer:new Wc({labelProps:e,fill:n.country_label,lineHeight:1.5,font:te((i,s)=>"600 12px sans-serif","font"),textTransform:"uppercase"}),filter:te((i,s)=>s.props.kind==="country","filter")},{dataLayer:"places",minzoom:9,symbolizer:new Wc({labelProps:e,fill:n.city_label,lineHeight:1.5,font:te((i,s)=>{if(!s)return"400 12px sans-serif";let a=s.props.min_zoom,l=400;a&&a<=5&&(l=600);let c=12,f=s.props.population_rank;return f&&f>9&&(c=16),`${l} ${c}px sans-serif`},"font")}),sort:te((i,s)=>{let a=PS(i,"min_zoom"),l=PS(s,"min_zoom");return a-l},"sort"),filter:te((i,s)=>s.props.kind==="locality","filter")},{dataLayer:"places",maxzoom:8,symbolizer:new i5([new t5({radius:2,fill:n.city_label,stroke:n.city_label_halo,width:1.5}),new a5({labelProps:e,fill:n.city_label,stroke:n.city_label_halo,width:1,offsetX:6,offsetY:4.5,font:te((i,s)=>"400 12px sans-serif","font")})]),filter:te((i,s)=>s.props.kind==="locality","filter")}]},"labelRules"),CT=te((n,t,e)=>{let i=[];for(let s of n){let a=[];for(let l of s)a.push(l.clone().mult(t).add(e));i.push(a)}return i},"transformGeom"),td=te((n,t)=>{let e=1<<t;return n<0?e+n:n>=e?n%e:n},"wrap"),NT=class{constructor(t,e,i){this.tileCache=t,this.maxDataLevel=e,this.levelDiff=i}dataTilesForBounds(t,e){let i=Ar(2,t)/Ar(2,Math.ceil(t)),s=[],a=1,l=this.tileCache.tileSize;if(t<this.levelDiff)a=1/(1<<this.levelDiff-t)*i,s.push({dataTile:{z:0,x:0,y:0},origin:new tn(0,0),scale:a,dim:l*a});else if(t<=this.levelDiff+this.maxDataLevel){let c=1<<this.levelDiff,f=256*i,d=Math.ceil(t)-this.levelDiff,g=Math.floor(e.minX/c/f),y=Math.floor(e.minY/c/f),_=Math.floor(e.maxX/c/f),S=Math.floor(e.maxY/c/f);for(let x=g;x<=_;x++)for(let E=y;E<=S;E++){let T=new tn(x*c*f,E*c*f);s.push({dataTile:{z:d,x:td(x,d),y:td(E,d)},origin:T,scale:i,dim:l*i})}}else{let c=1<<this.levelDiff;a=(1<<Math.ceil(t)-this.maxDataLevel-this.levelDiff)*i;let f=Math.floor(e.minX/c/256/a),d=Math.floor(e.minY/c/256/a),g=Math.floor(e.maxX/c/256/a),y=Math.floor(e.maxY/c/256/a);for(let _=f;_<=g;_++)for(let S=d;S<=y;S++){let x=new tn(_*c*256*a,S*c*256*a);s.push({dataTile:{z:this.maxDataLevel,x:td(_,this.maxDataLevel),y:td(S,this.maxDataLevel)},origin:x,scale:a,dim:l*a})}}return s}dataTileForDisplayTile(t){let e,i=1,s=this.tileCache.tileSize,a;if(t.z<this.levelDiff)e={z:0,x:0,y:0},i=1/(1<<this.levelDiff-t.z),a=new tn(0,0),s=s*i;else if(t.z<=this.levelDiff+this.maxDataLevel){let l=1<<this.levelDiff;e={z:t.z-this.levelDiff,x:Math.floor(t.x/l),y:Math.floor(t.y/l)},a=new tn(e.x*l*256,e.y*l*256)}else{i=1<<t.z-this.maxDataLevel-this.levelDiff;let l=1<<this.levelDiff;e={z:this.maxDataLevel,x:Math.floor(t.x/l/i),y:Math.floor(t.y/l/i)},a=new tn(e.x*l*i*256,e.y*l*i*256),s=s*i}return{dataTile:e,scale:i,origin:a,dim:s}}getBbox(t,e){return As(this,null,function*(){let i=this.dataTilesForBounds(t,e);return(yield Promise.all(i.map(s=>this.tileCache.get(s.dataTile)))).map((s,a)=>{let l=i[a];return{data:s,z:t,dataTile:l.dataTile,scale:l.scale,dim:l.dim,origin:l.origin}})})}getDisplayTile(t){return As(this,null,function*(){let e=this.dataTileForDisplayTile(t);return{data:yield this.tileCache.get(e.dataTile),z:t.z,dataTile:e.dataTile,scale:e.scale,origin:e.origin,dim:e.dim}})}queryFeatures(t,e,i,s){let a=Math.round(i),l=Math.min(a-this.levelDiff,this.maxDataLevel),c=s/(1<<a-l);return this.tileCache.queryFeatures(t,e,l,c)}};te(NT,"View");var u5=NT,RT=te(n=>{let t=te(i=>{let s=i.levelDiff===void 0?1:i.levelDiff,a=i.maxDataZoom||15,l;if(typeof i.url=="string")new URL(i.url,"http://example.com").pathname.endsWith(".pmtiles")?l=new RS(i.url,!0):l=new Kz(i.url,!0);else if(i.url)l=new RS(i.url,!0);else throw new Error(`Invalid source ${i.url}`);let c=new Zz(l,256*1<<s);return new u5(c,a,s)},"sourceToViews"),e=new Map;if(n.sources)for(let i in n.sources)e.set(i,t(n.sources[i]));else e.set("",t(n));return e},"sourcesToViews"),c5=te((n,t,e)=>{let i=t/256,s=Math.floor(e.minX/256),a=Math.floor(e.minY/256),l=Math.floor(e.maxX/256),c=Math.floor(e.maxY/256),f=Math.log2(i),d=[];for(let g=s;g<=l;g++){let y=g%(1<<n);for(let _=a;_<=c;_++)d.push({display:nl({z:n,x:y,y:_}),key:nl({z:n-f,x:Math.floor(y/i),y:Math.floor(_/i)})})}return d},"covering"),LT=class{constructor(t,e){this.tree=new Pz,this.current=new Map,this.dim=t,this.maxLabeledTiles=e}hasPrefix(t){for(let e of this.current.keys())if(e.startsWith(t))return!0;return!1}has(t){return this.current.has(t)}size(){return this.current.size}keys(){return this.current.keys()}searchBbox(t,e){let i=new Set;for(let s of this.tree.search(t))s.indexedLabel.order<=e&&i.add(s.indexedLabel);return i}searchLabel(t,e){let i=new Set;for(let s of t.bboxes)for(let a of this.tree.search(s))a.indexedLabel.order<=e&&i.add(a.indexedLabel);return i}bboxCollides(t,e){for(let i of this.tree.search(t))if(i.indexedLabel.order<=e)return!0;return!1}labelCollides(t,e){for(let i of t.bboxes)for(let s of this.tree.search(i))if(s.indexedLabel.order<=e)return!0;return!1}deduplicationCollides(t){if(!t.deduplicationKey||!t.deduplicationDistance)return!1;let e=t.deduplicationDistance,i={minX:t.anchor.x-e,minY:t.anchor.y-e,maxX:t.anchor.x+e,maxY:t.anchor.y+e};for(let s of this.tree.search(i))if(s.indexedLabel.deduplicationKey===t.deduplicationKey&&s.indexedLabel.anchor.dist(t.anchor)<e)return!0;return!1}makeEntry(t){this.current.get(t)&&console.log("consistency error 1");let e=new Set;this.current.set(t,e)}insert(t,e,i){let s={anchor:t.anchor,bboxes:t.bboxes,draw:t.draw,order:e,tileKey:i,deduplicationKey:t.deduplicationKey,deduplicationDistance:t.deduplicationDistance},a=this.current.get(i);if(!a){let f=new Set;this.current.set(i,f),a=f}a.add(s);let l=!1,c=!1;for(let f of t.bboxes)this.tree.insert({minX:f.minX,minY:f.minY,maxX:f.maxX,maxY:f.maxY,indexedLabel:s}),f.minX<0&&(l=!0),f.maxX>this.dim&&(c=!0);if(l||c){let f=l?this.dim:-this.dim,d=[];for(let _ of t.bboxes)d.push({minX:_.minX+f,minY:_.minY,maxX:_.maxX+f,maxY:_.maxY});let g={anchor:new tn(t.anchor.x+f,t.anchor.y),bboxes:d,draw:t.draw,order:e,tileKey:i},y=this.current.get(i);y&&y.add(g);for(let _ of d)this.tree.insert({minX:_.minX,minY:_.minY,maxX:_.maxX,maxY:_.maxY,indexedLabel:g})}}pruneOrNoop(t){let e=t.split(":"),i,s=0,a=0;for(let l of this.current.keys()){let c=l.split(":");if(c[3]===e[3]){a++;let f=Math.sqrt(Ar(+c[0]-+e[0],2)+Ar(+c[1]-+e[1],2));f>s&&(s=f,i=l)}i&&a>this.maxLabeledTiles&&this.pruneKey(i)}}pruneKey(t){let e=this.current.get(t);if(!e)return;let i=[];for(let s of this.tree.all())e.has(s.indexedLabel)&&i.push(s);for(let s of i)this.tree.remove(s);this.current.delete(t)}removeLabel(t){let e=[];for(let s of this.tree.all())t===s.indexedLabel&&e.push(s);for(let s of e)this.tree.remove(s);let i=this.current.get(t.tileKey);i&&i.delete(t)}};te(LT,"Index");var f5=LT,PT=class{constructor(t,e,i,s,a){this.index=new f5(256*1<<t,s),this.z=t,this.scratch=e,this.labelRules=i,this.callback=a}layout(t){let e=performance.now(),i=new Set;for(let[a,l]of t)for(let c of l){let f=`${nl(c.dataTile)}:${a}`;this.index.has(f)||(this.index.makeEntry(f),i.add(f))}let s=new Set;for(let[a,l]of this.labelRules.entries()){if(l.visible===!1||l.minzoom&&this.z<l.minzoom||l.maxzoom&&this.z>l.maxzoom)continue;let c=l.dataSource||"",f=t.get(c);if(f)for(let d of f){let g=`${nl(d.dataTile)}:${c}`;if(!i.has(g))continue;let y=d.data.get(l.dataLayer);if(y===void 0)continue;let _=y;l.sort&&_.sort((x,E)=>l.sort?l.sort(x.props,E.props):0);let S={index:this.index,zoom:this.z,scratch:this.scratch,order:a,overzoom:this.z-d.dataTile.z};for(let x of _){if(l.filter&&!l.filter(this.z,x))continue;let E=CT(x.geom,d.scale,d.origin),T=l.symbolizer.place(S,E,x);if(T)for(let N of T){let M=!1;if(!(N.deduplicationKey&&this.index.deduplicationCollides(N))){if(this.index.labelCollides(N,1/0)){if(!this.index.labelCollides(N,a)){let D=this.index.searchLabel(N,1/0);for(let I of D){this.index.removeLabel(I);for(let R of I.bboxes)this.findInvalidatedTiles(s,d.dim,R,g)}this.index.insert(N,a,g),M=!0}}else this.index.insert(N,a,g),M=!0;if(M)for(let D of N.bboxes)(D.maxX>d.origin.x+d.dim||D.minX<d.origin.x||D.minY<d.origin.y||D.maxY>d.origin.y+d.dim)&&this.findInvalidatedTiles(s,d.dim,D,g)}}}}}for(let a of i)this.index.pruneOrNoop(a);return s.size>0&&this.callback&&this.callback(s),performance.now()-e}findInvalidatedTiles(t,e,i,s){let a=c5(this.z,e,i);for(let l of a)l.key!==s&&this.index.hasPrefix(l.key)&&t.add(l.display)}add(t){let e=!0;for(let[i,s]of t)for(let a of s)this.index.has(`${nl(a.dataTile)}:${i}`)||(e=!1);return e?0:this.layout(t)}};te(PT,"Labeler");var DT=PT,jT=class{constructor(t,e,i,s){this.labelers=new Map,this.scratch=t,this.labelRules=e,this.maxLabeledTiles=i,this.callback=s}add(t,e){let i=this.labelers.get(t);return i||(i=new DT(t,this.scratch,this.labelRules,this.maxLabeledTiles,this.callback),this.labelers.set(t,i)),i.add(e)}getIndex(t){let e=this.labelers.get(t);if(e)return e.index}};te(jT,"Labelers");var DS=jT;function wb(n,t,e,i,s,a,l,c,f){let d=performance.now();n.save(),n.miterLimit=2;for(let g of s){if(g.minzoom&&t<g.minzoom||g.maxzoom&&t>g.maxzoom)continue;let y=e.get(g.dataSource||"");if(y)for(let _ of y){let S=_.data.get(g.dataLayer);if(S===void 0)continue;g.symbolizer.before&&g.symbolizer.before(n,_.z);let x=_.origin,E=_.dim,T=_.scale;if(n.save(),c){n.beginPath();let N=Math.max(x.x-l.x,a.minX-l.x),M=Math.max(x.y-l.y,a.minY-l.y),D=Math.min(x.x-l.x+E,a.maxX-l.x),I=Math.min(x.y-l.y+E,a.maxY-l.y);n.rect(N,M,D-N,I-M),n.clip()}n.translate(x.x-l.x,x.y-l.y);for(let N of S){let M=N.geom,D=N.bbox;D.maxX*T+x.x<a.minX||D.minX*T+x.x>a.maxX||D.minY*T+x.y>a.maxY||D.maxY*T+x.y<a.minY||g.filter&&!g.filter(_.z,N)||(T!==1&&(M=CT(M,T,new tn(0,0))),g.symbolizer.draw(n,M,_.z,N))}n.restore()}}if(c&&(n.beginPath(),n.rect(a.minX-l.x,a.minY-l.y,a.maxX-a.minX,a.maxY-a.minY),n.clip()),i){let g=i.searchBbox(a,1/0);for(let y of g)if(n.save(),n.translate(y.anchor.x-l.x,y.anchor.y-l.y),y.draw(n),n.restore(),f){n.lineWidth=.5,n.strokeStyle=f,n.fillStyle=f,n.globalAlpha=1,n.fillRect(y.anchor.x-l.x-2,y.anchor.y-l.y-2,4,4);for(let _ of y.bboxes)n.strokeRect(_.minX-l.x,_.minY-l.y,_.maxX-_.minX,_.maxY-_.minY)}}return n.restore(),performance.now()-d}te(wb,"paint");var Tf=6378137,jS=85.0511287798,Ts=Tf*Math.PI,IT=te(n=>{let t=Math.PI/180,e=Math.max(Math.min(jS,n.y),-jS),i=Math.sin(e*t);return new tn(Tf*n.x*t,Tf*Math.log((1+i)/(1-i))/2)},"project"),h5=te(n=>{let t=180/Math.PI;return{lat:(2*Math.atan(Math.exp(n.y/Tf))-Math.PI/2)*t,lng:n.x*t/Tf}},"unproject"),d5=te((n,t)=>e=>{let i=IT(e);return new tn((i.x+Ts)/(Ts*2),1-(i.y+Ts)/(Ts*2)).mult(Ar(2,t)*256).sub(n)},"instancedProject"),p5=te((n,t)=>e=>{let i=new tn(e.x,e.y).add(n).div(Ar(2,t)*256),s=new tn(i.x*(Ts*2)-Ts,(1-i.y)*(Ts*2)-Ts);return h5(s)},"instancedUnproject"),IS=te((n,t)=>{let e=t*(360/n);return Math.log2(e/256)},"getZoom"),m5=class{constructor(t){if(t.flavor){let e=mb(t.flavor);this.paintRules=MT(e),this.labelRules=OT(e,t.lang||"en"),this.backgroundColor=e.background}else this.paintRules=t.paintRules||[],this.labelRules=t.labelRules||[],this.backgroundColor=t.backgroundColor;this.views=RT(t),this.debug=t.debug||""}drawContext(t,e,i,s,a){return As(this,null,function*(){let l=IT(s),c=new tn((l.x+Ts)/(Ts*2),1-(l.y+Ts)/(Ts*2)).clone().mult(Ar(2,a)*256).sub(new tn(e/2,i/2)),f={minX:c.x,minY:c.y,maxX:c.x+e,maxY:c.y+i},d=[];for(let[E,T]of this.views){let N=T.getBbox(a,f);d.push({key:E,promise:N})}let g=yield Promise.all(d.map(E=>E.promise.then(T=>({status:"fulfilled",value:T,key:E.key}),T=>({status:"rejected",value:[],reason:T,key:E.key})))),y=new Map;for(let E of g)E.status==="fulfilled"&&y.set(E.key,E.value);let _=performance.now(),S=new DT(a,t,this.labelRules,16,void 0);S.add(y),this.backgroundColor&&(t.save(),t.fillStyle=this.backgroundColor,t.fillRect(0,0,e,i),t.restore());let x=this.paintRules;if(wb(t,a,y,S.index,x,f,c,!0,this.debug),this.debug){t.save(),t.translate(-c.x,-c.y),t.strokeStyle=this.debug,t.fillStyle=this.debug,t.font="12px sans-serif";let E=0;for(let[T,N]of y){for(let M of N){t.strokeRect(M.origin.x,M.origin.y,M.dim,M.dim);let D=M.dataTile;t.fillText(`${T+(T?" ":"")+D.z} ${D.x} ${D.y}`,M.origin.x+4,M.origin.y+14*(1+E))}E++}t.restore()}return{elapsed:performance.now()-_,project:d5(c,a),unproject:p5(c,a)}})}drawCanvas(t,e,i){return As(this,arguments,function*(s,a,l,c={}){let f=window.devicePixelRatio,d=s.clientWidth,g=s.clientHeight;s.width===d*f&&s.height===g*f||(s.width=d*f,s.height=g*f),c.lang&&(s.lang=c.lang);let y=s.getContext("2d");if(!y){console.error("Failed to initialize canvas2d context.");return}return y.setTransform(f,0,0,f,0,0),this.drawContext(y,d,g,a,l)})}drawContextBounds(t,e,i,s,a){return As(this,null,function*(){let l=i.x-e.x,c=new tn((e.x+i.x)/2,(e.y+i.y)/2);return this.drawContext(t,s,a,c,IS(l,s))})}drawCanvasBounds(t,e,i,s){return As(this,arguments,function*(a,l,c,f,d={}){let g=c.x-l.x,y=new tn((l.x+c.x)/2,(l.y+c.y)/2);return this.drawCanvas(a,y,IS(g,f),d)})}};te(m5,"Static");var g5=te(n=>new Promise(t=>{setTimeout(()=>{t()},n)}),"timer"),y5=te(n=>n.then(t=>({status:"fulfilled",value:t}),t=>({status:"rejected",reason:t})),"reflect"),_5=te((n={})=>{let t=class extends L.GridLayer{constructor(s={}){var a;if(s.noWrap&&!s.bounds&&(s.bounds=[[-90,-180],[90,180]]),s.attribution==null&&(s.attribution='<a href="https://protomaps.com">Protomaps</a> © <a href="https://openstreetmap.org/copyright">OpenStreetMap</a>'),super(s),s.flavor){let c=mb(s.flavor);this.paintRules=MT(c),this.labelRules=OT(c,s.lang||"en"),this.backgroundColor=c.background}else this.paintRules=s.paintRules||[],this.labelRules=s.labelRules||[],this.backgroundColor=s.backgroundColor;this.devicePixelRatio=(a=s.devicePixelRatio)!=null?a:window.devicePixelRatio,this.lastRequestedZ=void 0,this.tasks=s.tasks||[],this.views=RT(s),this.debug=s.debug;let l=document.createElement("canvas").getContext("2d");this.scratch=l,this.onTilesInvalidated=c=>{for(let f of c)this.rerenderTile(f)},this.labelers=new DS(this.scratch,this.labelRules,16,this.onTilesInvalidated),this.tileSize=256*this.devicePixelRatio,this.tileDelay=s.tileDelay||3,this.lang=s.lang}renderTile(s,a,l,c=()=>{}){return As(this,null,function*(){this.lastRequestedZ=s.z;let f=[];for(let[j,W]of this.views){let J=W.getDisplayTile(s);f.push({key:j,promise:J})}let d=yield Promise.all(f.map(j=>j.promise.then(W=>({status:"fulfilled",value:W,key:j.key}),W=>({status:"rejected",reason:W,key:j.key})))),g=new Map;for(let j of d)j.status==="fulfilled"?g.set(j.key,[j.value]):j.reason.name==="AbortError"||console.error(j.reason);if(a.key!==l||this.lastRequestedZ!==s.z||(yield Promise.all(this.tasks.map(y5)),a.key!==l)||this.lastRequestedZ!==s.z)return;let y=this.labelers.add(s.z,g);if(a.key!==l||this.lastRequestedZ!==s.z)return;let _=this.labelers.getIndex(s.z);if(!this._map)return;let S=this._map.getCenter().wrap(),x=this._getTiledPixelBounds(S),E=this._pxBoundsToTileRange(x).getCenter(),T=s.distanceTo(E)*this.tileDelay;if(yield g5(T),a.key!==l||this.lastRequestedZ!==s.z)return;let N=16,M={minX:256*s.x-N,minY:256*s.y-N,maxX:256*(s.x+1)+N,maxY:256*(s.y+1)+N},D=new tn(256*s.x,256*s.y);a.width=this.tileSize,a.height=this.tileSize;let I=a.getContext("2d");if(!I){console.error("Failed to get Canvas context");return}I.setTransform(this.tileSize/256,0,0,this.tileSize/256,0,0),I.clearRect(0,0,256,256),this.backgroundColor&&(I.save(),I.fillStyle=this.backgroundColor,I.fillRect(0,0,256,256),I.restore());let R=0,z=this.paintRules;if(R=wb(I,s.z,g,this.xray?null:_,z,M,D,!1,this.debug),this.debug){I.save(),I.fillStyle=this.debug,I.font="600 12px sans-serif",I.fillText(`${s.z} ${s.x} ${s.y}`,4,14),I.font="12px sans-serif";let j=28;for(let[W,J]of g){let tt=J[0].dataTile;I.fillText(`${W+(W?" ":"")+tt.z} ${tt.x} ${tt.y}`,4,j),j+=14}I.font="600 10px sans-serif",R>8&&(I.fillText(`${R.toFixed()} ms paint`,4,j),j+=14),y>8&&I.fillText(`${y.toFixed()} ms layout`,4,j),I.strokeStyle=this.debug,I.lineWidth=.5,I.beginPath(),I.moveTo(0,0),I.lineTo(0,256),I.stroke(),I.lineWidth=.5,I.beginPath(),I.moveTo(0,0),I.lineTo(256,0),I.stroke(),I.restore()}c()})}rerenderTile(s){for(let a in this._tiles){let l=this._wrapCoords(this._keyToTileCoords(a));s===this._tileCoordsToKey(l)&&this.renderTile(l,this._tiles[a].el,s)}}queryTileFeaturesDebug(s,a,l=16){let c=new Map;for(let[f,d]of this.views)c.set(f,d.queryFeatures(s,a,this._map.getZoom(),l));return c}clearLayout(){this.labelers=new DS(this.scratch,this.labelRules,16,this.onTilesInvalidated)}rerenderTiles(){for(let s in this._tiles){let a=this._wrapCoords(this._keyToTileCoords(s)),l=this._tileCoordsToKey(a);this.renderTile(a,this._tiles[s].el,l)}}createTile(s,a){let l=L.DomUtil.create("canvas","leaflet-tile");l.lang=this.lang;let c=this._tileCoordsToKey(s);return l.key=c,this.renderTile(s,l,c,()=>{a(void 0,l)}),l}_removeTile(s){let a=this._tiles[s];a&&(a.el.removed=!0,a.el.key=void 0,L.DomUtil.removeClass(a.el,"leaflet-tile-loaded"),a.el.width=a.el.height=0,L.DomUtil.remove(a.el),delete this._tiles[s],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(s)}))}};te(t,"LeafletLayer");let e=t;return new e(n)},"leafletLayer");te((n,t,e)=>{let i=new FontFace(n,`url(${t})`,{weight:e});return document.fonts.add(i),i.load()},"Font");var zS=te(n=>As(void 0,null,function*(){return new Promise((t,e)=>{let i=new Image;i.onload=()=>t(i),i.onerror=()=>e("Invalid SVG"),i.src=n})}),"mkimg"),b5=`
<svg width="20px" height="20px" viewBox="0 0 50 50" version="1.1" xmlns="http://www.w3.org/2000/svg">
    <rect width="50" height="50" fill="#cccccc"/>
    <g transform="translate(5,5)">
        <path fill="none" stroke="#666666" stroke-width="7" d="m11,12a8.5,8 0 1,1 17,0q0,4-4,6t-4.5,4.5-.4,4v.2m0,3v7"/>
    </g>
</svg>
`,v5=class{constructor(t){this.src=t,this.canvas=document.createElement("canvas"),this.mapping=new Map,this.missingBox={x:0,y:0,w:0,h:0}}load(){return As(this,null,function*(){let t=this.src,e=window.devicePixelRatio;t.endsWith(".html")&&(t=yield(yield fetch(t)).text());let i=new window.DOMParser().parseFromString(t,"text/html"),s=Array.from(i.body.children),a=yield zS(`data:image/svg+xml;base64,${btoa(b5)}`),l=[{w:a.width*e,h:a.height*e,img:a,id:""}],c=new XMLSerializer;for(let g of s){let y=`data:image/svg+xml;base64,${btoa(c.serializeToString(g))}`,_=yield zS(y);l.push({w:_.width*e,h:_.height*e,img:_,id:g.id})}let f=Uz(l);this.canvas.width=f.w,this.canvas.height=f.h;let d=this.canvas.getContext("2d");if(d)for(let g of l)g.x!==void 0&&g.y!==void 0&&(d.drawImage(g.img,g.x,g.y,g.w,g.h),g.id?this.mapping.set(g.id,{x:g.x,y:g.y,w:g.w,h:g.h}):this.missingBox={x:g.x,y:g.y,w:g.w,h:g.h});return this})}get(t){let e=this.mapping.get(t);return e||(e=this.missingBox),e}};te(v5,"Sheet");delete Rf.Icon.Default.prototype._getIconUrl;Rf.Icon.Default.mergeOptions({iconRetinaUrl:Qj,iconUrl:Jj,shadowUrl:tI});const w5=new Rf.Icon({iconUrl:"/assets/Vehicle.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-16]}),_g=new Map;function x5(n,t){const e=(n?"w":"n")+(t?"S":"N");if(_g.has(e))return _g.get(e);const i=n?"/assets/RSE_warn.png":"/assets/RSE.png",s=new Rf.DivIcon({className:"rse-wrapper",iconSize:[32,32],iconAnchor:[16,32],html:`
      <img class="rse-img ${t?"selected":""} ${n?"warn":"ok"}"
           src="${i}" alt="RSE" width="32" height="32" />
    `});return _g.set(e,s),s}function S5(n,t){const e=l=>typeof l=="number"&&Number.isFinite(l)?l:null;let i=e(n),s=e(t);i!=null&&Math.abs(i)>90&&(i/=1e7),s!=null&&Math.abs(s)>180&&(s/=1e7),typeof i=="number"&&Math.abs(i)<=90||(i=null),typeof s=="number"&&Math.abs(s)<=180||(s=null);const a=!(i!=null&&s!=null);return a&&(i=37.5665,s=126.978),{lat:i,lon:s,isFallback:a}}function E5({pmtilesPath:n="/maps/seoulToGunsan.pmtiles"}){const t=rp();return Ee.useEffect(()=>{if(!t)return;const i=`${typeof window<"u"?window.location.origin:""}${n}`,s=_5({url:i,flavor:"light",lang:"ko"});return s.addTo(t),()=>{try{t.removeLayer(s)}catch{}}},[t,n]),null}function A5({lat:n,lon:t,autoFollow:e}){const i=rp(),s=Ee.useRef({lat:null,lon:null});return Ee.useEffect(()=>{if(!(n==null||t==null||!e)&&!(s.current.lat===n&&s.current.lon===t)){s.current={lat:n,lon:t};try{i.easeTo({center:[n,t],duration:350})}catch{i.setView([n,t])}}},[n,t,e,i]),null}function T5({onUserInteract:n}){return Xj({dragstart:t=>{t?.originalEvent&&n?.()},zoomstart:t=>{t?.originalEvent&&n?.()},touchstart:t=>{t?.originalEvent&&n?.()}}),null}function k5({autoFollow:n,setAutoFollow:t}){const e=rp(),i=Ee.useRef(null),s=Ee.useRef(null),a="#2B7FFF",l="#BDBDBD",c="#FFFFFF",f="#111827";return Ee.useEffect(()=>{if(!e)return;const d=document.createElement("button");d.type="button",d.title="지도를 드래그/확대하면 자동으로 꺼집니다",d.innerText=n?"추적: 켜짐":"추적: 꺼짐",Object.assign(d.style,{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",userSelect:"none",fontWeight:500,fontSize:"20px",letterSpacing:"-0.01em",padding:"10px 14px",borderRadius:"12px",border:"none",color:n?c:f,backgroundColor:n?a:l,width:"auto",height:"auto",lineHeight:"normal",cursor:"pointer",transition:"background-color 120ms ease, box-shadow 120ms ease, transform 80ms ease",outline:"none",whiteSpace:"nowrap"}),d.onclick=y=>{y.preventDefault(),y.stopPropagation(),t(_=>!_)};const g=Rf.control({position:"topright"});return g.onAdd=()=>d,g.addTo(e),i.current=d,s.current=g,()=>{try{s.current?.remove?.()}catch{}i.current=null,s.current=null}},[e]),Ee.useEffect(()=>{const d=i.current;d&&(d.innerText=n?"추적: 켜짐":"추적: 꺼짐",d.style.backgroundColor=n?a:l,d.style.color=n?c:f)},[n]),null}function M5(){const n=vo(s=>s.byId),t=Ga(s=>s.selectedId),e=Ga(s=>s.warningById),i=Ee.useMemo(()=>Object.values(n).filter(a=>Number.isFinite(a?.gnss?.lat)&&Number.isFinite(a?.gnss?.lon)),[n]);return i.length===0?null:V.jsx(V.Fragment,{children:i.map(s=>{const a=!!e?.[s.id],l=!!t&&s.id===t,c=x5(a,l);return V.jsx(NA,{position:[s.gnss.lat,s.gnss.lon],icon:c,zIndexOffset:l?1e3:0,children:V.jsx(RA,{offset:[0,-20],children:V.jsxs("div",{style:{fontSize:12,lineHeight:1.2},children:[V.jsx("div",{children:V.jsx("strong",{children:s.serial??s.id})}),V.jsxs("div",{children:["(",s.gnss.lat?.toFixed?.(6),", ",s.gnss.lon?.toFixed?.(6),")"]}),a&&V.jsx("div",{style:{color:"#dc2626"},children:"⚠ Health 비정상"}),l&&V.jsx("div",{style:{color:"#2563eb"},children:"✓ 선택됨"})]})})},s.id)})})}function O5({latitude:n,longitude:t,heading:e=0}){const i=S5(n,t),s={lat:i.lat,lon:i.lon},a=i.isFallback,[l,c]=Ee.useState(!0);return V.jsxs($j,{center:[s.lat,s.lon],zoom:15,scrollWheelZoom:!0,style:{width:"100%",height:"100%",borderRadius:8},children:[V.jsx(E5,{pmtilesPath:"/maps/seoulToGunsan.pmtiles"}),V.jsx(M5,{}),V.jsx(NA,{position:[s.lat,s.lon],icon:w5,rotationAngle:Number.isFinite(e)?e:0,rotationOrigin:"center",children:V.jsxs(RA,{children:["차량 위치",V.jsx("br",{}),s.lat.toFixed(6),", ",s.lon.toFixed(6)]})}),V.jsx(A5,{lat:s.lat,lon:s.lon,autoFollow:l&&!a}),V.jsx(T5,{onUserInteract:()=>c(!1)}),V.jsx(k5,{autoFollow:l,setAutoFollow:c})]})}const C5=Ee.memo(O5);function N5({className:n="",mapProps:t={}}){const e=lf(l=>l.parsed.gnss?.lat??null),i=lf(l=>l.parsed.gnss?.lon??null),s=lf(l=>l.parsed.gnss?.headingDeg??null),a=Ee.useMemo(()=>e==null||i==null?null:{latitude:Math.round(e*1e7),longitude:Math.round(i*1e7),heading:s??void 0},[e,i,s]);return V.jsx(C5,{latitude:a?.latitude,longitude:a?.longitude,heading:a?.heading,...t})}const R5=Ee.memo(N5,(n,t)=>n.className===t.className&&n.mapProps===t.mapProps);function L5(){const[n,t]=Ee.useState("Main"),[e,i]=Ee.useState(!1),s=il(c=>c.connect),a=il(c=>c.disconnect);Ee.useEffect(()=>{s();const c=eN();return()=>{c?.(),a()}},[]);const l=()=>{switch(n){case"Main":return V.jsx(yR,{});case"DeviceList":return V.jsx(wR,{setActivePage:t});case"DeviceMonitoring":return V.jsx(Oj,{setActivePage:t});case"Settings":return V.jsx(Dj,{});default:return V.jsx("div",{children:"Page not found"})}};return V.jsx("div",{className:"h-dvh w-dvw bg-[#121d2d] flex items-center justify-center",children:V.jsxs("div",{className:"w-1/5 flex flex-1 h-full min-h-0",children:[V.jsx(ZN,{activePage:n,setActivePage:t,isCollapsed:e,setIsCollapsed:i}),V.jsxs("div",{className:"w-4/5 flex flex-1 min-h-0 flex-col",children:[V.jsx(JN,{activePage:n}),V.jsx("main",{className:"w-full flex-1 min-h-0 p-7",children:n==="DeviceList"||n==="DeviceMonitoring"?V.jsxs("div",{className:"grid grid-cols-[2fr_1fr] w-full h-full gap-3",children:[l(),V.jsx(R5,{})]}):l()})]})]})})}uM.createRoot(document.getElementById("root")).render(V.jsx(Ee.StrictMode,{children:V.jsx(L5,{})}));
