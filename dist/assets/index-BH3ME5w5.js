(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function e(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=e(o);fetch(o.href,a)}})();var hk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function f_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var _m={exports:{}},_c={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0;function dk(){if(K0)return _c;K0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,a){var l=null;if(a!==void 0&&(l=""+a),o.key!==void 0&&(l=""+o.key),"key"in o){a={};for(var c in o)c!=="key"&&(a[c]=o[c])}else a=o;return o=a.ref,{$$typeof:n,type:r,key:l,ref:o!==void 0?o:null,props:a}}return _c.Fragment=t,_c.jsx=e,_c.jsxs=e,_c}var W0;function pk(){return W0||(W0=1,_m.exports=dk()),_m.exports}var X=pk(),bm={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0;function mk(){if(X0)return $e;X0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function S(Z){return Z===null||typeof Z!="object"?null:(Z=b&&Z[b]||Z["@@iterator"],typeof Z=="function"?Z:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,k={};function C(Z,K,at){this.props=Z,this.context=K,this.refs=k,this.updater=at||x}C.prototype.isReactComponent={},C.prototype.setState=function(Z,K){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,K,"setState")},C.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function M(){}M.prototype=C.prototype;function P(Z,K,at){this.props=Z,this.context=K,this.refs=k,this.updater=at||x}var z=P.prototype=new M;z.constructor=P,E(z,C.prototype),z.isPureReactComponent=!0;var D=Array.isArray;function B(){}var R={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function J(Z,K,at){var At=at.ref;return{$$typeof:n,type:Z,key:K,ref:At!==void 0?At:null,props:at}}function tt(Z,K){return J(Z.type,K,Z.props)}function st(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===n}function G(Z){var K={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(at){return K[at]})}var mt=/\/+/g;function ht(Z,K){return typeof Z=="object"&&Z!==null&&Z.key!=null?G(""+Z.key):K.toString(36)}function ut(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(B,B):(Z.status="pending",Z.then(function(K){Z.status==="pending"&&(Z.status="fulfilled",Z.value=K)},function(K){Z.status==="pending"&&(Z.status="rejected",Z.reason=K)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function rt(Z,K,at,At,gt){var Ut=typeof Z;(Ut==="undefined"||Ut==="boolean")&&(Z=null);var _t=!1;if(Z===null)_t=!0;else switch(Ut){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(Z.$$typeof){case n:case t:_t=!0;break;case g:return _t=Z._init,rt(_t(Z._payload),K,at,At,gt)}}if(_t)return gt=gt(Z),_t=At===""?"."+ht(Z,0):At,D(gt)?(at="",_t!=null&&(at=_t.replace(mt,"$&/")+"/"),rt(gt,K,at,"",function(Mt){return Mt})):gt!=null&&(st(gt)&&(gt=tt(gt,at+(gt.key==null||Z&&Z.key===gt.key?"":(""+gt.key).replace(mt,"$&/")+"/")+_t)),K.push(gt)),1;_t=0;var ct=At===""?".":At+":";if(D(Z))for(var vt=0;vt<Z.length;vt++)At=Z[vt],Ut=ct+ht(At,vt),_t+=rt(At,K,at,Ut,gt);else if(vt=S(Z),typeof vt=="function")for(Z=vt.call(Z),vt=0;!(At=Z.next()).done;)At=At.value,Ut=ct+ht(At,vt++),_t+=rt(At,K,at,Ut,gt);else if(Ut==="object"){if(typeof Z.then=="function")return rt(ut(Z),K,at,At,gt);throw K=String(Z),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return _t}function lt(Z,K,at){if(Z==null)return Z;var At=[],gt=0;return rt(Z,At,"","",function(Ut){return K.call(at,Ut,gt++)}),At}function et(Z){if(Z._status===-1){var K=Z._result;K=K(),K.then(function(at){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=at)},function(at){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=at)}),Z._status===-1&&(Z._status=0,Z._result=K)}if(Z._status===1)return Z._result.default;throw Z._result}var jt=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)},nt={map:lt,forEach:function(Z,K,at){lt(Z,function(){K.apply(this,arguments)},at)},count:function(Z){var K=0;return lt(Z,function(){K++}),K},toArray:function(Z){return lt(Z,function(K){return K})||[]},only:function(Z){if(!st(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}};return $e.Activity=y,$e.Children=nt,$e.Component=C,$e.Fragment=e,$e.Profiler=o,$e.PureComponent=P,$e.StrictMode=r,$e.Suspense=h,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,$e.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return R.H.useMemoCache(Z)}},$e.cache=function(Z){return function(){return Z.apply(null,arguments)}},$e.cacheSignal=function(){return null},$e.cloneElement=function(Z,K,at){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var At=E({},Z.props),gt=Z.key;if(K!=null)for(Ut in K.key!==void 0&&(gt=""+K.key),K)!V.call(K,Ut)||Ut==="key"||Ut==="__self"||Ut==="__source"||Ut==="ref"&&K.ref===void 0||(At[Ut]=K[Ut]);var Ut=arguments.length-2;if(Ut===1)At.children=at;else if(1<Ut){for(var _t=Array(Ut),ct=0;ct<Ut;ct++)_t[ct]=arguments[ct+2];At.children=_t}return J(Z.type,gt,At)},$e.createContext=function(Z){return Z={$$typeof:l,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:a,_context:Z},Z},$e.createElement=function(Z,K,at){var At,gt={},Ut=null;if(K!=null)for(At in K.key!==void 0&&(Ut=""+K.key),K)V.call(K,At)&&At!=="key"&&At!=="__self"&&At!=="__source"&&(gt[At]=K[At]);var _t=arguments.length-2;if(_t===1)gt.children=at;else if(1<_t){for(var ct=Array(_t),vt=0;vt<_t;vt++)ct[vt]=arguments[vt+2];gt.children=ct}if(Z&&Z.defaultProps)for(At in _t=Z.defaultProps,_t)gt[At]===void 0&&(gt[At]=_t[At]);return J(Z,Ut,gt)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(Z){return{$$typeof:c,render:Z}},$e.isValidElement=st,$e.lazy=function(Z){return{$$typeof:g,_payload:{_status:-1,_result:Z},_init:et}},$e.memo=function(Z,K){return{$$typeof:d,type:Z,compare:K===void 0?null:K}},$e.startTransition=function(Z){var K=R.T,at={};R.T=at;try{var At=Z(),gt=R.S;gt!==null&&gt(at,At),typeof At=="object"&&At!==null&&typeof At.then=="function"&&At.then(B,jt)}catch(Ut){jt(Ut)}finally{K!==null&&at.types!==null&&(K.types=at.types),R.T=K}},$e.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},$e.use=function(Z){return R.H.use(Z)},$e.useActionState=function(Z,K,at){return R.H.useActionState(Z,K,at)},$e.useCallback=function(Z,K){return R.H.useCallback(Z,K)},$e.useContext=function(Z){return R.H.useContext(Z)},$e.useDebugValue=function(){},$e.useDeferredValue=function(Z,K){return R.H.useDeferredValue(Z,K)},$e.useEffect=function(Z,K){return R.H.useEffect(Z,K)},$e.useEffectEvent=function(Z){return R.H.useEffectEvent(Z)},$e.useId=function(){return R.H.useId()},$e.useImperativeHandle=function(Z,K,at){return R.H.useImperativeHandle(Z,K,at)},$e.useInsertionEffect=function(Z,K){return R.H.useInsertionEffect(Z,K)},$e.useLayoutEffect=function(Z,K){return R.H.useLayoutEffect(Z,K)},$e.useMemo=function(Z,K){return R.H.useMemo(Z,K)},$e.useOptimistic=function(Z,K){return R.H.useOptimistic(Z,K)},$e.useReducer=function(Z,K,at){return R.H.useReducer(Z,K,at)},$e.useRef=function(Z){return R.H.useRef(Z)},$e.useState=function(Z){return R.H.useState(Z)},$e.useSyncExternalStore=function(Z,K,at){return R.H.useSyncExternalStore(Z,K,at)},$e.useTransition=function(){return R.H.useTransition()},$e.version="19.2.0",$e}var G0;function h_(){return G0||(G0=1,bm.exports=mk()),bm.exports}var Ce=h_();const na=f_(Ce);var vm={exports:{}},bc={},wm={exports:{}},xm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function gk(){return $0||($0=1,(function(n){function t(rt,lt){var et=rt.length;rt.push(lt);t:for(;0<et;){var jt=et-1>>>1,nt=rt[jt];if(0<o(nt,lt))rt[jt]=lt,rt[et]=nt,et=jt;else break t}}function e(rt){return rt.length===0?null:rt[0]}function r(rt){if(rt.length===0)return null;var lt=rt[0],et=rt.pop();if(et!==lt){rt[0]=et;t:for(var jt=0,nt=rt.length,Z=nt>>>1;jt<Z;){var K=2*(jt+1)-1,at=rt[K],At=K+1,gt=rt[At];if(0>o(at,et))At<nt&&0>o(gt,at)?(rt[jt]=gt,rt[At]=et,jt=At):(rt[jt]=at,rt[K]=et,jt=K);else if(At<nt&&0>o(gt,et))rt[jt]=gt,rt[At]=et,jt=At;else break t}}return lt}function o(rt,lt){var et=rt.sortIndex-lt.sortIndex;return et!==0?et:rt.id-lt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],d=[],g=1,y=null,b=3,S=!1,x=!1,E=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function z(rt){for(var lt=e(d);lt!==null;){if(lt.callback===null)r(d);else if(lt.startTime<=rt)r(d),lt.sortIndex=lt.expirationTime,t(h,lt);else break;lt=e(d)}}function D(rt){if(E=!1,z(rt),!x)if(e(h)!==null)x=!0,B||(B=!0,G());else{var lt=e(d);lt!==null&&ut(D,lt.startTime-rt)}}var B=!1,R=-1,V=5,J=-1;function tt(){return k?!0:!(n.unstable_now()-J<V)}function st(){if(k=!1,B){var rt=n.unstable_now();J=rt;var lt=!0;try{t:{x=!1,E&&(E=!1,M(R),R=-1),S=!0;var et=b;try{e:{for(z(rt),y=e(h);y!==null&&!(y.expirationTime>rt&&tt());){var jt=y.callback;if(typeof jt=="function"){y.callback=null,b=y.priorityLevel;var nt=jt(y.expirationTime<=rt);if(rt=n.unstable_now(),typeof nt=="function"){y.callback=nt,z(rt),lt=!0;break e}y===e(h)&&r(h),z(rt)}else r(h);y=e(h)}if(y!==null)lt=!0;else{var Z=e(d);Z!==null&&ut(D,Z.startTime-rt),lt=!1}}break t}finally{y=null,b=et,S=!1}lt=void 0}}finally{lt?G():B=!1}}}var G;if(typeof P=="function")G=function(){P(st)};else if(typeof MessageChannel<"u"){var mt=new MessageChannel,ht=mt.port2;mt.port1.onmessage=st,G=function(){ht.postMessage(null)}}else G=function(){C(st,0)};function ut(rt,lt){R=C(function(){rt(n.unstable_now())},lt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(rt){rt.callback=null},n.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<rt?Math.floor(1e3/rt):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(rt){switch(b){case 1:case 2:case 3:var lt=3;break;default:lt=b}var et=b;b=lt;try{return rt()}finally{b=et}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(rt,lt){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var et=b;b=rt;try{return lt()}finally{b=et}},n.unstable_scheduleCallback=function(rt,lt,et){var jt=n.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?jt+et:jt):et=jt,rt){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=et+nt,rt={id:g++,callback:lt,priorityLevel:rt,startTime:et,expirationTime:nt,sortIndex:-1},et>jt?(rt.sortIndex=et,t(d,rt),e(h)===null&&rt===e(d)&&(E?(M(R),R=-1):E=!0,ut(D,et-jt))):(rt.sortIndex=nt,t(h,rt),x||S||(x=!0,B||(B=!0,G()))),rt},n.unstable_shouldYield=tt,n.unstable_wrapCallback=function(rt){var lt=b;return function(){var et=b;b=lt;try{return rt.apply(this,arguments)}finally{b=et}}}})(xm)),xm}var Q0;function yk(){return Q0||(Q0=1,wm.exports=gk()),wm.exports}var Sm={exports:{}},ir={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0;function _k(){if(J0)return ir;J0=1;var n=h_();function t(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function a(h,d,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:h,containerInfo:d,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ir.createPortal=function(h,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(h,d,null,g)},ir.flushSync=function(h){var d=l.T,g=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=d,r.p=g,r.d.f()}},ir.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},ir.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},ir.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var g=d.as,y=c(g,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,S=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:S}):g==="script"&&r.d.X(h,{crossOrigin:y,integrity:b,fetchPriority:S,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ir.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=c(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},ir.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,y=c(g,d.crossOrigin);r.d.L(h,g,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ir.preloadModule=function(h,d){if(typeof h=="string")if(d){var g=c(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},ir.requestFormReset=function(h){r.d.r(h)},ir.unstable_batchedUpdates=function(h,d){return h(d)},ir.useFormState=function(h,d,g){return l.H.useFormState(h,d,g)},ir.useFormStatus=function(){return l.H.useHostTransitionStatus()},ir.version="19.2.0",ir}var t1;function fS(){if(t1)return Sm.exports;t1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Sm.exports=_k(),Sm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1;function bk(){if(e1)return bc;e1=1;var n=yk(),t=h_(),e=fS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)s+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var s=i,f=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(f=s.return),i=s.return;while(i)}return s.tag===3?f:null}function l(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(a(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=a(i),s===null)throw Error(r(188));return s!==i?null:i}for(var f=i,m=s;;){var w=f.return;if(w===null)break;var A=w.alternate;if(A===null){if(m=w.return,m!==null){f=m;continue}break}if(w.child===A.child){for(A=w.child;A;){if(A===f)return h(w),i;if(A===m)return h(w),s;A=A.sibling}throw Error(r(188))}if(f.return!==m.return)f=w,m=A;else{for(var H=!1,Q=w.child;Q;){if(Q===f){H=!0,f=w,m=A;break}if(Q===m){H=!0,m=w,f=A;break}Q=Q.sibling}if(!H){for(Q=A.child;Q;){if(Q===f){H=!0,f=A,m=w;break}if(Q===m){H=!0,m=A,f=w;break}Q=Q.sibling}if(!H)throw Error(r(189))}}if(f.alternate!==m)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?i:s}function g(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=g(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),P=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),tt=Symbol.for("react.memo_cache_sentinel"),st=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=st&&i[st]||i["@@iterator"],typeof i=="function"?i:null)}var mt=Symbol.for("react.client.reference");function ht(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===mt?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case C:return"Profiler";case k:return"StrictMode";case D:return"Suspense";case B:return"SuspenseList";case J:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case P:return i.displayName||"Context";case M:return(i._context.displayName||"Context")+".Consumer";case z:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return s=i.displayName||null,s!==null?s:ht(i.type)||"Memo";case V:s=i._payload,i=i._init;try{return ht(i(s))}catch{}}return null}var ut=Array.isArray,rt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},jt=[],nt=-1;function Z(i){return{current:i}}function K(i){0>nt||(i.current=jt[nt],jt[nt]=null,nt--)}function at(i,s){nt++,jt[nt]=i.current,i.current=s}var At=Z(null),gt=Z(null),Ut=Z(null),_t=Z(null);function ct(i,s){switch(at(Ut,s),at(gt,i),at(At,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?g0(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=g0(s),i=y0(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}K(At),at(At,i)}function vt(){K(At),K(gt),K(Ut)}function Mt(i){i.memoizedState!==null&&at(_t,i);var s=At.current,f=y0(s,i.type);s!==f&&(at(gt,i),at(At,f))}function Nt(i){gt.current===i&&(K(At),K(gt)),_t.current===i&&(K(_t),pc._currentValue=et)}var Tt,ce;function Jt(i){if(Tt===void 0)try{throw Error()}catch(f){var s=f.stack.trim().match(/\n( *(at )?)/);Tt=s&&s[1]||"",ce=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tt+i+ce}var ft=!1;function Et(i,s){if(!i||ft)return"";ft=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(s){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(ne){var Qt=ne}Reflect.construct(i,[],_e)}else{try{_e.call()}catch(ne){Qt=ne}i.call(_e.prototype)}}else{try{throw Error()}catch(ne){Qt=ne}(_e=i())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(ne){if(ne&&Qt&&typeof ne.stack=="string")return[ne.stack,Qt.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=m.DetermineComponentFrameRoot(),H=A[0],Q=A[1];if(H&&Q){var St=H.split(`
`),Wt=Q.split(`
`);for(w=m=0;m<St.length&&!St[m].includes("DetermineComponentFrameRoot");)m++;for(;w<Wt.length&&!Wt[w].includes("DetermineComponentFrameRoot");)w++;if(m===St.length||w===Wt.length)for(m=St.length-1,w=Wt.length-1;1<=m&&0<=w&&St[m]!==Wt[w];)w--;for(;1<=m&&0<=w;m--,w--)if(St[m]!==Wt[w]){if(m!==1||w!==1)do if(m--,w--,0>w||St[m]!==Wt[w]){var de=`
`+St[m].replace(" at new "," at ");return i.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",i.displayName)),de}while(1<=m&&0<=w);break}}}finally{ft=!1,Error.prepareStackTrace=f}return(f=i?i.displayName||i.name:"")?Jt(f):""}function Vt(i,s){switch(i.tag){case 26:case 27:case 5:return Jt(i.type);case 16:return Jt("Lazy");case 13:return i.child!==s&&s!==null?Jt("Suspense Fallback"):Jt("Suspense");case 19:return Jt("SuspenseList");case 0:case 15:return Et(i.type,!1);case 11:return Et(i.type.render,!1);case 1:return Et(i.type,!0);case 31:return Jt("Activity");default:return""}}function ie(i){try{var s="",f=null;do s+=Vt(i,f),f=i,i=i.return;while(i);return s}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var re=Object.prototype.hasOwnProperty,he=n.unstable_scheduleCallback,wt=n.unstable_cancelCallback,fe=n.unstable_shouldYield,ve=n.unstable_requestPaint,Xt=n.unstable_now,Ze=n.unstable_getCurrentPriorityLevel,N=n.unstable_ImmediatePriority,F=n.unstable_UserBlockingPriority,Y=n.unstable_NormalPriority,bt=n.unstable_LowPriority,It=n.unstable_IdlePriority,ee=n.log,we=n.unstable_setDisableYieldValue,Ot=null,Yt=null;function je(i){if(typeof ee=="function"&&we(i),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Ot,i)}catch{}}var ue=Math.clz32?Math.clz32:ki,Fe=Math.log,Ke=Math.LN2;function ki(i){return i>>>=0,i===0?32:31-(Fe(i)/Ke|0)|0}var Te=256,Nn=262144,ci=4194304;function yi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function _i(i,s,f){var m=i.pendingLanes;if(m===0)return 0;var w=0,A=i.suspendedLanes,H=i.pingedLanes;i=i.warmLanes;var Q=m&134217727;return Q!==0?(m=Q&~A,m!==0?w=yi(m):(H&=Q,H!==0?w=yi(H):f||(f=Q&~i,f!==0&&(w=yi(f))))):(Q=m&~A,Q!==0?w=yi(Q):H!==0?w=yi(H):f||(f=m&~i,f!==0&&(w=yi(f)))),w===0?0:s!==0&&s!==w&&(s&A)===0&&(A=w&-w,f=s&-s,A>=f||A===32&&(f&4194048)!==0)?s:w}function Vn(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function qo(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vr(){var i=ci;return ci<<=1,(ci&62914560)===0&&(ci=4194304),i}function Pi(i){for(var s=[],f=0;31>f;f++)s.push(i);return s}function it(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function dt(i,s,f,m,w,A){var H=i.pendingLanes;i.pendingLanes=f,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=f,i.entangledLanes&=f,i.errorRecoveryDisabledLanes&=f,i.shellSuspendCounter=0;var Q=i.entanglements,St=i.expirationTimes,Wt=i.hiddenUpdates;for(f=H&~f;0<f;){var de=31-ue(f),_e=1<<de;Q[de]=0,St[de]=-1;var Qt=Wt[de];if(Qt!==null)for(Wt[de]=null,de=0;de<Qt.length;de++){var ne=Qt[de];ne!==null&&(ne.lane&=-536870913)}f&=~_e}m!==0&&xe(i,m,0),A!==0&&w===0&&i.tag!==0&&(i.suspendedLanes|=A&~(H&~s))}function xe(i,s,f){i.pendingLanes|=s,i.suspendedLanes&=~s;var m=31-ue(s);i.entangledLanes|=s,i.entanglements[m]=i.entanglements[m]|1073741824|f&261930}function be(i,s){var f=i.entangledLanes|=s;for(i=i.entanglements;f;){var m=31-ue(f),w=1<<m;w&s|i[m]&s&&(i[m]|=s),f&=~w}}function ke(i,s){var f=s&-s;return f=(f&42)!==0?1:ln(f),(f&(i.suspendedLanes|s))!==0?0:f}function ln(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ne(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ii(){var i=lt.p;return i!==0?i:(i=window.event,i===void 0?32:U0(i.type))}function Gi(i,s){var f=lt.p;try{return lt.p=i,s()}finally{lt.p=f}}var Mi=Math.random().toString(36).slice(2),hn="__reactFiber$"+Mi,Tn="__reactProps$"+Mi,Un="__reactContainer$"+Mi,Fn="__reactEvents$"+Mi,fr="__reactListeners$"+Mi,bi="__reactHandles$"+Mi,Ri="__reactResources$"+Mi,Yn="__reactMarker$"+Mi;function ca(i){delete i[hn],delete i[Tn],delete i[Fn],delete i[fr],delete i[bi]}function Yr(i){var s=i[hn];if(s)return s;for(var f=i.parentNode;f;){if(s=f[Un]||f[hn]){if(f=s.alternate,s.child!==null||f!==null&&f.child!==null)for(i=E0(i);i!==null;){if(f=i[hn])return f;i=E0(i)}return s}i=f,f=i.parentNode}return null}function An(i){if(i=i[hn]||i[Un]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function zi(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Bi(i){var s=i[Ri];return s||(s=i[Ri]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Qn(i){i[Yn]=!0}var Eo=new Set,vs={};function Zr(i,s){Tr(i,s),Tr(i+"Capture",s)}function Tr(i,s){for(vs[i]=s,i=0;i<s.length;i++)Eo.add(s[i])}var hr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fa={},Vo={};function Yo(i){return re.call(Vo,i)?!0:re.call(fa,i)?!1:hr.test(i)?Vo[i]=!0:(fa[i]=!0,!1)}function Re(i,s,f){if(Yo(s))if(f===null)i.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var m=s.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+f)}}function wn(i,s,f){if(f===null)i.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+f)}}function qi(i,s,f,m){if(m===null)i.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(f);return}i.setAttributeNS(s,f,""+m)}}function Kn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function dr(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ha(i,s,f){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var w=m.get,A=m.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return w.call(this)},set:function(H){f=""+H,A.call(this,H)}}),Object.defineProperty(i,s,{enumerable:m.enumerable}),{getValue:function(){return f},setValue:function(H){f=""+H},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Xe(i){if(!i._valueTracker){var s=dr(i)?"checked":"value";i._valueTracker=ha(i,s,""+i[s])}}function Bn(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var f=s.getValue(),m="";return i&&(m=dr(i)?i.checked?"true":"false":i.value),i=m,i!==f?(s.setValue(i),!0):!1}function dn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var uo=/[\n"\\]/g;function xn(i){return i.replace(uo,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function co(i,s,f,m,w,A,H,Q){i.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?i.type=H:i.removeAttribute("type"),s!=null?H==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Kn(s)):i.value!==""+Kn(s)&&(i.value=""+Kn(s)):H!=="submit"&&H!=="reset"||i.removeAttribute("value"),s!=null?pr(i,H,Kn(s)):f!=null?pr(i,H,Kn(f)):m!=null&&i.removeAttribute("value"),w==null&&A!=null&&(i.defaultChecked=!!A),w!=null&&(i.checked=w&&typeof w!="function"&&typeof w!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?i.name=""+Kn(Q):i.removeAttribute("name")}function To(i,s,f,m,w,A,H,Q){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.type=A),s!=null||f!=null){if(!(A!=="submit"&&A!=="reset"||s!=null)){Xe(i);return}f=f!=null?""+Kn(f):"",s=s!=null?""+Kn(s):f,Q||s===i.value||(i.value=s),i.defaultValue=s}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=Q?i.checked:!!m,i.defaultChecked=!!m,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(i.name=H),Xe(i)}function pr(i,s,f){s==="number"&&dn(i.ownerDocument)===i||i.defaultValue===""+f||(i.defaultValue=""+f)}function gn(i,s,f,m){if(i=i.options,s){s={};for(var w=0;w<f.length;w++)s["$"+f[w]]=!0;for(f=0;f<i.length;f++)w=s.hasOwnProperty("$"+i[f].value),i[f].selected!==w&&(i[f].selected=w),w&&m&&(i[f].defaultSelected=!0)}else{for(f=""+Kn(f),s=null,w=0;w<i.length;w++){if(i[w].value===f){i[w].selected=!0,m&&(i[w].defaultSelected=!0);return}s!==null||i[w].disabled||(s=i[w])}s!==null&&(s.selected=!0)}}function Kr(i,s,f){if(s!=null&&(s=""+Kn(s),s!==i.value&&(i.value=s),f==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=f!=null?""+Kn(f):""}function Wr(i,s,f,m){if(s==null){if(m!=null){if(f!=null)throw Error(r(92));if(ut(m)){if(1<m.length)throw Error(r(93));m=m[0]}f=m}f==null&&(f=""),s=f}f=Kn(s),i.defaultValue=f,m=i.textContent,m===f&&m!==""&&m!==null&&(i.value=m),Xe(i)}function mr(i,s){if(s){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=s;return}}i.textContent=s}var tl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tn(i,s,f){var m=s.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":m?i.setProperty(s,f):typeof f!="number"||f===0||tl.has(s)?s==="float"?i.cssFloat=f:i[s]=(""+f).trim():i[s]=f+"px"}function ws(i,s,f){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||s!=null&&s.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var w in s)m=s[w],s.hasOwnProperty(w)&&f[w]!==m&&tn(i,w,m)}else for(var A in s)s.hasOwnProperty(A)&&tn(i,A,s[A])}function xs(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var da=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gr(i){return Oi.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ci(){}var yr=null;function Zo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ao=null,ze=null;function Wn(i){var s=An(i);if(s&&(i=s.stateNode)){var f=i[Tn]||null;t:switch(i=s.stateNode,s.type){case"input":if(co(i,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),s=f.name,f.type==="radio"&&s!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+xn(""+s)+'"][type="radio"]'),s=0;s<f.length;s++){var m=f[s];if(m!==i&&m.form===i.form){var w=m[Tn]||null;if(!w)throw Error(r(90));co(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(s=0;s<f.length;s++)m=f[s],m.form===i.form&&Bn(m)}break t;case"textarea":Kr(i,f.value,f.defaultValue);break t;case"select":s=f.value,s!=null&&gn(i,!!f.multiple,s,!1)}}}var un=!1;function ko(i,s,f){if(un)return i(s,f);un=!0;try{var m=i(s);return m}finally{if(un=!1,(Ao!==null||ze!==null)&&(Vf(),Ao&&(s=Ao,i=ze,ze=Ao=null,Wn(s),i)))for(s=0;s<i.length;s++)Wn(i[s])}}function Xr(i,s){var f=i.stateNode;if(f===null)return null;var m=f[Tn]||null;if(m===null)return null;f=m[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break t;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(r(231,s,typeof f));return f}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ss=!1;if(ri)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){Ss=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch{Ss=!1}var $i=null,fo=null,Hn=null;function Qi(){if(Hn)return Hn;var i,s=fo,f=s.length,m,w="value"in $i?$i.value:$i.textContent,A=w.length;for(i=0;i<f&&s[i]===w[i];i++);var H=f-i;for(m=1;m<=H&&s[f-m]===w[A-m];m++);return Hn=w.slice(i,1<m?1-m:void 0)}function Mo(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ko(){return!0}function Fl(){return!1}function Jn(i){function s(f,m,w,A,H){this._reactName=f,this._targetInst=w,this.type=m,this.nativeEvent=A,this.target=H,this.currentTarget=null;for(var Q in i)i.hasOwnProperty(Q)&&(f=i[Q],this[Q]=f?f(A):A[Q]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Ko:Fl,this.isPropagationStopped=Fl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ko)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ko)},persist:function(){},isPersistent:Ko}),s}var Gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=Jn(Gr),$r=y({},Gr,{view:0,detail:0}),en=Jn($r),Es,Vi,Qr,Ts=y({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Co,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Qr&&(Qr&&i.type==="mousemove"?(Es=i.screenX-Qr.screenX,Vi=i.screenY-Qr.screenY):Vi=Es=0,Qr=i),Es)},movementY:function(i){return"movementY"in i?i.movementY:Vi}}),ma=Jn(Ts),As=y({},Ts,{dataTransfer:0}),Hl=Jn(As),ks=y({},$r,{relatedTarget:0}),Wo=Jn(ks),ga=y({},Gr,{animationName:0,elapsedTime:0,pseudoElement:0}),ya=Jn(ga),Pu=y({},Gr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Li=Jn(Pu),el=y({},Gr,{data:0}),Ms=Jn(el),Ar={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oo(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=fi[i])?!!s[i]:!1}function Co(){return Oo}var nl=y({},$r,{key:function(i){if(i.key){var s=Ar[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Mo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?_a[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Co,charCode:function(i){return i.type==="keypress"?Mo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Mo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Os=Jn(nl),ql=y({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),il=Jn(ql),Xo=y({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Co}),rl=Jn(Xo),ho=y({},Gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ba=Jn(ho),Go=y({},Ts,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),kr=Jn(Go),ol=y({},Gr,{newState:0,oldState:0}),$o=Jn(ol),Ji=[9,13,27,32],Qo=ri&&"CompositionEvent"in window,Jr=null;ri&&"documentMode"in document&&(Jr=document.documentMode);var Ru=ri&&"TextEvent"in window&&!Jr,Jo=ri&&(!Qo||Jr&&8<Jr&&11>=Jr),ts=" ",Vl=!1;function sl(i,s){switch(i){case"keyup":return Ji.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function al(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Lo=!1;function tr(i,s){switch(i){case"compositionend":return al(s);case"keypress":return s.which!==32?null:(Vl=!0,ts);case"textInput":return i=s.data,i===ts&&Vl?null:i;default:return null}}function es(i,s){if(Lo)return i==="compositionend"||!Qo&&sl(i,s)?(i=Qi(),Hn=fo=$i=null,Lo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Jo&&s.locale!=="ko"?null:s.data;default:return null}}var Yl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function er(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Yl[i.type]:s==="textarea"}function ll(i,s,f,m){Ao?ze?ze.push(m):ze=[m]:Ao=m,s=$f(s,"onChange"),0<s.length&&(f=new pa("onChange","change",null,f,m),i.push({event:f,listeners:s}))}var _r=null,Cs=null;function Ls(i){c0(i,0)}function Ns(i){var s=zi(i);if(Bn(s))return i}function po(i,s){if(i==="change")return s}var Mr=!1;if(ri){var pn;if(ri){var to="oninput"in document;if(!to){var Yi=document.createElement("div");Yi.setAttribute("oninput","return;"),to=typeof Yi.oninput=="function"}pn=to}else pn=!1;Mr=pn&&(!document.documentMode||9<document.documentMode)}function va(){_r&&(_r.detachEvent("onpropertychange",wa),Cs=_r=null)}function wa(i){if(i.propertyName==="value"&&Ns(Cs)){var s=[];ll(s,Cs,i,Zo(i)),ko(Ls,s)}}function Or(i,s,f){i==="focusin"?(va(),_r=s,Cs=f,_r.attachEvent("onpropertychange",wa)):i==="focusout"&&va()}function No(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ns(Cs)}function mo(i,s){if(i==="click")return Ns(s)}function ns(i,s){if(i==="input"||i==="change")return Ns(s)}function vi(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var hi=typeof Object.is=="function"?Object.is:vi;function _(i,s){if(hi(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var f=Object.keys(i),m=Object.keys(s);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var w=f[m];if(!re.call(s,w)||!hi(i[w],s[w]))return!1}return!0}function T(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function j(i,s){var f=T(i);i=0;for(var m;f;){if(f.nodeType===3){if(m=i+f.textContent.length,i<=s&&m>=s)return{node:f,offset:s-i};i=m}t:{for(;f;){if(f.nextSibling){f=f.nextSibling;break t}f=f.parentNode}f=void 0}f=T(f)}}function I(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?I(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function q(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=dn(i.document);s instanceof i.HTMLIFrameElement;){try{var f=typeof s.contentWindow.location.href=="string"}catch{f=!1}if(f)i=s.contentWindow;else break;s=dn(i.document)}return s}function W(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var ot=ri&&"documentMode"in document&&11>=document.documentMode,pt=null,kt=null,Ct=null,Bt=!1;function xt(i,s,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Bt||pt==null||pt!==dn(m)||(m=pt,"selectionStart"in m&&W(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ct&&_(Ct,m)||(Ct=m,m=$f(kt,"onSelect"),0<m.length&&(s=new pa("onSelect","select",null,s,f),i.push({event:s,listeners:m}),s.target=pt)))}function Ft(i,s){var f={};return f[i.toLowerCase()]=s.toLowerCase(),f["Webkit"+i]="webkit"+s,f["Moz"+i]="moz"+s,f}var Lt={animationend:Ft("Animation","AnimationEnd"),animationiteration:Ft("Animation","AnimationIteration"),animationstart:Ft("Animation","AnimationStart"),transitionrun:Ft("Transition","TransitionRun"),transitionstart:Ft("Transition","TransitionStart"),transitioncancel:Ft("Transition","TransitionCancel"),transitionend:Ft("Transition","TransitionEnd")},Pt={},zt={};ri&&(zt=document.createElement("div").style,"AnimationEvent"in window||(delete Lt.animationend.animation,delete Lt.animationiteration.animation,delete Lt.animationstart.animation),"TransitionEvent"in window||delete Lt.transitionend.transition);function Rt(i){if(Pt[i])return Pt[i];if(!Lt[i])return i;var s=Lt[i],f;for(f in s)if(s.hasOwnProperty(f)&&f in zt)return Pt[i]=s[f];return i}var Zt=Rt("animationend"),Gt=Rt("animationiteration"),oe=Rt("animationstart"),ge=Rt("transitionrun"),Ae=Rt("transitionstart"),Le=Rt("transitioncancel"),Se=Rt("transitionend"),Me=new Map,Oe="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oe.push("scrollEnd");function Ee(i,s){Me.set(i,s),Zr(s,[i])}var Pe=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},He=[],qe=0,Ge=0;function di(){for(var i=qe,s=Ge=qe=0;s<i;){var f=He[s];He[s++]=null;var m=He[s];He[s++]=null;var w=He[s];He[s++]=null;var A=He[s];if(He[s++]=null,m!==null&&w!==null){var H=m.pending;H===null?w.next=w:(w.next=H.next,H.next=w),m.pending=w}A!==0&&eo(f,w,A)}}function Ye(i,s,f,m){He[qe++]=i,He[qe++]=s,He[qe++]=f,He[qe++]=m,Ge|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function oi(i,s,f,m){return Ye(i,s,f,m),ti(i)}function kn(i,s){return Ye(i,null,null,s),ti(i)}function eo(i,s,f){i.lanes|=f;var m=i.alternate;m!==null&&(m.lanes|=f);for(var w=!1,A=i.return;A!==null;)A.childLanes|=f,m=A.alternate,m!==null&&(m.childLanes|=f),A.tag===22&&(i=A.stateNode,i===null||i._visibility&1||(w=!0)),i=A,A=A.return;return i.tag===3?(A=i.stateNode,w&&s!==null&&(w=31-ue(f),i=A.hiddenUpdates,m=i[w],m===null?i[w]=[s]:m.push(s),s.lane=f|536870912),A):null}function ti(i){if(50<ac)throw ac=0,Hp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Zi={};function ul(i,s,f,m){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(i,s,f,m){return new ul(i,s,f,m)}function Zl(i){return i=i.prototype,!(!i||!i.isReactComponent)}function go(i,s){var f=i.alternate;return f===null?(f=nr(i.tag,s,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=s,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&65011712,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,s=i.dependencies,f.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f.refCleanup=i.refCleanup,f}function zu(i,s){i.flags&=65011714;var f=i.alternate;return f===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=f.childLanes,i.lanes=f.lanes,i.child=f.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=f.memoizedProps,i.memoizedState=f.memoizedState,i.updateQueue=f.updateQueue,i.type=f.type,s=f.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function cl(i,s,f,m,w,A){var H=0;if(m=i,typeof i=="function")Zl(i)&&(H=1);else if(typeof i=="string")H=tk(i,f,At.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case J:return i=nr(31,f,s,w),i.elementType=J,i.lanes=A,i;case E:return Ds(f.children,w,A,s);case k:H=8,w|=24;break;case C:return i=nr(12,f,s,w|2),i.elementType=C,i.lanes=A,i;case D:return i=nr(13,f,s,w),i.elementType=D,i.lanes=A,i;case B:return i=nr(19,f,s,w),i.elementType=B,i.lanes=A,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case P:H=10;break t;case M:H=9;break t;case z:H=11;break t;case R:H=14;break t;case V:H=16,m=null;break t}H=29,f=Error(r(130,i===null?"null":typeof i,"")),m=null}return s=nr(H,f,s,w),s.elementType=i,s.type=m,s.lanes=A,s}function Ds(i,s,f,m){return i=nr(7,i,m,s),i.lanes=f,i}function Kl(i,s,f){return i=nr(6,i,null,s),i.lanes=f,i}function Bu(i){var s=nr(18,null,null,0);return s.stateNode=i,s}function Iu(i,s,f){return s=nr(4,i.children!==null?i.children:[],i.key,s),s.lanes=f,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var u=new WeakMap;function p(i,s){if(typeof i=="object"&&i!==null){var f=u.get(i);return f!==void 0?f:(s={value:i,source:s,stack:ie(s)},u.set(i,s),s)}return{value:i,source:s,stack:ie(s)}}var v=[],O=0,U=null,$=0,yt=[],qt=0,$t=null,ye=1,De="";function Ue(i,s){v[O++]=$,v[O++]=U,U=i,$=s}function nn(i,s,f){yt[qt++]=ye,yt[qt++]=De,yt[qt++]=$t,$t=i;var m=ye;i=De;var w=32-ue(m)-1;m&=~(1<<w),f+=1;var A=32-ue(s)+w;if(30<A){var H=w-w%5;A=(m&(1<<H)-1).toString(32),m>>=H,w-=H,ye=1<<32-ue(s)+w|f<<w|m,De=A+i}else ye=1<<A|f<<w|m,De=i}function Ni(i){i.return!==null&&(Ue(i,1),nn(i,1,0))}function si(i){for(;i===U;)U=v[--O],v[O]=null,$=v[--O],v[O]=null;for(;i===$t;)$t=yt[--qt],yt[qt]=null,De=yt[--qt],yt[qt]=null,ye=yt[--qt],yt[qt]=null}function br(i,s){yt[qt++]=ye,yt[qt++]=De,yt[qt++]=$t,ye=s.id,De=s.overflow,$t=i}var yn=null,_n=null,on=!1,is=null,Cr=!1,Wl=Error(r(519));function rs(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fl(p(s,i)),Wl}function Uu(i){var s=i.stateNode,f=i.type,m=i.memoizedProps;switch(s[hn]=i,s[Tn]=m,f){case"dialog":an("cancel",s),an("close",s);break;case"iframe":case"object":case"embed":an("load",s);break;case"video":case"audio":for(f=0;f<uc.length;f++)an(uc[f],s);break;case"source":an("error",s);break;case"img":case"image":case"link":an("error",s),an("load",s);break;case"details":an("toggle",s);break;case"input":an("invalid",s),To(s,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":an("invalid",s);break;case"textarea":an("invalid",s),Wr(s,m.value,m.defaultValue,m.children)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||s.textContent===""+f||m.suppressHydrationWarning===!0||p0(s.textContent,f)?(m.popover!=null&&(an("beforetoggle",s),an("toggle",s)),m.onScroll!=null&&an("scroll",s),m.onScrollEnd!=null&&an("scrollend",s),m.onClick!=null&&(s.onclick=Ci),s=!0):s=!1,s||rs(i,!0)}function ei(i){for(yn=i.return;yn;)switch(yn.tag){case 5:case 31:case 13:Cr=!1;return;case 27:case 3:Cr=!0;return;default:yn=yn.return}}function Do(i){if(i!==yn)return!1;if(!on)return ei(i),on=!0,!1;var s=i.tag,f;if((f=s!==3&&s!==27)&&((f=s===5)&&(f=i.type,f=!(f!=="form"&&f!=="button")||im(i.type,i.memoizedProps)),f=!f),f&&_n&&rs(i),ei(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));_n=S0(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));_n=S0(i)}else s===27?(s=_n,Pa(i.type)?(i=lm,lm=null,_n=i):_n=s):_n=yn?_o(i.stateNode.nextSibling):null;return!0}function js(){_n=yn=null,on=!1}function Fu(){var i=is;return i!==null&&(jr===null?jr=i:jr.push.apply(jr,i),is=null),i}function fl(i){is===null?is=[i]:is.push(i)}var hl=Z(null),os=null,jo=null;function xa(i,s,f){at(hl,s._currentValue),s._currentValue=f}function Ps(i){i._currentValue=hl.current,K(hl)}function Hd(i,s,f){for(;i!==null;){var m=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,m!==null&&(m.childLanes|=s)):m!==null&&(m.childLanes&s)!==s&&(m.childLanes|=s),i===f)break;i=i.return}}function qd(i,s,f,m){var w=i.child;for(w!==null&&(w.return=i);w!==null;){var A=w.dependencies;if(A!==null){var H=w.child;A=A.firstContext;t:for(;A!==null;){var Q=A;A=w;for(var St=0;St<s.length;St++)if(Q.context===s[St]){A.lanes|=f,Q=A.alternate,Q!==null&&(Q.lanes|=f),Hd(A.return,f,i),m||(H=null);break t}A=Q.next}}else if(w.tag===18){if(H=w.return,H===null)throw Error(r(341));H.lanes|=f,A=H.alternate,A!==null&&(A.lanes|=f),Hd(H,f,i),H=null}else H=w.child;if(H!==null)H.return=w;else for(H=w;H!==null;){if(H===i){H=null;break}if(w=H.sibling,w!==null){w.return=H.return,H=w;break}H=H.return}w=H}}function Xl(i,s,f,m){i=null;for(var w=s,A=!1;w!==null;){if(!A){if((w.flags&524288)!==0)A=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var H=w.alternate;if(H===null)throw Error(r(387));if(H=H.memoizedProps,H!==null){var Q=w.type;hi(w.pendingProps.value,H.value)||(i!==null?i.push(Q):i=[Q])}}else if(w===_t.current){if(H=w.alternate,H===null)throw Error(r(387));H.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(i!==null?i.push(pc):i=[pc])}w=w.return}i!==null&&qd(s,i,f,m),s.flags|=262144}function gf(i){for(i=i.firstContext;i!==null;){if(!hi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function dl(i){os=i,jo=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ki(i){return J_(os,i)}function yf(i,s){return os===null&&dl(i),J_(i,s)}function J_(i,s){var f=s._currentValue;if(s={context:s,memoizedValue:f,next:null},jo===null){if(i===null)throw Error(r(308));jo=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else jo=jo.next=s;return f}var GT=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(f,m){i.push(m)}};this.abort=function(){s.aborted=!0,i.forEach(function(f){return f()})}},$T=n.unstable_scheduleCallback,QT=n.unstable_NormalPriority,wi={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vd(){return{controller:new GT,data:new Map,refCount:0}}function Hu(i){i.refCount--,i.refCount===0&&$T(QT,function(){i.controller.abort()})}var qu=null,Yd=0,Gl=0,$l=null;function JT(i,s){if(qu===null){var f=qu=[];Yd=0,Gl=Wp(),$l={status:"pending",value:void 0,then:function(m){f.push(m)}}}return Yd++,s.then(tb,tb),s}function tb(){if(--Yd===0&&qu!==null){$l!==null&&($l.status="fulfilled");var i=qu;qu=null,Gl=0,$l=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function tA(i,s){var f=[],m={status:"pending",value:null,reason:null,then:function(w){f.push(w)}};return i.then(function(){m.status="fulfilled",m.value=s;for(var w=0;w<f.length;w++)(0,f[w])(s)},function(w){for(m.status="rejected",m.reason=w,w=0;w<f.length;w++)(0,f[w])(void 0)}),m}var eb=rt.S;rt.S=function(i,s){Bv=Xt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&JT(i,s),eb!==null&&eb(i,s)};var pl=Z(null);function Zd(){var i=pl.current;return i!==null?i:In.pooledCache}function _f(i,s){s===null?at(pl,pl.current):at(pl,s.pool)}function nb(){var i=Zd();return i===null?null:{parent:wi._currentValue,pool:i}}var Ql=Error(r(460)),Kd=Error(r(474)),bf=Error(r(542)),vf={then:function(){}};function ib(i){return i=i.status,i==="fulfilled"||i==="rejected"}function rb(i,s,f){switch(f=i[f],f===void 0?i.push(s):f!==s&&(s.then(Ci,Ci),s=f),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,sb(i),i;default:if(typeof s.status=="string")s.then(Ci,Ci);else{if(i=In,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(m){if(s.status==="pending"){var w=s;w.status="fulfilled",w.value=m}},function(m){if(s.status==="pending"){var w=s;w.status="rejected",w.reason=m}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,sb(i),i}throw gl=s,Ql}}function ml(i){try{var s=i._init;return s(i._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(gl=f,Ql):f}}var gl=null;function ob(){if(gl===null)throw Error(r(459));var i=gl;return gl=null,i}function sb(i){if(i===Ql||i===bf)throw Error(r(483))}var Jl=null,Vu=0;function wf(i){var s=Vu;return Vu+=1,Jl===null&&(Jl=[]),rb(Jl,i,s)}function Yu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function xf(i,s){throw s.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function ab(i){function s(Ht,Dt){if(i){var Kt=Ht.deletions;Kt===null?(Ht.deletions=[Dt],Ht.flags|=16):Kt.push(Dt)}}function f(Ht,Dt){if(!i)return null;for(;Dt!==null;)s(Ht,Dt),Dt=Dt.sibling;return null}function m(Ht){for(var Dt=new Map;Ht!==null;)Ht.key!==null?Dt.set(Ht.key,Ht):Dt.set(Ht.index,Ht),Ht=Ht.sibling;return Dt}function w(Ht,Dt){return Ht=go(Ht,Dt),Ht.index=0,Ht.sibling=null,Ht}function A(Ht,Dt,Kt){return Ht.index=Kt,i?(Kt=Ht.alternate,Kt!==null?(Kt=Kt.index,Kt<Dt?(Ht.flags|=67108866,Dt):Kt):(Ht.flags|=67108866,Dt)):(Ht.flags|=1048576,Dt)}function H(Ht){return i&&Ht.alternate===null&&(Ht.flags|=67108866),Ht}function Q(Ht,Dt,Kt,me){return Dt===null||Dt.tag!==6?(Dt=Kl(Kt,Ht.mode,me),Dt.return=Ht,Dt):(Dt=w(Dt,Kt),Dt.return=Ht,Dt)}function St(Ht,Dt,Kt,me){var Ve=Kt.type;return Ve===E?de(Ht,Dt,Kt.props.children,me,Kt.key):Dt!==null&&(Dt.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===V&&ml(Ve)===Dt.type)?(Dt=w(Dt,Kt.props),Yu(Dt,Kt),Dt.return=Ht,Dt):(Dt=cl(Kt.type,Kt.key,Kt.props,null,Ht.mode,me),Yu(Dt,Kt),Dt.return=Ht,Dt)}function Wt(Ht,Dt,Kt,me){return Dt===null||Dt.tag!==4||Dt.stateNode.containerInfo!==Kt.containerInfo||Dt.stateNode.implementation!==Kt.implementation?(Dt=Iu(Kt,Ht.mode,me),Dt.return=Ht,Dt):(Dt=w(Dt,Kt.children||[]),Dt.return=Ht,Dt)}function de(Ht,Dt,Kt,me,Ve){return Dt===null||Dt.tag!==7?(Dt=Ds(Kt,Ht.mode,me,Ve),Dt.return=Ht,Dt):(Dt=w(Dt,Kt),Dt.return=Ht,Dt)}function _e(Ht,Dt,Kt){if(typeof Dt=="string"&&Dt!==""||typeof Dt=="number"||typeof Dt=="bigint")return Dt=Kl(""+Dt,Ht.mode,Kt),Dt.return=Ht,Dt;if(typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case S:return Kt=cl(Dt.type,Dt.key,Dt.props,null,Ht.mode,Kt),Yu(Kt,Dt),Kt.return=Ht,Kt;case x:return Dt=Iu(Dt,Ht.mode,Kt),Dt.return=Ht,Dt;case V:return Dt=ml(Dt),_e(Ht,Dt,Kt)}if(ut(Dt)||G(Dt))return Dt=Ds(Dt,Ht.mode,Kt,null),Dt.return=Ht,Dt;if(typeof Dt.then=="function")return _e(Ht,wf(Dt),Kt);if(Dt.$$typeof===P)return _e(Ht,yf(Ht,Dt),Kt);xf(Ht,Dt)}return null}function Qt(Ht,Dt,Kt,me){var Ve=Dt!==null?Dt.key:null;if(typeof Kt=="string"&&Kt!==""||typeof Kt=="number"||typeof Kt=="bigint")return Ve!==null?null:Q(Ht,Dt,""+Kt,me);if(typeof Kt=="object"&&Kt!==null){switch(Kt.$$typeof){case S:return Kt.key===Ve?St(Ht,Dt,Kt,me):null;case x:return Kt.key===Ve?Wt(Ht,Dt,Kt,me):null;case V:return Kt=ml(Kt),Qt(Ht,Dt,Kt,me)}if(ut(Kt)||G(Kt))return Ve!==null?null:de(Ht,Dt,Kt,me,null);if(typeof Kt.then=="function")return Qt(Ht,Dt,wf(Kt),me);if(Kt.$$typeof===P)return Qt(Ht,Dt,yf(Ht,Kt),me);xf(Ht,Kt)}return null}function ne(Ht,Dt,Kt,me,Ve){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return Ht=Ht.get(Kt)||null,Q(Dt,Ht,""+me,Ve);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case S:return Ht=Ht.get(me.key===null?Kt:me.key)||null,St(Dt,Ht,me,Ve);case x:return Ht=Ht.get(me.key===null?Kt:me.key)||null,Wt(Dt,Ht,me,Ve);case V:return me=ml(me),ne(Ht,Dt,Kt,me,Ve)}if(ut(me)||G(me))return Ht=Ht.get(Kt)||null,de(Dt,Ht,me,Ve,null);if(typeof me.then=="function")return ne(Ht,Dt,Kt,wf(me),Ve);if(me.$$typeof===P)return ne(Ht,Dt,Kt,yf(Dt,me),Ve);xf(Dt,me)}return null}function Be(Ht,Dt,Kt,me){for(var Ve=null,bn=null,Ie=Dt,rn=Dt=0,fn=null;Ie!==null&&rn<Kt.length;rn++){Ie.index>rn?(fn=Ie,Ie=null):fn=Ie.sibling;var vn=Qt(Ht,Ie,Kt[rn],me);if(vn===null){Ie===null&&(Ie=fn);break}i&&Ie&&vn.alternate===null&&s(Ht,Ie),Dt=A(vn,Dt,rn),bn===null?Ve=vn:bn.sibling=vn,bn=vn,Ie=fn}if(rn===Kt.length)return f(Ht,Ie),on&&Ue(Ht,rn),Ve;if(Ie===null){for(;rn<Kt.length;rn++)Ie=_e(Ht,Kt[rn],me),Ie!==null&&(Dt=A(Ie,Dt,rn),bn===null?Ve=Ie:bn.sibling=Ie,bn=Ie);return on&&Ue(Ht,rn),Ve}for(Ie=m(Ie);rn<Kt.length;rn++)fn=ne(Ie,Ht,rn,Kt[rn],me),fn!==null&&(i&&fn.alternate!==null&&Ie.delete(fn.key===null?rn:fn.key),Dt=A(fn,Dt,rn),bn===null?Ve=fn:bn.sibling=fn,bn=fn);return i&&Ie.forEach(function(Ua){return s(Ht,Ua)}),on&&Ue(Ht,rn),Ve}function We(Ht,Dt,Kt,me){if(Kt==null)throw Error(r(151));for(var Ve=null,bn=null,Ie=Dt,rn=Dt=0,fn=null,vn=Kt.next();Ie!==null&&!vn.done;rn++,vn=Kt.next()){Ie.index>rn?(fn=Ie,Ie=null):fn=Ie.sibling;var Ua=Qt(Ht,Ie,vn.value,me);if(Ua===null){Ie===null&&(Ie=fn);break}i&&Ie&&Ua.alternate===null&&s(Ht,Ie),Dt=A(Ua,Dt,rn),bn===null?Ve=Ua:bn.sibling=Ua,bn=Ua,Ie=fn}if(vn.done)return f(Ht,Ie),on&&Ue(Ht,rn),Ve;if(Ie===null){for(;!vn.done;rn++,vn=Kt.next())vn=_e(Ht,vn.value,me),vn!==null&&(Dt=A(vn,Dt,rn),bn===null?Ve=vn:bn.sibling=vn,bn=vn);return on&&Ue(Ht,rn),Ve}for(Ie=m(Ie);!vn.done;rn++,vn=Kt.next())vn=ne(Ie,Ht,rn,vn.value,me),vn!==null&&(i&&vn.alternate!==null&&Ie.delete(vn.key===null?rn:vn.key),Dt=A(vn,Dt,rn),bn===null?Ve=vn:bn.sibling=vn,bn=vn);return i&&Ie.forEach(function(fk){return s(Ht,fk)}),on&&Ue(Ht,rn),Ve}function Pn(Ht,Dt,Kt,me){if(typeof Kt=="object"&&Kt!==null&&Kt.type===E&&Kt.key===null&&(Kt=Kt.props.children),typeof Kt=="object"&&Kt!==null){switch(Kt.$$typeof){case S:t:{for(var Ve=Kt.key;Dt!==null;){if(Dt.key===Ve){if(Ve=Kt.type,Ve===E){if(Dt.tag===7){f(Ht,Dt.sibling),me=w(Dt,Kt.props.children),me.return=Ht,Ht=me;break t}}else if(Dt.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===V&&ml(Ve)===Dt.type){f(Ht,Dt.sibling),me=w(Dt,Kt.props),Yu(me,Kt),me.return=Ht,Ht=me;break t}f(Ht,Dt);break}else s(Ht,Dt);Dt=Dt.sibling}Kt.type===E?(me=Ds(Kt.props.children,Ht.mode,me,Kt.key),me.return=Ht,Ht=me):(me=cl(Kt.type,Kt.key,Kt.props,null,Ht.mode,me),Yu(me,Kt),me.return=Ht,Ht=me)}return H(Ht);case x:t:{for(Ve=Kt.key;Dt!==null;){if(Dt.key===Ve)if(Dt.tag===4&&Dt.stateNode.containerInfo===Kt.containerInfo&&Dt.stateNode.implementation===Kt.implementation){f(Ht,Dt.sibling),me=w(Dt,Kt.children||[]),me.return=Ht,Ht=me;break t}else{f(Ht,Dt);break}else s(Ht,Dt);Dt=Dt.sibling}me=Iu(Kt,Ht.mode,me),me.return=Ht,Ht=me}return H(Ht);case V:return Kt=ml(Kt),Pn(Ht,Dt,Kt,me)}if(ut(Kt))return Be(Ht,Dt,Kt,me);if(G(Kt)){if(Ve=G(Kt),typeof Ve!="function")throw Error(r(150));return Kt=Ve.call(Kt),We(Ht,Dt,Kt,me)}if(typeof Kt.then=="function")return Pn(Ht,Dt,wf(Kt),me);if(Kt.$$typeof===P)return Pn(Ht,Dt,yf(Ht,Kt),me);xf(Ht,Kt)}return typeof Kt=="string"&&Kt!==""||typeof Kt=="number"||typeof Kt=="bigint"?(Kt=""+Kt,Dt!==null&&Dt.tag===6?(f(Ht,Dt.sibling),me=w(Dt,Kt),me.return=Ht,Ht=me):(f(Ht,Dt),me=Kl(Kt,Ht.mode,me),me.return=Ht,Ht=me),H(Ht)):f(Ht,Dt)}return function(Ht,Dt,Kt,me){try{Vu=0;var Ve=Pn(Ht,Dt,Kt,me);return Jl=null,Ve}catch(Ie){if(Ie===Ql||Ie===bf)throw Ie;var bn=nr(29,Ie,null,Ht.mode);return bn.lanes=me,bn.return=Ht,bn}finally{}}}var yl=ab(!0),lb=ab(!1),Sa=!1;function Wd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xd(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ea(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ta(i,s,f){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(Sn&2)!==0){var w=m.pending;return w===null?s.next=s:(s.next=w.next,w.next=s),m.pending=s,s=ti(i),eo(i,null,f),s}return Ye(i,m,s,f),ti(i)}function Zu(i,s,f){if(s=s.updateQueue,s!==null&&(s=s.shared,(f&4194048)!==0)){var m=s.lanes;m&=i.pendingLanes,f|=m,s.lanes=f,be(i,f)}}function Gd(i,s){var f=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var w=null,A=null;if(f=f.firstBaseUpdate,f!==null){do{var H={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};A===null?w=A=H:A=A.next=H,f=f.next}while(f!==null);A===null?w=A=s:A=A.next=s}else w=A=s;f={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:A,shared:m.shared,callbacks:m.callbacks},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=s:i.next=s,f.lastBaseUpdate=s}var $d=!1;function Ku(){if($d){var i=$l;if(i!==null)throw i}}function Wu(i,s,f,m){$d=!1;var w=i.updateQueue;Sa=!1;var A=w.firstBaseUpdate,H=w.lastBaseUpdate,Q=w.shared.pending;if(Q!==null){w.shared.pending=null;var St=Q,Wt=St.next;St.next=null,H===null?A=Wt:H.next=Wt,H=St;var de=i.alternate;de!==null&&(de=de.updateQueue,Q=de.lastBaseUpdate,Q!==H&&(Q===null?de.firstBaseUpdate=Wt:Q.next=Wt,de.lastBaseUpdate=St))}if(A!==null){var _e=w.baseState;H=0,de=Wt=St=null,Q=A;do{var Qt=Q.lane&-536870913,ne=Qt!==Q.lane;if(ne?(cn&Qt)===Qt:(m&Qt)===Qt){Qt!==0&&Qt===Gl&&($d=!0),de!==null&&(de=de.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});t:{var Be=i,We=Q;Qt=s;var Pn=f;switch(We.tag){case 1:if(Be=We.payload,typeof Be=="function"){_e=Be.call(Pn,_e,Qt);break t}_e=Be;break t;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=We.payload,Qt=typeof Be=="function"?Be.call(Pn,_e,Qt):Be,Qt==null)break t;_e=y({},_e,Qt);break t;case 2:Sa=!0}}Qt=Q.callback,Qt!==null&&(i.flags|=64,ne&&(i.flags|=8192),ne=w.callbacks,ne===null?w.callbacks=[Qt]:ne.push(Qt))}else ne={lane:Qt,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},de===null?(Wt=de=ne,St=_e):de=de.next=ne,H|=Qt;if(Q=Q.next,Q===null){if(Q=w.shared.pending,Q===null)break;ne=Q,Q=ne.next,ne.next=null,w.lastBaseUpdate=ne,w.shared.pending=null}}while(!0);de===null&&(St=_e),w.baseState=St,w.firstBaseUpdate=Wt,w.lastBaseUpdate=de,A===null&&(w.shared.lanes=0),Ca|=H,i.lanes=H,i.memoizedState=_e}}function ub(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function cb(i,s){var f=i.callbacks;if(f!==null)for(i.callbacks=null,i=0;i<f.length;i++)ub(f[i],s)}var tu=Z(null),Sf=Z(0);function fb(i,s){i=Vs,at(Sf,i),at(tu,s),Vs=i|s.baseLanes}function Qd(){at(Sf,Vs),at(tu,tu.current)}function Jd(){Vs=Sf.current,K(tu),K(Sf)}var no=Z(null),yo=null;function Aa(i){var s=i.alternate;at(pi,pi.current&1),at(no,i),yo===null&&(s===null||tu.current!==null||s.memoizedState!==null)&&(yo=i)}function tp(i){at(pi,pi.current),at(no,i),yo===null&&(yo=i)}function hb(i){i.tag===22?(at(pi,pi.current),at(no,i),yo===null&&(yo=i)):ka()}function ka(){at(pi,pi.current),at(no,no.current)}function io(i){K(no),yo===i&&(yo=null),K(pi)}var pi=Z(0);function Ef(i){for(var s=i;s!==null;){if(s.tag===13){var f=s.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||sm(f)||am(f)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Rs=0,Qe=null,Dn=null,xi=null,Tf=!1,eu=!1,_l=!1,Af=0,Xu=0,nu=null,eA=0;function ai(){throw Error(r(321))}function ep(i,s){if(s===null)return!1;for(var f=0;f<s.length&&f<i.length;f++)if(!hi(i[f],s[f]))return!1;return!0}function np(i,s,f,m,w,A){return Rs=A,Qe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,rt.H=i===null||i.memoizedState===null?Xb:yp,_l=!1,A=f(m,w),_l=!1,eu&&(A=pb(s,f,m,w)),db(i),A}function db(i){rt.H=Qu;var s=Dn!==null&&Dn.next!==null;if(Rs=0,xi=Dn=Qe=null,Tf=!1,Xu=0,nu=null,s)throw Error(r(300));i===null||Si||(i=i.dependencies,i!==null&&gf(i)&&(Si=!0))}function pb(i,s,f,m){Qe=i;var w=0;do{if(eu&&(nu=null),Xu=0,eu=!1,25<=w)throw Error(r(301));if(w+=1,xi=Dn=null,i.updateQueue!=null){var A=i.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}rt.H=Gb,A=s(f,m)}while(eu);return A}function nA(){var i=rt.H,s=i.useState()[0];return s=typeof s.then=="function"?Gu(s):s,i=i.useState()[0],(Dn!==null?Dn.memoizedState:null)!==i&&(Qe.flags|=1024),s}function ip(){var i=Af!==0;return Af=0,i}function rp(i,s,f){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~f}function op(i){if(Tf){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Tf=!1}Rs=0,xi=Dn=Qe=null,eu=!1,Xu=Af=0,nu=null}function vr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xi===null?Qe.memoizedState=xi=i:xi=xi.next=i,xi}function mi(){if(Dn===null){var i=Qe.alternate;i=i!==null?i.memoizedState:null}else i=Dn.next;var s=xi===null?Qe.memoizedState:xi.next;if(s!==null)xi=s,Dn=i;else{if(i===null)throw Qe.alternate===null?Error(r(467)):Error(r(310));Dn=i,i={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},xi===null?Qe.memoizedState=xi=i:xi=xi.next=i}return xi}function kf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gu(i){var s=Xu;return Xu+=1,nu===null&&(nu=[]),i=rb(nu,i,s),s=Qe,(xi===null?s.memoizedState:xi.next)===null&&(s=s.alternate,rt.H=s===null||s.memoizedState===null?Xb:yp),i}function Mf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Gu(i);if(i.$$typeof===P)return Ki(i)}throw Error(r(438,String(i)))}function sp(i){var s=null,f=Qe.updateQueue;if(f!==null&&(s=f.memoCache),s==null){var m=Qe.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(s={data:m.data.map(function(w){return w.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),f===null&&(f=kf(),Qe.updateQueue=f),f.memoCache=s,f=s.data[s.index],f===void 0)for(f=s.data[s.index]=Array(i),m=0;m<i;m++)f[m]=tt;return s.index++,f}function zs(i,s){return typeof s=="function"?s(i):s}function Of(i){var s=mi();return ap(s,Dn,i)}function ap(i,s,f){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=f;var w=i.baseQueue,A=m.pending;if(A!==null){if(w!==null){var H=w.next;w.next=A.next,A.next=H}s.baseQueue=w=A,m.pending=null}if(A=i.baseState,w===null)i.memoizedState=A;else{s=w.next;var Q=H=null,St=null,Wt=s,de=!1;do{var _e=Wt.lane&-536870913;if(_e!==Wt.lane?(cn&_e)===_e:(Rs&_e)===_e){var Qt=Wt.revertLane;if(Qt===0)St!==null&&(St=St.next={lane:0,revertLane:0,gesture:null,action:Wt.action,hasEagerState:Wt.hasEagerState,eagerState:Wt.eagerState,next:null}),_e===Gl&&(de=!0);else if((Rs&Qt)===Qt){Wt=Wt.next,Qt===Gl&&(de=!0);continue}else _e={lane:0,revertLane:Wt.revertLane,gesture:null,action:Wt.action,hasEagerState:Wt.hasEagerState,eagerState:Wt.eagerState,next:null},St===null?(Q=St=_e,H=A):St=St.next=_e,Qe.lanes|=Qt,Ca|=Qt;_e=Wt.action,_l&&f(A,_e),A=Wt.hasEagerState?Wt.eagerState:f(A,_e)}else Qt={lane:_e,revertLane:Wt.revertLane,gesture:Wt.gesture,action:Wt.action,hasEagerState:Wt.hasEagerState,eagerState:Wt.eagerState,next:null},St===null?(Q=St=Qt,H=A):St=St.next=Qt,Qe.lanes|=_e,Ca|=_e;Wt=Wt.next}while(Wt!==null&&Wt!==s);if(St===null?H=A:St.next=Q,!hi(A,i.memoizedState)&&(Si=!0,de&&(f=$l,f!==null)))throw f;i.memoizedState=A,i.baseState=H,i.baseQueue=St,m.lastRenderedState=A}return w===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function lp(i){var s=mi(),f=s.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=i;var m=f.dispatch,w=f.pending,A=s.memoizedState;if(w!==null){f.pending=null;var H=w=w.next;do A=i(A,H.action),H=H.next;while(H!==w);hi(A,s.memoizedState)||(Si=!0),s.memoizedState=A,s.baseQueue===null&&(s.baseState=A),f.lastRenderedState=A}return[A,m]}function mb(i,s,f){var m=Qe,w=mi(),A=on;if(A){if(f===void 0)throw Error(r(407));f=f()}else f=s();var H=!hi((Dn||w).memoizedState,f);if(H&&(w.memoizedState=f,Si=!0),w=w.queue,fp(_b.bind(null,m,w,i),[i]),w.getSnapshot!==s||H||xi!==null&&xi.memoizedState.tag&1){if(m.flags|=2048,iu(9,{destroy:void 0},yb.bind(null,m,w,f,s),null),In===null)throw Error(r(349));A||(Rs&127)!==0||gb(m,s,f)}return f}function gb(i,s,f){i.flags|=16384,i={getSnapshot:s,value:f},s=Qe.updateQueue,s===null?(s=kf(),Qe.updateQueue=s,s.stores=[i]):(f=s.stores,f===null?s.stores=[i]:f.push(i))}function yb(i,s,f,m){s.value=f,s.getSnapshot=m,bb(s)&&vb(i)}function _b(i,s,f){return f(function(){bb(s)&&vb(i)})}function bb(i){var s=i.getSnapshot;i=i.value;try{var f=s();return!hi(i,f)}catch{return!0}}function vb(i){var s=kn(i,2);s!==null&&Pr(s,i,2)}function up(i){var s=vr();if(typeof i=="function"){var f=i;if(i=f(),_l){je(!0);try{f()}finally{je(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:i},s}function wb(i,s,f,m){return i.baseState=f,ap(i,Dn,typeof m=="function"?m:zs)}function iA(i,s,f,m,w){if(Nf(i))throw Error(r(485));if(i=s.action,i!==null){var A={payload:w,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){A.listeners.push(H)}};rt.T!==null?f(!0):A.isTransition=!1,m(A),f=s.pending,f===null?(A.next=s.pending=A,xb(s,A)):(A.next=f.next,s.pending=f.next=A)}}function xb(i,s){var f=s.action,m=s.payload,w=i.state;if(s.isTransition){var A=rt.T,H={};rt.T=H;try{var Q=f(w,m),St=rt.S;St!==null&&St(H,Q),Sb(i,s,Q)}catch(Wt){cp(i,s,Wt)}finally{A!==null&&H.types!==null&&(A.types=H.types),rt.T=A}}else try{A=f(w,m),Sb(i,s,A)}catch(Wt){cp(i,s,Wt)}}function Sb(i,s,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){Eb(i,s,m)},function(m){return cp(i,s,m)}):Eb(i,s,f)}function Eb(i,s,f){s.status="fulfilled",s.value=f,Tb(s),i.state=f,s=i.pending,s!==null&&(f=s.next,f===s?i.pending=null:(f=f.next,s.next=f,xb(i,f)))}function cp(i,s,f){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do s.status="rejected",s.reason=f,Tb(s),s=s.next;while(s!==m)}i.action=null}function Tb(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Ab(i,s){return s}function kb(i,s){if(on){var f=In.formState;if(f!==null){t:{var m=Qe;if(on){if(_n){e:{for(var w=_n,A=Cr;w.nodeType!==8;){if(!A){w=null;break e}if(w=_o(w.nextSibling),w===null){w=null;break e}}A=w.data,w=A==="F!"||A==="F"?w:null}if(w){_n=_o(w.nextSibling),m=w.data==="F!";break t}}rs(m)}m=!1}m&&(s=f[0])}}return f=vr(),f.memoizedState=f.baseState=s,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ab,lastRenderedState:s},f.queue=m,f=Zb.bind(null,Qe,m),m.dispatch=f,m=up(!1),A=gp.bind(null,Qe,!1,m.queue),m=vr(),w={state:s,dispatch:null,action:i,pending:null},m.queue=w,f=iA.bind(null,Qe,w,A,f),w.dispatch=f,m.memoizedState=i,[s,f,!1]}function Mb(i){var s=mi();return Ob(s,Dn,i)}function Ob(i,s,f){if(s=ap(i,s,Ab)[0],i=Of(zs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var m=Gu(s)}catch(H){throw H===Ql?bf:H}else m=s;s=mi();var w=s.queue,A=w.dispatch;return f!==s.memoizedState&&(Qe.flags|=2048,iu(9,{destroy:void 0},rA.bind(null,w,f),null)),[m,A,i]}function rA(i,s){i.action=s}function Cb(i){var s=mi(),f=Dn;if(f!==null)return Ob(s,f,i);mi(),s=s.memoizedState,f=mi();var m=f.queue.dispatch;return f.memoizedState=i,[s,m,!1]}function iu(i,s,f,m){return i={tag:i,create:f,deps:m,inst:s,next:null},s=Qe.updateQueue,s===null&&(s=kf(),Qe.updateQueue=s),f=s.lastEffect,f===null?s.lastEffect=i.next=i:(m=f.next,f.next=i,i.next=m,s.lastEffect=i),i}function Lb(){return mi().memoizedState}function Cf(i,s,f,m){var w=vr();Qe.flags|=i,w.memoizedState=iu(1|s,{destroy:void 0},f,m===void 0?null:m)}function Lf(i,s,f,m){var w=mi();m=m===void 0?null:m;var A=w.memoizedState.inst;Dn!==null&&m!==null&&ep(m,Dn.memoizedState.deps)?w.memoizedState=iu(s,A,f,m):(Qe.flags|=i,w.memoizedState=iu(1|s,A,f,m))}function Nb(i,s){Cf(8390656,8,i,s)}function fp(i,s){Lf(2048,8,i,s)}function oA(i){Qe.flags|=4;var s=Qe.updateQueue;if(s===null)s=kf(),Qe.updateQueue=s,s.events=[i];else{var f=s.events;f===null?s.events=[i]:f.push(i)}}function Db(i){var s=mi().memoizedState;return oA({ref:s,nextImpl:i}),function(){if((Sn&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function jb(i,s){return Lf(4,2,i,s)}function Pb(i,s){return Lf(4,4,i,s)}function Rb(i,s){if(typeof s=="function"){i=i();var f=s(i);return function(){typeof f=="function"?f():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function zb(i,s,f){f=f!=null?f.concat([i]):null,Lf(4,4,Rb.bind(null,s,i),f)}function hp(){}function Bb(i,s){var f=mi();s=s===void 0?null:s;var m=f.memoizedState;return s!==null&&ep(s,m[1])?m[0]:(f.memoizedState=[i,s],i)}function Ib(i,s){var f=mi();s=s===void 0?null:s;var m=f.memoizedState;if(s!==null&&ep(s,m[1]))return m[0];if(m=i(),_l){je(!0);try{i()}finally{je(!1)}}return f.memoizedState=[m,s],m}function dp(i,s,f){return f===void 0||(Rs&1073741824)!==0&&(cn&261930)===0?i.memoizedState=s:(i.memoizedState=f,i=Uv(),Qe.lanes|=i,Ca|=i,f)}function Ub(i,s,f,m){return hi(f,s)?f:tu.current!==null?(i=dp(i,f,m),hi(i,s)||(Si=!0),i):(Rs&42)===0||(Rs&1073741824)!==0&&(cn&261930)===0?(Si=!0,i.memoizedState=f):(i=Uv(),Qe.lanes|=i,Ca|=i,s)}function Fb(i,s,f,m,w){var A=lt.p;lt.p=A!==0&&8>A?A:8;var H=rt.T,Q={};rt.T=Q,gp(i,!1,s,f);try{var St=w(),Wt=rt.S;if(Wt!==null&&Wt(Q,St),St!==null&&typeof St=="object"&&typeof St.then=="function"){var de=tA(St,m);$u(i,s,de,so(i))}else $u(i,s,m,so(i))}catch(_e){$u(i,s,{then:function(){},status:"rejected",reason:_e},so())}finally{lt.p=A,H!==null&&Q.types!==null&&(H.types=Q.types),rt.T=H}}function sA(){}function pp(i,s,f,m){if(i.tag!==5)throw Error(r(476));var w=Hb(i).queue;Fb(i,w,s,et,f===null?sA:function(){return qb(i),f(m)})}function Hb(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:et},next:null};var f={};return s.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:f},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function qb(i){var s=Hb(i);s.next===null&&(s=i.alternate.memoizedState),$u(i,s.next.queue,{},so())}function mp(){return Ki(pc)}function Vb(){return mi().memoizedState}function Yb(){return mi().memoizedState}function aA(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var f=so();i=Ea(f);var m=Ta(s,i,f);m!==null&&(Pr(m,s,f),Zu(m,s,f)),s={cache:Vd()},i.payload=s;return}s=s.return}}function lA(i,s,f){var m=so();f={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Nf(i)?Kb(s,f):(f=oi(i,s,f,m),f!==null&&(Pr(f,i,m),Wb(f,s,m)))}function Zb(i,s,f){var m=so();$u(i,s,f,m)}function $u(i,s,f,m){var w={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Nf(i))Kb(s,w);else{var A=i.alternate;if(i.lanes===0&&(A===null||A.lanes===0)&&(A=s.lastRenderedReducer,A!==null))try{var H=s.lastRenderedState,Q=A(H,f);if(w.hasEagerState=!0,w.eagerState=Q,hi(Q,H))return Ye(i,s,w,0),In===null&&di(),!1}catch{}finally{}if(f=oi(i,s,w,m),f!==null)return Pr(f,i,m),Wb(f,s,m),!0}return!1}function gp(i,s,f,m){if(m={lane:2,revertLane:Wp(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Nf(i)){if(s)throw Error(r(479))}else s=oi(i,f,m,2),s!==null&&Pr(s,i,2)}function Nf(i){var s=i.alternate;return i===Qe||s!==null&&s===Qe}function Kb(i,s){eu=Tf=!0;var f=i.pending;f===null?s.next=s:(s.next=f.next,f.next=s),i.pending=s}function Wb(i,s,f){if((f&4194048)!==0){var m=s.lanes;m&=i.pendingLanes,f|=m,s.lanes=f,be(i,f)}}var Qu={readContext:Ki,use:Mf,useCallback:ai,useContext:ai,useEffect:ai,useImperativeHandle:ai,useLayoutEffect:ai,useInsertionEffect:ai,useMemo:ai,useReducer:ai,useRef:ai,useState:ai,useDebugValue:ai,useDeferredValue:ai,useTransition:ai,useSyncExternalStore:ai,useId:ai,useHostTransitionStatus:ai,useFormState:ai,useActionState:ai,useOptimistic:ai,useMemoCache:ai,useCacheRefresh:ai};Qu.useEffectEvent=ai;var Xb={readContext:Ki,use:Mf,useCallback:function(i,s){return vr().memoizedState=[i,s===void 0?null:s],i},useContext:Ki,useEffect:Nb,useImperativeHandle:function(i,s,f){f=f!=null?f.concat([i]):null,Cf(4194308,4,Rb.bind(null,s,i),f)},useLayoutEffect:function(i,s){return Cf(4194308,4,i,s)},useInsertionEffect:function(i,s){Cf(4,2,i,s)},useMemo:function(i,s){var f=vr();s=s===void 0?null:s;var m=i();if(_l){je(!0);try{i()}finally{je(!1)}}return f.memoizedState=[m,s],m},useReducer:function(i,s,f){var m=vr();if(f!==void 0){var w=f(s);if(_l){je(!0);try{f(s)}finally{je(!1)}}}else w=s;return m.memoizedState=m.baseState=w,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:w},m.queue=i,i=i.dispatch=lA.bind(null,Qe,i),[m.memoizedState,i]},useRef:function(i){var s=vr();return i={current:i},s.memoizedState=i},useState:function(i){i=up(i);var s=i.queue,f=Zb.bind(null,Qe,s);return s.dispatch=f,[i.memoizedState,f]},useDebugValue:hp,useDeferredValue:function(i,s){var f=vr();return dp(f,i,s)},useTransition:function(){var i=up(!1);return i=Fb.bind(null,Qe,i.queue,!0,!1),vr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,f){var m=Qe,w=vr();if(on){if(f===void 0)throw Error(r(407));f=f()}else{if(f=s(),In===null)throw Error(r(349));(cn&127)!==0||gb(m,s,f)}w.memoizedState=f;var A={value:f,getSnapshot:s};return w.queue=A,Nb(_b.bind(null,m,A,i),[i]),m.flags|=2048,iu(9,{destroy:void 0},yb.bind(null,m,A,f,s),null),f},useId:function(){var i=vr(),s=In.identifierPrefix;if(on){var f=De,m=ye;f=(m&~(1<<32-ue(m)-1)).toString(32)+f,s="_"+s+"R_"+f,f=Af++,0<f&&(s+="H"+f.toString(32)),s+="_"}else f=eA++,s="_"+s+"r_"+f.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:mp,useFormState:kb,useActionState:kb,useOptimistic:function(i){var s=vr();s.memoizedState=s.baseState=i;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=f,s=gp.bind(null,Qe,!0,f),f.dispatch=s,[i,s]},useMemoCache:sp,useCacheRefresh:function(){return vr().memoizedState=aA.bind(null,Qe)},useEffectEvent:function(i){var s=vr(),f={impl:i};return s.memoizedState=f,function(){if((Sn&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},yp={readContext:Ki,use:Mf,useCallback:Bb,useContext:Ki,useEffect:fp,useImperativeHandle:zb,useInsertionEffect:jb,useLayoutEffect:Pb,useMemo:Ib,useReducer:Of,useRef:Lb,useState:function(){return Of(zs)},useDebugValue:hp,useDeferredValue:function(i,s){var f=mi();return Ub(f,Dn.memoizedState,i,s)},useTransition:function(){var i=Of(zs)[0],s=mi().memoizedState;return[typeof i=="boolean"?i:Gu(i),s]},useSyncExternalStore:mb,useId:Vb,useHostTransitionStatus:mp,useFormState:Mb,useActionState:Mb,useOptimistic:function(i,s){var f=mi();return wb(f,Dn,i,s)},useMemoCache:sp,useCacheRefresh:Yb};yp.useEffectEvent=Db;var Gb={readContext:Ki,use:Mf,useCallback:Bb,useContext:Ki,useEffect:fp,useImperativeHandle:zb,useInsertionEffect:jb,useLayoutEffect:Pb,useMemo:Ib,useReducer:lp,useRef:Lb,useState:function(){return lp(zs)},useDebugValue:hp,useDeferredValue:function(i,s){var f=mi();return Dn===null?dp(f,i,s):Ub(f,Dn.memoizedState,i,s)},useTransition:function(){var i=lp(zs)[0],s=mi().memoizedState;return[typeof i=="boolean"?i:Gu(i),s]},useSyncExternalStore:mb,useId:Vb,useHostTransitionStatus:mp,useFormState:Cb,useActionState:Cb,useOptimistic:function(i,s){var f=mi();return Dn!==null?wb(f,Dn,i,s):(f.baseState=i,[i,f.queue.dispatch])},useMemoCache:sp,useCacheRefresh:Yb};Gb.useEffectEvent=Db;function _p(i,s,f,m){s=i.memoizedState,f=f(m,s),f=f==null?s:y({},s,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var bp={enqueueSetState:function(i,s,f){i=i._reactInternals;var m=so(),w=Ea(m);w.payload=s,f!=null&&(w.callback=f),s=Ta(i,w,m),s!==null&&(Pr(s,i,m),Zu(s,i,m))},enqueueReplaceState:function(i,s,f){i=i._reactInternals;var m=so(),w=Ea(m);w.tag=1,w.payload=s,f!=null&&(w.callback=f),s=Ta(i,w,m),s!==null&&(Pr(s,i,m),Zu(s,i,m))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var f=so(),m=Ea(f);m.tag=2,s!=null&&(m.callback=s),s=Ta(i,m,f),s!==null&&(Pr(s,i,f),Zu(s,i,f))}};function $b(i,s,f,m,w,A,H){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,A,H):s.prototype&&s.prototype.isPureReactComponent?!_(f,m)||!_(w,A):!0}function Qb(i,s,f,m){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(f,m),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(f,m),s.state!==i&&bp.enqueueReplaceState(s,s.state,null)}function bl(i,s){var f=s;if("ref"in s){f={};for(var m in s)m!=="ref"&&(f[m]=s[m])}if(i=i.defaultProps){f===s&&(f=y({},f));for(var w in i)f[w]===void 0&&(f[w]=i[w])}return f}function Jb(i){Pe(i)}function tv(i){console.error(i)}function ev(i){Pe(i)}function Df(i,s){try{var f=i.onUncaughtError;f(s.value,{componentStack:s.stack})}catch(m){setTimeout(function(){throw m})}}function nv(i,s,f){try{var m=i.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function vp(i,s,f){return f=Ea(f),f.tag=3,f.payload={element:null},f.callback=function(){Df(i,s)},f}function iv(i){return i=Ea(i),i.tag=3,i}function rv(i,s,f,m){var w=f.type.getDerivedStateFromError;if(typeof w=="function"){var A=m.value;i.payload=function(){return w(A)},i.callback=function(){nv(s,f,m)}}var H=f.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(i.callback=function(){nv(s,f,m),typeof w!="function"&&(La===null?La=new Set([this]):La.add(this));var Q=m.stack;this.componentDidCatch(m.value,{componentStack:Q!==null?Q:""})})}function uA(i,s,f,m,w){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(s=f.alternate,s!==null&&Xl(s,f,w,!0),f=no.current,f!==null){switch(f.tag){case 31:case 13:return yo===null?Yf():f.alternate===null&&li===0&&(li=3),f.flags&=-257,f.flags|=65536,f.lanes=w,m===vf?f.flags|=16384:(s=f.updateQueue,s===null?f.updateQueue=new Set([m]):s.add(m),Yp(i,m,w)),!1;case 22:return f.flags|=65536,m===vf?f.flags|=16384:(s=f.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=s):(f=s.retryQueue,f===null?s.retryQueue=new Set([m]):f.add(m)),Yp(i,m,w)),!1}throw Error(r(435,f.tag))}return Yp(i,m,w),Yf(),!1}if(on)return s=no.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=w,m!==Wl&&(i=Error(r(422),{cause:m}),fl(p(i,f)))):(m!==Wl&&(s=Error(r(423),{cause:m}),fl(p(s,f))),i=i.current.alternate,i.flags|=65536,w&=-w,i.lanes|=w,m=p(m,f),w=vp(i.stateNode,m,w),Gd(i,w),li!==4&&(li=2)),!1;var A=Error(r(520),{cause:m});if(A=p(A,f),sc===null?sc=[A]:sc.push(A),li!==4&&(li=2),s===null)return!0;m=p(m,f),f=s;do{switch(f.tag){case 3:return f.flags|=65536,i=w&-w,f.lanes|=i,i=vp(f.stateNode,m,i),Gd(f,i),!1;case 1:if(s=f.type,A=f.stateNode,(f.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(La===null||!La.has(A))))return f.flags|=65536,w&=-w,f.lanes|=w,w=iv(w),rv(w,i,f,m),Gd(f,w),!1}f=f.return}while(f!==null);return!1}var wp=Error(r(461)),Si=!1;function Wi(i,s,f,m){s.child=i===null?lb(s,null,f,m):yl(s,i.child,f,m)}function ov(i,s,f,m,w){f=f.render;var A=s.ref;if("ref"in m){var H={};for(var Q in m)Q!=="ref"&&(H[Q]=m[Q])}else H=m;return dl(s),m=np(i,s,f,H,A,w),Q=ip(),i!==null&&!Si?(rp(i,s,w),Bs(i,s,w)):(on&&Q&&Ni(s),s.flags|=1,Wi(i,s,m,w),s.child)}function sv(i,s,f,m,w){if(i===null){var A=f.type;return typeof A=="function"&&!Zl(A)&&A.defaultProps===void 0&&f.compare===null?(s.tag=15,s.type=A,av(i,s,A,m,w)):(i=cl(f.type,null,m,s,s.mode,w),i.ref=s.ref,i.return=s,s.child=i)}if(A=i.child,!Op(i,w)){var H=A.memoizedProps;if(f=f.compare,f=f!==null?f:_,f(H,m)&&i.ref===s.ref)return Bs(i,s,w)}return s.flags|=1,i=go(A,m),i.ref=s.ref,i.return=s,s.child=i}function av(i,s,f,m,w){if(i!==null){var A=i.memoizedProps;if(_(A,m)&&i.ref===s.ref)if(Si=!1,s.pendingProps=m=A,Op(i,w))(i.flags&131072)!==0&&(Si=!0);else return s.lanes=i.lanes,Bs(i,s,w)}return xp(i,s,f,m,w)}function lv(i,s,f,m){var w=m.children,A=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((s.flags&128)!==0){if(A=A!==null?A.baseLanes|f:f,i!==null){for(m=s.child=i.child,w=0;m!==null;)w=w|m.lanes|m.childLanes,m=m.sibling;m=w&~A}else m=0,s.child=null;return uv(i,s,A,f,m)}if((f&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&_f(s,A!==null?A.cachePool:null),A!==null?fb(s,A):Qd(),hb(s);else return m=s.lanes=536870912,uv(i,s,A!==null?A.baseLanes|f:f,f,m)}else A!==null?(_f(s,A.cachePool),fb(s,A),ka(),s.memoizedState=null):(i!==null&&_f(s,null),Qd(),ka());return Wi(i,s,w,f),s.child}function Ju(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function uv(i,s,f,m,w){var A=Zd();return A=A===null?null:{parent:wi._currentValue,pool:A},s.memoizedState={baseLanes:f,cachePool:A},i!==null&&_f(s,null),Qd(),hb(s),i!==null&&Xl(i,s,m,!0),s.childLanes=w,null}function jf(i,s){return s=Rf({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function cv(i,s,f){return yl(s,i.child,null,f),i=jf(s,s.pendingProps),i.flags|=2,io(s),s.memoizedState=null,i}function cA(i,s,f){var m=s.pendingProps,w=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(on){if(m.mode==="hidden")return i=jf(s,m),s.lanes=536870912,Ju(null,i);if(tp(s),(i=_n)?(i=x0(i,Cr),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:$t!==null?{id:ye,overflow:De}:null,retryLane:536870912,hydrationErrors:null},f=Bu(i),f.return=s,s.child=f,yn=s,_n=null)):i=null,i===null)throw rs(s);return s.lanes=536870912,null}return jf(s,m)}var A=i.memoizedState;if(A!==null){var H=A.dehydrated;if(tp(s),w)if(s.flags&256)s.flags&=-257,s=cv(i,s,f);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Si||Xl(i,s,f,!1),w=(f&i.childLanes)!==0,Si||w){if(m=In,m!==null&&(H=ke(m,f),H!==0&&H!==A.retryLane))throw A.retryLane=H,kn(i,H),Pr(m,i,H),wp;Yf(),s=cv(i,s,f)}else i=A.treeContext,_n=_o(H.nextSibling),yn=s,on=!0,is=null,Cr=!1,i!==null&&br(s,i),s=jf(s,m),s.flags|=4096;return s}return i=go(i.child,{mode:m.mode,children:m.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Pf(i,s){var f=s.ref;if(f===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(i===null||i.ref!==f)&&(s.flags|=4194816)}}function xp(i,s,f,m,w){return dl(s),f=np(i,s,f,m,void 0,w),m=ip(),i!==null&&!Si?(rp(i,s,w),Bs(i,s,w)):(on&&m&&Ni(s),s.flags|=1,Wi(i,s,f,w),s.child)}function fv(i,s,f,m,w,A){return dl(s),s.updateQueue=null,f=pb(s,m,f,w),db(i),m=ip(),i!==null&&!Si?(rp(i,s,A),Bs(i,s,A)):(on&&m&&Ni(s),s.flags|=1,Wi(i,s,f,A),s.child)}function hv(i,s,f,m,w){if(dl(s),s.stateNode===null){var A=Zi,H=f.contextType;typeof H=="object"&&H!==null&&(A=Ki(H)),A=new f(m,A),s.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=bp,s.stateNode=A,A._reactInternals=s,A=s.stateNode,A.props=m,A.state=s.memoizedState,A.refs={},Wd(s),H=f.contextType,A.context=typeof H=="object"&&H!==null?Ki(H):Zi,A.state=s.memoizedState,H=f.getDerivedStateFromProps,typeof H=="function"&&(_p(s,f,H,m),A.state=s.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(H=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),H!==A.state&&bp.enqueueReplaceState(A,A.state,null),Wu(s,m,A,w),Ku(),A.state=s.memoizedState),typeof A.componentDidMount=="function"&&(s.flags|=4194308),m=!0}else if(i===null){A=s.stateNode;var Q=s.memoizedProps,St=bl(f,Q);A.props=St;var Wt=A.context,de=f.contextType;H=Zi,typeof de=="object"&&de!==null&&(H=Ki(de));var _e=f.getDerivedStateFromProps;de=typeof _e=="function"||typeof A.getSnapshotBeforeUpdate=="function",Q=s.pendingProps!==Q,de||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(Q||Wt!==H)&&Qb(s,A,m,H),Sa=!1;var Qt=s.memoizedState;A.state=Qt,Wu(s,m,A,w),Ku(),Wt=s.memoizedState,Q||Qt!==Wt||Sa?(typeof _e=="function"&&(_p(s,f,_e,m),Wt=s.memoizedState),(St=Sa||$b(s,f,St,m,Qt,Wt,H))?(de||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(s.flags|=4194308)):(typeof A.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=m,s.memoizedState=Wt),A.props=m,A.state=Wt,A.context=H,m=St):(typeof A.componentDidMount=="function"&&(s.flags|=4194308),m=!1)}else{A=s.stateNode,Xd(i,s),H=s.memoizedProps,de=bl(f,H),A.props=de,_e=s.pendingProps,Qt=A.context,Wt=f.contextType,St=Zi,typeof Wt=="object"&&Wt!==null&&(St=Ki(Wt)),Q=f.getDerivedStateFromProps,(Wt=typeof Q=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(H!==_e||Qt!==St)&&Qb(s,A,m,St),Sa=!1,Qt=s.memoizedState,A.state=Qt,Wu(s,m,A,w),Ku();var ne=s.memoizedState;H!==_e||Qt!==ne||Sa||i!==null&&i.dependencies!==null&&gf(i.dependencies)?(typeof Q=="function"&&(_p(s,f,Q,m),ne=s.memoizedState),(de=Sa||$b(s,f,de,m,Qt,ne,St)||i!==null&&i.dependencies!==null&&gf(i.dependencies))?(Wt||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(m,ne,St),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(m,ne,St)),typeof A.componentDidUpdate=="function"&&(s.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof A.componentDidUpdate!="function"||H===i.memoizedProps&&Qt===i.memoizedState||(s.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||H===i.memoizedProps&&Qt===i.memoizedState||(s.flags|=1024),s.memoizedProps=m,s.memoizedState=ne),A.props=m,A.state=ne,A.context=St,m=de):(typeof A.componentDidUpdate!="function"||H===i.memoizedProps&&Qt===i.memoizedState||(s.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||H===i.memoizedProps&&Qt===i.memoizedState||(s.flags|=1024),m=!1)}return A=m,Pf(i,s),m=(s.flags&128)!==0,A||m?(A=s.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:A.render(),s.flags|=1,i!==null&&m?(s.child=yl(s,i.child,null,w),s.child=yl(s,null,f,w)):Wi(i,s,f,w),s.memoizedState=A.state,i=s.child):i=Bs(i,s,w),i}function dv(i,s,f,m){return js(),s.flags|=256,Wi(i,s,f,m),s.child}var Sp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ep(i){return{baseLanes:i,cachePool:nb()}}function Tp(i,s,f){return i=i!==null?i.childLanes&~f:0,s&&(i|=oo),i}function pv(i,s,f){var m=s.pendingProps,w=!1,A=(s.flags&128)!==0,H;if((H=A)||(H=i!==null&&i.memoizedState===null?!1:(pi.current&2)!==0),H&&(w=!0,s.flags&=-129),H=(s.flags&32)!==0,s.flags&=-33,i===null){if(on){if(w?Aa(s):ka(),(i=_n)?(i=x0(i,Cr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:$t!==null?{id:ye,overflow:De}:null,retryLane:536870912,hydrationErrors:null},f=Bu(i),f.return=s,s.child=f,yn=s,_n=null)):i=null,i===null)throw rs(s);return am(i)?s.lanes=32:s.lanes=536870912,null}var Q=m.children;return m=m.fallback,w?(ka(),w=s.mode,Q=Rf({mode:"hidden",children:Q},w),m=Ds(m,w,f,null),Q.return=s,m.return=s,Q.sibling=m,s.child=Q,m=s.child,m.memoizedState=Ep(f),m.childLanes=Tp(i,H,f),s.memoizedState=Sp,Ju(null,m)):(Aa(s),Ap(s,Q))}var St=i.memoizedState;if(St!==null&&(Q=St.dehydrated,Q!==null)){if(A)s.flags&256?(Aa(s),s.flags&=-257,s=kp(i,s,f)):s.memoizedState!==null?(ka(),s.child=i.child,s.flags|=128,s=null):(ka(),Q=m.fallback,w=s.mode,m=Rf({mode:"visible",children:m.children},w),Q=Ds(Q,w,f,null),Q.flags|=2,m.return=s,Q.return=s,m.sibling=Q,s.child=m,yl(s,i.child,null,f),m=s.child,m.memoizedState=Ep(f),m.childLanes=Tp(i,H,f),s.memoizedState=Sp,s=Ju(null,m));else if(Aa(s),am(Q)){if(H=Q.nextSibling&&Q.nextSibling.dataset,H)var Wt=H.dgst;H=Wt,m=Error(r(419)),m.stack="",m.digest=H,fl({value:m,source:null,stack:null}),s=kp(i,s,f)}else if(Si||Xl(i,s,f,!1),H=(f&i.childLanes)!==0,Si||H){if(H=In,H!==null&&(m=ke(H,f),m!==0&&m!==St.retryLane))throw St.retryLane=m,kn(i,m),Pr(H,i,m),wp;sm(Q)||Yf(),s=kp(i,s,f)}else sm(Q)?(s.flags|=192,s.child=i.child,s=null):(i=St.treeContext,_n=_o(Q.nextSibling),yn=s,on=!0,is=null,Cr=!1,i!==null&&br(s,i),s=Ap(s,m.children),s.flags|=4096);return s}return w?(ka(),Q=m.fallback,w=s.mode,St=i.child,Wt=St.sibling,m=go(St,{mode:"hidden",children:m.children}),m.subtreeFlags=St.subtreeFlags&65011712,Wt!==null?Q=go(Wt,Q):(Q=Ds(Q,w,f,null),Q.flags|=2),Q.return=s,m.return=s,m.sibling=Q,s.child=m,Ju(null,m),m=s.child,Q=i.child.memoizedState,Q===null?Q=Ep(f):(w=Q.cachePool,w!==null?(St=wi._currentValue,w=w.parent!==St?{parent:St,pool:St}:w):w=nb(),Q={baseLanes:Q.baseLanes|f,cachePool:w}),m.memoizedState=Q,m.childLanes=Tp(i,H,f),s.memoizedState=Sp,Ju(i.child,m)):(Aa(s),f=i.child,i=f.sibling,f=go(f,{mode:"visible",children:m.children}),f.return=s,f.sibling=null,i!==null&&(H=s.deletions,H===null?(s.deletions=[i],s.flags|=16):H.push(i)),s.child=f,s.memoizedState=null,f)}function Ap(i,s){return s=Rf({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Rf(i,s){return i=nr(22,i,null,s),i.lanes=0,i}function kp(i,s,f){return yl(s,i.child,null,f),i=Ap(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function mv(i,s,f){i.lanes|=s;var m=i.alternate;m!==null&&(m.lanes|=s),Hd(i.return,s,f)}function Mp(i,s,f,m,w,A){var H=i.memoizedState;H===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:w,treeForkCount:A}:(H.isBackwards=s,H.rendering=null,H.renderingStartTime=0,H.last=m,H.tail=f,H.tailMode=w,H.treeForkCount=A)}function gv(i,s,f){var m=s.pendingProps,w=m.revealOrder,A=m.tail;m=m.children;var H=pi.current,Q=(H&2)!==0;if(Q?(H=H&1|2,s.flags|=128):H&=1,at(pi,H),Wi(i,s,m,f),m=on?$:0,!Q&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&mv(i,f,s);else if(i.tag===19)mv(i,f,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(w){case"forwards":for(f=s.child,w=null;f!==null;)i=f.alternate,i!==null&&Ef(i)===null&&(w=f),f=f.sibling;f=w,f===null?(w=s.child,s.child=null):(w=f.sibling,f.sibling=null),Mp(s,!1,w,f,A,m);break;case"backwards":case"unstable_legacy-backwards":for(f=null,w=s.child,s.child=null;w!==null;){if(i=w.alternate,i!==null&&Ef(i)===null){s.child=w;break}i=w.sibling,w.sibling=f,f=w,w=i}Mp(s,!0,f,null,A,m);break;case"together":Mp(s,!1,null,null,void 0,m);break;default:s.memoizedState=null}return s.child}function Bs(i,s,f){if(i!==null&&(s.dependencies=i.dependencies),Ca|=s.lanes,(f&s.childLanes)===0)if(i!==null){if(Xl(i,s,f,!1),(f&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,f=go(i,i.pendingProps),s.child=f,f.return=s;i.sibling!==null;)i=i.sibling,f=f.sibling=go(i,i.pendingProps),f.return=s;f.sibling=null}return s.child}function Op(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&gf(i)))}function fA(i,s,f){switch(s.tag){case 3:ct(s,s.stateNode.containerInfo),xa(s,wi,i.memoizedState.cache),js();break;case 27:case 5:Mt(s);break;case 4:ct(s,s.stateNode.containerInfo);break;case 10:xa(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,tp(s),null;break;case 13:var m=s.memoizedState;if(m!==null)return m.dehydrated!==null?(Aa(s),s.flags|=128,null):(f&s.child.childLanes)!==0?pv(i,s,f):(Aa(s),i=Bs(i,s,f),i!==null?i.sibling:null);Aa(s);break;case 19:var w=(i.flags&128)!==0;if(m=(f&s.childLanes)!==0,m||(Xl(i,s,f,!1),m=(f&s.childLanes)!==0),w){if(m)return gv(i,s,f);s.flags|=128}if(w=s.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),at(pi,pi.current),m)break;return null;case 22:return s.lanes=0,lv(i,s,f,s.pendingProps);case 24:xa(s,wi,i.memoizedState.cache)}return Bs(i,s,f)}function yv(i,s,f){if(i!==null)if(i.memoizedProps!==s.pendingProps)Si=!0;else{if(!Op(i,f)&&(s.flags&128)===0)return Si=!1,fA(i,s,f);Si=(i.flags&131072)!==0}else Si=!1,on&&(s.flags&1048576)!==0&&nn(s,$,s.index);switch(s.lanes=0,s.tag){case 16:t:{var m=s.pendingProps;if(i=ml(s.elementType),s.type=i,typeof i=="function")Zl(i)?(m=bl(i,m),s.tag=1,s=hv(null,s,i,m,f)):(s.tag=0,s=xp(null,s,i,m,f));else{if(i!=null){var w=i.$$typeof;if(w===z){s.tag=11,s=ov(null,s,i,m,f);break t}else if(w===R){s.tag=14,s=sv(null,s,i,m,f);break t}}throw s=ht(i)||i,Error(r(306,s,""))}}return s;case 0:return xp(i,s,s.type,s.pendingProps,f);case 1:return m=s.type,w=bl(m,s.pendingProps),hv(i,s,m,w,f);case 3:t:{if(ct(s,s.stateNode.containerInfo),i===null)throw Error(r(387));m=s.pendingProps;var A=s.memoizedState;w=A.element,Xd(i,s),Wu(s,m,null,f);var H=s.memoizedState;if(m=H.cache,xa(s,wi,m),m!==A.cache&&qd(s,[wi],f,!0),Ku(),m=H.element,A.isDehydrated)if(A={element:m,isDehydrated:!1,cache:H.cache},s.updateQueue.baseState=A,s.memoizedState=A,s.flags&256){s=dv(i,s,m,f);break t}else if(m!==w){w=p(Error(r(424)),s),fl(w),s=dv(i,s,m,f);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(_n=_o(i.firstChild),yn=s,on=!0,is=null,Cr=!0,f=lb(s,null,m,f),s.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(js(),m===w){s=Bs(i,s,f);break t}Wi(i,s,m,f)}s=s.child}return s;case 26:return Pf(i,s),i===null?(f=M0(s.type,null,s.pendingProps,null))?s.memoizedState=f:on||(f=s.type,i=s.pendingProps,m=Qf(Ut.current).createElement(f),m[hn]=s,m[Tn]=i,Xi(m,f,i),Qn(m),s.stateNode=m):s.memoizedState=M0(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Mt(s),i===null&&on&&(m=s.stateNode=T0(s.type,s.pendingProps,Ut.current),yn=s,Cr=!0,w=_n,Pa(s.type)?(lm=w,_n=_o(m.firstChild)):_n=w),Wi(i,s,s.pendingProps.children,f),Pf(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&on&&((w=m=_n)&&(m=FA(m,s.type,s.pendingProps,Cr),m!==null?(s.stateNode=m,yn=s,_n=_o(m.firstChild),Cr=!1,w=!0):w=!1),w||rs(s)),Mt(s),w=s.type,A=s.pendingProps,H=i!==null?i.memoizedProps:null,m=A.children,im(w,A)?m=null:H!==null&&im(w,H)&&(s.flags|=32),s.memoizedState!==null&&(w=np(i,s,nA,null,null,f),pc._currentValue=w),Pf(i,s),Wi(i,s,m,f),s.child;case 6:return i===null&&on&&((i=f=_n)&&(f=HA(f,s.pendingProps,Cr),f!==null?(s.stateNode=f,yn=s,_n=null,i=!0):i=!1),i||rs(s)),null;case 13:return pv(i,s,f);case 4:return ct(s,s.stateNode.containerInfo),m=s.pendingProps,i===null?s.child=yl(s,null,m,f):Wi(i,s,m,f),s.child;case 11:return ov(i,s,s.type,s.pendingProps,f);case 7:return Wi(i,s,s.pendingProps,f),s.child;case 8:return Wi(i,s,s.pendingProps.children,f),s.child;case 12:return Wi(i,s,s.pendingProps.children,f),s.child;case 10:return m=s.pendingProps,xa(s,s.type,m.value),Wi(i,s,m.children,f),s.child;case 9:return w=s.type._context,m=s.pendingProps.children,dl(s),w=Ki(w),m=m(w),s.flags|=1,Wi(i,s,m,f),s.child;case 14:return sv(i,s,s.type,s.pendingProps,f);case 15:return av(i,s,s.type,s.pendingProps,f);case 19:return gv(i,s,f);case 31:return cA(i,s,f);case 22:return lv(i,s,f,s.pendingProps);case 24:return dl(s),m=Ki(wi),i===null?(w=Zd(),w===null&&(w=In,A=Vd(),w.pooledCache=A,A.refCount++,A!==null&&(w.pooledCacheLanes|=f),w=A),s.memoizedState={parent:m,cache:w},Wd(s),xa(s,wi,w)):((i.lanes&f)!==0&&(Xd(i,s),Wu(s,null,null,f),Ku()),w=i.memoizedState,A=s.memoizedState,w.parent!==m?(w={parent:m,cache:m},s.memoizedState=w,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=w),xa(s,wi,m)):(m=A.cache,xa(s,wi,m),m!==w.cache&&qd(s,[wi],f,!0))),Wi(i,s,s.pendingProps.children,f),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Is(i){i.flags|=4}function Cp(i,s,f,m,w){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(w&335544128)===w)if(i.stateNode.complete)i.flags|=8192;else if(Vv())i.flags|=8192;else throw gl=vf,Kd}else i.flags&=-16777217}function _v(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!D0(s))if(Vv())i.flags|=8192;else throw gl=vf,Kd}function zf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Vr():536870912,i.lanes|=s,au|=s)}function tc(i,s){if(!on)switch(i.tailMode){case"hidden":s=i.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Zn(i){var s=i.alternate!==null&&i.alternate.child===i.child,f=0,m=0;if(s)for(var w=i.child;w!==null;)f|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)f|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=m,i.childLanes=f,s}function hA(i,s,f){var m=s.pendingProps;switch(si(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(s),null;case 1:return Zn(s),null;case 3:return f=s.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),s.memoizedState.cache!==m&&(s.flags|=2048),Ps(wi),vt(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Do(s)?Is(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Fu())),Zn(s),null;case 26:var w=s.type,A=s.memoizedState;return i===null?(Is(s),A!==null?(Zn(s),_v(s,A)):(Zn(s),Cp(s,w,null,m,f))):A?A!==i.memoizedState?(Is(s),Zn(s),_v(s,A)):(Zn(s),s.flags&=-16777217):(i=i.memoizedProps,i!==m&&Is(s),Zn(s),Cp(s,w,i,m,f)),null;case 27:if(Nt(s),f=Ut.current,w=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==m&&Is(s);else{if(!m){if(s.stateNode===null)throw Error(r(166));return Zn(s),null}i=At.current,Do(s)?Uu(s):(i=T0(w,m,f),s.stateNode=i,Is(s))}return Zn(s),null;case 5:if(Nt(s),w=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==m&&Is(s);else{if(!m){if(s.stateNode===null)throw Error(r(166));return Zn(s),null}if(A=At.current,Do(s))Uu(s);else{var H=Qf(Ut.current);switch(A){case 1:A=H.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:A=H.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":A=H.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":A=H.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":A=H.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof m.is=="string"?H.createElement("select",{is:m.is}):H.createElement("select"),m.multiple?A.multiple=!0:m.size&&(A.size=m.size);break;default:A=typeof m.is=="string"?H.createElement(w,{is:m.is}):H.createElement(w)}}A[hn]=s,A[Tn]=m;t:for(H=s.child;H!==null;){if(H.tag===5||H.tag===6)A.appendChild(H.stateNode);else if(H.tag!==4&&H.tag!==27&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===s)break t;for(;H.sibling===null;){if(H.return===null||H.return===s)break t;H=H.return}H.sibling.return=H.return,H=H.sibling}s.stateNode=A;t:switch(Xi(A,w,m),w){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break t;case"img":m=!0;break t;default:m=!1}m&&Is(s)}}return Zn(s),Cp(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,f),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==m&&Is(s);else{if(typeof m!="string"&&s.stateNode===null)throw Error(r(166));if(i=Ut.current,Do(s)){if(i=s.stateNode,f=s.memoizedProps,m=null,w=yn,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}i[hn]=s,i=!!(i.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||p0(i.nodeValue,f)),i||rs(s,!0)}else i=Qf(i).createTextNode(m),i[hn]=s,s.stateNode=i}return Zn(s),null;case 31:if(f=s.memoizedState,i===null||i.memoizedState!==null){if(m=Do(s),f!==null){if(i===null){if(!m)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[hn]=s}else js(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Zn(s),i=!1}else f=Fu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),i=!0;if(!i)return s.flags&256?(io(s),s):(io(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Zn(s),null;case 13:if(m=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(w=Do(s),m!==null&&m.dehydrated!==null){if(i===null){if(!w)throw Error(r(318));if(w=s.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[hn]=s}else js(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Zn(s),w=!1}else w=Fu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=w),w=!0;if(!w)return s.flags&256?(io(s),s):(io(s),null)}return io(s),(s.flags&128)!==0?(s.lanes=f,s):(f=m!==null,i=i!==null&&i.memoizedState!==null,f&&(m=s.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool),A=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(A=m.memoizedState.cachePool.pool),A!==w&&(m.flags|=2048)),f!==i&&f&&(s.child.flags|=8192),zf(s,s.updateQueue),Zn(s),null);case 4:return vt(),i===null&&Qp(s.stateNode.containerInfo),Zn(s),null;case 10:return Ps(s.type),Zn(s),null;case 19:if(K(pi),m=s.memoizedState,m===null)return Zn(s),null;if(w=(s.flags&128)!==0,A=m.rendering,A===null)if(w)tc(m,!1);else{if(li!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(A=Ef(i),A!==null){for(s.flags|=128,tc(m,!1),i=A.updateQueue,s.updateQueue=i,zf(s,i),s.subtreeFlags=0,i=f,f=s.child;f!==null;)zu(f,i),f=f.sibling;return at(pi,pi.current&1|2),on&&Ue(s,m.treeForkCount),s.child}i=i.sibling}m.tail!==null&&Xt()>Hf&&(s.flags|=128,w=!0,tc(m,!1),s.lanes=4194304)}else{if(!w)if(i=Ef(A),i!==null){if(s.flags|=128,w=!0,i=i.updateQueue,s.updateQueue=i,zf(s,i),tc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!A.alternate&&!on)return Zn(s),null}else 2*Xt()-m.renderingStartTime>Hf&&f!==536870912&&(s.flags|=128,w=!0,tc(m,!1),s.lanes=4194304);m.isBackwards?(A.sibling=s.child,s.child=A):(i=m.last,i!==null?i.sibling=A:s.child=A,m.last=A)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Xt(),i.sibling=null,f=pi.current,at(pi,w?f&1|2:f&1),on&&Ue(s,m.treeForkCount),i):(Zn(s),null);case 22:case 23:return io(s),Jd(),m=s.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(s.flags|=8192):m&&(s.flags|=8192),m?(f&536870912)!==0&&(s.flags&128)===0&&(Zn(s),s.subtreeFlags&6&&(s.flags|=8192)):Zn(s),f=s.updateQueue,f!==null&&zf(s,f.retryQueue),f=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==f&&(s.flags|=2048),i!==null&&K(pl),null;case 24:return f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Ps(wi),Zn(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function dA(i,s){switch(si(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ps(wi),vt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Nt(s),null;case 31:if(s.memoizedState!==null){if(io(s),s.alternate===null)throw Error(r(340));js()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(io(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));js()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return K(pi),null;case 4:return vt(),null;case 10:return Ps(s.type),null;case 22:case 23:return io(s),Jd(),i!==null&&K(pl),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ps(wi),null;case 25:return null;default:return null}}function bv(i,s){switch(si(s),s.tag){case 3:Ps(wi),vt();break;case 26:case 27:case 5:Nt(s);break;case 4:vt();break;case 31:s.memoizedState!==null&&io(s);break;case 13:io(s);break;case 19:K(pi);break;case 10:Ps(s.type);break;case 22:case 23:io(s),Jd(),i!==null&&K(pl);break;case 24:Ps(wi)}}function ec(i,s){try{var f=s.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var w=m.next;f=w;do{if((f.tag&i)===i){m=void 0;var A=f.create,H=f.inst;m=A(),H.destroy=m}f=f.next}while(f!==w)}}catch(Q){On(s,s.return,Q)}}function Ma(i,s,f){try{var m=s.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var A=w.next;m=A;do{if((m.tag&i)===i){var H=m.inst,Q=H.destroy;if(Q!==void 0){H.destroy=void 0,w=s;var St=f,Wt=Q;try{Wt()}catch(de){On(w,St,de)}}}m=m.next}while(m!==A)}}catch(de){On(s,s.return,de)}}function vv(i){var s=i.updateQueue;if(s!==null){var f=i.stateNode;try{cb(s,f)}catch(m){On(i,i.return,m)}}}function wv(i,s,f){f.props=bl(i.type,i.memoizedProps),f.state=i.memoizedState;try{f.componentWillUnmount()}catch(m){On(i,s,m)}}function nc(i,s){try{var f=i.ref;if(f!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof f=="function"?i.refCleanup=f(m):f.current=m}}catch(w){On(i,s,w)}}function ss(i,s){var f=i.ref,m=i.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(w){On(i,s,w)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(w){On(i,s,w)}else f.current=null}function xv(i){var s=i.type,f=i.memoizedProps,m=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break t;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(w){On(i,i.return,w)}}function Lp(i,s,f){try{var m=i.stateNode;PA(m,i.type,f,s),m[Tn]=s}catch(w){On(i,i.return,w)}}function Sv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Pa(i.type)||i.tag===4}function Np(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Sv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Pa(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Dp(i,s,f){var m=i.tag;if(m===5||m===6)i=i.stateNode,s?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(i,s):(s=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,s.appendChild(i),f=f._reactRootContainer,f!=null||s.onclick!==null||(s.onclick=Ci));else if(m!==4&&(m===27&&Pa(i.type)&&(f=i.stateNode,s=null),i=i.child,i!==null))for(Dp(i,s,f),i=i.sibling;i!==null;)Dp(i,s,f),i=i.sibling}function Bf(i,s,f){var m=i.tag;if(m===5||m===6)i=i.stateNode,s?f.insertBefore(i,s):f.appendChild(i);else if(m!==4&&(m===27&&Pa(i.type)&&(f=i.stateNode),i=i.child,i!==null))for(Bf(i,s,f),i=i.sibling;i!==null;)Bf(i,s,f),i=i.sibling}function Ev(i){var s=i.stateNode,f=i.memoizedProps;try{for(var m=i.type,w=s.attributes;w.length;)s.removeAttributeNode(w[0]);Xi(s,m,f),s[hn]=i,s[Tn]=f}catch(A){On(i,i.return,A)}}var Us=!1,Ei=!1,jp=!1,Tv=typeof WeakSet=="function"?WeakSet:Set,Ii=null;function pA(i,s){if(i=i.containerInfo,em=oh,i=q(i),W(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else t:{f=(f=i.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var w=m.anchorOffset,A=m.focusNode;m=m.focusOffset;try{f.nodeType,A.nodeType}catch{f=null;break t}var H=0,Q=-1,St=-1,Wt=0,de=0,_e=i,Qt=null;e:for(;;){for(var ne;_e!==f||w!==0&&_e.nodeType!==3||(Q=H+w),_e!==A||m!==0&&_e.nodeType!==3||(St=H+m),_e.nodeType===3&&(H+=_e.nodeValue.length),(ne=_e.firstChild)!==null;)Qt=_e,_e=ne;for(;;){if(_e===i)break e;if(Qt===f&&++Wt===w&&(Q=H),Qt===A&&++de===m&&(St=H),(ne=_e.nextSibling)!==null)break;_e=Qt,Qt=_e.parentNode}_e=ne}f=Q===-1||St===-1?null:{start:Q,end:St}}else f=null}f=f||{start:0,end:0}}else f=null;for(nm={focusedElem:i,selectionRange:f},oh=!1,Ii=s;Ii!==null;)if(s=Ii,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Ii=i;else for(;Ii!==null;){switch(s=Ii,A=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(f=0;f<i.length;f++)w=i[f],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&A!==null){i=void 0,f=s,w=A.memoizedProps,A=A.memoizedState,m=f.stateNode;try{var Be=bl(f.type,w);i=m.getSnapshotBeforeUpdate(Be,A),m.__reactInternalSnapshotBeforeUpdate=i}catch(We){On(f,f.return,We)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,f=i.nodeType,f===9)om(i);else if(f===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":om(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Ii=i;break}Ii=s.return}}function Av(i,s,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:Hs(i,f),m&4&&ec(5,f);break;case 1:if(Hs(i,f),m&4)if(i=f.stateNode,s===null)try{i.componentDidMount()}catch(H){On(f,f.return,H)}else{var w=bl(f.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(w,s,i.__reactInternalSnapshotBeforeUpdate)}catch(H){On(f,f.return,H)}}m&64&&vv(f),m&512&&nc(f,f.return);break;case 3:if(Hs(i,f),m&64&&(i=f.updateQueue,i!==null)){if(s=null,f.child!==null)switch(f.child.tag){case 27:case 5:s=f.child.stateNode;break;case 1:s=f.child.stateNode}try{cb(i,s)}catch(H){On(f,f.return,H)}}break;case 27:s===null&&m&4&&Ev(f);case 26:case 5:Hs(i,f),s===null&&m&4&&xv(f),m&512&&nc(f,f.return);break;case 12:Hs(i,f);break;case 31:Hs(i,f),m&4&&Ov(i,f);break;case 13:Hs(i,f),m&4&&Cv(i,f),m&64&&(i=f.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(f=SA.bind(null,f),qA(i,f))));break;case 22:if(m=f.memoizedState!==null||Us,!m){s=s!==null&&s.memoizedState!==null||Ei,w=Us;var A=Ei;Us=m,(Ei=s)&&!A?qs(i,f,(f.subtreeFlags&8772)!==0):Hs(i,f),Us=w,Ei=A}break;case 30:break;default:Hs(i,f)}}function kv(i){var s=i.alternate;s!==null&&(i.alternate=null,kv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ca(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Gn=null,Lr=!1;function Fs(i,s,f){for(f=f.child;f!==null;)Mv(i,s,f),f=f.sibling}function Mv(i,s,f){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Ot,f)}catch{}switch(f.tag){case 26:Ei||ss(f,s),Fs(i,s,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Ei||ss(f,s);var m=Gn,w=Lr;Pa(f.type)&&(Gn=f.stateNode,Lr=!1),Fs(i,s,f),fc(f.stateNode),Gn=m,Lr=w;break;case 5:Ei||ss(f,s);case 6:if(m=Gn,w=Lr,Gn=null,Fs(i,s,f),Gn=m,Lr=w,Gn!==null)if(Lr)try{(Gn.nodeType===9?Gn.body:Gn.nodeName==="HTML"?Gn.ownerDocument.body:Gn).removeChild(f.stateNode)}catch(A){On(f,s,A)}else try{Gn.removeChild(f.stateNode)}catch(A){On(f,s,A)}break;case 18:Gn!==null&&(Lr?(i=Gn,v0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,f.stateNode),mu(i)):v0(Gn,f.stateNode));break;case 4:m=Gn,w=Lr,Gn=f.stateNode.containerInfo,Lr=!0,Fs(i,s,f),Gn=m,Lr=w;break;case 0:case 11:case 14:case 15:Ma(2,f,s),Ei||Ma(4,f,s),Fs(i,s,f);break;case 1:Ei||(ss(f,s),m=f.stateNode,typeof m.componentWillUnmount=="function"&&wv(f,s,m)),Fs(i,s,f);break;case 21:Fs(i,s,f);break;case 22:Ei=(m=Ei)||f.memoizedState!==null,Fs(i,s,f),Ei=m;break;default:Fs(i,s,f)}}function Ov(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{mu(i)}catch(f){On(s,s.return,f)}}}function Cv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{mu(i)}catch(f){On(s,s.return,f)}}function mA(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Tv),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Tv),s;default:throw Error(r(435,i.tag))}}function If(i,s){var f=mA(i);s.forEach(function(m){if(!f.has(m)){f.add(m);var w=EA.bind(null,i,m);m.then(w,w)}})}function Nr(i,s){var f=s.deletions;if(f!==null)for(var m=0;m<f.length;m++){var w=f[m],A=i,H=s,Q=H;t:for(;Q!==null;){switch(Q.tag){case 27:if(Pa(Q.type)){Gn=Q.stateNode,Lr=!1;break t}break;case 5:Gn=Q.stateNode,Lr=!1;break t;case 3:case 4:Gn=Q.stateNode.containerInfo,Lr=!0;break t}Q=Q.return}if(Gn===null)throw Error(r(160));Mv(A,H,w),Gn=null,Lr=!1,A=w.alternate,A!==null&&(A.return=null),w.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Lv(s,i),s=s.sibling}var Po=null;function Lv(i,s){var f=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Nr(s,i),Dr(i),m&4&&(Ma(3,i,i.return),ec(3,i),Ma(5,i,i.return));break;case 1:Nr(s,i),Dr(i),m&512&&(Ei||f===null||ss(f,f.return)),m&64&&Us&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(f=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var w=Po;if(Nr(s,i),Dr(i),m&512&&(Ei||f===null||ss(f,f.return)),m&4){var A=f!==null?f.memoizedState:null;if(m=i.memoizedState,f===null)if(m===null)if(i.stateNode===null){t:{m=i.type,f=i.memoizedProps,w=w.ownerDocument||w;e:switch(m){case"title":A=w.getElementsByTagName("title")[0],(!A||A[Yn]||A[hn]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=w.createElement(m),w.head.insertBefore(A,w.querySelector("head > title"))),Xi(A,m,f),A[hn]=i,Qn(A),m=A;break t;case"link":var H=L0("link","href",w).get(m+(f.href||""));if(H){for(var Q=0;Q<H.length;Q++)if(A=H[Q],A.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&A.getAttribute("rel")===(f.rel==null?null:f.rel)&&A.getAttribute("title")===(f.title==null?null:f.title)&&A.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){H.splice(Q,1);break e}}A=w.createElement(m),Xi(A,m,f),w.head.appendChild(A);break;case"meta":if(H=L0("meta","content",w).get(m+(f.content||""))){for(Q=0;Q<H.length;Q++)if(A=H[Q],A.getAttribute("content")===(f.content==null?null:""+f.content)&&A.getAttribute("name")===(f.name==null?null:f.name)&&A.getAttribute("property")===(f.property==null?null:f.property)&&A.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&A.getAttribute("charset")===(f.charSet==null?null:f.charSet)){H.splice(Q,1);break e}}A=w.createElement(m),Xi(A,m,f),w.head.appendChild(A);break;default:throw Error(r(468,m))}A[hn]=i,Qn(A),m=A}i.stateNode=m}else N0(w,i.type,i.stateNode);else i.stateNode=C0(w,m,i.memoizedProps);else A!==m?(A===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):A.count--,m===null?N0(w,i.type,i.stateNode):C0(w,m,i.memoizedProps)):m===null&&i.stateNode!==null&&Lp(i,i.memoizedProps,f.memoizedProps)}break;case 27:Nr(s,i),Dr(i),m&512&&(Ei||f===null||ss(f,f.return)),f!==null&&m&4&&Lp(i,i.memoizedProps,f.memoizedProps);break;case 5:if(Nr(s,i),Dr(i),m&512&&(Ei||f===null||ss(f,f.return)),i.flags&32){w=i.stateNode;try{mr(w,"")}catch(Be){On(i,i.return,Be)}}m&4&&i.stateNode!=null&&(w=i.memoizedProps,Lp(i,w,f!==null?f.memoizedProps:w)),m&1024&&(jp=!0);break;case 6:if(Nr(s,i),Dr(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,f=i.stateNode;try{f.nodeValue=m}catch(Be){On(i,i.return,Be)}}break;case 3:if(eh=null,w=Po,Po=Jf(s.containerInfo),Nr(s,i),Po=w,Dr(i),m&4&&f!==null&&f.memoizedState.isDehydrated)try{mu(s.containerInfo)}catch(Be){On(i,i.return,Be)}jp&&(jp=!1,Nv(i));break;case 4:m=Po,Po=Jf(i.stateNode.containerInfo),Nr(s,i),Dr(i),Po=m;break;case 12:Nr(s,i),Dr(i);break;case 31:Nr(s,i),Dr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,If(i,m)));break;case 13:Nr(s,i),Dr(i),i.child.flags&8192&&i.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Ff=Xt()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,If(i,m)));break;case 22:w=i.memoizedState!==null;var St=f!==null&&f.memoizedState!==null,Wt=Us,de=Ei;if(Us=Wt||w,Ei=de||St,Nr(s,i),Ei=de,Us=Wt,Dr(i),m&8192)t:for(s=i.stateNode,s._visibility=w?s._visibility&-2:s._visibility|1,w&&(f===null||St||Us||Ei||vl(i)),f=null,s=i;;){if(s.tag===5||s.tag===26){if(f===null){St=f=s;try{if(A=St.stateNode,w)H=A.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{Q=St.stateNode;var _e=St.memoizedProps.style,Qt=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;Q.style.display=Qt==null||typeof Qt=="boolean"?"":(""+Qt).trim()}}catch(Be){On(St,St.return,Be)}}}else if(s.tag===6){if(f===null){St=s;try{St.stateNode.nodeValue=w?"":St.memoizedProps}catch(Be){On(St,St.return,Be)}}}else if(s.tag===18){if(f===null){St=s;try{var ne=St.stateNode;w?w0(ne,!0):w0(St.stateNode,!1)}catch(Be){On(St,St.return,Be)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;f===s&&(f=null),s=s.return}f===s&&(f=null),s.sibling.return=s.return,s=s.sibling}m&4&&(m=i.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,If(i,f))));break;case 19:Nr(s,i),Dr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,If(i,m)));break;case 30:break;case 21:break;default:Nr(s,i),Dr(i)}}function Dr(i){var s=i.flags;if(s&2){try{for(var f,m=i.return;m!==null;){if(Sv(m)){f=m;break}m=m.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var w=f.stateNode,A=Np(i);Bf(i,A,w);break;case 5:var H=f.stateNode;f.flags&32&&(mr(H,""),f.flags&=-33);var Q=Np(i);Bf(i,Q,H);break;case 3:case 4:var St=f.stateNode.containerInfo,Wt=Np(i);Dp(i,Wt,St);break;default:throw Error(r(161))}}catch(de){On(i,i.return,de)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Nv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Nv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Hs(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Av(i,s.alternate,s),s=s.sibling}function vl(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ma(4,s,s.return),vl(s);break;case 1:ss(s,s.return);var f=s.stateNode;typeof f.componentWillUnmount=="function"&&wv(s,s.return,f),vl(s);break;case 27:fc(s.stateNode);case 26:case 5:ss(s,s.return),vl(s);break;case 22:s.memoizedState===null&&vl(s);break;case 30:vl(s);break;default:vl(s)}i=i.sibling}}function qs(i,s,f){for(f=f&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var m=s.alternate,w=i,A=s,H=A.flags;switch(A.tag){case 0:case 11:case 15:qs(w,A,f),ec(4,A);break;case 1:if(qs(w,A,f),m=A,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Wt){On(m,m.return,Wt)}if(m=A,w=m.updateQueue,w!==null){var Q=m.stateNode;try{var St=w.shared.hiddenCallbacks;if(St!==null)for(w.shared.hiddenCallbacks=null,w=0;w<St.length;w++)ub(St[w],Q)}catch(Wt){On(m,m.return,Wt)}}f&&H&64&&vv(A),nc(A,A.return);break;case 27:Ev(A);case 26:case 5:qs(w,A,f),f&&m===null&&H&4&&xv(A),nc(A,A.return);break;case 12:qs(w,A,f);break;case 31:qs(w,A,f),f&&H&4&&Ov(w,A);break;case 13:qs(w,A,f),f&&H&4&&Cv(w,A);break;case 22:A.memoizedState===null&&qs(w,A,f),nc(A,A.return);break;case 30:break;default:qs(w,A,f)}s=s.sibling}}function Pp(i,s){var f=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==f&&(i!=null&&i.refCount++,f!=null&&Hu(f))}function Rp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Hu(i))}function Ro(i,s,f,m){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Dv(i,s,f,m),s=s.sibling}function Dv(i,s,f,m){var w=s.flags;switch(s.tag){case 0:case 11:case 15:Ro(i,s,f,m),w&2048&&ec(9,s);break;case 1:Ro(i,s,f,m);break;case 3:Ro(i,s,f,m),w&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Hu(i)));break;case 12:if(w&2048){Ro(i,s,f,m),i=s.stateNode;try{var A=s.memoizedProps,H=A.id,Q=A.onPostCommit;typeof Q=="function"&&Q(H,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(St){On(s,s.return,St)}}else Ro(i,s,f,m);break;case 31:Ro(i,s,f,m);break;case 13:Ro(i,s,f,m);break;case 23:break;case 22:A=s.stateNode,H=s.alternate,s.memoizedState!==null?A._visibility&2?Ro(i,s,f,m):ic(i,s):A._visibility&2?Ro(i,s,f,m):(A._visibility|=2,ru(i,s,f,m,(s.subtreeFlags&10256)!==0||!1)),w&2048&&Pp(H,s);break;case 24:Ro(i,s,f,m),w&2048&&Rp(s.alternate,s);break;default:Ro(i,s,f,m)}}function ru(i,s,f,m,w){for(w=w&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var A=i,H=s,Q=f,St=m,Wt=H.flags;switch(H.tag){case 0:case 11:case 15:ru(A,H,Q,St,w),ec(8,H);break;case 23:break;case 22:var de=H.stateNode;H.memoizedState!==null?de._visibility&2?ru(A,H,Q,St,w):ic(A,H):(de._visibility|=2,ru(A,H,Q,St,w)),w&&Wt&2048&&Pp(H.alternate,H);break;case 24:ru(A,H,Q,St,w),w&&Wt&2048&&Rp(H.alternate,H);break;default:ru(A,H,Q,St,w)}s=s.sibling}}function ic(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var f=i,m=s,w=m.flags;switch(m.tag){case 22:ic(f,m),w&2048&&Pp(m.alternate,m);break;case 24:ic(f,m),w&2048&&Rp(m.alternate,m);break;default:ic(f,m)}s=s.sibling}}var rc=8192;function ou(i,s,f){if(i.subtreeFlags&rc)for(i=i.child;i!==null;)jv(i,s,f),i=i.sibling}function jv(i,s,f){switch(i.tag){case 26:ou(i,s,f),i.flags&rc&&i.memoizedState!==null&&ek(f,Po,i.memoizedState,i.memoizedProps);break;case 5:ou(i,s,f);break;case 3:case 4:var m=Po;Po=Jf(i.stateNode.containerInfo),ou(i,s,f),Po=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=rc,rc=16777216,ou(i,s,f),rc=m):ou(i,s,f));break;default:ou(i,s,f)}}function Pv(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function oc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var f=0;f<s.length;f++){var m=s[f];Ii=m,zv(m,i)}Pv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Rv(i),i=i.sibling}function Rv(i){switch(i.tag){case 0:case 11:case 15:oc(i),i.flags&2048&&Ma(9,i,i.return);break;case 3:oc(i);break;case 12:oc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Uf(i)):oc(i);break;default:oc(i)}}function Uf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var f=0;f<s.length;f++){var m=s[f];Ii=m,zv(m,i)}Pv(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ma(8,s,s.return),Uf(s);break;case 22:f=s.stateNode,f._visibility&2&&(f._visibility&=-3,Uf(s));break;default:Uf(s)}i=i.sibling}}function zv(i,s){for(;Ii!==null;){var f=Ii;switch(f.tag){case 0:case 11:case 15:Ma(8,f,s);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Hu(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,Ii=m;else t:for(f=i;Ii!==null;){m=Ii;var w=m.sibling,A=m.return;if(kv(m),m===f){Ii=null;break t}if(w!==null){w.return=A,Ii=w;break t}Ii=A}}}var gA={getCacheForType:function(i){var s=Ki(wi),f=s.data.get(i);return f===void 0&&(f=i(),s.data.set(i,f)),f},cacheSignal:function(){return Ki(wi).controller.signal}},yA=typeof WeakMap=="function"?WeakMap:Map,Sn=0,In=null,sn=null,cn=0,Mn=0,ro=null,Oa=!1,su=!1,zp=!1,Vs=0,li=0,Ca=0,wl=0,Bp=0,oo=0,au=0,sc=null,jr=null,Ip=!1,Ff=0,Bv=0,Hf=1/0,qf=null,La=null,Di=0,Na=null,lu=null,Ys=0,Up=0,Fp=null,Iv=null,ac=0,Hp=null;function so(){return(Sn&2)!==0&&cn!==0?cn&-cn:rt.T!==null?Wp():ii()}function Uv(){if(oo===0)if((cn&536870912)===0||on){var i=Nn;Nn<<=1,(Nn&3932160)===0&&(Nn=262144),oo=i}else oo=536870912;return i=no.current,i!==null&&(i.flags|=32),oo}function Pr(i,s,f){(i===In&&(Mn===2||Mn===9)||i.cancelPendingCommit!==null)&&(uu(i,0),Da(i,cn,oo,!1)),it(i,f),((Sn&2)===0||i!==In)&&(i===In&&((Sn&2)===0&&(wl|=f),li===4&&Da(i,cn,oo,!1)),as(i))}function Fv(i,s,f){if((Sn&6)!==0)throw Error(r(327));var m=!f&&(s&127)===0&&(s&i.expiredLanes)===0||Vn(i,s),w=m?vA(i,s):Vp(i,s,!0),A=m;do{if(w===0){su&&!m&&Da(i,s,0,!1);break}else{if(f=i.current.alternate,A&&!_A(f)){w=Vp(i,s,!1),A=!1;continue}if(w===2){if(A=s,i.errorRecoveryDisabledLanes&A)var H=0;else H=i.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){s=H;t:{var Q=i;w=sc;var St=Q.current.memoizedState.isDehydrated;if(St&&(uu(Q,H).flags|=256),H=Vp(Q,H,!1),H!==2){if(zp&&!St){Q.errorRecoveryDisabledLanes|=A,wl|=A,w=4;break t}A=jr,jr=w,A!==null&&(jr===null?jr=A:jr.push.apply(jr,A))}w=H}if(A=!1,w!==2)continue}}if(w===1){uu(i,0),Da(i,s,0,!0);break}t:{switch(m=i,A=w,A){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Da(m,s,oo,!Oa);break t;case 2:jr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(w=Ff+300-Xt(),10<w)){if(Da(m,s,oo,!Oa),_i(m,0,!0)!==0)break t;Ys=s,m.timeoutHandle=_0(Hv.bind(null,m,f,jr,qf,Ip,s,oo,wl,au,Oa,A,"Throttled",-0,0),w);break t}Hv(m,f,jr,qf,Ip,s,oo,wl,au,Oa,A,null,-0,0)}}break}while(!0);as(i)}function Hv(i,s,f,m,w,A,H,Q,St,Wt,de,_e,Qt,ne){if(i.timeoutHandle=-1,_e=s.subtreeFlags,_e&8192||(_e&16785408)===16785408){_e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ci},jv(s,A,_e);var Be=(A&62914560)===A?Ff-Xt():(A&4194048)===A?Bv-Xt():0;if(Be=nk(_e,Be),Be!==null){Ys=A,i.cancelPendingCommit=Be(Gv.bind(null,i,s,A,f,m,w,H,Q,St,de,_e,null,Qt,ne)),Da(i,A,H,!Wt);return}}Gv(i,s,A,f,m,w,H,Q,St)}function _A(i){for(var s=i;;){var f=s.tag;if((f===0||f===11||f===15)&&s.flags&16384&&(f=s.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var w=f[m],A=w.getSnapshot;w=w.value;try{if(!hi(A(),w))return!1}catch{return!1}}if(f=s.child,s.subtreeFlags&16384&&f!==null)f.return=s,s=f;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Da(i,s,f,m){s&=~Bp,s&=~wl,i.suspendedLanes|=s,i.pingedLanes&=~s,m&&(i.warmLanes|=s),m=i.expirationTimes;for(var w=s;0<w;){var A=31-ue(w),H=1<<A;m[A]=-1,w&=~H}f!==0&&xe(i,f,s)}function Vf(){return(Sn&6)===0?(lc(0),!1):!0}function qp(){if(sn!==null){if(Mn===0)var i=sn.return;else i=sn,jo=os=null,op(i),Jl=null,Vu=0,i=sn;for(;i!==null;)bv(i.alternate,i),i=i.return;sn=null}}function uu(i,s){var f=i.timeoutHandle;f!==-1&&(i.timeoutHandle=-1,BA(f)),f=i.cancelPendingCommit,f!==null&&(i.cancelPendingCommit=null,f()),Ys=0,qp(),In=i,sn=f=go(i.current,null),cn=s,Mn=0,ro=null,Oa=!1,su=Vn(i,s),zp=!1,au=oo=Bp=wl=Ca=li=0,jr=sc=null,Ip=!1,(s&8)!==0&&(s|=s&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=s;0<m;){var w=31-ue(m),A=1<<w;s|=i[w],m&=~A}return Vs=s,di(),f}function qv(i,s){Qe=null,rt.H=Qu,s===Ql||s===bf?(s=ob(),Mn=3):s===Kd?(s=ob(),Mn=4):Mn=s===wp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ro=s,sn===null&&(li=1,Df(i,p(s,i.current)))}function Vv(){var i=no.current;return i===null?!0:(cn&4194048)===cn?yo===null:(cn&62914560)===cn||(cn&536870912)!==0?i===yo:!1}function Yv(){var i=rt.H;return rt.H=Qu,i===null?Qu:i}function Zv(){var i=rt.A;return rt.A=gA,i}function Yf(){li=4,Oa||(cn&4194048)!==cn&&no.current!==null||(su=!0),(Ca&134217727)===0&&(wl&134217727)===0||In===null||Da(In,cn,oo,!1)}function Vp(i,s,f){var m=Sn;Sn|=2;var w=Yv(),A=Zv();(In!==i||cn!==s)&&(qf=null,uu(i,s)),s=!1;var H=li;t:do try{if(Mn!==0&&sn!==null){var Q=sn,St=ro;switch(Mn){case 8:qp(),H=6;break t;case 3:case 2:case 9:case 6:no.current===null&&(s=!0);var Wt=Mn;if(Mn=0,ro=null,cu(i,Q,St,Wt),f&&su){H=0;break t}break;default:Wt=Mn,Mn=0,ro=null,cu(i,Q,St,Wt)}}bA(),H=li;break}catch(de){qv(i,de)}while(!0);return s&&i.shellSuspendCounter++,jo=os=null,Sn=m,rt.H=w,rt.A=A,sn===null&&(In=null,cn=0,di()),H}function bA(){for(;sn!==null;)Kv(sn)}function vA(i,s){var f=Sn;Sn|=2;var m=Yv(),w=Zv();In!==i||cn!==s?(qf=null,Hf=Xt()+500,uu(i,s)):su=Vn(i,s);t:do try{if(Mn!==0&&sn!==null){s=sn;var A=ro;e:switch(Mn){case 1:Mn=0,ro=null,cu(i,s,A,1);break;case 2:case 9:if(ib(A)){Mn=0,ro=null,Wv(s);break}s=function(){Mn!==2&&Mn!==9||In!==i||(Mn=7),as(i)},A.then(s,s);break t;case 3:Mn=7;break t;case 4:Mn=5;break t;case 7:ib(A)?(Mn=0,ro=null,Wv(s)):(Mn=0,ro=null,cu(i,s,A,7));break;case 5:var H=null;switch(sn.tag){case 26:H=sn.memoizedState;case 5:case 27:var Q=sn;if(H?D0(H):Q.stateNode.complete){Mn=0,ro=null;var St=Q.sibling;if(St!==null)sn=St;else{var Wt=Q.return;Wt!==null?(sn=Wt,Zf(Wt)):sn=null}break e}}Mn=0,ro=null,cu(i,s,A,5);break;case 6:Mn=0,ro=null,cu(i,s,A,6);break;case 8:qp(),li=6;break t;default:throw Error(r(462))}}wA();break}catch(de){qv(i,de)}while(!0);return jo=os=null,rt.H=m,rt.A=w,Sn=f,sn!==null?0:(In=null,cn=0,di(),li)}function wA(){for(;sn!==null&&!fe();)Kv(sn)}function Kv(i){var s=yv(i.alternate,i,Vs);i.memoizedProps=i.pendingProps,s===null?Zf(i):sn=s}function Wv(i){var s=i,f=s.alternate;switch(s.tag){case 15:case 0:s=fv(f,s,s.pendingProps,s.type,void 0,cn);break;case 11:s=fv(f,s,s.pendingProps,s.type.render,s.ref,cn);break;case 5:op(s);default:bv(f,s),s=sn=zu(s,Vs),s=yv(f,s,Vs)}i.memoizedProps=i.pendingProps,s===null?Zf(i):sn=s}function cu(i,s,f,m){jo=os=null,op(s),Jl=null,Vu=0;var w=s.return;try{if(uA(i,w,s,f,cn)){li=1,Df(i,p(f,i.current)),sn=null;return}}catch(A){if(w!==null)throw sn=w,A;li=1,Df(i,p(f,i.current)),sn=null;return}s.flags&32768?(on||m===1?i=!0:su||(cn&536870912)!==0?i=!1:(Oa=i=!0,(m===2||m===9||m===3||m===6)&&(m=no.current,m!==null&&m.tag===13&&(m.flags|=16384))),Xv(s,i)):Zf(s)}function Zf(i){var s=i;do{if((s.flags&32768)!==0){Xv(s,Oa);return}i=s.return;var f=hA(s.alternate,s,Vs);if(f!==null){sn=f;return}if(s=s.sibling,s!==null){sn=s;return}sn=s=i}while(s!==null);li===0&&(li=5)}function Xv(i,s){do{var f=dA(i.alternate,i);if(f!==null){f.flags&=32767,sn=f;return}if(f=i.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!s&&(i=i.sibling,i!==null)){sn=i;return}sn=i=f}while(i!==null);li=6,sn=null}function Gv(i,s,f,m,w,A,H,Q,St){i.cancelPendingCommit=null;do Kf();while(Di!==0);if((Sn&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(A=s.lanes|s.childLanes,A|=Ge,dt(i,f,A,H,Q,St),i===In&&(sn=In=null,cn=0),lu=s,Na=i,Ys=f,Up=A,Fp=w,Iv=m,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,TA(Y,function(){return e0(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||m){m=rt.T,rt.T=null,w=lt.p,lt.p=2,H=Sn,Sn|=4;try{pA(i,s,f)}finally{Sn=H,lt.p=w,rt.T=m}}Di=1,$v(),Qv(),Jv()}}function $v(){if(Di===1){Di=0;var i=Na,s=lu,f=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||f){f=rt.T,rt.T=null;var m=lt.p;lt.p=2;var w=Sn;Sn|=4;try{Lv(s,i);var A=nm,H=q(i.containerInfo),Q=A.focusedElem,St=A.selectionRange;if(H!==Q&&Q&&Q.ownerDocument&&I(Q.ownerDocument.documentElement,Q)){if(St!==null&&W(Q)){var Wt=St.start,de=St.end;if(de===void 0&&(de=Wt),"selectionStart"in Q)Q.selectionStart=Wt,Q.selectionEnd=Math.min(de,Q.value.length);else{var _e=Q.ownerDocument||document,Qt=_e&&_e.defaultView||window;if(Qt.getSelection){var ne=Qt.getSelection(),Be=Q.textContent.length,We=Math.min(St.start,Be),Pn=St.end===void 0?We:Math.min(St.end,Be);!ne.extend&&We>Pn&&(H=Pn,Pn=We,We=H);var Ht=j(Q,We),Dt=j(Q,Pn);if(Ht&&Dt&&(ne.rangeCount!==1||ne.anchorNode!==Ht.node||ne.anchorOffset!==Ht.offset||ne.focusNode!==Dt.node||ne.focusOffset!==Dt.offset)){var Kt=_e.createRange();Kt.setStart(Ht.node,Ht.offset),ne.removeAllRanges(),We>Pn?(ne.addRange(Kt),ne.extend(Dt.node,Dt.offset)):(Kt.setEnd(Dt.node,Dt.offset),ne.addRange(Kt))}}}}for(_e=[],ne=Q;ne=ne.parentNode;)ne.nodeType===1&&_e.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<_e.length;Q++){var me=_e[Q];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}oh=!!em,nm=em=null}finally{Sn=w,lt.p=m,rt.T=f}}i.current=s,Di=2}}function Qv(){if(Di===2){Di=0;var i=Na,s=lu,f=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||f){f=rt.T,rt.T=null;var m=lt.p;lt.p=2;var w=Sn;Sn|=4;try{Av(i,s.alternate,s)}finally{Sn=w,lt.p=m,rt.T=f}}Di=3}}function Jv(){if(Di===4||Di===3){Di=0,ve();var i=Na,s=lu,f=Ys,m=Iv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Di=5:(Di=0,lu=Na=null,t0(i,i.pendingLanes));var w=i.pendingLanes;if(w===0&&(La=null),Ne(f),s=s.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Ot,s,void 0,(s.current.flags&128)===128)}catch{}if(m!==null){s=rt.T,w=lt.p,lt.p=2,rt.T=null;try{for(var A=i.onRecoverableError,H=0;H<m.length;H++){var Q=m[H];A(Q.value,{componentStack:Q.stack})}}finally{rt.T=s,lt.p=w}}(Ys&3)!==0&&Kf(),as(i),w=i.pendingLanes,(f&261930)!==0&&(w&42)!==0?i===Hp?ac++:(ac=0,Hp=i):ac=0,lc(0)}}function t0(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Hu(s)))}function Kf(){return $v(),Qv(),Jv(),e0()}function e0(){if(Di!==5)return!1;var i=Na,s=Up;Up=0;var f=Ne(Ys),m=rt.T,w=lt.p;try{lt.p=32>f?32:f,rt.T=null,f=Fp,Fp=null;var A=Na,H=Ys;if(Di=0,lu=Na=null,Ys=0,(Sn&6)!==0)throw Error(r(331));var Q=Sn;if(Sn|=4,Rv(A.current),Dv(A,A.current,H,f),Sn=Q,lc(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Ot,A)}catch{}return!0}finally{lt.p=w,rt.T=m,t0(i,s)}}function n0(i,s,f){s=p(f,s),s=vp(i.stateNode,s,2),i=Ta(i,s,2),i!==null&&(it(i,2),as(i))}function On(i,s,f){if(i.tag===3)n0(i,i,f);else for(;s!==null;){if(s.tag===3){n0(s,i,f);break}else if(s.tag===1){var m=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(La===null||!La.has(m))){i=p(f,i),f=iv(2),m=Ta(s,f,2),m!==null&&(rv(f,m,s,i),it(m,2),as(m));break}}s=s.return}}function Yp(i,s,f){var m=i.pingCache;if(m===null){m=i.pingCache=new yA;var w=new Set;m.set(s,w)}else w=m.get(s),w===void 0&&(w=new Set,m.set(s,w));w.has(f)||(zp=!0,w.add(f),i=xA.bind(null,i,s,f),s.then(i,i))}function xA(i,s,f){var m=i.pingCache;m!==null&&m.delete(s),i.pingedLanes|=i.suspendedLanes&f,i.warmLanes&=~f,In===i&&(cn&f)===f&&(li===4||li===3&&(cn&62914560)===cn&&300>Xt()-Ff?(Sn&2)===0&&uu(i,0):Bp|=f,au===cn&&(au=0)),as(i)}function i0(i,s){s===0&&(s=Vr()),i=kn(i,s),i!==null&&(it(i,s),as(i))}function SA(i){var s=i.memoizedState,f=0;s!==null&&(f=s.retryLane),i0(i,f)}function EA(i,s){var f=0;switch(i.tag){case 31:case 13:var m=i.stateNode,w=i.memoizedState;w!==null&&(f=w.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(s),i0(i,f)}function TA(i,s){return he(i,s)}var Wf=null,fu=null,Zp=!1,Xf=!1,Kp=!1,ja=0;function as(i){i!==fu&&i.next===null&&(fu===null?Wf=fu=i:fu=fu.next=i),Xf=!0,Zp||(Zp=!0,kA())}function lc(i,s){if(!Kp&&Xf){Kp=!0;do for(var f=!1,m=Wf;m!==null;){if(i!==0){var w=m.pendingLanes;if(w===0)var A=0;else{var H=m.suspendedLanes,Q=m.pingedLanes;A=(1<<31-ue(42|i)+1)-1,A&=w&~(H&~Q),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(f=!0,a0(m,A))}else A=cn,A=_i(m,m===In?A:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(A&3)===0||Vn(m,A)||(f=!0,a0(m,A));m=m.next}while(f);Kp=!1}}function AA(){r0()}function r0(){Xf=Zp=!1;var i=0;ja!==0&&zA()&&(i=ja);for(var s=Xt(),f=null,m=Wf;m!==null;){var w=m.next,A=o0(m,s);A===0?(m.next=null,f===null?Wf=w:f.next=w,w===null&&(fu=f)):(f=m,(i!==0||(A&3)!==0)&&(Xf=!0)),m=w}Di!==0&&Di!==5||lc(i),ja!==0&&(ja=0)}function o0(i,s){for(var f=i.suspendedLanes,m=i.pingedLanes,w=i.expirationTimes,A=i.pendingLanes&-62914561;0<A;){var H=31-ue(A),Q=1<<H,St=w[H];St===-1?((Q&f)===0||(Q&m)!==0)&&(w[H]=qo(Q,s)):St<=s&&(i.expiredLanes|=Q),A&=~Q}if(s=In,f=cn,f=_i(i,i===s?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,f===0||i===s&&(Mn===2||Mn===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&wt(m),i.callbackNode=null,i.callbackPriority=0;if((f&3)===0||Vn(i,f)){if(s=f&-f,s===i.callbackPriority)return s;switch(m!==null&&wt(m),Ne(f)){case 2:case 8:f=F;break;case 32:f=Y;break;case 268435456:f=It;break;default:f=Y}return m=s0.bind(null,i),f=he(f,m),i.callbackPriority=s,i.callbackNode=f,s}return m!==null&&m!==null&&wt(m),i.callbackPriority=2,i.callbackNode=null,2}function s0(i,s){if(Di!==0&&Di!==5)return i.callbackNode=null,i.callbackPriority=0,null;var f=i.callbackNode;if(Kf()&&i.callbackNode!==f)return null;var m=cn;return m=_i(i,i===In?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(Fv(i,m,s),o0(i,Xt()),i.callbackNode!=null&&i.callbackNode===f?s0.bind(null,i):null)}function a0(i,s){if(Kf())return null;Fv(i,s,!0)}function kA(){IA(function(){(Sn&6)!==0?he(N,AA):r0()})}function Wp(){if(ja===0){var i=Gl;i===0&&(i=Te,Te<<=1,(Te&261888)===0&&(Te=256)),ja=i}return ja}function l0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:gr(""+i)}function u0(i,s){var f=s.ownerDocument.createElement("input");return f.name=s.name,f.value=s.value,i.id&&f.setAttribute("form",i.id),s.parentNode.insertBefore(f,s),i=new FormData(i),f.parentNode.removeChild(f),i}function MA(i,s,f,m,w){if(s==="submit"&&f&&f.stateNode===w){var A=l0((w[Tn]||null).action),H=m.submitter;H&&(s=(s=H[Tn]||null)?l0(s.formAction):H.getAttribute("formAction"),s!==null&&(A=s,H=null));var Q=new pa("action","action",null,m,w);i.push({event:Q,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(ja!==0){var St=H?u0(w,H):new FormData(w);pp(f,{pending:!0,data:St,method:w.method,action:A},null,St)}}else typeof A=="function"&&(Q.preventDefault(),St=H?u0(w,H):new FormData(w),pp(f,{pending:!0,data:St,method:w.method,action:A},A,St))},currentTarget:w}]})}}for(var Xp=0;Xp<Oe.length;Xp++){var Gp=Oe[Xp],OA=Gp.toLowerCase(),CA=Gp[0].toUpperCase()+Gp.slice(1);Ee(OA,"on"+CA)}Ee(Zt,"onAnimationEnd"),Ee(Gt,"onAnimationIteration"),Ee(oe,"onAnimationStart"),Ee("dblclick","onDoubleClick"),Ee("focusin","onFocus"),Ee("focusout","onBlur"),Ee(ge,"onTransitionRun"),Ee(Ae,"onTransitionStart"),Ee(Le,"onTransitionCancel"),Ee(Se,"onTransitionEnd"),Tr("onMouseEnter",["mouseout","mouseover"]),Tr("onMouseLeave",["mouseout","mouseover"]),Tr("onPointerEnter",["pointerout","pointerover"]),Tr("onPointerLeave",["pointerout","pointerover"]),Zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uc));function c0(i,s){s=(s&4)!==0;for(var f=0;f<i.length;f++){var m=i[f],w=m.event;m=m.listeners;t:{var A=void 0;if(s)for(var H=m.length-1;0<=H;H--){var Q=m[H],St=Q.instance,Wt=Q.currentTarget;if(Q=Q.listener,St!==A&&w.isPropagationStopped())break t;A=Q,w.currentTarget=Wt;try{A(w)}catch(de){Pe(de)}w.currentTarget=null,A=St}else for(H=0;H<m.length;H++){if(Q=m[H],St=Q.instance,Wt=Q.currentTarget,Q=Q.listener,St!==A&&w.isPropagationStopped())break t;A=Q,w.currentTarget=Wt;try{A(w)}catch(de){Pe(de)}w.currentTarget=null,A=St}}}}function an(i,s){var f=s[Fn];f===void 0&&(f=s[Fn]=new Set);var m=i+"__bubble";f.has(m)||(f0(s,i,2,!1),f.add(m))}function $p(i,s,f){var m=0;s&&(m|=4),f0(f,i,m,s)}var Gf="_reactListening"+Math.random().toString(36).slice(2);function Qp(i){if(!i[Gf]){i[Gf]=!0,Eo.forEach(function(f){f!=="selectionchange"&&(LA.has(f)||$p(f,!1,i),$p(f,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Gf]||(s[Gf]=!0,$p("selectionchange",!1,s))}}function f0(i,s,f,m){switch(U0(s)){case 2:var w=ok;break;case 8:w=sk;break;default:w=dm}f=w.bind(null,s,f,i),w=void 0,!Ss||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(w=!0),m?w!==void 0?i.addEventListener(s,f,{capture:!0,passive:w}):i.addEventListener(s,f,!0):w!==void 0?i.addEventListener(s,f,{passive:w}):i.addEventListener(s,f,!1)}function Jp(i,s,f,m,w){var A=m;if((s&1)===0&&(s&2)===0&&m!==null)t:for(;;){if(m===null)return;var H=m.tag;if(H===3||H===4){var Q=m.stateNode.containerInfo;if(Q===w)break;if(H===4)for(H=m.return;H!==null;){var St=H.tag;if((St===3||St===4)&&H.stateNode.containerInfo===w)return;H=H.return}for(;Q!==null;){if(H=Yr(Q),H===null)return;if(St=H.tag,St===5||St===6||St===26||St===27){m=A=H;continue t}Q=Q.parentNode}}m=m.return}ko(function(){var Wt=A,de=Zo(f),_e=[];t:{var Qt=Me.get(i);if(Qt!==void 0){var ne=pa,Be=i;switch(i){case"keypress":if(Mo(f)===0)break t;case"keydown":case"keyup":ne=Os;break;case"focusin":Be="focus",ne=Wo;break;case"focusout":Be="blur",ne=Wo;break;case"beforeblur":case"afterblur":ne=Wo;break;case"click":if(f.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=ma;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Hl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=rl;break;case Zt:case Gt:case oe:ne=ya;break;case Se:ne=ba;break;case"scroll":case"scrollend":ne=en;break;case"wheel":ne=kr;break;case"copy":case"cut":case"paste":ne=Li;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=il;break;case"toggle":case"beforetoggle":ne=$o}var We=(s&4)!==0,Pn=!We&&(i==="scroll"||i==="scrollend"),Ht=We?Qt!==null?Qt+"Capture":null:Qt;We=[];for(var Dt=Wt,Kt;Dt!==null;){var me=Dt;if(Kt=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||Kt===null||Ht===null||(me=Xr(Dt,Ht),me!=null&&We.push(cc(Dt,me,Kt))),Pn)break;Dt=Dt.return}0<We.length&&(Qt=new ne(Qt,Be,null,f,de),_e.push({event:Qt,listeners:We}))}}if((s&7)===0){t:{if(Qt=i==="mouseover"||i==="pointerover",ne=i==="mouseout"||i==="pointerout",Qt&&f!==yr&&(Be=f.relatedTarget||f.fromElement)&&(Yr(Be)||Be[Un]))break t;if((ne||Qt)&&(Qt=de.window===de?de:(Qt=de.ownerDocument)?Qt.defaultView||Qt.parentWindow:window,ne?(Be=f.relatedTarget||f.toElement,ne=Wt,Be=Be?Yr(Be):null,Be!==null&&(Pn=a(Be),We=Be.tag,Be!==Pn||We!==5&&We!==27&&We!==6)&&(Be=null)):(ne=null,Be=Wt),ne!==Be)){if(We=ma,me="onMouseLeave",Ht="onMouseEnter",Dt="mouse",(i==="pointerout"||i==="pointerover")&&(We=il,me="onPointerLeave",Ht="onPointerEnter",Dt="pointer"),Pn=ne==null?Qt:zi(ne),Kt=Be==null?Qt:zi(Be),Qt=new We(me,Dt+"leave",ne,f,de),Qt.target=Pn,Qt.relatedTarget=Kt,me=null,Yr(de)===Wt&&(We=new We(Ht,Dt+"enter",Be,f,de),We.target=Kt,We.relatedTarget=Pn,me=We),Pn=me,ne&&Be)e:{for(We=NA,Ht=ne,Dt=Be,Kt=0,me=Ht;me;me=We(me))Kt++;me=0;for(var Ve=Dt;Ve;Ve=We(Ve))me++;for(;0<Kt-me;)Ht=We(Ht),Kt--;for(;0<me-Kt;)Dt=We(Dt),me--;for(;Kt--;){if(Ht===Dt||Dt!==null&&Ht===Dt.alternate){We=Ht;break e}Ht=We(Ht),Dt=We(Dt)}We=null}else We=null;ne!==null&&h0(_e,Qt,ne,We,!1),Be!==null&&Pn!==null&&h0(_e,Pn,Be,We,!0)}}t:{if(Qt=Wt?zi(Wt):window,ne=Qt.nodeName&&Qt.nodeName.toLowerCase(),ne==="select"||ne==="input"&&Qt.type==="file")var bn=po;else if(er(Qt))if(Mr)bn=ns;else{bn=No;var Ie=Or}else ne=Qt.nodeName,!ne||ne.toLowerCase()!=="input"||Qt.type!=="checkbox"&&Qt.type!=="radio"?Wt&&xs(Wt.elementType)&&(bn=po):bn=mo;if(bn&&(bn=bn(i,Wt))){ll(_e,bn,f,de);break t}Ie&&Ie(i,Qt,Wt),i==="focusout"&&Wt&&Qt.type==="number"&&Wt.memoizedProps.value!=null&&pr(Qt,"number",Qt.value)}switch(Ie=Wt?zi(Wt):window,i){case"focusin":(er(Ie)||Ie.contentEditable==="true")&&(pt=Ie,kt=Wt,Ct=null);break;case"focusout":Ct=kt=pt=null;break;case"mousedown":Bt=!0;break;case"contextmenu":case"mouseup":case"dragend":Bt=!1,xt(_e,f,de);break;case"selectionchange":if(ot)break;case"keydown":case"keyup":xt(_e,f,de)}var rn;if(Qo)t:{switch(i){case"compositionstart":var fn="onCompositionStart";break t;case"compositionend":fn="onCompositionEnd";break t;case"compositionupdate":fn="onCompositionUpdate";break t}fn=void 0}else Lo?sl(i,f)&&(fn="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(fn="onCompositionStart");fn&&(Jo&&f.locale!=="ko"&&(Lo||fn!=="onCompositionStart"?fn==="onCompositionEnd"&&Lo&&(rn=Qi()):($i=de,fo="value"in $i?$i.value:$i.textContent,Lo=!0)),Ie=$f(Wt,fn),0<Ie.length&&(fn=new Ms(fn,i,null,f,de),_e.push({event:fn,listeners:Ie}),rn?fn.data=rn:(rn=al(f),rn!==null&&(fn.data=rn)))),(rn=Ru?tr(i,f):es(i,f))&&(fn=$f(Wt,"onBeforeInput"),0<fn.length&&(Ie=new Ms("onBeforeInput","beforeinput",null,f,de),_e.push({event:Ie,listeners:fn}),Ie.data=rn)),MA(_e,i,Wt,f,de)}c0(_e,s)})}function cc(i,s,f){return{instance:i,listener:s,currentTarget:f}}function $f(i,s){for(var f=s+"Capture",m=[];i!==null;){var w=i,A=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||A===null||(w=Xr(i,f),w!=null&&m.unshift(cc(i,w,A)),w=Xr(i,s),w!=null&&m.push(cc(i,w,A))),i.tag===3)return m;i=i.return}return[]}function NA(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function h0(i,s,f,m,w){for(var A=s._reactName,H=[];f!==null&&f!==m;){var Q=f,St=Q.alternate,Wt=Q.stateNode;if(Q=Q.tag,St!==null&&St===m)break;Q!==5&&Q!==26&&Q!==27||Wt===null||(St=Wt,w?(Wt=Xr(f,A),Wt!=null&&H.unshift(cc(f,Wt,St))):w||(Wt=Xr(f,A),Wt!=null&&H.push(cc(f,Wt,St)))),f=f.return}H.length!==0&&i.push({event:s,listeners:H})}var DA=/\r\n?/g,jA=/\u0000|\uFFFD/g;function d0(i){return(typeof i=="string"?i:""+i).replace(DA,`
`).replace(jA,"")}function p0(i,s){return s=d0(s),d0(i)===s}function jn(i,s,f,m,w,A){switch(f){case"children":typeof m=="string"?s==="body"||s==="textarea"&&m===""||mr(i,m):(typeof m=="number"||typeof m=="bigint")&&s!=="body"&&mr(i,""+m);break;case"className":wn(i,"class",m);break;case"tabIndex":wn(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(i,f,m);break;case"style":ws(i,m,A);break;case"data":if(s!=="object"){wn(i,"data",m);break}case"src":case"href":if(m===""&&(s!=="a"||f!=="href")){i.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(f);break}m=gr(""+m),i.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(f==="formAction"?(s!=="input"&&jn(i,s,"name",w.name,w,null),jn(i,s,"formEncType",w.formEncType,w,null),jn(i,s,"formMethod",w.formMethod,w,null),jn(i,s,"formTarget",w.formTarget,w,null)):(jn(i,s,"encType",w.encType,w,null),jn(i,s,"method",w.method,w,null),jn(i,s,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(f);break}m=gr(""+m),i.setAttribute(f,m);break;case"onClick":m!=null&&(i.onclick=Ci);break;case"onScroll":m!=null&&an("scroll",i);break;case"onScrollEnd":m!=null&&an("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(w.children!=null)throw Error(r(60));i.innerHTML=f}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}f=gr(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(f,""+m):i.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(f,""):i.removeAttribute(f);break;case"capture":case"download":m===!0?i.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(f,m):i.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(f,m):i.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(f):i.setAttribute(f,m);break;case"popover":an("beforetoggle",i),an("toggle",i),Re(i,"popover",m);break;case"xlinkActuate":qi(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":qi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":qi(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":qi(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":qi(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":qi(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":qi(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":qi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":qi(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Re(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=da.get(f)||f,Re(i,f,m))}}function tm(i,s,f,m,w,A){switch(f){case"style":ws(i,m,A);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(w.children!=null)throw Error(r(60));i.innerHTML=f}}break;case"children":typeof m=="string"?mr(i,m):(typeof m=="number"||typeof m=="bigint")&&mr(i,""+m);break;case"onScroll":m!=null&&an("scroll",i);break;case"onScrollEnd":m!=null&&an("scrollend",i);break;case"onClick":m!=null&&(i.onclick=Ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vs.hasOwnProperty(f))t:{if(f[0]==="o"&&f[1]==="n"&&(w=f.endsWith("Capture"),s=f.slice(2,w?f.length-7:void 0),A=i[Tn]||null,A=A!=null?A[f]:null,typeof A=="function"&&i.removeEventListener(s,A,w),typeof m=="function")){typeof A!="function"&&A!==null&&(f in i?i[f]=null:i.hasAttribute(f)&&i.removeAttribute(f)),i.addEventListener(s,m,w);break t}f in i?i[f]=m:m===!0?i.setAttribute(f,""):Re(i,f,m)}}}function Xi(i,s,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":an("error",i),an("load",i);var m=!1,w=!1,A;for(A in f)if(f.hasOwnProperty(A)){var H=f[A];if(H!=null)switch(A){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:jn(i,s,A,H,f,null)}}w&&jn(i,s,"srcSet",f.srcSet,f,null),m&&jn(i,s,"src",f.src,f,null);return;case"input":an("invalid",i);var Q=A=H=w=null,St=null,Wt=null;for(m in f)if(f.hasOwnProperty(m)){var de=f[m];if(de!=null)switch(m){case"name":w=de;break;case"type":H=de;break;case"checked":St=de;break;case"defaultChecked":Wt=de;break;case"value":A=de;break;case"defaultValue":Q=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,s));break;default:jn(i,s,m,de,f,null)}}To(i,A,Q,St,Wt,H,w,!1);return;case"select":an("invalid",i),m=H=A=null;for(w in f)if(f.hasOwnProperty(w)&&(Q=f[w],Q!=null))switch(w){case"value":A=Q;break;case"defaultValue":H=Q;break;case"multiple":m=Q;default:jn(i,s,w,Q,f,null)}s=A,f=H,i.multiple=!!m,s!=null?gn(i,!!m,s,!1):f!=null&&gn(i,!!m,f,!0);return;case"textarea":an("invalid",i),A=w=m=null;for(H in f)if(f.hasOwnProperty(H)&&(Q=f[H],Q!=null))switch(H){case"value":m=Q;break;case"defaultValue":w=Q;break;case"children":A=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(91));break;default:jn(i,s,H,Q,f,null)}Wr(i,m,w,A);return;case"option":for(St in f)if(f.hasOwnProperty(St)&&(m=f[St],m!=null))switch(St){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:jn(i,s,St,m,f,null)}return;case"dialog":an("beforetoggle",i),an("toggle",i),an("cancel",i),an("close",i);break;case"iframe":case"object":an("load",i);break;case"video":case"audio":for(m=0;m<uc.length;m++)an(uc[m],i);break;case"image":an("error",i),an("load",i);break;case"details":an("toggle",i);break;case"embed":case"source":case"link":an("error",i),an("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Wt in f)if(f.hasOwnProperty(Wt)&&(m=f[Wt],m!=null))switch(Wt){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:jn(i,s,Wt,m,f,null)}return;default:if(xs(s)){for(de in f)f.hasOwnProperty(de)&&(m=f[de],m!==void 0&&tm(i,s,de,m,f,void 0));return}}for(Q in f)f.hasOwnProperty(Q)&&(m=f[Q],m!=null&&jn(i,s,Q,m,f,null))}function PA(i,s,f,m){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,A=null,H=null,Q=null,St=null,Wt=null,de=null;for(ne in f){var _e=f[ne];if(f.hasOwnProperty(ne)&&_e!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":St=_e;default:m.hasOwnProperty(ne)||jn(i,s,ne,null,m,_e)}}for(var Qt in m){var ne=m[Qt];if(_e=f[Qt],m.hasOwnProperty(Qt)&&(ne!=null||_e!=null))switch(Qt){case"type":A=ne;break;case"name":w=ne;break;case"checked":Wt=ne;break;case"defaultChecked":de=ne;break;case"value":H=ne;break;case"defaultValue":Q=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:ne!==_e&&jn(i,s,Qt,ne,m,_e)}}co(i,H,Q,St,Wt,de,A,w);return;case"select":ne=H=Q=Qt=null;for(A in f)if(St=f[A],f.hasOwnProperty(A)&&St!=null)switch(A){case"value":break;case"multiple":ne=St;default:m.hasOwnProperty(A)||jn(i,s,A,null,m,St)}for(w in m)if(A=m[w],St=f[w],m.hasOwnProperty(w)&&(A!=null||St!=null))switch(w){case"value":Qt=A;break;case"defaultValue":Q=A;break;case"multiple":H=A;default:A!==St&&jn(i,s,w,A,m,St)}s=Q,f=H,m=ne,Qt!=null?gn(i,!!f,Qt,!1):!!m!=!!f&&(s!=null?gn(i,!!f,s,!0):gn(i,!!f,f?[]:"",!1));return;case"textarea":ne=Qt=null;for(Q in f)if(w=f[Q],f.hasOwnProperty(Q)&&w!=null&&!m.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:jn(i,s,Q,null,m,w)}for(H in m)if(w=m[H],A=f[H],m.hasOwnProperty(H)&&(w!=null||A!=null))switch(H){case"value":Qt=w;break;case"defaultValue":ne=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==A&&jn(i,s,H,w,m,A)}Kr(i,Qt,ne);return;case"option":for(var Be in f)if(Qt=f[Be],f.hasOwnProperty(Be)&&Qt!=null&&!m.hasOwnProperty(Be))switch(Be){case"selected":i.selected=!1;break;default:jn(i,s,Be,null,m,Qt)}for(St in m)if(Qt=m[St],ne=f[St],m.hasOwnProperty(St)&&Qt!==ne&&(Qt!=null||ne!=null))switch(St){case"selected":i.selected=Qt&&typeof Qt!="function"&&typeof Qt!="symbol";break;default:jn(i,s,St,Qt,m,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var We in f)Qt=f[We],f.hasOwnProperty(We)&&Qt!=null&&!m.hasOwnProperty(We)&&jn(i,s,We,null,m,Qt);for(Wt in m)if(Qt=m[Wt],ne=f[Wt],m.hasOwnProperty(Wt)&&Qt!==ne&&(Qt!=null||ne!=null))switch(Wt){case"children":case"dangerouslySetInnerHTML":if(Qt!=null)throw Error(r(137,s));break;default:jn(i,s,Wt,Qt,m,ne)}return;default:if(xs(s)){for(var Pn in f)Qt=f[Pn],f.hasOwnProperty(Pn)&&Qt!==void 0&&!m.hasOwnProperty(Pn)&&tm(i,s,Pn,void 0,m,Qt);for(de in m)Qt=m[de],ne=f[de],!m.hasOwnProperty(de)||Qt===ne||Qt===void 0&&ne===void 0||tm(i,s,de,Qt,m,ne);return}}for(var Ht in f)Qt=f[Ht],f.hasOwnProperty(Ht)&&Qt!=null&&!m.hasOwnProperty(Ht)&&jn(i,s,Ht,null,m,Qt);for(_e in m)Qt=m[_e],ne=f[_e],!m.hasOwnProperty(_e)||Qt===ne||Qt==null&&ne==null||jn(i,s,_e,Qt,m,ne)}function m0(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RA(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,f=performance.getEntriesByType("resource"),m=0;m<f.length;m++){var w=f[m],A=w.transferSize,H=w.initiatorType,Q=w.duration;if(A&&Q&&m0(H)){for(H=0,Q=w.responseEnd,m+=1;m<f.length;m++){var St=f[m],Wt=St.startTime;if(Wt>Q)break;var de=St.transferSize,_e=St.initiatorType;de&&m0(_e)&&(St=St.responseEnd,H+=de*(St<Q?1:(Q-Wt)/(St-Wt)))}if(--m,s+=8*(A+H)/(w.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var em=null,nm=null;function Qf(i){return i.nodeType===9?i:i.ownerDocument}function g0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y0(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function im(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var rm=null;function zA(){var i=window.event;return i&&i.type==="popstate"?i===rm?!1:(rm=i,!0):(rm=null,!1)}var _0=typeof setTimeout=="function"?setTimeout:void 0,BA=typeof clearTimeout=="function"?clearTimeout:void 0,b0=typeof Promise=="function"?Promise:void 0,IA=typeof queueMicrotask=="function"?queueMicrotask:typeof b0<"u"?function(i){return b0.resolve(null).then(i).catch(UA)}:_0;function UA(i){setTimeout(function(){throw i})}function Pa(i){return i==="head"}function v0(i,s){var f=s,m=0;do{var w=f.nextSibling;if(i.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"||f==="/&"){if(m===0){i.removeChild(w),mu(s);return}m--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")m++;else if(f==="html")fc(i.ownerDocument.documentElement);else if(f==="head"){f=i.ownerDocument.head,fc(f);for(var A=f.firstChild;A;){var H=A.nextSibling,Q=A.nodeName;A[Yn]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&A.rel.toLowerCase()==="stylesheet"||f.removeChild(A),A=H}}else f==="body"&&fc(i.ownerDocument.body);f=w}while(f);mu(s)}function w0(i,s){var f=i;i=0;do{var m=f.nextSibling;if(f.nodeType===1?s?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(s?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),m&&m.nodeType===8)if(f=m.data,f==="/$"){if(i===0)break;i--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||i++;f=m}while(f)}function om(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var f=s;switch(s=s.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":om(f),ca(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}i.removeChild(f)}}function FA(i,s,f,m){for(;i.nodeType===1;){var w=f;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[Yn])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(A=i.getAttribute("rel"),A==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(A!==w.rel||i.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||i.getAttribute("title")!==(w.title==null?null:w.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(A=i.getAttribute("src"),(A!==(w.src==null?null:w.src)||i.getAttribute("type")!==(w.type==null?null:w.type)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&A&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var A=w.name==null?null:""+w.name;if(w.type==="hidden"&&i.getAttribute("name")===A)return i}else return i;if(i=_o(i.nextSibling),i===null)break}return null}function HA(i,s,f){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!f||(i=_o(i.nextSibling),i===null))return null;return i}function x0(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=_o(i.nextSibling),i===null))return null;return i}function sm(i){return i.data==="$?"||i.data==="$~"}function am(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function qA(i,s){var f=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||f.readyState!=="loading")s();else{var m=function(){s(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function _o(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var lm=null;function S0(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var f=i.data;if(f==="/$"||f==="/&"){if(s===0)return _o(i.nextSibling);s--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||s++}i=i.nextSibling}return null}function E0(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(s===0)return i;s--}else f!=="/$"&&f!=="/&"||s++}i=i.previousSibling}return null}function T0(i,s,f){switch(s=Qf(f),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function fc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);ca(i)}var bo=new Map,A0=new Set;function Jf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Zs=lt.d;lt.d={f:VA,r:YA,D:ZA,C:KA,L:WA,m:XA,X:$A,S:GA,M:QA};function VA(){var i=Zs.f(),s=Vf();return i||s}function YA(i){var s=An(i);s!==null&&s.tag===5&&s.type==="form"?qb(s):Zs.r(i)}var hu=typeof document>"u"?null:document;function k0(i,s,f){var m=hu;if(m&&typeof s=="string"&&s){var w=xn(s);w='link[rel="'+i+'"][href="'+w+'"]',typeof f=="string"&&(w+='[crossorigin="'+f+'"]'),A0.has(w)||(A0.add(w),i={rel:i,crossOrigin:f,href:s},m.querySelector(w)===null&&(s=m.createElement("link"),Xi(s,"link",i),Qn(s),m.head.appendChild(s)))}}function ZA(i){Zs.D(i),k0("dns-prefetch",i,null)}function KA(i,s){Zs.C(i,s),k0("preconnect",i,s)}function WA(i,s,f){Zs.L(i,s,f);var m=hu;if(m&&i&&s){var w='link[rel="preload"][as="'+xn(s)+'"]';s==="image"&&f&&f.imageSrcSet?(w+='[imagesrcset="'+xn(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(w+='[imagesizes="'+xn(f.imageSizes)+'"]')):w+='[href="'+xn(i)+'"]';var A=w;switch(s){case"style":A=du(i);break;case"script":A=pu(i)}bo.has(A)||(i=y({rel:"preload",href:s==="image"&&f&&f.imageSrcSet?void 0:i,as:s},f),bo.set(A,i),m.querySelector(w)!==null||s==="style"&&m.querySelector(hc(A))||s==="script"&&m.querySelector(dc(A))||(s=m.createElement("link"),Xi(s,"link",i),Qn(s),m.head.appendChild(s)))}}function XA(i,s){Zs.m(i,s);var f=hu;if(f&&i){var m=s&&typeof s.as=="string"?s.as:"script",w='link[rel="modulepreload"][as="'+xn(m)+'"][href="'+xn(i)+'"]',A=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=pu(i)}if(!bo.has(A)&&(i=y({rel:"modulepreload",href:i},s),bo.set(A,i),f.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(dc(A)))return}m=f.createElement("link"),Xi(m,"link",i),Qn(m),f.head.appendChild(m)}}}function GA(i,s,f){Zs.S(i,s,f);var m=hu;if(m&&i){var w=Bi(m).hoistableStyles,A=du(i);s=s||"default";var H=w.get(A);if(!H){var Q={loading:0,preload:null};if(H=m.querySelector(hc(A)))Q.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},f),(f=bo.get(A))&&um(i,f);var St=H=m.createElement("link");Qn(St),Xi(St,"link",i),St._p=new Promise(function(Wt,de){St.onload=Wt,St.onerror=de}),St.addEventListener("load",function(){Q.loading|=1}),St.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,th(H,s,m)}H={type:"stylesheet",instance:H,count:1,state:Q},w.set(A,H)}}}function $A(i,s){Zs.X(i,s);var f=hu;if(f&&i){var m=Bi(f).hoistableScripts,w=pu(i),A=m.get(w);A||(A=f.querySelector(dc(w)),A||(i=y({src:i,async:!0},s),(s=bo.get(w))&&cm(i,s),A=f.createElement("script"),Qn(A),Xi(A,"link",i),f.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},m.set(w,A))}}function QA(i,s){Zs.M(i,s);var f=hu;if(f&&i){var m=Bi(f).hoistableScripts,w=pu(i),A=m.get(w);A||(A=f.querySelector(dc(w)),A||(i=y({src:i,async:!0,type:"module"},s),(s=bo.get(w))&&cm(i,s),A=f.createElement("script"),Qn(A),Xi(A,"link",i),f.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},m.set(w,A))}}function M0(i,s,f,m){var w=(w=Ut.current)?Jf(w):null;if(!w)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(s=du(f.href),f=Bi(w).hoistableStyles,m=f.get(s),m||(m={type:"style",instance:null,count:0,state:null},f.set(s,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){i=du(f.href);var A=Bi(w).hoistableStyles,H=A.get(i);if(H||(w=w.ownerDocument||w,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(i,H),(A=w.querySelector(hc(i)))&&!A._p&&(H.instance=A,H.state.loading=5),bo.has(i)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},bo.set(i,f),A||JA(w,i,f,H.state))),s&&m===null)throw Error(r(528,""));return H}if(s&&m!==null)throw Error(r(529,""));return null;case"script":return s=f.async,f=f.src,typeof f=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=pu(f),f=Bi(w).hoistableScripts,m=f.get(s),m||(m={type:"script",instance:null,count:0,state:null},f.set(s,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function du(i){return'href="'+xn(i)+'"'}function hc(i){return'link[rel="stylesheet"]['+i+"]"}function O0(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function JA(i,s,f,m){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?m.loading=1:(s=i.createElement("link"),m.preload=s,s.addEventListener("load",function(){return m.loading|=1}),s.addEventListener("error",function(){return m.loading|=2}),Xi(s,"link",f),Qn(s),i.head.appendChild(s))}function pu(i){return'[src="'+xn(i)+'"]'}function dc(i){return"script[async]"+i}function C0(i,s,f){if(s.count++,s.instance===null)switch(s.type){case"style":var m=i.querySelector('style[data-href~="'+xn(f.href)+'"]');if(m)return s.instance=m,Qn(m),m;var w=y({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),Qn(m),Xi(m,"style",w),th(m,f.precedence,i),s.instance=m;case"stylesheet":w=du(f.href);var A=i.querySelector(hc(w));if(A)return s.state.loading|=4,s.instance=A,Qn(A),A;m=O0(f),(w=bo.get(w))&&um(m,w),A=(i.ownerDocument||i).createElement("link"),Qn(A);var H=A;return H._p=new Promise(function(Q,St){H.onload=Q,H.onerror=St}),Xi(A,"link",m),s.state.loading|=4,th(A,f.precedence,i),s.instance=A;case"script":return A=pu(f.src),(w=i.querySelector(dc(A)))?(s.instance=w,Qn(w),w):(m=f,(w=bo.get(A))&&(m=y({},f),cm(m,w)),i=i.ownerDocument||i,w=i.createElement("script"),Qn(w),Xi(w,"link",m),i.head.appendChild(w),s.instance=w);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(m=s.instance,s.state.loading|=4,th(m,f.precedence,i));return s.instance}function th(i,s,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,A=w,H=0;H<m.length;H++){var Q=m[H];if(Q.dataset.precedence===s)A=Q;else if(A!==w)break}A?A.parentNode.insertBefore(i,A.nextSibling):(s=f.nodeType===9?f.head:f,s.insertBefore(i,s.firstChild))}function um(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function cm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var eh=null;function L0(i,s,f){if(eh===null){var m=new Map,w=eh=new Map;w.set(f,m)}else w=eh,m=w.get(f),m||(m=new Map,w.set(f,m));if(m.has(i))return m;for(m.set(i,null),f=f.getElementsByTagName(i),w=0;w<f.length;w++){var A=f[w];if(!(A[Yn]||A[hn]||i==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var H=A.getAttribute(s)||"";H=i+H;var Q=m.get(H);Q?Q.push(A):m.set(H,[A])}}return m}function N0(i,s,f){i=i.ownerDocument||i,i.head.insertBefore(f,s==="title"?i.querySelector("head > title"):null)}function tk(i,s,f){if(f===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function D0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function ek(i,s,f,m){if(f.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var w=du(m.href),A=s.querySelector(hc(w));if(A){s=A._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=nh.bind(i),s.then(i,i)),f.state.loading|=4,f.instance=A,Qn(A);return}A=s.ownerDocument||s,m=O0(m),(w=bo.get(w))&&um(m,w),A=A.createElement("link"),Qn(A);var H=A;H._p=new Promise(function(Q,St){H.onload=Q,H.onerror=St}),Xi(A,"link",m),f.instance=A}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(f,s),(s=f.state.preload)&&(f.state.loading&3)===0&&(i.count++,f=nh.bind(i),s.addEventListener("load",f),s.addEventListener("error",f))}}var fm=0;function nk(i,s){return i.stylesheets&&i.count===0&&rh(i,i.stylesheets),0<i.count||0<i.imgCount?function(f){var m=setTimeout(function(){if(i.stylesheets&&rh(i,i.stylesheets),i.unsuspend){var A=i.unsuspend;i.unsuspend=null,A()}},6e4+s);0<i.imgBytes&&fm===0&&(fm=62500*RA());var w=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&rh(i,i.stylesheets),i.unsuspend)){var A=i.unsuspend;i.unsuspend=null,A()}},(i.imgBytes>fm?50:800)+s);return i.unsuspend=f,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(w)}}:null}function nh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ih=null;function rh(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ih=new Map,s.forEach(ik,i),ih=null,nh.call(i))}function ik(i,s){if(!(s.state.loading&4)){var f=ih.get(i);if(f)var m=f.get(null);else{f=new Map,ih.set(i,f);for(var w=i.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<w.length;A++){var H=w[A];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(f.set(H.dataset.precedence,H),m=H)}m&&f.set(null,m)}w=s.instance,H=w.getAttribute("data-precedence"),A=f.get(H)||m,A===m&&f.set(null,w),f.set(H,w),this.count++,m=nh.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),A?A.parentNode.insertBefore(w,A.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(w,i.firstChild)),s.state.loading|=4}}var pc={$$typeof:P,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function rk(i,s,f,m,w,A,H,Q,St){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.hiddenUpdates=Pi(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=A,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=St,this.incompleteTransitions=new Map}function j0(i,s,f,m,w,A,H,Q,St,Wt,de,_e){return i=new rk(i,s,f,H,St,Wt,de,_e,Q),s=1,A===!0&&(s|=24),A=nr(3,null,null,s),i.current=A,A.stateNode=i,s=Vd(),s.refCount++,i.pooledCache=s,s.refCount++,A.memoizedState={element:m,isDehydrated:f,cache:s},Wd(A),i}function P0(i){return i?(i=Zi,i):Zi}function R0(i,s,f,m,w,A){w=P0(w),m.context===null?m.context=w:m.pendingContext=w,m=Ea(s),m.payload={element:f},A=A===void 0?null:A,A!==null&&(m.callback=A),f=Ta(i,m,s),f!==null&&(Pr(f,i,s),Zu(f,i,s))}function z0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<s?f:s}}function hm(i,s){z0(i,s),(i=i.alternate)&&z0(i,s)}function B0(i){if(i.tag===13||i.tag===31){var s=kn(i,67108864);s!==null&&Pr(s,i,67108864),hm(i,67108864)}}function I0(i){if(i.tag===13||i.tag===31){var s=so();s=ln(s);var f=kn(i,s);f!==null&&Pr(f,i,s),hm(i,s)}}var oh=!0;function ok(i,s,f,m){var w=rt.T;rt.T=null;var A=lt.p;try{lt.p=2,dm(i,s,f,m)}finally{lt.p=A,rt.T=w}}function sk(i,s,f,m){var w=rt.T;rt.T=null;var A=lt.p;try{lt.p=8,dm(i,s,f,m)}finally{lt.p=A,rt.T=w}}function dm(i,s,f,m){if(oh){var w=pm(m);if(w===null)Jp(i,s,m,sh,f),F0(i,m);else if(lk(w,i,s,f,m))m.stopPropagation();else if(F0(i,m),s&4&&-1<ak.indexOf(i)){for(;w!==null;){var A=An(w);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var H=yi(A.pendingLanes);if(H!==0){var Q=A;for(Q.pendingLanes|=2,Q.entangledLanes|=2;H;){var St=1<<31-ue(H);Q.entanglements[1]|=St,H&=~St}as(A),(Sn&6)===0&&(Hf=Xt()+500,lc(0))}}break;case 31:case 13:Q=kn(A,2),Q!==null&&Pr(Q,A,2),Vf(),hm(A,2)}if(A=pm(m),A===null&&Jp(i,s,m,sh,f),A===w)break;w=A}w!==null&&m.stopPropagation()}else Jp(i,s,m,null,f)}}function pm(i){return i=Zo(i),mm(i)}var sh=null;function mm(i){if(sh=null,i=Yr(i),i!==null){var s=a(i);if(s===null)i=null;else{var f=s.tag;if(f===13){if(i=l(s),i!==null)return i;i=null}else if(f===31){if(i=c(s),i!==null)return i;i=null}else if(f===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return sh=i,null}function U0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ze()){case N:return 2;case F:return 8;case Y:case bt:return 32;case It:return 268435456;default:return 32}default:return 32}}var gm=!1,Ra=null,za=null,Ba=null,mc=new Map,gc=new Map,Ia=[],ak="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F0(i,s){switch(i){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":mc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":gc.delete(s.pointerId)}}function yc(i,s,f,m,w,A){return i===null||i.nativeEvent!==A?(i={blockedOn:s,domEventName:f,eventSystemFlags:m,nativeEvent:A,targetContainers:[w]},s!==null&&(s=An(s),s!==null&&B0(s)),i):(i.eventSystemFlags|=m,s=i.targetContainers,w!==null&&s.indexOf(w)===-1&&s.push(w),i)}function lk(i,s,f,m,w){switch(s){case"focusin":return Ra=yc(Ra,i,s,f,m,w),!0;case"dragenter":return za=yc(za,i,s,f,m,w),!0;case"mouseover":return Ba=yc(Ba,i,s,f,m,w),!0;case"pointerover":var A=w.pointerId;return mc.set(A,yc(mc.get(A)||null,i,s,f,m,w)),!0;case"gotpointercapture":return A=w.pointerId,gc.set(A,yc(gc.get(A)||null,i,s,f,m,w)),!0}return!1}function H0(i){var s=Yr(i.target);if(s!==null){var f=a(s);if(f!==null){if(s=f.tag,s===13){if(s=l(f),s!==null){i.blockedOn=s,Gi(i.priority,function(){I0(f)});return}}else if(s===31){if(s=c(f),s!==null){i.blockedOn=s,Gi(i.priority,function(){I0(f)});return}}else if(s===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ah(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var f=pm(i.nativeEvent);if(f===null){f=i.nativeEvent;var m=new f.constructor(f.type,f);yr=m,f.target.dispatchEvent(m),yr=null}else return s=An(f),s!==null&&B0(s),i.blockedOn=f,!1;s.shift()}return!0}function q0(i,s,f){ah(i)&&f.delete(s)}function uk(){gm=!1,Ra!==null&&ah(Ra)&&(Ra=null),za!==null&&ah(za)&&(za=null),Ba!==null&&ah(Ba)&&(Ba=null),mc.forEach(q0),gc.forEach(q0)}function lh(i,s){i.blockedOn===s&&(i.blockedOn=null,gm||(gm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,uk)))}var uh=null;function V0(i){uh!==i&&(uh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){uh===i&&(uh=null);for(var s=0;s<i.length;s+=3){var f=i[s],m=i[s+1],w=i[s+2];if(typeof m!="function"){if(mm(m||f)===null)continue;break}var A=An(f);A!==null&&(i.splice(s,3),s-=3,pp(A,{pending:!0,data:w,method:f.method,action:m},m,w))}}))}function mu(i){function s(St){return lh(St,i)}Ra!==null&&lh(Ra,i),za!==null&&lh(za,i),Ba!==null&&lh(Ba,i),mc.forEach(s),gc.forEach(s);for(var f=0;f<Ia.length;f++){var m=Ia[f];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Ia.length&&(f=Ia[0],f.blockedOn===null);)H0(f),f.blockedOn===null&&Ia.shift();if(f=(i.ownerDocument||i).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var w=f[m],A=f[m+1],H=w[Tn]||null;if(typeof A=="function")H||V0(f);else if(H){var Q=null;if(A&&A.hasAttribute("formAction")){if(w=A,H=A[Tn]||null)Q=H.formAction;else if(mm(w)!==null)continue}else Q=H.action;typeof Q=="function"?f[m+1]=Q:(f.splice(m,3),m-=3),V0(f)}}}function Y0(){function i(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(H){return w=H})},focusReset:"manual",scroll:"manual"})}function s(){w!==null&&(w(),w=null),m||setTimeout(f,20)}function f(){if(!m&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,w=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(f,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),w!==null&&(w(),w=null)}}}function ym(i){this._internalRoot=i}ch.prototype.render=ym.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var f=s.current,m=so();R0(f,m,i,s,null,null)},ch.prototype.unmount=ym.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;R0(i.current,2,null,i,null,null),Vf(),s[Un]=null}};function ch(i){this._internalRoot=i}ch.prototype.unstable_scheduleHydration=function(i){if(i){var s=ii();i={blockedOn:null,target:i,priority:s};for(var f=0;f<Ia.length&&s!==0&&s<Ia[f].priority;f++);Ia.splice(f,0,i),f===0&&H0(i)}};var Z0=t.version;if(Z0!=="19.2.0")throw Error(r(527,Z0,"19.2.0"));lt.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var ck={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:rt,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{Ot=fh.inject(ck),Yt=fh}catch{}}return bc.createRoot=function(i,s){if(!o(i))throw Error(r(299));var f=!1,m="",w=Jb,A=tv,H=ev;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(w=s.onUncaughtError),s.onCaughtError!==void 0&&(A=s.onCaughtError),s.onRecoverableError!==void 0&&(H=s.onRecoverableError)),s=j0(i,1,!1,null,null,f,m,null,w,A,H,Y0),i[Un]=s.current,Qp(i),new ym(s)},bc.hydrateRoot=function(i,s,f){if(!o(i))throw Error(r(299));var m=!1,w="",A=Jb,H=tv,Q=ev,St=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onUncaughtError!==void 0&&(A=f.onUncaughtError),f.onCaughtError!==void 0&&(H=f.onCaughtError),f.onRecoverableError!==void 0&&(Q=f.onRecoverableError),f.formState!==void 0&&(St=f.formState)),s=j0(i,1,!0,s,f??null,m,w,St,A,H,Q,Y0),s.context=P0(null),f=s.current,m=so(),m=ln(m),w=Ea(m),w.callback=null,Ta(f,w,m),f=m,s.current.lanes=f,it(s,f),as(s),i[Un]=s.current,Qp(i),new ch(s)},bc.version="19.2.0",bc}var n1;function vk(){if(n1)return vm.exports;n1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),vm.exports=bk(),vm.exports}var wk=vk();const i1=n=>{let t;const e=new Set,r=(d,g)=>{const y=typeof d=="function"?d(t):d;if(!Object.is(y,t)){const b=t;t=g??(typeof y!="object"||y===null)?y:Object.assign({},t,y),e.forEach(S=>S(t,b))}},o=()=>t,c={setState:r,getState:o,getInitialState:()=>h,subscribe:d=>(e.add(d),()=>e.delete(d))},h=t=n(r,o,c);return c},xk=(n=>n?i1(n):i1),Sk=n=>n;function Ek(n,t=Sk){const e=na.useSyncExternalStore(n.subscribe,na.useCallback(()=>t(n.getState()),[n,t]),na.useCallback(()=>t(n.getInitialState()),[n,t]));return na.useDebugValue(e),e}const r1=n=>{const t=xk(n),e=r=>Ek(t,r);return Object.assign(e,t),e},Ad=(n=>n?r1(n):r1);var d_=Object.defineProperty,Tk=Object.getOwnPropertyDescriptor,Ak=Object.getOwnPropertyNames,kk=Object.prototype.hasOwnProperty,qr=(n,t)=>()=>(n&&(t=n(n=0)),t),pe=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports),Cu=(n,t)=>{for(var e in t)d_(n,e,{get:t[e],enumerable:!0})},Mk=(n,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ak(t))!kk.call(n,o)&&o!==e&&d_(n,o,{get:()=>t[o],enumerable:!(r=Tk(t,o))||r.enumerable});return n},zn=n=>Mk(d_({},"__esModule",{value:!0}),n),se=qr(()=>{}),qn={};Cu(qn,{_debugEnd:()=>Cg,_debugProcess:()=>Og,_events:()=>Yg,_eventsCount:()=>Zg,_exiting:()=>mg,_fatalExceptions:()=>Ag,_getActiveHandles:()=>_S,_getActiveRequests:()=>yS,_kill:()=>_g,_linkedBinding:()=>mS,_maxListeners:()=>Vg,_preload_modules:()=>Hg,_rawDebug:()=>hg,_startProfilerIdleNotifier:()=>Lg,_stopProfilerIdleNotifier:()=>Ng,_tickCallback:()=>Mg,abort:()=>Rg,addListener:()=>Kg,allowedNodeEnvironmentFlags:()=>Eg,arch:()=>Qm,argv:()=>eg,argv0:()=>Fg,assert:()=>bS,binding:()=>sg,browser:()=>fg,chdir:()=>ug,config:()=>gg,cpuUsage:()=>Nc,cwd:()=>lg,debugPort:()=>Ug,default:()=>m_,dlopen:()=>gS,domain:()=>pg,emit:()=>Qg,emitWarning:()=>og,env:()=>tg,execArgv:()=>ng,execPath:()=>Ig,exit:()=>xg,features:()=>Tg,hasUncaughtExceptionCaptureCallback:()=>vS,hrtime:()=>zh,kill:()=>wg,listeners:()=>xS,memoryUsage:()=>vg,moduleLoadList:()=>dg,nextTick:()=>dS,off:()=>Xg,on:()=>Xs,once:()=>Wg,openStdin:()=>Sg,pid:()=>zg,platform:()=>Jm,ppid:()=>Bg,prependListener:()=>Jg,prependOnceListener:()=>ty,reallyExit:()=>yg,release:()=>cg,removeAllListeners:()=>$g,removeListener:()=>Gg,resourceUsage:()=>bg,setSourceMapsEnabled:()=>qg,setUncaughtExceptionCaptureCallback:()=>kg,stderr:()=>jg,stdin:()=>Pg,stdout:()=>Dg,title:()=>$m,umask:()=>ag,uptime:()=>wS,version:()=>ig,versions:()=>rg});function p_(n){throw new Error("Node.js process "+n+" is not supported by JSPM core outside of Node.js")}function Ok(){!Nl||!Ol||(Nl=!1,Ol.length?ds=Ol.concat(ds):Vc=-1,ds.length&&hS())}function hS(){if(!Nl){var n=setTimeout(Ok,0);Nl=!0;for(var t=ds.length;t;){for(Ol=ds,ds=[];++Vc<t;)Ol&&Ol[Vc].run();Vc=-1,t=ds.length}Ol=null,Nl=!1,clearTimeout(n)}}function dS(n){var t=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)t[e-1]=arguments[e];ds.push(new pS(n,t)),ds.length===1&&!Nl&&setTimeout(hS,0)}function pS(n,t){this.fun=n,this.array=t}function rr(){}function mS(n){p_("_linkedBinding")}function gS(n){p_("dlopen")}function yS(){return[]}function _S(){return[]}function bS(n,t){if(!n)throw new Error(t||"assertion error")}function vS(){return!1}function wS(){return Js.now()/1e3}function zh(n){var t=Math.floor((Date.now()-Js.now())*.001),e=Js.now()*.001,r=Math.floor(e)+t,o=Math.floor(e%1*1e9);return n&&(r=r-n[0],o=o-n[1],o<0&&(r--,o+=Bh)),[r,o]}function Xs(){return m_}function xS(n){return[]}var ds,Nl,Ol,Vc,$m,Qm,Jm,tg,eg,ng,ig,rg,og,sg,ag,lg,ug,cg,fg,hg,dg,pg,mg,gg,yg,_g,Nc,bg,vg,wg,xg,Sg,Eg,Tg,Ag,kg,Mg,Og,Cg,Lg,Ng,Dg,jg,Pg,Rg,zg,Bg,Ig,Ug,Fg,Hg,qg,Js,Em,Bh,Vg,Yg,Zg,Kg,Wg,Xg,Gg,$g,Qg,Jg,ty,m_,Ck=qr(()=>{se(),le(),ae(),ds=[],Nl=!1,Vc=-1,pS.prototype.run=function(){this.fun.apply(null,this.array)},$m="browser",Qm="x64",Jm="browser",tg={PATH:"/usr/bin",LANG:typeof navigator<"u"?navigator.language+".UTF-8":void 0,PWD:"/",HOME:"/home",TMP:"/tmp"},eg=["/usr/bin/node"],ng=[],ig="v16.8.0",rg={},og=function(n,t){console.warn((t?t+": ":"")+n)},sg=function(n){p_("binding")},ag=function(n){return 0},lg=function(){return"/"},ug=function(n){},cg={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},fg=!0,hg=rr,dg=[],pg={},mg=!1,gg={},yg=rr,_g=rr,Nc=function(){return{}},bg=Nc,vg=Nc,wg=rr,xg=rr,Sg=rr,Eg={},Tg={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Ag=rr,kg=rr,Mg=rr,Og=rr,Cg=rr,Lg=rr,Ng=rr,Dg=void 0,jg=void 0,Pg=void 0,Rg=rr,zg=2,Bg=1,Ig="/bin/usr/node",Ug=9229,Fg="node",Hg=[],qg=rr,Js={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Js.now===void 0&&(Em=Date.now(),Js.timing&&Js.timing.navigationStart&&(Em=Js.timing.navigationStart),Js.now=()=>Date.now()-Em),Bh=1e9,zh.bigint=function(n){var t=zh(n);return typeof BigInt>"u"?t[0]*Bh+t[1]:BigInt(t[0]*Bh)+BigInt(t[1])},Vg=10,Yg={},Zg=0,Kg=Xs,Wg=Xs,Xg=Xs,Gg=Xs,$g=Xs,Qg=rr,Jg=Xs,ty=Xs,m_={version:ig,versions:rg,arch:Qm,platform:Jm,browser:fg,release:cg,_rawDebug:hg,moduleLoadList:dg,binding:sg,_linkedBinding:mS,_events:Yg,_eventsCount:Zg,_maxListeners:Vg,on:Xs,addListener:Kg,once:Wg,off:Xg,removeListener:Gg,removeAllListeners:$g,emit:Qg,prependListener:Jg,prependOnceListener:ty,listeners:xS,domain:pg,_exiting:mg,config:gg,dlopen:gS,uptime:wS,_getActiveRequests:yS,_getActiveHandles:_S,reallyExit:yg,_kill:_g,cpuUsage:Nc,resourceUsage:bg,memoryUsage:vg,kill:wg,exit:xg,openStdin:Sg,allowedNodeEnvironmentFlags:Eg,assert:bS,features:Tg,_fatalExceptions:Ag,setUncaughtExceptionCaptureCallback:kg,hasUncaughtExceptionCaptureCallback:vS,emitWarning:og,nextTick:dS,_tickCallback:Mg,_debugProcess:Og,_debugEnd:Cg,_startProfilerIdleNotifier:Lg,_stopProfilerIdleNotifier:Ng,stdout:Dg,stdin:Pg,stderr:jg,abort:Rg,umask:ag,chdir:ug,cwd:lg,env:tg,title:$m,argv:eg,execArgv:ng,pid:zg,ppid:Bg,execPath:Ig,debugPort:Ug,hrtime:zh,argv0:Fg,_preload_modules:Hg,setSourceMapsEnabled:qg}}),ae=qr(()=>{Ck()});function Lk(){if(ey)return vu;ey=!0,vu.byteLength=c,vu.toByteArray=d,vu.fromByteArray=b;for(var n=[],t=[],e=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=r.length;o<a;++o)n[o]=r[o],t[r.charCodeAt(o)]=o;t[45]=62,t[95]=63;function l(S){var x=S.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=S.indexOf("=");E===-1&&(E=x);var k=E===x?0:4-E%4;return[E,k]}function c(S){var x=l(S),E=x[0],k=x[1];return(E+k)*3/4-k}function h(S,x,E){return(x+E)*3/4-E}function d(S){var x,E=l(S),k=E[0],C=E[1],M=new e(h(S,k,C)),P=0,z=C>0?k-4:k,D;for(D=0;D<z;D+=4)x=t[S.charCodeAt(D)]<<18|t[S.charCodeAt(D+1)]<<12|t[S.charCodeAt(D+2)]<<6|t[S.charCodeAt(D+3)],M[P++]=x>>16&255,M[P++]=x>>8&255,M[P++]=x&255;return C===2&&(x=t[S.charCodeAt(D)]<<2|t[S.charCodeAt(D+1)]>>4,M[P++]=x&255),C===1&&(x=t[S.charCodeAt(D)]<<10|t[S.charCodeAt(D+1)]<<4|t[S.charCodeAt(D+2)]>>2,M[P++]=x>>8&255,M[P++]=x&255),M}function g(S){return n[S>>18&63]+n[S>>12&63]+n[S>>6&63]+n[S&63]}function y(S,x,E){for(var k,C=[],M=x;M<E;M+=3)k=(S[M]<<16&16711680)+(S[M+1]<<8&65280)+(S[M+2]&255),C.push(g(k));return C.join("")}function b(S){for(var x,E=S.length,k=E%3,C=[],M=16383,P=0,z=E-k;P<z;P+=M)C.push(y(S,P,P+M>z?z:P+M));return k===1?(x=S[E-1],C.push(n[x>>2]+n[x<<4&63]+"==")):k===2&&(x=(S[E-2]<<8)+S[E-1],C.push(n[x>>10]+n[x>>4&63]+n[x<<2&63]+"=")),C.join("")}return vu}function Nk(){return ny?Dc:(ny=!0,Dc.read=function(n,t,e,r,o){var a,l,c=o*8-r-1,h=(1<<c)-1,d=h>>1,g=-7,y=e?o-1:0,b=e?-1:1,S=n[t+y];for(y+=b,a=S&(1<<-g)-1,S>>=-g,g+=c;g>0;a=a*256+n[t+y],y+=b,g-=8);for(l=a&(1<<-g)-1,a>>=-g,g+=r;g>0;l=l*256+n[t+y],y+=b,g-=8);if(a===0)a=1-d;else{if(a===h)return l?NaN:(S?-1:1)*(1/0);l=l+Math.pow(2,r),a=a-d}return(S?-1:1)*l*Math.pow(2,a-r)},Dc.write=function(n,t,e,r,o,a){var l,c,h,d=a*8-o-1,g=(1<<d)-1,y=g>>1,b=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=r?0:a-1,x=r?1:-1,E=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,l=g):(l=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-l))<1&&(l--,h*=2),l+y>=1?t+=b/h:t+=b*Math.pow(2,1-y),t*h>=2&&(l++,h/=2),l+y>=g?(c=0,l=g):l+y>=1?(c=(t*h-1)*Math.pow(2,o),l=l+y):(c=t*Math.pow(2,y-1)*Math.pow(2,o),l=0));o>=8;n[e+S]=c&255,S+=x,c/=256,o-=8);for(l=l<<o|c,d+=o;d>0;n[e+S]=l&255,S+=x,l/=256,d-=8);n[e+S-x]|=E*128},Dc)}function Dk(){if(iy)return Ha;iy=!0;let n=Lk(),t=Nk(),e=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Ha.Buffer=l,Ha.SlowBuffer=C,Ha.INSPECT_MAX_BYTES=50;let r=2147483647;Ha.kMaxLength=r,l.TYPED_ARRAY_SUPPORT=o(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{let N=new Uint8Array(1),F={foo:function(){return 42}};return Object.setPrototypeOf(F,Uint8Array.prototype),Object.setPrototypeOf(N,F),N.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function a(N){if(N>r)throw new RangeError('The value "'+N+'" is invalid for option "size"');let F=new Uint8Array(N);return Object.setPrototypeOf(F,l.prototype),F}function l(N,F,Y){if(typeof N=="number"){if(typeof F=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(N)}return c(N,F,Y)}l.poolSize=8192;function c(N,F,Y){if(typeof N=="string")return y(N,F);if(ArrayBuffer.isView(N))return S(N);if(N==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(wt(N,ArrayBuffer)||N&&wt(N.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(wt(N,SharedArrayBuffer)||N&&wt(N.buffer,SharedArrayBuffer)))return x(N,F,Y);if(typeof N=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let bt=N.valueOf&&N.valueOf();if(bt!=null&&bt!==N)return l.from(bt,F,Y);let It=E(N);if(It)return It;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof N[Symbol.toPrimitive]=="function")return l.from(N[Symbol.toPrimitive]("string"),F,Y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}l.from=function(N,F,Y){return c(N,F,Y)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function h(N){if(typeof N!="number")throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function d(N,F,Y){return h(N),N<=0?a(N):F!==void 0?typeof Y=="string"?a(N).fill(F,Y):a(N).fill(F):a(N)}l.alloc=function(N,F,Y){return d(N,F,Y)};function g(N){return h(N),a(N<0?0:k(N)|0)}l.allocUnsafe=function(N){return g(N)},l.allocUnsafeSlow=function(N){return g(N)};function y(N,F){if((typeof F!="string"||F==="")&&(F="utf8"),!l.isEncoding(F))throw new TypeError("Unknown encoding: "+F);let Y=M(N,F)|0,bt=a(Y),It=bt.write(N,F);return It!==Y&&(bt=bt.slice(0,It)),bt}function b(N){let F=N.length<0?0:k(N.length)|0,Y=a(F);for(let bt=0;bt<F;bt+=1)Y[bt]=N[bt]&255;return Y}function S(N){if(wt(N,Uint8Array)){let F=new Uint8Array(N);return x(F.buffer,F.byteOffset,F.byteLength)}return b(N)}function x(N,F,Y){if(F<0||N.byteLength<F)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<F+(Y||0))throw new RangeError('"length" is outside of buffer bounds');let bt;return F===void 0&&Y===void 0?bt=new Uint8Array(N):Y===void 0?bt=new Uint8Array(N,F):bt=new Uint8Array(N,F,Y),Object.setPrototypeOf(bt,l.prototype),bt}function E(N){if(l.isBuffer(N)){let F=k(N.length)|0,Y=a(F);return Y.length===0||N.copy(Y,0,0,F),Y}if(N.length!==void 0)return typeof N.length!="number"||fe(N.length)?a(0):b(N);if(N.type==="Buffer"&&Array.isArray(N.data))return b(N.data)}function k(N){if(N>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return N|0}function C(N){return+N!=N&&(N=0),l.alloc(+N)}l.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==l.prototype},l.compare=function(N,F){if(wt(N,Uint8Array)&&(N=l.from(N,N.offset,N.byteLength)),wt(F,Uint8Array)&&(F=l.from(F,F.offset,F.byteLength)),!l.isBuffer(N)||!l.isBuffer(F))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===F)return 0;let Y=N.length,bt=F.length;for(let It=0,ee=Math.min(Y,bt);It<ee;++It)if(N[It]!==F[It]){Y=N[It],bt=F[It];break}return Y<bt?-1:bt<Y?1:0},l.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(N,F){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return l.alloc(0);let Y;if(F===void 0)for(F=0,Y=0;Y<N.length;++Y)F+=N[Y].length;let bt=l.allocUnsafe(F),It=0;for(Y=0;Y<N.length;++Y){let ee=N[Y];if(wt(ee,Uint8Array))It+ee.length>bt.length?(l.isBuffer(ee)||(ee=l.from(ee)),ee.copy(bt,It)):Uint8Array.prototype.set.call(bt,ee,It);else if(l.isBuffer(ee))ee.copy(bt,It);else throw new TypeError('"list" argument must be an Array of Buffers');It+=ee.length}return bt};function M(N,F){if(l.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||wt(N,ArrayBuffer))return N.byteLength;if(typeof N!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);let Y=N.length,bt=arguments.length>2&&arguments[2]===!0;if(!bt&&Y===0)return 0;let It=!1;for(;;)switch(F){case"ascii":case"latin1":case"binary":return Y;case"utf8":case"utf-8":return Et(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y*2;case"hex":return Y>>>1;case"base64":return re(N).length;default:if(It)return bt?-1:Et(N).length;F=(""+F).toLowerCase(),It=!0}}l.byteLength=M;function P(N,F,Y){let bt=!1;if((F===void 0||F<0)&&(F=0),F>this.length||((Y===void 0||Y>this.length)&&(Y=this.length),Y<=0)||(Y>>>=0,F>>>=0,Y<=F))return"";for(N||(N="utf8");;)switch(N){case"hex":return et(this,F,Y);case"utf8":case"utf-8":return mt(this,F,Y);case"ascii":return rt(this,F,Y);case"latin1":case"binary":return lt(this,F,Y);case"base64":return G(this,F,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jt(this,F,Y);default:if(bt)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),bt=!0}}l.prototype._isBuffer=!0;function z(N,F,Y){let bt=N[F];N[F]=N[Y],N[Y]=bt}l.prototype.swap16=function(){let N=this.length;if(N%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let F=0;F<N;F+=2)z(this,F,F+1);return this},l.prototype.swap32=function(){let N=this.length;if(N%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let F=0;F<N;F+=4)z(this,F,F+3),z(this,F+1,F+2);return this},l.prototype.swap64=function(){let N=this.length;if(N%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let F=0;F<N;F+=8)z(this,F,F+7),z(this,F+1,F+6),z(this,F+2,F+5),z(this,F+3,F+4);return this},l.prototype.toString=function(){let N=this.length;return N===0?"":arguments.length===0?mt(this,0,N):P.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(N){if(!l.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N?!0:l.compare(this,N)===0},l.prototype.inspect=function(){let N="",F=Ha.INSPECT_MAX_BYTES;return N=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim(),this.length>F&&(N+=" ... "),"<Buffer "+N+">"},e&&(l.prototype[e]=l.prototype.inspect),l.prototype.compare=function(N,F,Y,bt,It){if(wt(N,Uint8Array)&&(N=l.from(N,N.offset,N.byteLength)),!l.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(F===void 0&&(F=0),Y===void 0&&(Y=N?N.length:0),bt===void 0&&(bt=0),It===void 0&&(It=this.length),F<0||Y>N.length||bt<0||It>this.length)throw new RangeError("out of range index");if(bt>=It&&F>=Y)return 0;if(bt>=It)return-1;if(F>=Y)return 1;if(F>>>=0,Y>>>=0,bt>>>=0,It>>>=0,this===N)return 0;let ee=It-bt,we=Y-F,Ot=Math.min(ee,we),Yt=this.slice(bt,It),je=N.slice(F,Y);for(let ue=0;ue<Ot;++ue)if(Yt[ue]!==je[ue]){ee=Yt[ue],we=je[ue];break}return ee<we?-1:we<ee?1:0};function D(N,F,Y,bt,It){if(N.length===0)return-1;if(typeof Y=="string"?(bt=Y,Y=0):Y>2147483647?Y=2147483647:Y<-2147483648&&(Y=-2147483648),Y=+Y,fe(Y)&&(Y=It?0:N.length-1),Y<0&&(Y=N.length+Y),Y>=N.length){if(It)return-1;Y=N.length-1}else if(Y<0)if(It)Y=0;else return-1;if(typeof F=="string"&&(F=l.from(F,bt)),l.isBuffer(F))return F.length===0?-1:B(N,F,Y,bt,It);if(typeof F=="number")return F=F&255,typeof Uint8Array.prototype.indexOf=="function"?It?Uint8Array.prototype.indexOf.call(N,F,Y):Uint8Array.prototype.lastIndexOf.call(N,F,Y):B(N,[F],Y,bt,It);throw new TypeError("val must be string, number or Buffer")}function B(N,F,Y,bt,It){let ee=1,we=N.length,Ot=F.length;if(bt!==void 0&&(bt=String(bt).toLowerCase(),bt==="ucs2"||bt==="ucs-2"||bt==="utf16le"||bt==="utf-16le")){if(N.length<2||F.length<2)return-1;ee=2,we/=2,Ot/=2,Y/=2}function Yt(ue,Fe){return ee===1?ue[Fe]:ue.readUInt16BE(Fe*ee)}let je;if(It){let ue=-1;for(je=Y;je<we;je++)if(Yt(N,je)===Yt(F,ue===-1?0:je-ue)){if(ue===-1&&(ue=je),je-ue+1===Ot)return ue*ee}else ue!==-1&&(je-=je-ue),ue=-1}else for(Y+Ot>we&&(Y=we-Ot),je=Y;je>=0;je--){let ue=!0;for(let Fe=0;Fe<Ot;Fe++)if(Yt(N,je+Fe)!==Yt(F,Fe)){ue=!1;break}if(ue)return je}return-1}l.prototype.includes=function(N,F,Y){return this.indexOf(N,F,Y)!==-1},l.prototype.indexOf=function(N,F,Y){return D(this,N,F,Y,!0)},l.prototype.lastIndexOf=function(N,F,Y){return D(this,N,F,Y,!1)};function R(N,F,Y,bt){Y=Number(Y)||0;let It=N.length-Y;bt?(bt=Number(bt),bt>It&&(bt=It)):bt=It;let ee=F.length;bt>ee/2&&(bt=ee/2);let we;for(we=0;we<bt;++we){let Ot=parseInt(F.substr(we*2,2),16);if(fe(Ot))return we;N[Y+we]=Ot}return we}function V(N,F,Y,bt){return he(Et(F,N.length-Y),N,Y,bt)}function J(N,F,Y,bt){return he(Vt(F),N,Y,bt)}function tt(N,F,Y,bt){return he(re(F),N,Y,bt)}function st(N,F,Y,bt){return he(ie(F,N.length-Y),N,Y,bt)}l.prototype.write=function(N,F,Y,bt){if(F===void 0)bt="utf8",Y=this.length,F=0;else if(Y===void 0&&typeof F=="string")bt=F,Y=this.length,F=0;else if(isFinite(F))F=F>>>0,isFinite(Y)?(Y=Y>>>0,bt===void 0&&(bt="utf8")):(bt=Y,Y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let It=this.length-F;if((Y===void 0||Y>It)&&(Y=It),N.length>0&&(Y<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");bt||(bt="utf8");let ee=!1;for(;;)switch(bt){case"hex":return R(this,N,F,Y);case"utf8":case"utf-8":return V(this,N,F,Y);case"ascii":case"latin1":case"binary":return J(this,N,F,Y);case"base64":return tt(this,N,F,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return st(this,N,F,Y);default:if(ee)throw new TypeError("Unknown encoding: "+bt);bt=(""+bt).toLowerCase(),ee=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function G(N,F,Y){return F===0&&Y===N.length?n.fromByteArray(N):n.fromByteArray(N.slice(F,Y))}function mt(N,F,Y){Y=Math.min(N.length,Y);let bt=[],It=F;for(;It<Y;){let ee=N[It],we=null,Ot=ee>239?4:ee>223?3:ee>191?2:1;if(It+Ot<=Y){let Yt,je,ue,Fe;switch(Ot){case 1:ee<128&&(we=ee);break;case 2:Yt=N[It+1],(Yt&192)===128&&(Fe=(ee&31)<<6|Yt&63,Fe>127&&(we=Fe));break;case 3:Yt=N[It+1],je=N[It+2],(Yt&192)===128&&(je&192)===128&&(Fe=(ee&15)<<12|(Yt&63)<<6|je&63,Fe>2047&&(Fe<55296||Fe>57343)&&(we=Fe));break;case 4:Yt=N[It+1],je=N[It+2],ue=N[It+3],(Yt&192)===128&&(je&192)===128&&(ue&192)===128&&(Fe=(ee&15)<<18|(Yt&63)<<12|(je&63)<<6|ue&63,Fe>65535&&Fe<1114112&&(we=Fe))}}we===null?(we=65533,Ot=1):we>65535&&(we-=65536,bt.push(we>>>10&1023|55296),we=56320|we&1023),bt.push(we),It+=Ot}return ut(bt)}let ht=4096;function ut(N){let F=N.length;if(F<=ht)return String.fromCharCode.apply(String,N);let Y="",bt=0;for(;bt<F;)Y+=String.fromCharCode.apply(String,N.slice(bt,bt+=ht));return Y}function rt(N,F,Y){let bt="";Y=Math.min(N.length,Y);for(let It=F;It<Y;++It)bt+=String.fromCharCode(N[It]&127);return bt}function lt(N,F,Y){let bt="";Y=Math.min(N.length,Y);for(let It=F;It<Y;++It)bt+=String.fromCharCode(N[It]);return bt}function et(N,F,Y){let bt=N.length;(!F||F<0)&&(F=0),(!Y||Y<0||Y>bt)&&(Y=bt);let It="";for(let ee=F;ee<Y;++ee)It+=ve[N[ee]];return It}function jt(N,F,Y){let bt=N.slice(F,Y),It="";for(let ee=0;ee<bt.length-1;ee+=2)It+=String.fromCharCode(bt[ee]+bt[ee+1]*256);return It}l.prototype.slice=function(N,F){let Y=this.length;N=~~N,F=F===void 0?Y:~~F,N<0?(N+=Y,N<0&&(N=0)):N>Y&&(N=Y),F<0?(F+=Y,F<0&&(F=0)):F>Y&&(F=Y),F<N&&(F=N);let bt=this.subarray(N,F);return Object.setPrototypeOf(bt,l.prototype),bt};function nt(N,F,Y){if(N%1!==0||N<0)throw new RangeError("offset is not uint");if(N+F>Y)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(N,F,Y){N=N>>>0,F=F>>>0,Y||nt(N,F,this.length);let bt=this[N],It=1,ee=0;for(;++ee<F&&(It*=256);)bt+=this[N+ee]*It;return bt},l.prototype.readUintBE=l.prototype.readUIntBE=function(N,F,Y){N=N>>>0,F=F>>>0,Y||nt(N,F,this.length);let bt=this[N+--F],It=1;for(;F>0&&(It*=256);)bt+=this[N+--F]*It;return bt},l.prototype.readUint8=l.prototype.readUInt8=function(N,F){return N=N>>>0,F||nt(N,1,this.length),this[N]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(N,F){return N=N>>>0,F||nt(N,2,this.length),this[N]|this[N+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(N,F){return N=N>>>0,F||nt(N,2,this.length),this[N]<<8|this[N+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(N,F){return N=N>>>0,F||nt(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+this[N+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(N,F){return N=N>>>0,F||nt(N,4,this.length),this[N]*16777216+(this[N+1]<<16|this[N+2]<<8|this[N+3])},l.prototype.readBigUInt64LE=Xt(function(N){N=N>>>0,Tt(N,"offset");let F=this[N],Y=this[N+7];(F===void 0||Y===void 0)&&ce(N,this.length-8);let bt=F+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24,It=this[++N]+this[++N]*2**8+this[++N]*2**16+Y*2**24;return BigInt(bt)+(BigInt(It)<<BigInt(32))}),l.prototype.readBigUInt64BE=Xt(function(N){N=N>>>0,Tt(N,"offset");let F=this[N],Y=this[N+7];(F===void 0||Y===void 0)&&ce(N,this.length-8);let bt=F*2**24+this[++N]*2**16+this[++N]*2**8+this[++N],It=this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+Y;return(BigInt(bt)<<BigInt(32))+BigInt(It)}),l.prototype.readIntLE=function(N,F,Y){N=N>>>0,F=F>>>0,Y||nt(N,F,this.length);let bt=this[N],It=1,ee=0;for(;++ee<F&&(It*=256);)bt+=this[N+ee]*It;return It*=128,bt>=It&&(bt-=Math.pow(2,8*F)),bt},l.prototype.readIntBE=function(N,F,Y){N=N>>>0,F=F>>>0,Y||nt(N,F,this.length);let bt=F,It=1,ee=this[N+--bt];for(;bt>0&&(It*=256);)ee+=this[N+--bt]*It;return It*=128,ee>=It&&(ee-=Math.pow(2,8*F)),ee},l.prototype.readInt8=function(N,F){return N=N>>>0,F||nt(N,1,this.length),this[N]&128?(255-this[N]+1)*-1:this[N]},l.prototype.readInt16LE=function(N,F){N=N>>>0,F||nt(N,2,this.length);let Y=this[N]|this[N+1]<<8;return Y&32768?Y|4294901760:Y},l.prototype.readInt16BE=function(N,F){N=N>>>0,F||nt(N,2,this.length);let Y=this[N+1]|this[N]<<8;return Y&32768?Y|4294901760:Y},l.prototype.readInt32LE=function(N,F){return N=N>>>0,F||nt(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},l.prototype.readInt32BE=function(N,F){return N=N>>>0,F||nt(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},l.prototype.readBigInt64LE=Xt(function(N){N=N>>>0,Tt(N,"offset");let F=this[N],Y=this[N+7];(F===void 0||Y===void 0)&&ce(N,this.length-8);let bt=this[N+4]+this[N+5]*2**8+this[N+6]*2**16+(Y<<24);return(BigInt(bt)<<BigInt(32))+BigInt(F+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24)}),l.prototype.readBigInt64BE=Xt(function(N){N=N>>>0,Tt(N,"offset");let F=this[N],Y=this[N+7];(F===void 0||Y===void 0)&&ce(N,this.length-8);let bt=(F<<24)+this[++N]*2**16+this[++N]*2**8+this[++N];return(BigInt(bt)<<BigInt(32))+BigInt(this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+Y)}),l.prototype.readFloatLE=function(N,F){return N=N>>>0,F||nt(N,4,this.length),t.read(this,N,!0,23,4)},l.prototype.readFloatBE=function(N,F){return N=N>>>0,F||nt(N,4,this.length),t.read(this,N,!1,23,4)},l.prototype.readDoubleLE=function(N,F){return N=N>>>0,F||nt(N,8,this.length),t.read(this,N,!0,52,8)},l.prototype.readDoubleBE=function(N,F){return N=N>>>0,F||nt(N,8,this.length),t.read(this,N,!1,52,8)};function Z(N,F,Y,bt,It,ee){if(!l.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(F>It||F<ee)throw new RangeError('"value" argument is out of bounds');if(Y+bt>N.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(N,F,Y,bt){if(N=+N,F=F>>>0,Y=Y>>>0,!bt){let we=Math.pow(2,8*Y)-1;Z(this,N,F,Y,we,0)}let It=1,ee=0;for(this[F]=N&255;++ee<Y&&(It*=256);)this[F+ee]=N/It&255;return F+Y},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(N,F,Y,bt){if(N=+N,F=F>>>0,Y=Y>>>0,!bt){let we=Math.pow(2,8*Y)-1;Z(this,N,F,Y,we,0)}let It=Y-1,ee=1;for(this[F+It]=N&255;--It>=0&&(ee*=256);)this[F+It]=N/ee&255;return F+Y},l.prototype.writeUint8=l.prototype.writeUInt8=function(N,F,Y){return N=+N,F=F>>>0,Y||Z(this,N,F,1,255,0),this[F]=N&255,F+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(N,F,Y){return N=+N,F=F>>>0,Y||Z(this,N,F,2,65535,0),this[F]=N&255,this[F+1]=N>>>8,F+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(N,F,Y){return N=+N,F=F>>>0,Y||Z(this,N,F,2,65535,0),this[F]=N>>>8,this[F+1]=N&255,F+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(N,F,Y){return N=+N,F=F>>>0,Y||Z(this,N,F,4,4294967295,0),this[F+3]=N>>>24,this[F+2]=N>>>16,this[F+1]=N>>>8,this[F]=N&255,F+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(N,F,Y){return N=+N,F=F>>>0,Y||Z(this,N,F,4,4294967295,0),this[F]=N>>>24,this[F+1]=N>>>16,this[F+2]=N>>>8,this[F+3]=N&255,F+4};function K(N,F,Y,bt,It){Nt(F,bt,It,N,Y,7);let ee=Number(F&BigInt(4294967295));N[Y++]=ee,ee=ee>>8,N[Y++]=ee,ee=ee>>8,N[Y++]=ee,ee=ee>>8,N[Y++]=ee;let we=Number(F>>BigInt(32)&BigInt(4294967295));return N[Y++]=we,we=we>>8,N[Y++]=we,we=we>>8,N[Y++]=we,we=we>>8,N[Y++]=we,Y}function at(N,F,Y,bt,It){Nt(F,bt,It,N,Y,7);let ee=Number(F&BigInt(4294967295));N[Y+7]=ee,ee=ee>>8,N[Y+6]=ee,ee=ee>>8,N[Y+5]=ee,ee=ee>>8,N[Y+4]=ee;let we=Number(F>>BigInt(32)&BigInt(4294967295));return N[Y+3]=we,we=we>>8,N[Y+2]=we,we=we>>8,N[Y+1]=we,we=we>>8,N[Y]=we,Y+8}l.prototype.writeBigUInt64LE=Xt(function(N,F=0){return K(this,N,F,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=Xt(function(N,F=0){return at(this,N,F,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(N,F,Y,bt){if(N=+N,F=F>>>0,!bt){let Ot=Math.pow(2,8*Y-1);Z(this,N,F,Y,Ot-1,-Ot)}let It=0,ee=1,we=0;for(this[F]=N&255;++It<Y&&(ee*=256);)N<0&&we===0&&this[F+It-1]!==0&&(we=1),this[F+It]=(N/ee>>0)-we&255;return F+Y},l.prototype.writeIntBE=function(N,F,Y,bt){if(N=+N,F=F>>>0,!bt){let Ot=Math.pow(2,8*Y-1);Z(this,N,F,Y,Ot-1,-Ot)}let It=Y-1,ee=1,we=0;for(this[F+It]=N&255;--It>=0&&(ee*=256);)N<0&&we===0&&this[F+It+1]!==0&&(we=1),this[F+It]=(N/ee>>0)-we&255;return F+Y},l.prototype.writeInt8=function(N,F,Y){return N=+N,F=F>>>0,Y||Z(this,N,F,1,127,-128),N<0&&(N=255+N+1),this[F]=N&255,F+1},l.prototype.writeInt16LE=function(N,F,Y){return N=+N,F=F>>>0,Y||Z(this,N,F,2,32767,-32768),this[F]=N&255,this[F+1]=N>>>8,F+2},l.prototype.writeInt16BE=function(N,F,Y){return N=+N,F=F>>>0,Y||Z(this,N,F,2,32767,-32768),this[F]=N>>>8,this[F+1]=N&255,F+2},l.prototype.writeInt32LE=function(N,F,Y){return N=+N,F=F>>>0,Y||Z(this,N,F,4,2147483647,-2147483648),this[F]=N&255,this[F+1]=N>>>8,this[F+2]=N>>>16,this[F+3]=N>>>24,F+4},l.prototype.writeInt32BE=function(N,F,Y){return N=+N,F=F>>>0,Y||Z(this,N,F,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[F]=N>>>24,this[F+1]=N>>>16,this[F+2]=N>>>8,this[F+3]=N&255,F+4},l.prototype.writeBigInt64LE=Xt(function(N,F=0){return K(this,N,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=Xt(function(N,F=0){return at(this,N,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function At(N,F,Y,bt,It,ee){if(Y+bt>N.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("Index out of range")}function gt(N,F,Y,bt,It){return F=+F,Y=Y>>>0,It||At(N,F,Y,4),t.write(N,F,Y,bt,23,4),Y+4}l.prototype.writeFloatLE=function(N,F,Y){return gt(this,N,F,!0,Y)},l.prototype.writeFloatBE=function(N,F,Y){return gt(this,N,F,!1,Y)};function Ut(N,F,Y,bt,It){return F=+F,Y=Y>>>0,It||At(N,F,Y,8),t.write(N,F,Y,bt,52,8),Y+8}l.prototype.writeDoubleLE=function(N,F,Y){return Ut(this,N,F,!0,Y)},l.prototype.writeDoubleBE=function(N,F,Y){return Ut(this,N,F,!1,Y)},l.prototype.copy=function(N,F,Y,bt){if(!l.isBuffer(N))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),!bt&&bt!==0&&(bt=this.length),F>=N.length&&(F=N.length),F||(F=0),bt>0&&bt<Y&&(bt=Y),bt===Y||N.length===0||this.length===0)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(bt<0)throw new RangeError("sourceEnd out of bounds");bt>this.length&&(bt=this.length),N.length-F<bt-Y&&(bt=N.length-F+Y);let It=bt-Y;return this===N&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(F,Y,bt):Uint8Array.prototype.set.call(N,this.subarray(Y,bt),F),It},l.prototype.fill=function(N,F,Y,bt){if(typeof N=="string"){if(typeof F=="string"?(bt=F,F=0,Y=this.length):typeof Y=="string"&&(bt=Y,Y=this.length),bt!==void 0&&typeof bt!="string")throw new TypeError("encoding must be a string");if(typeof bt=="string"&&!l.isEncoding(bt))throw new TypeError("Unknown encoding: "+bt);if(N.length===1){let ee=N.charCodeAt(0);(bt==="utf8"&&ee<128||bt==="latin1")&&(N=ee)}}else typeof N=="number"?N=N&255:typeof N=="boolean"&&(N=Number(N));if(F<0||this.length<F||this.length<Y)throw new RangeError("Out of range index");if(Y<=F)return this;F=F>>>0,Y=Y===void 0?this.length:Y>>>0,N||(N=0);let It;if(typeof N=="number")for(It=F;It<Y;++It)this[It]=N;else{let ee=l.isBuffer(N)?N:l.from(N,bt),we=ee.length;if(we===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(It=0;It<Y-F;++It)this[It+F]=ee[It%we]}return this};let _t={};function ct(N,F,Y){_t[N]=class extends Y{constructor(){super(),Object.defineProperty(this,"message",{value:F.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${N}]`,this.stack,delete this.name}get code(){return N}set code(bt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:bt,writable:!0})}toString(){return`${this.name} [${N}]: ${this.message}`}}}ct("ERR_BUFFER_OUT_OF_BOUNDS",function(N){return N?`${N} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ct("ERR_INVALID_ARG_TYPE",function(N,F){return`The "${N}" argument must be of type number. Received type ${typeof F}`},TypeError),ct("ERR_OUT_OF_RANGE",function(N,F,Y){let bt=`The value of "${N}" is out of range.`,It=Y;return Number.isInteger(Y)&&Math.abs(Y)>2**32?It=vt(String(Y)):typeof Y=="bigint"&&(It=String(Y),(Y>BigInt(2)**BigInt(32)||Y<-(BigInt(2)**BigInt(32)))&&(It=vt(It)),It+="n"),bt+=` It must be ${F}. Received ${It}`,bt},RangeError);function vt(N){let F="",Y=N.length,bt=N[0]==="-"?1:0;for(;Y>=bt+4;Y-=3)F=`_${N.slice(Y-3,Y)}${F}`;return`${N.slice(0,Y)}${F}`}function Mt(N,F,Y){Tt(F,"offset"),(N[F]===void 0||N[F+Y]===void 0)&&ce(F,N.length-(Y+1))}function Nt(N,F,Y,bt,It,ee){if(N>Y||N<F){let we=typeof F=="bigint"?"n":"",Ot;throw F===0||F===BigInt(0)?Ot=`>= 0${we} and < 2${we} ** ${(ee+1)*8}${we}`:Ot=`>= -(2${we} ** ${(ee+1)*8-1}${we}) and < 2 ** ${(ee+1)*8-1}${we}`,new _t.ERR_OUT_OF_RANGE("value",Ot,N)}Mt(bt,It,ee)}function Tt(N,F){if(typeof N!="number")throw new _t.ERR_INVALID_ARG_TYPE(F,"number",N)}function ce(N,F,Y){throw Math.floor(N)!==N?(Tt(N,Y),new _t.ERR_OUT_OF_RANGE("offset","an integer",N)):F<0?new _t.ERR_BUFFER_OUT_OF_BOUNDS:new _t.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${F}`,N)}let Jt=/[^+/0-9A-Za-z-_]/g;function ft(N){if(N=N.split("=")[0],N=N.trim().replace(Jt,""),N.length<2)return"";for(;N.length%4!==0;)N=N+"=";return N}function Et(N,F){F=F||1/0;let Y,bt=N.length,It=null,ee=[];for(let we=0;we<bt;++we){if(Y=N.charCodeAt(we),Y>55295&&Y<57344){if(!It){if(Y>56319){(F-=3)>-1&&ee.push(239,191,189);continue}else if(we+1===bt){(F-=3)>-1&&ee.push(239,191,189);continue}It=Y;continue}if(Y<56320){(F-=3)>-1&&ee.push(239,191,189),It=Y;continue}Y=(It-55296<<10|Y-56320)+65536}else It&&(F-=3)>-1&&ee.push(239,191,189);if(It=null,Y<128){if((F-=1)<0)break;ee.push(Y)}else if(Y<2048){if((F-=2)<0)break;ee.push(Y>>6|192,Y&63|128)}else if(Y<65536){if((F-=3)<0)break;ee.push(Y>>12|224,Y>>6&63|128,Y&63|128)}else if(Y<1114112){if((F-=4)<0)break;ee.push(Y>>18|240,Y>>12&63|128,Y>>6&63|128,Y&63|128)}else throw new Error("Invalid code point")}return ee}function Vt(N){let F=[];for(let Y=0;Y<N.length;++Y)F.push(N.charCodeAt(Y)&255);return F}function ie(N,F){let Y,bt,It,ee=[];for(let we=0;we<N.length&&!((F-=2)<0);++we)Y=N.charCodeAt(we),bt=Y>>8,It=Y%256,ee.push(It),ee.push(bt);return ee}function re(N){return n.toByteArray(ft(N))}function he(N,F,Y,bt){let It;for(It=0;It<bt&&!(It+Y>=F.length||It>=N.length);++It)F[It+Y]=N[It];return It}function wt(N,F){return N instanceof F||N!=null&&N.constructor!=null&&N.constructor.name!=null&&N.constructor.name===F.name}function fe(N){return N!==N}let ve=(function(){let N="0123456789abcdef",F=new Array(256);for(let Y=0;Y<16;++Y){let bt=Y*16;for(let It=0;It<16;++It)F[bt+It]=N[Y]+N[It]}return F})();function Xt(N){return typeof BigInt>"u"?Ze:N}function Ze(){throw new Error("BigInt not supported")}return Ha}var vu,ey,Dc,ny,Ha,iy,jk=qr(()=>{se(),le(),ae(),vu={},ey=!1,Dc={},ny=!1,Ha={},iy=!1}),Fi={};Cu(Fi,{Buffer:()=>hd,INSPECT_MAX_BYTES:()=>SS,default:()=>Gs,kMaxLength:()=>ES});var Gs,hd,SS,ES,Hi=qr(()=>{se(),le(),ae(),jk(),Gs=Dk(),Gs.Buffer,Gs.SlowBuffer,Gs.INSPECT_MAX_BYTES,Gs.kMaxLength,hd=Gs.Buffer,SS=Gs.INSPECT_MAX_BYTES,ES=Gs.kMaxLength}),le=qr(()=>{Hi()}),ni=pe((n,t)=>{se(),le(),ae();var e=class extends Error{constructor(r){if(!Array.isArray(r))throw new TypeError(`Expected input to be an Array, got ${typeof r}`);let o="";for(let a=0;a<r.length;a++)o+=`    ${r[a].stack}
`;super(o),this.name="AggregateError",this.errors=r}};t.exports={AggregateError:e,ArrayIsArray(r){return Array.isArray(r)},ArrayPrototypeIncludes(r,o){return r.includes(o)},ArrayPrototypeIndexOf(r,o){return r.indexOf(o)},ArrayPrototypeJoin(r,o){return r.join(o)},ArrayPrototypeMap(r,o){return r.map(o)},ArrayPrototypePop(r,o){return r.pop(o)},ArrayPrototypePush(r,o){return r.push(o)},ArrayPrototypeSlice(r,o,a){return r.slice(o,a)},Error,FunctionPrototypeCall(r,o,...a){return r.call(o,...a)},FunctionPrototypeSymbolHasInstance(r,o){return Function.prototype[Symbol.hasInstance].call(r,o)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(r,o){return Object.defineProperties(r,o)},ObjectDefineProperty(r,o,a){return Object.defineProperty(r,o,a)},ObjectGetOwnPropertyDescriptor(r,o){return Object.getOwnPropertyDescriptor(r,o)},ObjectKeys(r){return Object.keys(r)},ObjectSetPrototypeOf(r,o){return Object.setPrototypeOf(r,o)},Promise,PromisePrototypeCatch(r,o){return r.catch(o)},PromisePrototypeThen(r,o,a){return r.then(o,a)},PromiseReject(r){return Promise.reject(r)},PromiseResolve(r){return Promise.resolve(r)},ReflectApply:Reflect.apply,RegExpPrototypeTest(r,o){return r.test(o)},SafeSet:Set,String,StringPrototypeSlice(r,o,a){return r.slice(o,a)},StringPrototypeToLowerCase(r){return r.toLowerCase()},StringPrototypeToUpperCase(r){return r.toUpperCase()},StringPrototypeTrim(r){return r.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(r,o,a){return r.set(o,a)},Boolean,Uint8Array}}),TS=pe((n,t)=>{se(),le(),ae(),t.exports={format(e,...r){return e.replace(/%([sdifj])/g,function(...[o,a]){let l=r.shift();return a==="f"?l.toFixed(6):a==="j"?JSON.stringify(l):a==="s"&&typeof l=="object"?`${l.constructor!==Object?l.constructor.name:""} {}`.trim():l.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}}),Er=pe((n,t)=>{se(),le(),ae();var{format:e,inspect:r}=TS(),{AggregateError:o}=ni(),a=globalThis.AggregateError||o,l=Symbol("kIsNodeError"),c=["string","function","number","object","Function","Object","boolean","bigint","symbol"],h=/^([A-Z][a-z0-9]*)+$/,d="__node_internal_",g={};function y(M,P){if(!M)throw new g.ERR_INTERNAL_ASSERTION(P)}function b(M){let P="",z=M.length,D=M[0]==="-"?1:0;for(;z>=D+4;z-=3)P=`_${M.slice(z-3,z)}${P}`;return`${M.slice(0,z)}${P}`}function S(M,P,z){if(typeof P=="function")return y(P.length<=z.length,`Code: ${M}; The provided arguments length (${z.length}) does not match the required ones (${P.length}).`),P(...z);let D=(P.match(/%[dfijoOs]/g)||[]).length;return y(D===z.length,`Code: ${M}; The provided arguments length (${z.length}) does not match the required ones (${D}).`),z.length===0?P:e(P,...z)}function x(M,P,z){z||(z=Error);class D extends z{constructor(...R){super(S(M,P,R))}toString(){return`${this.name} [${M}]: ${this.message}`}}Object.defineProperties(D.prototype,{name:{value:z.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${M}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),D.prototype.code=M,D.prototype[l]=!0,g[M]=D}function E(M){let P=d+M.name;return Object.defineProperty(M,"name",{value:P}),M}function k(M,P){if(M&&P&&M!==P){if(Array.isArray(P.errors))return P.errors.push(M),P;let z=new a([P,M],P.message);return z.code=P.code,z}return M||P}var C=class extends Error{constructor(M="The operation was aborted",P=void 0){if(P!==void 0&&typeof P!="object")throw new g.ERR_INVALID_ARG_TYPE("options","Object",P);super(M,P),this.code="ABORT_ERR",this.name="AbortError"}};x("ERR_ASSERTION","%s",Error),x("ERR_INVALID_ARG_TYPE",(M,P,z)=>{y(typeof M=="string","'name' must be a string"),Array.isArray(P)||(P=[P]);let D="The ";M.endsWith(" argument")?D+=`${M} `:D+=`"${M}" ${M.includes(".")?"property":"argument"} `,D+="must be ";let B=[],R=[],V=[];for(let tt of P)y(typeof tt=="string","All expected entries have to be of type string"),c.includes(tt)?B.push(tt.toLowerCase()):h.test(tt)?R.push(tt):(y(tt!=="object",'The value "object" should be written as "Object"'),V.push(tt));if(R.length>0){let tt=B.indexOf("object");tt!==-1&&(B.splice(B,tt,1),R.push("Object"))}if(B.length>0){switch(B.length){case 1:D+=`of type ${B[0]}`;break;case 2:D+=`one of type ${B[0]} or ${B[1]}`;break;default:{let tt=B.pop();D+=`one of type ${B.join(", ")}, or ${tt}`}}(R.length>0||V.length>0)&&(D+=" or ")}if(R.length>0){switch(R.length){case 1:D+=`an instance of ${R[0]}`;break;case 2:D+=`an instance of ${R[0]} or ${R[1]}`;break;default:{let tt=R.pop();D+=`an instance of ${R.join(", ")}, or ${tt}`}}V.length>0&&(D+=" or ")}switch(V.length){case 0:break;case 1:V[0].toLowerCase()!==V[0]&&(D+="an "),D+=`${V[0]}`;break;case 2:D+=`one of ${V[0]} or ${V[1]}`;break;default:{let tt=V.pop();D+=`one of ${V.join(", ")}, or ${tt}`}}if(z==null)D+=`. Received ${z}`;else if(typeof z=="function"&&z.name)D+=`. Received function ${z.name}`;else if(typeof z=="object"){var J;if((J=z.constructor)!==null&&J!==void 0&&J.name)D+=`. Received an instance of ${z.constructor.name}`;else{let tt=r(z,{depth:-1});D+=`. Received ${tt}`}}else{let tt=r(z,{colors:!1});tt.length>25&&(tt=`${tt.slice(0,25)}...`),D+=`. Received type ${typeof z} (${tt})`}return D},TypeError),x("ERR_INVALID_ARG_VALUE",(M,P,z="is invalid")=>{let D=r(P);return D.length>128&&(D=D.slice(0,128)+"..."),`The ${M.includes(".")?"property":"argument"} '${M}' ${z}. Received ${D}`},TypeError),x("ERR_INVALID_RETURN_VALUE",(M,P,z)=>{var D;let B=z!=null&&(D=z.constructor)!==null&&D!==void 0&&D.name?`instance of ${z.constructor.name}`:`type ${typeof z}`;return`Expected ${M} to be returned from the "${P}" function but got ${B}.`},TypeError),x("ERR_MISSING_ARGS",(...M)=>{y(M.length>0,"At least one arg needs to be specified");let P,z=M.length;switch(M=(Array.isArray(M)?M:[M]).map(D=>`"${D}"`).join(" or "),z){case 1:P+=`The ${M[0]} argument`;break;case 2:P+=`The ${M[0]} and ${M[1]} arguments`;break;default:{let D=M.pop();P+=`The ${M.join(", ")}, and ${D} arguments`}break}return`${P} must be specified`},TypeError),x("ERR_OUT_OF_RANGE",(M,P,z)=>{y(P,'Missing "range" argument');let D;if(Number.isInteger(z)&&Math.abs(z)>2**32)D=b(String(z));else if(typeof z=="bigint"){D=String(z);let B=BigInt(2)**BigInt(32);(z>B||z<-B)&&(D=b(D)),D+="n"}else D=r(z);return`The value of "${M}" is out of range. It must be ${P}. Received ${D}`},RangeError),x("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),x("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),x("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),x("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),x("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),x("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),x("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),x("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),x("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),x("ERR_STREAM_WRITE_AFTER_END","write after end",Error),x("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError:C,aggregateTwoErrors:E(k),hideStackFrames:E,codes:g}}),tf=pe((n,t)=>{se(),le(),ae();var{AbortController:e,AbortSignal:r}=typeof self<"u"?self:typeof window<"u"?window:void 0;t.exports=e,t.exports.AbortSignal=r,t.exports.default=e}),Qa={};Cu(Qa,{EventEmitter:()=>AS,default:()=>wu,defaultMaxListeners:()=>kS,init:()=>MS,listenerCount:()=>OS,on:()=>CS,once:()=>LS});function Pk(){if(ry)return jc;ry=!0;var n=typeof Reflect=="object"?Reflect:null,t=n&&typeof n.apply=="function"?n.apply:function(z,D,B){return Function.prototype.apply.call(z,D,B)},e;n&&typeof n.ownKeys=="function"?e=n.ownKeys:Object.getOwnPropertySymbols?e=function(z){return Object.getOwnPropertyNames(z).concat(Object.getOwnPropertySymbols(z))}:e=function(z){return Object.getOwnPropertyNames(z)};function r(z){console&&console.warn&&console.warn(z)}var o=Number.isNaN||function(z){return z!==z};function a(){a.init.call(this)}jc=a,jc.once=C,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var l=10;function c(z){if(typeof z!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof z)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(z){if(typeof z!="number"||z<0||o(z))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+z+".");l=z}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(z){if(typeof z!="number"||z<0||o(z))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+z+".");return this._maxListeners=z,this};function h(z){return z._maxListeners===void 0?a.defaultMaxListeners:z._maxListeners}a.prototype.getMaxListeners=function(){return h(this)},a.prototype.emit=function(z){for(var D=[],B=1;B<arguments.length;B++)D.push(arguments[B]);var R=z==="error",V=this._events;if(V!==void 0)R=R&&V.error===void 0;else if(!R)return!1;if(R){var J;if(D.length>0&&(J=D[0]),J instanceof Error)throw J;var tt=new Error("Unhandled error."+(J?" ("+J.message+")":""));throw tt.context=J,tt}var st=V[z];if(st===void 0)return!1;if(typeof st=="function")t(st,this,D);else for(var G=st.length,mt=x(st,G),B=0;B<G;++B)t(mt[B],this,D);return!0};function d(z,D,B,R){var V,J,tt;if(c(B),J=z._events,J===void 0?(J=z._events=Object.create(null),z._eventsCount=0):(J.newListener!==void 0&&(z.emit("newListener",D,B.listener?B.listener:B),J=z._events),tt=J[D]),tt===void 0)tt=J[D]=B,++z._eventsCount;else if(typeof tt=="function"?tt=J[D]=R?[B,tt]:[tt,B]:R?tt.unshift(B):tt.push(B),V=h(z),V>0&&tt.length>V&&!tt.warned){tt.warned=!0;var st=new Error("Possible EventEmitter memory leak detected. "+tt.length+" "+String(D)+" listeners added. Use emitter.setMaxListeners() to increase limit");st.name="MaxListenersExceededWarning",st.emitter=z,st.type=D,st.count=tt.length,r(st)}return z}a.prototype.addListener=function(z,D){return d(this,z,D,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(z,D){return d(this,z,D,!0)};function g(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(z,D,B){var R={fired:!1,wrapFn:void 0,target:z,type:D,listener:B},V=g.bind(R);return V.listener=B,R.wrapFn=V,V}a.prototype.once=function(z,D){return c(D),this.on(z,y(this,z,D)),this},a.prototype.prependOnceListener=function(z,D){return c(D),this.prependListener(z,y(this,z,D)),this},a.prototype.removeListener=function(z,D){var B,R,V,J,tt;if(c(D),R=this._events,R===void 0)return this;if(B=R[z],B===void 0)return this;if(B===D||B.listener===D)--this._eventsCount===0?this._events=Object.create(null):(delete R[z],R.removeListener&&this.emit("removeListener",z,B.listener||D));else if(typeof B!="function"){for(V=-1,J=B.length-1;J>=0;J--)if(B[J]===D||B[J].listener===D){tt=B[J].listener,V=J;break}if(V<0)return this;V===0?B.shift():E(B,V),B.length===1&&(R[z]=B[0]),R.removeListener!==void 0&&this.emit("removeListener",z,tt||D)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(z){var D,B,R;if(B=this._events,B===void 0)return this;if(B.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):B[z]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete B[z]),this;if(arguments.length===0){var V=Object.keys(B),J;for(R=0;R<V.length;++R)J=V[R],J!=="removeListener"&&this.removeAllListeners(J);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(D=B[z],typeof D=="function")this.removeListener(z,D);else if(D!==void 0)for(R=D.length-1;R>=0;R--)this.removeListener(z,D[R]);return this};function b(z,D,B){var R=z._events;if(R===void 0)return[];var V=R[D];return V===void 0?[]:typeof V=="function"?B?[V.listener||V]:[V]:B?k(V):x(V,V.length)}a.prototype.listeners=function(z){return b(this,z,!0)},a.prototype.rawListeners=function(z){return b(this,z,!1)},a.listenerCount=function(z,D){return typeof z.listenerCount=="function"?z.listenerCount(D):S.call(z,D)},a.prototype.listenerCount=S;function S(z){var D=this._events;if(D!==void 0){var B=D[z];if(typeof B=="function")return 1;if(B!==void 0)return B.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]};function x(z,D){for(var B=new Array(D),R=0;R<D;++R)B[R]=z[R];return B}function E(z,D){for(;D+1<z.length;D++)z[D]=z[D+1];z.pop()}function k(z){for(var D=new Array(z.length),B=0;B<D.length;++B)D[B]=z[B].listener||z[B];return D}function C(z,D){return new Promise(function(B,R){function V(tt){z.removeListener(D,J),R(tt)}function J(){typeof z.removeListener=="function"&&z.removeListener("error",V),B([].slice.call(arguments))}P(z,D,J,{once:!0}),D!=="error"&&M(z,V,{once:!0})})}function M(z,D,B){typeof z.on=="function"&&P(z,"error",D,B)}function P(z,D,B,R){if(typeof z.on=="function")R.once?z.once(D,B):z.on(D,B);else if(typeof z.addEventListener=="function")z.addEventListener(D,function V(J){R.once&&z.removeEventListener(D,V),B(J)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof z)}return jc}var jc,ry,wu,AS,kS,MS,OS,CS,LS,zl=qr(()=>{se(),le(),ae(),jc={},ry=!1,wu=Pk(),wu.once,wu.once=function(n,t){return new Promise((e,r)=>{function o(...l){a!==void 0&&n.removeListener("error",a),e(l)}let a;t!=="error"&&(a=l=>{n.removeListener(name,o),r(l)},n.once("error",a)),n.once(t,o)})},wu.on=function(n,t){let e=[],r=[],o=null,a=!1,l={async next(){let d=e.shift();if(d)return createIterResult(d,!1);if(o){let g=Promise.reject(o);return o=null,g}return a?createIterResult(void 0,!0):new Promise((g,y)=>r.push({resolve:g,reject:y}))},async return(){n.removeListener(t,c),n.removeListener("error",h),a=!0;for(let d of r)d.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(d){o=d,n.removeListener(t,c),n.removeListener("error",h)},[Symbol.asyncIterator](){return this}};return n.on(t,c),n.on("error",h),l;function c(...d){let g=r.shift();g?g.resolve(createIterResult(d,!1)):e.push(d)}function h(d){a=!0;let g=r.shift();g?g.reject(d):o=d,l.return()}},{EventEmitter:AS,defaultMaxListeners:kS,init:MS,listenerCount:OS,on:CS,once:LS}=wu}),Hr=pe((n,t)=>{se(),le(),ae();var e=(Hi(),zn(Fi)),{format:r,inspect:o}=TS(),{codes:{ERR_INVALID_ARG_TYPE:a}}=Er(),{kResistStopPropagation:l,AggregateError:c,SymbolDispose:h}=ni(),d=globalThis.AbortSignal||tf().AbortSignal,g=globalThis.AbortController||tf().AbortController,y=Object.getPrototypeOf(async function(){}).constructor,b=globalThis.Blob||e.Blob,S=typeof b<"u"?function(k){return k instanceof b}:function(k){return!1},x=(k,C)=>{if(k!==void 0&&(k===null||typeof k!="object"||!("aborted"in k)))throw new a(C,"AbortSignal",k)},E=(k,C)=>{if(typeof k!="function")throw new a(C,"Function",k)};t.exports={AggregateError:c,kEmptyObject:Object.freeze({}),once(k){let C=!1;return function(...M){C||(C=!0,k.apply(this,M))}},createDeferredPromise:function(){let k,C;return{promise:new Promise((M,P)=>{k=M,C=P}),resolve:k,reject:C}},promisify(k){return new Promise((C,M)=>{k((P,...z)=>P?M(P):C(...z))})},debuglog(){return function(){}},format:r,inspect:o,types:{isAsyncFunction(k){return k instanceof y},isArrayBufferView(k){return ArrayBuffer.isView(k)}},isBlob:S,deprecate(k,C){return k},addAbortListener:(zl(),zn(Qa)).addAbortListener||function(k,C){if(k===void 0)throw new a("signal","AbortSignal",k);x(k,"signal"),E(C,"listener");let M;return k.aborted?queueMicrotask(()=>C()):(k.addEventListener("abort",C,{__proto__:null,once:!0,[l]:!0}),M=()=>{k.removeEventListener("abort",C)}),{__proto__:null,[h](){var P;(P=M)===null||P===void 0||P()}}},AbortSignalAny:d.any||function(k){if(k.length===1)return k[0];let C=new g,M=()=>C.abort();return k.forEach(P=>{x(P,"signals"),P.addEventListener("abort",M,{once:!0})}),C.signal.addEventListener("abort",()=>{k.forEach(P=>P.removeEventListener("abort",M))},{once:!0}),C.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),uf=pe((n,t)=>{se(),le(),ae();var{ArrayIsArray:e,ArrayPrototypeIncludes:r,ArrayPrototypeJoin:o,ArrayPrototypeMap:a,NumberIsInteger:l,NumberIsNaN:c,NumberMAX_SAFE_INTEGER:h,NumberMIN_SAFE_INTEGER:d,NumberParseInt:g,ObjectPrototypeHasOwnProperty:y,RegExpPrototypeExec:b,String:S,StringPrototypeToUpperCase:x,StringPrototypeTrim:E}=ni(),{hideStackFrames:k,codes:{ERR_SOCKET_BAD_PORT:C,ERR_INVALID_ARG_TYPE:M,ERR_INVALID_ARG_VALUE:P,ERR_OUT_OF_RANGE:z,ERR_UNKNOWN_SIGNAL:D}}=Er(),{normalizeEncoding:B}=Hr(),{isAsyncFunction:R,isArrayBufferView:V}=Hr().types,J={};function tt(wt){return wt===(wt|0)}function st(wt){return wt===wt>>>0}var G=/^[0-7]+$/,mt="must be a 32-bit unsigned integer or an octal string";function ht(wt,fe,ve){if(typeof wt>"u"&&(wt=ve),typeof wt=="string"){if(b(G,wt)===null)throw new P(fe,wt,mt);wt=g(wt,8)}return lt(wt,fe),wt}var ut=k((wt,fe,ve=d,Xt=h)=>{if(typeof wt!="number")throw new M(fe,"number",wt);if(!l(wt))throw new z(fe,"an integer",wt);if(wt<ve||wt>Xt)throw new z(fe,`>= ${ve} && <= ${Xt}`,wt)}),rt=k((wt,fe,ve=-2147483648,Xt=2147483647)=>{if(typeof wt!="number")throw new M(fe,"number",wt);if(!l(wt))throw new z(fe,"an integer",wt);if(wt<ve||wt>Xt)throw new z(fe,`>= ${ve} && <= ${Xt}`,wt)}),lt=k((wt,fe,ve=!1)=>{if(typeof wt!="number")throw new M(fe,"number",wt);if(!l(wt))throw new z(fe,"an integer",wt);let Xt=ve?1:0,Ze=4294967295;if(wt<Xt||wt>Ze)throw new z(fe,`>= ${Xt} && <= ${Ze}`,wt)});function et(wt,fe){if(typeof wt!="string")throw new M(fe,"string",wt)}function jt(wt,fe,ve=void 0,Xt){if(typeof wt!="number")throw new M(fe,"number",wt);if(ve!=null&&wt<ve||Xt!=null&&wt>Xt||(ve!=null||Xt!=null)&&c(wt))throw new z(fe,`${ve!=null?`>= ${ve}`:""}${ve!=null&&Xt!=null?" && ":""}${Xt!=null?`<= ${Xt}`:""}`,wt)}var nt=k((wt,fe,ve)=>{if(!r(ve,wt)){let Xt="must be one of: "+o(a(ve,Ze=>typeof Ze=="string"?`'${Ze}'`:S(Ze)),", ");throw new P(fe,wt,Xt)}});function Z(wt,fe){if(typeof wt!="boolean")throw new M(fe,"boolean",wt)}function K(wt,fe,ve){return wt==null||!y(wt,fe)?ve:wt[fe]}var at=k((wt,fe,ve=null)=>{let Xt=K(ve,"allowArray",!1),Ze=K(ve,"allowFunction",!1);if(!K(ve,"nullable",!1)&&wt===null||!Xt&&e(wt)||typeof wt!="object"&&(!Ze||typeof wt!="function"))throw new M(fe,"Object",wt)}),At=k((wt,fe)=>{if(wt!=null&&typeof wt!="object"&&typeof wt!="function")throw new M(fe,"a dictionary",wt)}),gt=k((wt,fe,ve=0)=>{if(!e(wt))throw new M(fe,"Array",wt);if(wt.length<ve){let Xt=`must be longer than ${ve}`;throw new P(fe,wt,Xt)}});function Ut(wt,fe){gt(wt,fe);for(let ve=0;ve<wt.length;ve++)et(wt[ve],`${fe}[${ve}]`)}function _t(wt,fe){gt(wt,fe);for(let ve=0;ve<wt.length;ve++)Z(wt[ve],`${fe}[${ve}]`)}function ct(wt,fe){gt(wt,fe);for(let ve=0;ve<wt.length;ve++){let Xt=wt[ve],Ze=`${fe}[${ve}]`;if(Xt==null)throw new M(Ze,"AbortSignal",Xt);ce(Xt,Ze)}}function vt(wt,fe="signal"){if(et(wt,fe),J[wt]===void 0)throw J[x(wt)]!==void 0?new D(wt+" (signals must use all capital letters)"):new D(wt)}var Mt=k((wt,fe="buffer")=>{if(!V(wt))throw new M(fe,["Buffer","TypedArray","DataView"],wt)});function Nt(wt,fe){let ve=B(fe),Xt=wt.length;if(ve==="hex"&&Xt%2!==0)throw new P("encoding",fe,`is invalid for data of length ${Xt}`)}function Tt(wt,fe="Port",ve=!0){if(typeof wt!="number"&&typeof wt!="string"||typeof wt=="string"&&E(wt).length===0||+wt!==+wt>>>0||wt>65535||wt===0&&!ve)throw new C(fe,wt,ve);return wt|0}var ce=k((wt,fe)=>{if(wt!==void 0&&(wt===null||typeof wt!="object"||!("aborted"in wt)))throw new M(fe,"AbortSignal",wt)}),Jt=k((wt,fe)=>{if(typeof wt!="function")throw new M(fe,"Function",wt)}),ft=k((wt,fe)=>{if(typeof wt!="function"||R(wt))throw new M(fe,"Function",wt)}),Et=k((wt,fe)=>{if(wt!==void 0)throw new M(fe,"undefined",wt)});function Vt(wt,fe,ve){if(!r(ve,wt))throw new M(fe,`('${o(ve,"|")}')`,wt)}var ie=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function re(wt,fe){if(typeof wt>"u"||!b(ie,wt))throw new P(fe,wt,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function he(wt){if(typeof wt=="string")return re(wt,"hints"),wt;if(e(wt)){let fe=wt.length,ve="";if(fe===0)return ve;for(let Xt=0;Xt<fe;Xt++){let Ze=wt[Xt];re(Ze,"hints"),ve+=Ze,Xt!==fe-1&&(ve+=", ")}return ve}throw new P("hints",wt,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}t.exports={isInt32:tt,isUint32:st,parseFileMode:ht,validateArray:gt,validateStringArray:Ut,validateBooleanArray:_t,validateAbortSignalArray:ct,validateBoolean:Z,validateBuffer:Mt,validateDictionary:At,validateEncoding:Nt,validateFunction:Jt,validateInt32:rt,validateInteger:ut,validateNumber:jt,validateObject:at,validateOneOf:nt,validatePlainFunction:ft,validatePort:Tt,validateSignalName:vt,validateString:et,validateUint32:lt,validateUndefined:Et,validateUnion:Vt,validateAbortSignal:ce,validateLinkHeaderValue:he}}),Bl=pe((n,t)=>{se(),le(),ae();var e=t.exports={},r,o;function a(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?r=setTimeout:r=a}catch{r=a}try{typeof clearTimeout=="function"?o=clearTimeout:o=l}catch{o=l}})();function c(C){if(r===setTimeout)return setTimeout(C,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(C,0);try{return r(C,0)}catch{try{return r.call(null,C,0)}catch{return r.call(this,C,0)}}}function h(C){if(o===clearTimeout)return clearTimeout(C);if((o===l||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(C);try{return o(C)}catch{try{return o.call(null,C)}catch{return o.call(this,C)}}}var d=[],g=!1,y,b=-1;function S(){!g||!y||(g=!1,y.length?d=y.concat(d):b=-1,d.length&&x())}function x(){if(!g){var C=c(S);g=!0;for(var M=d.length;M;){for(y=d,d=[];++b<M;)y&&y[b].run();b=-1,M=d.length}y=null,g=!1,h(C)}}e.nextTick=function(C){var M=new Array(arguments.length-1);if(arguments.length>1)for(var P=1;P<arguments.length;P++)M[P-1]=arguments[P];d.push(new E(C,M)),d.length===1&&!g&&c(x)};function E(C,M){this.fun=C,this.array=M}E.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function k(){}e.on=k,e.addListener=k,e.once=k,e.off=k,e.removeListener=k,e.removeAllListeners=k,e.emit=k,e.prependListener=k,e.prependOnceListener=k,e.listeners=function(C){return[]},e.binding=function(C){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(C){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}}),aa=pe((n,t)=>{se(),le(),ae();var{SymbolAsyncIterator:e,SymbolIterator:r,SymbolFor:o}=ni(),a=o("nodejs.stream.destroyed"),l=o("nodejs.stream.errored"),c=o("nodejs.stream.readable"),h=o("nodejs.stream.writable"),d=o("nodejs.stream.disturbed"),g=o("nodejs.webstream.isClosedPromise"),y=o("nodejs.webstream.controllerErrorFunction");function b(K,at=!1){var At;return!!(K&&typeof K.pipe=="function"&&typeof K.on=="function"&&(!at||typeof K.pause=="function"&&typeof K.resume=="function")&&(!K._writableState||((At=K._readableState)===null||At===void 0?void 0:At.readable)!==!1)&&(!K._writableState||K._readableState))}function S(K){var at;return!!(K&&typeof K.write=="function"&&typeof K.on=="function"&&(!K._readableState||((at=K._writableState)===null||at===void 0?void 0:at.writable)!==!1))}function x(K){return!!(K&&typeof K.pipe=="function"&&K._readableState&&typeof K.on=="function"&&typeof K.write=="function")}function E(K){return K&&(K._readableState||K._writableState||typeof K.write=="function"&&typeof K.on=="function"||typeof K.pipe=="function"&&typeof K.on=="function")}function k(K){return!!(K&&!E(K)&&typeof K.pipeThrough=="function"&&typeof K.getReader=="function"&&typeof K.cancel=="function")}function C(K){return!!(K&&!E(K)&&typeof K.getWriter=="function"&&typeof K.abort=="function")}function M(K){return!!(K&&!E(K)&&typeof K.readable=="object"&&typeof K.writable=="object")}function P(K){return k(K)||C(K)||M(K)}function z(K,at){return K==null?!1:at===!0?typeof K[e]=="function":at===!1?typeof K[r]=="function":typeof K[e]=="function"||typeof K[r]=="function"}function D(K){if(!E(K))return null;let at=K._writableState,At=K._readableState,gt=at||At;return!!(K.destroyed||K[a]||gt!=null&&gt.destroyed)}function B(K){if(!S(K))return null;if(K.writableEnded===!0)return!0;let at=K._writableState;return at!=null&&at.errored?!1:typeof at?.ended!="boolean"?null:at.ended}function R(K,at){if(!S(K))return null;if(K.writableFinished===!0)return!0;let At=K._writableState;return At!=null&&At.errored?!1:typeof At?.finished!="boolean"?null:!!(At.finished||at===!1&&At.ended===!0&&At.length===0)}function V(K){if(!b(K))return null;if(K.readableEnded===!0)return!0;let at=K._readableState;return!at||at.errored?!1:typeof at?.ended!="boolean"?null:at.ended}function J(K,at){if(!b(K))return null;let At=K._readableState;return At!=null&&At.errored?!1:typeof At?.endEmitted!="boolean"?null:!!(At.endEmitted||at===!1&&At.ended===!0&&At.length===0)}function tt(K){return K&&K[c]!=null?K[c]:typeof K?.readable!="boolean"?null:D(K)?!1:b(K)&&K.readable&&!J(K)}function st(K){return K&&K[h]!=null?K[h]:typeof K?.writable!="boolean"?null:D(K)?!1:S(K)&&K.writable&&!B(K)}function G(K,at){return E(K)?D(K)?!0:!(at?.readable!==!1&&tt(K)||at?.writable!==!1&&st(K)):null}function mt(K){var at,At;return E(K)?K.writableErrored?K.writableErrored:(at=(At=K._writableState)===null||At===void 0?void 0:At.errored)!==null&&at!==void 0?at:null:null}function ht(K){var at,At;return E(K)?K.readableErrored?K.readableErrored:(at=(At=K._readableState)===null||At===void 0?void 0:At.errored)!==null&&at!==void 0?at:null:null}function ut(K){if(!E(K))return null;if(typeof K.closed=="boolean")return K.closed;let at=K._writableState,At=K._readableState;return typeof at?.closed=="boolean"||typeof At?.closed=="boolean"?at?.closed||At?.closed:typeof K._closed=="boolean"&&rt(K)?K._closed:null}function rt(K){return typeof K._closed=="boolean"&&typeof K._defaultKeepAlive=="boolean"&&typeof K._removedConnection=="boolean"&&typeof K._removedContLen=="boolean"}function lt(K){return typeof K._sent100=="boolean"&&rt(K)}function et(K){var at;return typeof K._consuming=="boolean"&&typeof K._dumped=="boolean"&&((at=K.req)===null||at===void 0?void 0:at.upgradeOrConnect)===void 0}function jt(K){if(!E(K))return null;let at=K._writableState,At=K._readableState,gt=at||At;return!gt&&lt(K)||!!(gt&&gt.autoDestroy&&gt.emitClose&&gt.closed===!1)}function nt(K){var at;return!!(K&&((at=K[d])!==null&&at!==void 0?at:K.readableDidRead||K.readableAborted))}function Z(K){var at,At,gt,Ut,_t,ct,vt,Mt,Nt,Tt;return!!(K&&((at=(At=(gt=(Ut=(_t=(ct=K[l])!==null&&ct!==void 0?ct:K.readableErrored)!==null&&_t!==void 0?_t:K.writableErrored)!==null&&Ut!==void 0?Ut:(vt=K._readableState)===null||vt===void 0?void 0:vt.errorEmitted)!==null&&gt!==void 0?gt:(Mt=K._writableState)===null||Mt===void 0?void 0:Mt.errorEmitted)!==null&&At!==void 0?At:(Nt=K._readableState)===null||Nt===void 0?void 0:Nt.errored)!==null&&at!==void 0?at:!((Tt=K._writableState)===null||Tt===void 0)&&Tt.errored))}t.exports={isDestroyed:D,kIsDestroyed:a,isDisturbed:nt,kIsDisturbed:d,isErrored:Z,kIsErrored:l,isReadable:tt,kIsReadable:c,kIsClosedPromise:g,kControllerErrorFunction:y,kIsWritable:h,isClosed:ut,isDuplexNodeStream:x,isFinished:G,isIterable:z,isReadableNodeStream:b,isReadableStream:k,isReadableEnded:V,isReadableFinished:J,isReadableErrored:ht,isNodeStream:E,isWebStream:P,isWritable:st,isWritableNodeStream:S,isWritableStream:C,isWritableEnded:B,isWritableFinished:R,isWritableErrored:mt,isServerRequest:et,isServerResponse:lt,willEmitClose:jt,isTransformStream:M}}),Ja=pe((n,t)=>{se(),le(),ae();var e=Bl(),{AbortError:r,codes:o}=Er(),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:l}=o,{kEmptyObject:c,once:h}=Hr(),{validateAbortSignal:d,validateFunction:g,validateObject:y,validateBoolean:b}=uf(),{Promise:S,PromisePrototypeThen:x,SymbolDispose:E}=ni(),{isClosed:k,isReadable:C,isReadableNodeStream:M,isReadableStream:P,isReadableFinished:z,isReadableErrored:D,isWritable:B,isWritableNodeStream:R,isWritableStream:V,isWritableFinished:J,isWritableErrored:tt,isNodeStream:st,willEmitClose:G,kIsClosedPromise:mt}=aa(),ht;function ut(nt){return nt.setHeader&&typeof nt.abort=="function"}var rt=()=>{};function lt(nt,Z,K){var at,At;if(arguments.length===2?(K=Z,Z=c):Z==null?Z=c:y(Z,"options"),g(K,"callback"),d(Z.signal,"options.signal"),K=h(K),P(nt)||V(nt))return et(nt,Z,K);if(!st(nt))throw new a("stream",["ReadableStream","WritableStream","Stream"],nt);let gt=(at=Z.readable)!==null&&at!==void 0?at:M(nt),Ut=(At=Z.writable)!==null&&At!==void 0?At:R(nt),_t=nt._writableState,ct=nt._readableState,vt=()=>{nt.writable||Tt()},Mt=G(nt)&&M(nt)===gt&&R(nt)===Ut,Nt=J(nt,!1),Tt=()=>{Nt=!0,nt.destroyed&&(Mt=!1),!(Mt&&(!nt.readable||gt))&&(!gt||ce)&&K.call(nt)},ce=z(nt,!1),Jt=()=>{ce=!0,nt.destroyed&&(Mt=!1),!(Mt&&(!nt.writable||Ut))&&(!Ut||Nt)&&K.call(nt)},ft=wt=>{K.call(nt,wt)},Et=k(nt),Vt=()=>{Et=!0;let wt=tt(nt)||D(nt);if(wt&&typeof wt!="boolean")return K.call(nt,wt);if(gt&&!ce&&M(nt,!0)&&!z(nt,!1))return K.call(nt,new l);if(Ut&&!Nt&&!J(nt,!1))return K.call(nt,new l);K.call(nt)},ie=()=>{Et=!0;let wt=tt(nt)||D(nt);if(wt&&typeof wt!="boolean")return K.call(nt,wt);K.call(nt)},re=()=>{nt.req.on("finish",Tt)};ut(nt)?(nt.on("complete",Tt),Mt||nt.on("abort",Vt),nt.req?re():nt.on("request",re)):Ut&&!_t&&(nt.on("end",vt),nt.on("close",vt)),!Mt&&typeof nt.aborted=="boolean"&&nt.on("aborted",Vt),nt.on("end",Jt),nt.on("finish",Tt),Z.error!==!1&&nt.on("error",ft),nt.on("close",Vt),Et?e.nextTick(Vt):_t!=null&&_t.errorEmitted||ct!=null&&ct.errorEmitted?Mt||e.nextTick(ie):(!gt&&(!Mt||C(nt))&&(Nt||B(nt)===!1)||!Ut&&(!Mt||B(nt))&&(ce||C(nt)===!1)||ct&&nt.req&&nt.aborted)&&e.nextTick(ie);let he=()=>{K=rt,nt.removeListener("aborted",Vt),nt.removeListener("complete",Tt),nt.removeListener("abort",Vt),nt.removeListener("request",re),nt.req&&nt.req.removeListener("finish",Tt),nt.removeListener("end",vt),nt.removeListener("close",vt),nt.removeListener("finish",Tt),nt.removeListener("end",Jt),nt.removeListener("error",ft),nt.removeListener("close",Vt)};if(Z.signal&&!Et){let wt=()=>{let fe=K;he(),fe.call(nt,new r(void 0,{cause:Z.signal.reason}))};if(Z.signal.aborted)e.nextTick(wt);else{ht=ht||Hr().addAbortListener;let fe=ht(Z.signal,wt),ve=K;K=h((...Xt)=>{fe[E](),ve.apply(nt,Xt)})}}return he}function et(nt,Z,K){let at=!1,At=rt;if(Z.signal)if(At=()=>{at=!0,K.call(nt,new r(void 0,{cause:Z.signal.reason}))},Z.signal.aborted)e.nextTick(At);else{ht=ht||Hr().addAbortListener;let Ut=ht(Z.signal,At),_t=K;K=h((...ct)=>{Ut[E](),_t.apply(nt,ct)})}let gt=(...Ut)=>{at||e.nextTick(()=>K.apply(nt,Ut))};return x(nt[mt].promise,gt,gt),rt}function jt(nt,Z){var K;let at=!1;return Z===null&&(Z=c),(K=Z)!==null&&K!==void 0&&K.cleanup&&(b(Z.cleanup,"cleanup"),at=Z.cleanup),new S((At,gt)=>{let Ut=lt(nt,Z,_t=>{at&&Ut(),_t?gt(_t):At()})})}t.exports=lt,t.exports.finished=jt}),Lu=pe((n,t)=>{se(),le(),ae();var e=Bl(),{aggregateTwoErrors:r,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:a}=Er(),{Symbol:l}=ni(),{kIsDestroyed:c,isDestroyed:h,isFinished:d,isServerRequest:g}=aa(),y=l("kDestroy"),b=l("kConstruct");function S(G,mt,ht){G&&(G.stack,mt&&!mt.errored&&(mt.errored=G),ht&&!ht.errored&&(ht.errored=G))}function x(G,mt){let ht=this._readableState,ut=this._writableState,rt=ut||ht;return ut!=null&&ut.destroyed||ht!=null&&ht.destroyed?(typeof mt=="function"&&mt(),this):(S(G,ut,ht),ut&&(ut.destroyed=!0),ht&&(ht.destroyed=!0),rt.constructed?E(this,G,mt):this.once(y,function(lt){E(this,r(lt,G),mt)}),this)}function E(G,mt,ht){let ut=!1;function rt(lt){if(ut)return;ut=!0;let et=G._readableState,jt=G._writableState;S(lt,jt,et),jt&&(jt.closed=!0),et&&(et.closed=!0),typeof ht=="function"&&ht(lt),lt?e.nextTick(k,G,lt):e.nextTick(C,G)}try{G._destroy(mt||null,rt)}catch(lt){rt(lt)}}function k(G,mt){M(G,mt),C(G)}function C(G){let mt=G._readableState,ht=G._writableState;ht&&(ht.closeEmitted=!0),mt&&(mt.closeEmitted=!0),(ht!=null&&ht.emitClose||mt!=null&&mt.emitClose)&&G.emit("close")}function M(G,mt){let ht=G._readableState,ut=G._writableState;ut!=null&&ut.errorEmitted||ht!=null&&ht.errorEmitted||(ut&&(ut.errorEmitted=!0),ht&&(ht.errorEmitted=!0),G.emit("error",mt))}function P(){let G=this._readableState,mt=this._writableState;G&&(G.constructed=!0,G.closed=!1,G.closeEmitted=!1,G.destroyed=!1,G.errored=null,G.errorEmitted=!1,G.reading=!1,G.ended=G.readable===!1,G.endEmitted=G.readable===!1),mt&&(mt.constructed=!0,mt.destroyed=!1,mt.closed=!1,mt.closeEmitted=!1,mt.errored=null,mt.errorEmitted=!1,mt.finalCalled=!1,mt.prefinished=!1,mt.ended=mt.writable===!1,mt.ending=mt.writable===!1,mt.finished=mt.writable===!1)}function z(G,mt,ht){let ut=G._readableState,rt=G._writableState;if(rt!=null&&rt.destroyed||ut!=null&&ut.destroyed)return this;ut!=null&&ut.autoDestroy||rt!=null&&rt.autoDestroy?G.destroy(mt):mt&&(mt.stack,rt&&!rt.errored&&(rt.errored=mt),ut&&!ut.errored&&(ut.errored=mt),ht?e.nextTick(M,G,mt):M(G,mt))}function D(G,mt){if(typeof G._construct!="function")return;let ht=G._readableState,ut=G._writableState;ht&&(ht.constructed=!1),ut&&(ut.constructed=!1),G.once(b,mt),!(G.listenerCount(b)>1)&&e.nextTick(B,G)}function B(G){let mt=!1;function ht(ut){if(mt){z(G,ut??new o);return}mt=!0;let rt=G._readableState,lt=G._writableState,et=lt||rt;rt&&(rt.constructed=!0),lt&&(lt.constructed=!0),et.destroyed?G.emit(y,ut):ut?z(G,ut,!0):e.nextTick(R,G)}try{G._construct(ut=>{e.nextTick(ht,ut)})}catch(ut){e.nextTick(ht,ut)}}function R(G){G.emit(b)}function V(G){return G?.setHeader&&typeof G.abort=="function"}function J(G){G.emit("close")}function tt(G,mt){G.emit("error",mt),e.nextTick(J,G)}function st(G,mt){!G||h(G)||(!mt&&!d(G)&&(mt=new a),g(G)?(G.socket=null,G.destroy(mt)):V(G)?G.abort():V(G.req)?G.req.abort():typeof G.destroy=="function"?G.destroy(mt):typeof G.close=="function"?G.close():mt?e.nextTick(tt,G,mt):e.nextTick(J,G),G.destroyed||(G[c]=!0))}t.exports={construct:D,destroyer:st,destroy:x,undestroy:P,errorOrDestroy:z}}),g_=pe((n,t)=>{se(),le(),ae();var{ArrayIsArray:e,ObjectSetPrototypeOf:r}=ni(),{EventEmitter:o}=(zl(),zn(Qa));function a(c){o.call(this,c)}r(a.prototype,o.prototype),r(a,o),a.prototype.pipe=function(c,h){let d=this;function g(C){c.writable&&c.write(C)===!1&&d.pause&&d.pause()}d.on("data",g);function y(){d.readable&&d.resume&&d.resume()}c.on("drain",y),!c._isStdio&&(!h||h.end!==!1)&&(d.on("end",S),d.on("close",x));let b=!1;function S(){b||(b=!0,c.end())}function x(){b||(b=!0,typeof c.destroy=="function"&&c.destroy())}function E(C){k(),o.listenerCount(this,"error")===0&&this.emit("error",C)}l(d,"error",E),l(c,"error",E);function k(){d.removeListener("data",g),c.removeListener("drain",y),d.removeListener("end",S),d.removeListener("close",x),d.removeListener("error",E),c.removeListener("error",E),d.removeListener("end",k),d.removeListener("close",k),c.removeListener("close",k)}return d.on("end",k),d.on("close",k),c.on("close",k),c.emit("pipe",d),c};function l(c,h,d){if(typeof c.prependListener=="function")return c.prependListener(h,d);!c._events||!c._events[h]?c.on(h,d):e(c._events[h])?c._events[h].unshift(d):c._events[h]=[d,c._events[h]]}t.exports={Stream:a,prependListener:l}}),kd=pe((n,t)=>{se(),le(),ae();var{SymbolDispose:e}=ni(),{AbortError:r,codes:o}=Er(),{isNodeStream:a,isWebStream:l,kControllerErrorFunction:c}=aa(),h=Ja(),{ERR_INVALID_ARG_TYPE:d}=o,g,y=(b,S)=>{if(typeof b!="object"||!("aborted"in b))throw new d(S,"AbortSignal",b)};t.exports.addAbortSignal=function(b,S){if(y(b,"signal"),!a(S)&&!l(S))throw new d("stream",["ReadableStream","WritableStream","Stream"],S);return t.exports.addAbortSignalNoValidate(b,S)},t.exports.addAbortSignalNoValidate=function(b,S){if(typeof b!="object"||!("aborted"in b))return S;let x=a(S)?()=>{S.destroy(new r(void 0,{cause:b.reason}))}:()=>{S[c](new r(void 0,{cause:b.reason}))};if(b.aborted)x();else{g=g||Hr().addAbortListener;let E=g(b,x);h(S,E[e])}return S}}),Rk=pe((n,t)=>{se(),le(),ae();var{StringPrototypeSlice:e,SymbolIterator:r,TypedArrayPrototypeSet:o,Uint8Array:a}=ni(),{Buffer:l}=(Hi(),zn(Fi)),{inspect:c}=Hr();t.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(h){let d={data:h,next:null};this.length>0?this.tail.next=d:this.head=d,this.tail=d,++this.length}unshift(h){let d={data:h,next:this.head};this.length===0&&(this.tail=d),this.head=d,++this.length}shift(){if(this.length===0)return;let h=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,h}clear(){this.head=this.tail=null,this.length=0}join(h){if(this.length===0)return"";let d=this.head,g=""+d.data;for(;(d=d.next)!==null;)g+=h+d.data;return g}concat(h){if(this.length===0)return l.alloc(0);let d=l.allocUnsafe(h>>>0),g=this.head,y=0;for(;g;)o(d,g.data,y),y+=g.data.length,g=g.next;return d}consume(h,d){let g=this.head.data;if(h<g.length){let y=g.slice(0,h);return this.head.data=g.slice(h),y}return h===g.length?this.shift():d?this._getString(h):this._getBuffer(h)}first(){return this.head.data}*[r](){for(let h=this.head;h;h=h.next)yield h.data}_getString(h){let d="",g=this.head,y=0;do{let b=g.data;if(h>b.length)d+=b,h-=b.length;else{h===b.length?(d+=b,++y,g.next?this.head=g.next:this.head=this.tail=null):(d+=e(b,0,h),this.head=g,g.data=e(b,h));break}++y}while((g=g.next)!==null);return this.length-=y,d}_getBuffer(h){let d=l.allocUnsafe(h),g=h,y=this.head,b=0;do{let S=y.data;if(h>S.length)o(d,S,g-h),h-=S.length;else{h===S.length?(o(d,S,g-h),++b,y.next?this.head=y.next:this.head=this.tail=null):(o(d,new a(S.buffer,S.byteOffset,h),g-h),this.head=y,y.data=S.slice(h));break}++b}while((y=y.next)!==null);return this.length-=b,d}[Symbol.for("nodejs.util.inspect.custom")](h,d){return c(this,{...d,depth:0,customInspect:!1})}}}),Md=pe((n,t)=>{se(),le(),ae();var{MathFloor:e,NumberIsInteger:r}=ni(),{validateInteger:o}=uf(),{ERR_INVALID_ARG_VALUE:a}=Er().codes,l=16*1024,c=16;function h(b,S,x){return b.highWaterMark!=null?b.highWaterMark:S?b[x]:null}function d(b){return b?c:l}function g(b,S){o(S,"value",0),b?c=S:l=S}function y(b,S,x,E){let k=h(S,E,x);if(k!=null){if(!r(k)||k<0){let C=E?`options.${x}`:"options.highWaterMark";throw new a(C,k)}return e(k)}return d(b.objectMode)}t.exports={getHighWaterMark:y,getDefaultHighWaterMark:d,setDefaultHighWaterMark:g}}),zk=pe((n,t)=>{se(),le(),ae();var e=(Hi(),zn(Fi)),r=e.Buffer;function o(l,c){for(var h in l)c[h]=l[h]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=e:(o(e,n),n.Buffer=a);function a(l,c,h){return r(l,c,h)}a.prototype=Object.create(r.prototype),o(r,a),a.from=function(l,c,h){if(typeof l=="number")throw new TypeError("Argument must not be a number");return r(l,c,h)},a.alloc=function(l,c,h){if(typeof l!="number")throw new TypeError("Argument must be a number");var d=r(l);return c!==void 0?typeof h=="string"?d.fill(c,h):d.fill(c):d.fill(0),d},a.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return r(l)},a.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(l)}}),Bk=pe(n=>{se(),le(),ae();var t=zk().Buffer,e=t.isEncoding||function(M){switch(M=""+M,M&&M.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(M){if(!M)return"utf8";for(var P;;)switch(M){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return M;default:if(P)return;M=(""+M).toLowerCase(),P=!0}}function o(M){var P=r(M);if(typeof P!="string"&&(t.isEncoding===e||!e(M)))throw new Error("Unknown encoding: "+M);return P||M}n.StringDecoder=a;function a(M){this.encoding=o(M);var P;switch(this.encoding){case"utf16le":this.text=b,this.end=S,P=4;break;case"utf8":this.fillLast=d,P=4;break;case"base64":this.text=x,this.end=E,P=3;break;default:this.write=k,this.end=C;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(P)}a.prototype.write=function(M){if(M.length===0)return"";var P,z;if(this.lastNeed){if(P=this.fillLast(M),P===void 0)return"";z=this.lastNeed,this.lastNeed=0}else z=0;return z<M.length?P?P+this.text(M,z):this.text(M,z):P||""},a.prototype.end=y,a.prototype.text=g,a.prototype.fillLast=function(M){if(this.lastNeed<=M.length)return M.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);M.copy(this.lastChar,this.lastTotal-this.lastNeed,0,M.length),this.lastNeed-=M.length};function l(M){return M<=127?0:M>>5===6?2:M>>4===14?3:M>>3===30?4:M>>6===2?-1:-2}function c(M,P,z){var D=P.length-1;if(D<z)return 0;var B=l(P[D]);return B>=0?(B>0&&(M.lastNeed=B-1),B):--D<z||B===-2?0:(B=l(P[D]),B>=0?(B>0&&(M.lastNeed=B-2),B):--D<z||B===-2?0:(B=l(P[D]),B>=0?(B>0&&(B===2?B=0:M.lastNeed=B-3),B):0))}function h(M,P,z){if((P[0]&192)!==128)return M.lastNeed=0,"�";if(M.lastNeed>1&&P.length>1){if((P[1]&192)!==128)return M.lastNeed=1,"�";if(M.lastNeed>2&&P.length>2&&(P[2]&192)!==128)return M.lastNeed=2,"�"}}function d(M){var P=this.lastTotal-this.lastNeed,z=h(this,M);if(z!==void 0)return z;if(this.lastNeed<=M.length)return M.copy(this.lastChar,P,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);M.copy(this.lastChar,P,0,M.length),this.lastNeed-=M.length}function g(M,P){var z=c(this,M,P);if(!this.lastNeed)return M.toString("utf8",P);this.lastTotal=z;var D=M.length-(z-this.lastNeed);return M.copy(this.lastChar,0,D),M.toString("utf8",P,D)}function y(M){var P=M&&M.length?this.write(M):"";return this.lastNeed?P+"�":P}function b(M,P){if((M.length-P)%2===0){var z=M.toString("utf16le",P);if(z){var D=z.charCodeAt(z.length-1);if(D>=55296&&D<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=M[M.length-2],this.lastChar[1]=M[M.length-1],z.slice(0,-1)}return z}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=M[M.length-1],M.toString("utf16le",P,M.length-1)}function S(M){var P=M&&M.length?this.write(M):"";if(this.lastNeed){var z=this.lastTotal-this.lastNeed;return P+this.lastChar.toString("utf16le",0,z)}return P}function x(M,P){var z=(M.length-P)%3;return z===0?M.toString("base64",P):(this.lastNeed=3-z,this.lastTotal=3,z===1?this.lastChar[0]=M[M.length-1]:(this.lastChar[0]=M[M.length-2],this.lastChar[1]=M[M.length-1]),M.toString("base64",P,M.length-z))}function E(M){var P=M&&M.length?this.write(M):"";return this.lastNeed?P+this.lastChar.toString("base64",0,3-this.lastNeed):P}function k(M){return M.toString(this.encoding)}function C(M){return M&&M.length?this.write(M):""}}),NS=pe((n,t)=>{se(),le(),ae();var e=Bl(),{PromisePrototypeThen:r,SymbolAsyncIterator:o,SymbolIterator:a}=ni(),{Buffer:l}=(Hi(),zn(Fi)),{ERR_INVALID_ARG_TYPE:c,ERR_STREAM_NULL_VALUES:h}=Er().codes;function d(g,y,b){let S;if(typeof y=="string"||y instanceof l)return new g({objectMode:!0,...b,read(){this.push(y),this.push(null)}});let x;if(y&&y[o])x=!0,S=y[o]();else if(y&&y[a])x=!1,S=y[a]();else throw new c("iterable",["Iterable"],y);let E=new g({objectMode:!0,highWaterMark:1,...b}),k=!1;E._read=function(){k||(k=!0,M())},E._destroy=function(P,z){r(C(P),()=>e.nextTick(z,P),D=>e.nextTick(z,D||P))};async function C(P){let z=P!=null,D=typeof S.throw=="function";if(z&&D){let{value:B,done:R}=await S.throw(P);if(await B,R)return}if(typeof S.return=="function"){let{value:B}=await S.return();await B}}async function M(){for(;;){try{let{value:P,done:z}=x?await S.next():S.next();if(z)E.push(null);else{let D=P&&typeof P.then=="function"?await P:P;if(D===null)throw k=!1,new h;if(E.push(D))continue;k=!1}}catch(P){E.destroy(P)}break}}return E}t.exports=d}),Od=pe((n,t)=>{se(),le(),ae();var e=Bl(),{ArrayPrototypeIndexOf:r,NumberIsInteger:o,NumberIsNaN:a,NumberParseInt:l,ObjectDefineProperties:c,ObjectKeys:h,ObjectSetPrototypeOf:d,Promise:g,SafeSet:y,SymbolAsyncDispose:b,SymbolAsyncIterator:S,Symbol:x}=ni();t.exports=Xt,Xt.ReadableState=ve;var{EventEmitter:E}=(zl(),zn(Qa)),{Stream:k,prependListener:C}=g_(),{Buffer:M}=(Hi(),zn(Fi)),{addAbortSignal:P}=kd(),z=Ja(),D=Hr().debuglog("stream",it=>{D=it}),B=Rk(),R=Lu(),{getHighWaterMark:V,getDefaultHighWaterMark:J}=Md(),{aggregateTwoErrors:tt,codes:{ERR_INVALID_ARG_TYPE:st,ERR_METHOD_NOT_IMPLEMENTED:G,ERR_OUT_OF_RANGE:mt,ERR_STREAM_PUSH_AFTER_EOF:ht,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:ut},AbortError:rt}=Er(),{validateObject:lt}=uf(),et=x("kPaused"),{StringDecoder:jt}=Bk(),nt=NS();d(Xt.prototype,k.prototype),d(Xt,k);var Z=()=>{},{errorOrDestroy:K}=R,at=1,At=2,gt=4,Ut=8,_t=16,ct=32,vt=64,Mt=128,Nt=256,Tt=512,ce=1024,Jt=2048,ft=4096,Et=8192,Vt=16384,ie=32768,re=65536,he=1<<17,wt=1<<18;function fe(it){return{enumerable:!1,get(){return(this.state&it)!==0},set(dt){dt?this.state|=it:this.state&=~it}}}c(ve.prototype,{objectMode:fe(at),ended:fe(At),endEmitted:fe(gt),reading:fe(Ut),constructed:fe(_t),sync:fe(ct),needReadable:fe(vt),emittedReadable:fe(Mt),readableListening:fe(Nt),resumeScheduled:fe(Tt),errorEmitted:fe(ce),emitClose:fe(Jt),autoDestroy:fe(ft),destroyed:fe(Et),closed:fe(Vt),closeEmitted:fe(ie),multiAwaitDrain:fe(re),readingMore:fe(he),dataEmitted:fe(wt)});function ve(it,dt,xe){typeof xe!="boolean"&&(xe=dt instanceof ra()),this.state=Jt|ft|_t|ct,it&&it.objectMode&&(this.state|=at),xe&&it&&it.readableObjectMode&&(this.state|=at),this.highWaterMark=it?V(this,it,"readableHighWaterMark",xe):J(!1),this.buffer=new B,this.length=0,this.pipes=[],this.flowing=null,this[et]=null,it&&it.emitClose===!1&&(this.state&=~Jt),it&&it.autoDestroy===!1&&(this.state&=~ft),this.errored=null,this.defaultEncoding=it&&it.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,it&&it.encoding&&(this.decoder=new jt(it.encoding),this.encoding=it.encoding)}function Xt(it){if(!(this instanceof Xt))return new Xt(it);let dt=this instanceof ra();this._readableState=new ve(it,this,dt),it&&(typeof it.read=="function"&&(this._read=it.read),typeof it.destroy=="function"&&(this._destroy=it.destroy),typeof it.construct=="function"&&(this._construct=it.construct),it.signal&&!dt&&P(it.signal,this)),k.call(this,it),R.construct(this,()=>{this._readableState.needReadable&&Ot(this,this._readableState)})}Xt.prototype.destroy=R.destroy,Xt.prototype._undestroy=R.undestroy,Xt.prototype._destroy=function(it,dt){dt(it)},Xt.prototype[E.captureRejectionSymbol]=function(it){this.destroy(it)},Xt.prototype[b]=function(){let it;return this.destroyed||(it=this.readableEnded?null:new rt,this.destroy(it)),new g((dt,xe)=>z(this,be=>be&&be!==it?xe(be):dt(null)))},Xt.prototype.push=function(it,dt){return Ze(this,it,dt,!1)},Xt.prototype.unshift=function(it,dt){return Ze(this,it,dt,!0)};function Ze(it,dt,xe,be){D("readableAddChunk",dt);let ke=it._readableState,ln;if((ke.state&at)===0&&(typeof dt=="string"?(xe=xe||ke.defaultEncoding,ke.encoding!==xe&&(be&&ke.encoding?dt=M.from(dt,xe).toString(ke.encoding):(dt=M.from(dt,xe),xe=""))):dt instanceof M?xe="":k._isUint8Array(dt)?(dt=k._uint8ArrayToBuffer(dt),xe=""):dt!=null&&(ln=new st("chunk",["string","Buffer","Uint8Array"],dt))),ln)K(it,ln);else if(dt===null)ke.state&=~Ut,It(it,ke);else if((ke.state&at)!==0||dt&&dt.length>0)if(be)if((ke.state&gt)!==0)K(it,new ut);else{if(ke.destroyed||ke.errored)return!1;N(it,ke,dt,!0)}else if(ke.ended)K(it,new ht);else{if(ke.destroyed||ke.errored)return!1;ke.state&=~Ut,ke.decoder&&!xe?(dt=ke.decoder.write(dt),ke.objectMode||dt.length!==0?N(it,ke,dt,!1):Ot(it,ke)):N(it,ke,dt,!1)}else be||(ke.state&=~Ut,Ot(it,ke));return!ke.ended&&(ke.length<ke.highWaterMark||ke.length===0)}function N(it,dt,xe,be){dt.flowing&&dt.length===0&&!dt.sync&&it.listenerCount("data")>0?((dt.state&re)!==0?dt.awaitDrainWriters.clear():dt.awaitDrainWriters=null,dt.dataEmitted=!0,it.emit("data",xe)):(dt.length+=dt.objectMode?1:xe.length,be?dt.buffer.unshift(xe):dt.buffer.push(xe),(dt.state&vt)!==0&&ee(it)),Ot(it,dt)}Xt.prototype.isPaused=function(){let it=this._readableState;return it[et]===!0||it.flowing===!1},Xt.prototype.setEncoding=function(it){let dt=new jt(it);this._readableState.decoder=dt,this._readableState.encoding=this._readableState.decoder.encoding;let xe=this._readableState.buffer,be="";for(let ke of xe)be+=dt.write(ke);return xe.clear(),be!==""&&xe.push(be),this._readableState.length=be.length,this};var F=1073741824;function Y(it){if(it>F)throw new mt("size","<= 1GiB",it);return it--,it|=it>>>1,it|=it>>>2,it|=it>>>4,it|=it>>>8,it|=it>>>16,it++,it}function bt(it,dt){return it<=0||dt.length===0&&dt.ended?0:(dt.state&at)!==0?1:a(it)?dt.flowing&&dt.length?dt.buffer.first().length:dt.length:it<=dt.length?it:dt.ended?dt.length:0}Xt.prototype.read=function(it){D("read",it),it===void 0?it=NaN:o(it)||(it=l(it,10));let dt=this._readableState,xe=it;if(it>dt.highWaterMark&&(dt.highWaterMark=Y(it)),it!==0&&(dt.state&=~Mt),it===0&&dt.needReadable&&((dt.highWaterMark!==0?dt.length>=dt.highWaterMark:dt.length>0)||dt.ended))return D("read: emitReadable",dt.length,dt.ended),dt.length===0&&dt.ended?_i(this):ee(this),null;if(it=bt(it,dt),it===0&&dt.ended)return dt.length===0&&_i(this),null;let be=(dt.state&vt)!==0;if(D("need readable",be),(dt.length===0||dt.length-it<dt.highWaterMark)&&(be=!0,D("length less than watermark",be)),dt.ended||dt.reading||dt.destroyed||dt.errored||!dt.constructed)be=!1,D("reading, ended or constructing",be);else if(be){D("do read"),dt.state|=Ut|ct,dt.length===0&&(dt.state|=vt);try{this._read(dt.highWaterMark)}catch(ln){K(this,ln)}dt.state&=~ct,dt.reading||(it=bt(xe,dt))}let ke;return it>0?ke=yi(it,dt):ke=null,ke===null?(dt.needReadable=dt.length<=dt.highWaterMark,it=0):(dt.length-=it,dt.multiAwaitDrain?dt.awaitDrainWriters.clear():dt.awaitDrainWriters=null),dt.length===0&&(dt.ended||(dt.needReadable=!0),xe!==it&&dt.ended&&_i(this)),ke!==null&&!dt.errorEmitted&&!dt.closeEmitted&&(dt.dataEmitted=!0,this.emit("data",ke)),ke};function It(it,dt){if(D("onEofChunk"),!dt.ended){if(dt.decoder){let xe=dt.decoder.end();xe&&xe.length&&(dt.buffer.push(xe),dt.length+=dt.objectMode?1:xe.length)}dt.ended=!0,dt.sync?ee(it):(dt.needReadable=!1,dt.emittedReadable=!0,we(it))}}function ee(it){let dt=it._readableState;D("emitReadable",dt.needReadable,dt.emittedReadable),dt.needReadable=!1,dt.emittedReadable||(D("emitReadable",dt.flowing),dt.emittedReadable=!0,e.nextTick(we,it))}function we(it){let dt=it._readableState;D("emitReadable_",dt.destroyed,dt.length,dt.ended),!dt.destroyed&&!dt.errored&&(dt.length||dt.ended)&&(it.emit("readable"),dt.emittedReadable=!1),dt.needReadable=!dt.flowing&&!dt.ended&&dt.length<=dt.highWaterMark,Te(it)}function Ot(it,dt){!dt.readingMore&&dt.constructed&&(dt.readingMore=!0,e.nextTick(Yt,it,dt))}function Yt(it,dt){for(;!dt.reading&&!dt.ended&&(dt.length<dt.highWaterMark||dt.flowing&&dt.length===0);){let xe=dt.length;if(D("maybeReadMore read 0"),it.read(0),xe===dt.length)break}dt.readingMore=!1}Xt.prototype._read=function(it){throw new G("_read()")},Xt.prototype.pipe=function(it,dt){let xe=this,be=this._readableState;be.pipes.length===1&&(be.multiAwaitDrain||(be.multiAwaitDrain=!0,be.awaitDrainWriters=new y(be.awaitDrainWriters?[be.awaitDrainWriters]:[]))),be.pipes.push(it),D("pipe count=%d opts=%j",be.pipes.length,dt);let ke=(!dt||dt.end!==!1)&&it!==e.stdout&&it!==e.stderr?Ne:bi;be.endEmitted?e.nextTick(ke):xe.once("end",ke),it.on("unpipe",ln);function ln(Ri,Yn){D("onunpipe"),Ri===xe&&Yn&&Yn.hasUnpiped===!1&&(Yn.hasUnpiped=!0,Mi())}function Ne(){D("onend"),it.end()}let ii,Gi=!1;function Mi(){D("cleanup"),it.removeListener("close",Fn),it.removeListener("finish",fr),ii&&it.removeListener("drain",ii),it.removeListener("error",Un),it.removeListener("unpipe",ln),xe.removeListener("end",Ne),xe.removeListener("end",bi),xe.removeListener("data",Tn),Gi=!0,ii&&be.awaitDrainWriters&&(!it._writableState||it._writableState.needDrain)&&ii()}function hn(){Gi||(be.pipes.length===1&&be.pipes[0]===it?(D("false write response, pause",0),be.awaitDrainWriters=it,be.multiAwaitDrain=!1):be.pipes.length>1&&be.pipes.includes(it)&&(D("false write response, pause",be.awaitDrainWriters.size),be.awaitDrainWriters.add(it)),xe.pause()),ii||(ii=je(xe,it),it.on("drain",ii))}xe.on("data",Tn);function Tn(Ri){D("ondata");let Yn=it.write(Ri);D("dest.write",Yn),Yn===!1&&hn()}function Un(Ri){if(D("onerror",Ri),bi(),it.removeListener("error",Un),it.listenerCount("error")===0){let Yn=it._writableState||it._readableState;Yn&&!Yn.errorEmitted?K(it,Ri):it.emit("error",Ri)}}C(it,"error",Un);function Fn(){it.removeListener("finish",fr),bi()}it.once("close",Fn);function fr(){D("onfinish"),it.removeListener("close",Fn),bi()}it.once("finish",fr);function bi(){D("unpipe"),xe.unpipe(it)}return it.emit("pipe",xe),it.writableNeedDrain===!0?hn():be.flowing||(D("pipe resume"),xe.resume()),it};function je(it,dt){return function(){let xe=it._readableState;xe.awaitDrainWriters===dt?(D("pipeOnDrain",1),xe.awaitDrainWriters=null):xe.multiAwaitDrain&&(D("pipeOnDrain",xe.awaitDrainWriters.size),xe.awaitDrainWriters.delete(dt)),(!xe.awaitDrainWriters||xe.awaitDrainWriters.size===0)&&it.listenerCount("data")&&it.resume()}}Xt.prototype.unpipe=function(it){let dt=this._readableState,xe={hasUnpiped:!1};if(dt.pipes.length===0)return this;if(!it){let ke=dt.pipes;dt.pipes=[],this.pause();for(let ln=0;ln<ke.length;ln++)ke[ln].emit("unpipe",this,{hasUnpiped:!1});return this}let be=r(dt.pipes,it);return be===-1?this:(dt.pipes.splice(be,1),dt.pipes.length===0&&this.pause(),it.emit("unpipe",this,xe),this)},Xt.prototype.on=function(it,dt){let xe=k.prototype.on.call(this,it,dt),be=this._readableState;return it==="data"?(be.readableListening=this.listenerCount("readable")>0,be.flowing!==!1&&this.resume()):it==="readable"&&!be.endEmitted&&!be.readableListening&&(be.readableListening=be.needReadable=!0,be.flowing=!1,be.emittedReadable=!1,D("on readable",be.length,be.reading),be.length?ee(this):be.reading||e.nextTick(Fe,this)),xe},Xt.prototype.addListener=Xt.prototype.on,Xt.prototype.removeListener=function(it,dt){let xe=k.prototype.removeListener.call(this,it,dt);return it==="readable"&&e.nextTick(ue,this),xe},Xt.prototype.off=Xt.prototype.removeListener,Xt.prototype.removeAllListeners=function(it){let dt=k.prototype.removeAllListeners.apply(this,arguments);return(it==="readable"||it===void 0)&&e.nextTick(ue,this),dt};function ue(it){let dt=it._readableState;dt.readableListening=it.listenerCount("readable")>0,dt.resumeScheduled&&dt[et]===!1?dt.flowing=!0:it.listenerCount("data")>0?it.resume():dt.readableListening||(dt.flowing=null)}function Fe(it){D("readable nexttick read 0"),it.read(0)}Xt.prototype.resume=function(){let it=this._readableState;return it.flowing||(D("resume"),it.flowing=!it.readableListening,Ke(this,it)),it[et]=!1,this};function Ke(it,dt){dt.resumeScheduled||(dt.resumeScheduled=!0,e.nextTick(ki,it,dt))}function ki(it,dt){D("resume",dt.reading),dt.reading||it.read(0),dt.resumeScheduled=!1,it.emit("resume"),Te(it),dt.flowing&&!dt.reading&&it.read(0)}Xt.prototype.pause=function(){return D("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(D("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[et]=!0,this};function Te(it){let dt=it._readableState;for(D("flow",dt.flowing);dt.flowing&&it.read()!==null;);}Xt.prototype.wrap=function(it){let dt=!1;it.on("data",be=>{!this.push(be)&&it.pause&&(dt=!0,it.pause())}),it.on("end",()=>{this.push(null)}),it.on("error",be=>{K(this,be)}),it.on("close",()=>{this.destroy()}),it.on("destroy",()=>{this.destroy()}),this._read=()=>{dt&&it.resume&&(dt=!1,it.resume())};let xe=h(it);for(let be=1;be<xe.length;be++){let ke=xe[be];this[ke]===void 0&&typeof it[ke]=="function"&&(this[ke]=it[ke].bind(it))}return this},Xt.prototype[S]=function(){return Nn(this)},Xt.prototype.iterator=function(it){return it!==void 0&&lt(it,"options"),Nn(this,it)};function Nn(it,dt){typeof it.read!="function"&&(it=Xt.wrap(it,{objectMode:!0}));let xe=ci(it,dt);return xe.stream=it,xe}async function*ci(it,dt){let xe=Z;function be(Ne){this===it?(xe(),xe=Z):xe=Ne}it.on("readable",be);let ke,ln=z(it,{writable:!1},Ne=>{ke=Ne?tt(ke,Ne):null,xe(),xe=Z});try{for(;;){let Ne=it.destroyed?null:it.read();if(Ne!==null)yield Ne;else{if(ke)throw ke;if(ke===null)return;await new g(be)}}}catch(Ne){throw ke=tt(ke,Ne),ke}finally{(ke||dt?.destroyOnReturn!==!1)&&(ke===void 0||it._readableState.autoDestroy)?R.destroyer(it,null):(it.off("readable",be),ln())}}c(Xt.prototype,{readable:{__proto__:null,get(){let it=this._readableState;return!!it&&it.readable!==!1&&!it.destroyed&&!it.errorEmitted&&!it.endEmitted},set(it){this._readableState&&(this._readableState.readable=!!it)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(it){this._readableState&&(this._readableState.flowing=it)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(it){this._readableState&&(this._readableState.destroyed=it)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),c(ve.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[et]!==!1},set(it){this[et]=!!it}}}),Xt._fromList=yi;function yi(it,dt){if(dt.length===0)return null;let xe;return dt.objectMode?xe=dt.buffer.shift():!it||it>=dt.length?(dt.decoder?xe=dt.buffer.join(""):dt.buffer.length===1?xe=dt.buffer.first():xe=dt.buffer.concat(dt.length),dt.buffer.clear()):xe=dt.buffer.consume(it,dt.decoder),xe}function _i(it){let dt=it._readableState;D("endReadable",dt.endEmitted),dt.endEmitted||(dt.ended=!0,e.nextTick(Vn,dt,it))}function Vn(it,dt){if(D("endReadableNT",it.endEmitted,it.length),!it.errored&&!it.closeEmitted&&!it.endEmitted&&it.length===0){if(it.endEmitted=!0,dt.emit("end"),dt.writable&&dt.allowHalfOpen===!1)e.nextTick(qo,dt);else if(it.autoDestroy){let xe=dt._writableState;(!xe||xe.autoDestroy&&(xe.finished||xe.writable===!1))&&dt.destroy()}}}function qo(it){it.writable&&!it.writableEnded&&!it.destroyed&&it.end()}Xt.from=function(it,dt){return nt(Xt,it,dt)};var Vr;function Pi(){return Vr===void 0&&(Vr={}),Vr}Xt.fromWeb=function(it,dt){return Pi().newStreamReadableFromReadableStream(it,dt)},Xt.toWeb=function(it,dt){return Pi().newReadableStreamFromStreamReadable(it,dt)},Xt.wrap=function(it,dt){var xe,be;return new Xt({objectMode:(xe=(be=it.readableObjectMode)!==null&&be!==void 0?be:it.objectMode)!==null&&xe!==void 0?xe:!0,...dt,destroy(ke,ln){R.destroyer(it,ke),ln(ke)}}).wrap(it)}}),y_=pe((n,t)=>{se(),le(),ae();var e=Bl(),{ArrayPrototypeSlice:r,Error:o,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:l,ObjectDefineProperties:c,ObjectSetPrototypeOf:h,StringPrototypeToLowerCase:d,Symbol:g,SymbolHasInstance:y}=ni();t.exports=lt,lt.WritableState=ut;var{EventEmitter:b}=(zl(),zn(Qa)),S=g_().Stream,{Buffer:x}=(Hi(),zn(Fi)),E=Lu(),{addAbortSignal:k}=kd(),{getHighWaterMark:C,getDefaultHighWaterMark:M}=Md(),{ERR_INVALID_ARG_TYPE:P,ERR_METHOD_NOT_IMPLEMENTED:z,ERR_MULTIPLE_CALLBACK:D,ERR_STREAM_CANNOT_PIPE:B,ERR_STREAM_DESTROYED:R,ERR_STREAM_ALREADY_FINISHED:V,ERR_STREAM_NULL_VALUES:J,ERR_STREAM_WRITE_AFTER_END:tt,ERR_UNKNOWN_ENCODING:st}=Er().codes,{errorOrDestroy:G}=E;h(lt.prototype,S.prototype),h(lt,S);function mt(){}var ht=g("kOnFinished");function ut(ft,Et,Vt){typeof Vt!="boolean"&&(Vt=Et instanceof ra()),this.objectMode=!!(ft&&ft.objectMode),Vt&&(this.objectMode=this.objectMode||!!(ft&&ft.writableObjectMode)),this.highWaterMark=ft?C(this,ft,"writableHighWaterMark",Vt):M(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let ie=!!(ft&&ft.decodeStrings===!1);this.decodeStrings=!ie,this.defaultEncoding=ft&&ft.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=K.bind(void 0,Et),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,rt(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!ft||ft.emitClose!==!1,this.autoDestroy=!ft||ft.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ht]=[]}function rt(ft){ft.buffered=[],ft.bufferedIndex=0,ft.allBuffers=!0,ft.allNoop=!0}ut.prototype.getBuffer=function(){return r(this.buffered,this.bufferedIndex)},l(ut.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function lt(ft){let Et=this instanceof ra();if(!Et&&!a(lt,this))return new lt(ft);this._writableState=new ut(ft,this,Et),ft&&(typeof ft.write=="function"&&(this._write=ft.write),typeof ft.writev=="function"&&(this._writev=ft.writev),typeof ft.destroy=="function"&&(this._destroy=ft.destroy),typeof ft.final=="function"&&(this._final=ft.final),typeof ft.construct=="function"&&(this._construct=ft.construct),ft.signal&&k(ft.signal,this)),S.call(this,ft),E.construct(this,()=>{let Vt=this._writableState;Vt.writing||Ut(this,Vt),Mt(this,Vt)})}l(lt,y,{__proto__:null,value:function(ft){return a(this,ft)?!0:this!==lt?!1:ft&&ft._writableState instanceof ut}}),lt.prototype.pipe=function(){G(this,new B)};function et(ft,Et,Vt,ie){let re=ft._writableState;if(typeof Vt=="function")ie=Vt,Vt=re.defaultEncoding;else{if(!Vt)Vt=re.defaultEncoding;else if(Vt!=="buffer"&&!x.isEncoding(Vt))throw new st(Vt);typeof ie!="function"&&(ie=mt)}if(Et===null)throw new J;if(!re.objectMode)if(typeof Et=="string")re.decodeStrings!==!1&&(Et=x.from(Et,Vt),Vt="buffer");else if(Et instanceof x)Vt="buffer";else if(S._isUint8Array(Et))Et=S._uint8ArrayToBuffer(Et),Vt="buffer";else throw new P("chunk",["string","Buffer","Uint8Array"],Et);let he;return re.ending?he=new tt:re.destroyed&&(he=new R("write")),he?(e.nextTick(ie,he),G(ft,he,!0),he):(re.pendingcb++,jt(ft,re,Et,Vt,ie))}lt.prototype.write=function(ft,Et,Vt){return et(this,ft,Et,Vt)===!0},lt.prototype.cork=function(){this._writableState.corked++},lt.prototype.uncork=function(){let ft=this._writableState;ft.corked&&(ft.corked--,ft.writing||Ut(this,ft))},lt.prototype.setDefaultEncoding=function(ft){if(typeof ft=="string"&&(ft=d(ft)),!x.isEncoding(ft))throw new st(ft);return this._writableState.defaultEncoding=ft,this};function jt(ft,Et,Vt,ie,re){let he=Et.objectMode?1:Vt.length;Et.length+=he;let wt=Et.length<Et.highWaterMark;return wt||(Et.needDrain=!0),Et.writing||Et.corked||Et.errored||!Et.constructed?(Et.buffered.push({chunk:Vt,encoding:ie,callback:re}),Et.allBuffers&&ie!=="buffer"&&(Et.allBuffers=!1),Et.allNoop&&re!==mt&&(Et.allNoop=!1)):(Et.writelen=he,Et.writecb=re,Et.writing=!0,Et.sync=!0,ft._write(Vt,ie,Et.onwrite),Et.sync=!1),wt&&!Et.errored&&!Et.destroyed}function nt(ft,Et,Vt,ie,re,he,wt){Et.writelen=ie,Et.writecb=wt,Et.writing=!0,Et.sync=!0,Et.destroyed?Et.onwrite(new R("write")):Vt?ft._writev(re,Et.onwrite):ft._write(re,he,Et.onwrite),Et.sync=!1}function Z(ft,Et,Vt,ie){--Et.pendingcb,ie(Vt),gt(Et),G(ft,Vt)}function K(ft,Et){let Vt=ft._writableState,ie=Vt.sync,re=Vt.writecb;if(typeof re!="function"){G(ft,new D);return}Vt.writing=!1,Vt.writecb=null,Vt.length-=Vt.writelen,Vt.writelen=0,Et?(Et.stack,Vt.errored||(Vt.errored=Et),ft._readableState&&!ft._readableState.errored&&(ft._readableState.errored=Et),ie?e.nextTick(Z,ft,Vt,Et,re):Z(ft,Vt,Et,re)):(Vt.buffered.length>Vt.bufferedIndex&&Ut(ft,Vt),ie?Vt.afterWriteTickInfo!==null&&Vt.afterWriteTickInfo.cb===re?Vt.afterWriteTickInfo.count++:(Vt.afterWriteTickInfo={count:1,cb:re,stream:ft,state:Vt},e.nextTick(at,Vt.afterWriteTickInfo)):At(ft,Vt,1,re))}function at({stream:ft,state:Et,count:Vt,cb:ie}){return Et.afterWriteTickInfo=null,At(ft,Et,Vt,ie)}function At(ft,Et,Vt,ie){for(!Et.ending&&!ft.destroyed&&Et.length===0&&Et.needDrain&&(Et.needDrain=!1,ft.emit("drain"));Vt-- >0;)Et.pendingcb--,ie();Et.destroyed&&gt(Et),Mt(ft,Et)}function gt(ft){if(ft.writing)return;for(let re=ft.bufferedIndex;re<ft.buffered.length;++re){var Et;let{chunk:he,callback:wt}=ft.buffered[re],fe=ft.objectMode?1:he.length;ft.length-=fe,wt((Et=ft.errored)!==null&&Et!==void 0?Et:new R("write"))}let Vt=ft[ht].splice(0);for(let re=0;re<Vt.length;re++){var ie;Vt[re]((ie=ft.errored)!==null&&ie!==void 0?ie:new R("end"))}rt(ft)}function Ut(ft,Et){if(Et.corked||Et.bufferProcessing||Et.destroyed||!Et.constructed)return;let{buffered:Vt,bufferedIndex:ie,objectMode:re}=Et,he=Vt.length-ie;if(!he)return;let wt=ie;if(Et.bufferProcessing=!0,he>1&&ft._writev){Et.pendingcb-=he-1;let fe=Et.allNoop?mt:Xt=>{for(let Ze=wt;Ze<Vt.length;++Ze)Vt[Ze].callback(Xt)},ve=Et.allNoop&&wt===0?Vt:r(Vt,wt);ve.allBuffers=Et.allBuffers,nt(ft,Et,!0,Et.length,ve,"",fe),rt(Et)}else{do{let{chunk:fe,encoding:ve,callback:Xt}=Vt[wt];Vt[wt++]=null;let Ze=re?1:fe.length;nt(ft,Et,!1,Ze,fe,ve,Xt)}while(wt<Vt.length&&!Et.writing);wt===Vt.length?rt(Et):wt>256?(Vt.splice(0,wt),Et.bufferedIndex=0):Et.bufferedIndex=wt}Et.bufferProcessing=!1}lt.prototype._write=function(ft,Et,Vt){if(this._writev)this._writev([{chunk:ft,encoding:Et}],Vt);else throw new z("_write()")},lt.prototype._writev=null,lt.prototype.end=function(ft,Et,Vt){let ie=this._writableState;typeof ft=="function"?(Vt=ft,ft=null,Et=null):typeof Et=="function"&&(Vt=Et,Et=null);let re;if(ft!=null){let he=et(this,ft,Et);he instanceof o&&(re=he)}return ie.corked&&(ie.corked=1,this.uncork()),re||(!ie.errored&&!ie.ending?(ie.ending=!0,Mt(this,ie,!0),ie.ended=!0):ie.finished?re=new V("end"):ie.destroyed&&(re=new R("end"))),typeof Vt=="function"&&(re||ie.finished?e.nextTick(Vt,re):ie[ht].push(Vt)),this};function _t(ft){return ft.ending&&!ft.destroyed&&ft.constructed&&ft.length===0&&!ft.errored&&ft.buffered.length===0&&!ft.finished&&!ft.writing&&!ft.errorEmitted&&!ft.closeEmitted}function ct(ft,Et){let Vt=!1;function ie(re){if(Vt){G(ft,re??D());return}if(Vt=!0,Et.pendingcb--,re){let he=Et[ht].splice(0);for(let wt=0;wt<he.length;wt++)he[wt](re);G(ft,re,Et.sync)}else _t(Et)&&(Et.prefinished=!0,ft.emit("prefinish"),Et.pendingcb++,e.nextTick(Nt,ft,Et))}Et.sync=!0,Et.pendingcb++;try{ft._final(ie)}catch(re){ie(re)}Et.sync=!1}function vt(ft,Et){!Et.prefinished&&!Et.finalCalled&&(typeof ft._final=="function"&&!Et.destroyed?(Et.finalCalled=!0,ct(ft,Et)):(Et.prefinished=!0,ft.emit("prefinish")))}function Mt(ft,Et,Vt){_t(Et)&&(vt(ft,Et),Et.pendingcb===0&&(Vt?(Et.pendingcb++,e.nextTick((ie,re)=>{_t(re)?Nt(ie,re):re.pendingcb--},ft,Et)):_t(Et)&&(Et.pendingcb++,Nt(ft,Et))))}function Nt(ft,Et){Et.pendingcb--,Et.finished=!0;let Vt=Et[ht].splice(0);for(let ie=0;ie<Vt.length;ie++)Vt[ie]();if(ft.emit("finish"),Et.autoDestroy){let ie=ft._readableState;(!ie||ie.autoDestroy&&(ie.endEmitted||ie.readable===!1))&&ft.destroy()}}c(lt.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(ft){this._writableState&&(this._writableState.destroyed=ft)}},writable:{__proto__:null,get(){let ft=this._writableState;return!!ft&&ft.writable!==!1&&!ft.destroyed&&!ft.errored&&!ft.ending&&!ft.ended},set(ft){this._writableState&&(this._writableState.writable=!!ft)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let ft=this._writableState;return ft?!ft.destroyed&&!ft.ending&&ft.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Tt=E.destroy;lt.prototype.destroy=function(ft,Et){let Vt=this._writableState;return!Vt.destroyed&&(Vt.bufferedIndex<Vt.buffered.length||Vt[ht].length)&&e.nextTick(gt,Vt),Tt.call(this,ft,Et),this},lt.prototype._undestroy=E.undestroy,lt.prototype._destroy=function(ft,Et){Et(ft)},lt.prototype[b.captureRejectionSymbol]=function(ft){this.destroy(ft)};var ce;function Jt(){return ce===void 0&&(ce={}),ce}lt.fromWeb=function(ft,Et){return Jt().newStreamWritableFromWritableStream(ft,Et)},lt.toWeb=function(ft){return Jt().newWritableStreamFromStreamWritable(ft)}}),Ik=pe((n,t)=>{se(),le(),ae();var e=Bl(),r=(Hi(),zn(Fi)),{isReadable:o,isWritable:a,isIterable:l,isNodeStream:c,isReadableNodeStream:h,isWritableNodeStream:d,isDuplexNodeStream:g,isReadableStream:y,isWritableStream:b}=aa(),S=Ja(),{AbortError:x,codes:{ERR_INVALID_ARG_TYPE:E,ERR_INVALID_RETURN_VALUE:k}}=Er(),{destroyer:C}=Lu(),M=ra(),P=Od(),z=y_(),{createDeferredPromise:D}=Hr(),B=NS(),R=globalThis.Blob||r.Blob,V=typeof R<"u"?function(ht){return ht instanceof R}:function(ht){return!1},J=globalThis.AbortController||tf().AbortController,{FunctionPrototypeCall:tt}=ni(),st=class extends M{constructor(ht){super(ht),ht?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),ht?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};t.exports=function ht(ut,rt){if(g(ut))return ut;if(h(ut))return mt({readable:ut});if(d(ut))return mt({writable:ut});if(c(ut))return mt({writable:!1,readable:!1});if(y(ut))return mt({readable:P.fromWeb(ut)});if(b(ut))return mt({writable:z.fromWeb(ut)});if(typeof ut=="function"){let{value:et,write:jt,final:nt,destroy:Z}=G(ut);if(l(et))return B(st,et,{objectMode:!0,write:jt,final:nt,destroy:Z});let K=et?.then;if(typeof K=="function"){let at,At=tt(K,et,gt=>{if(gt!=null)throw new k("nully","body",gt)},gt=>{C(at,gt)});return at=new st({objectMode:!0,readable:!1,write:jt,final(gt){nt(async()=>{try{await At,e.nextTick(gt,null)}catch(Ut){e.nextTick(gt,Ut)}})},destroy:Z})}throw new k("Iterable, AsyncIterable or AsyncFunction",rt,et)}if(V(ut))return ht(ut.arrayBuffer());if(l(ut))return B(st,ut,{objectMode:!0,writable:!1});if(y(ut?.readable)&&b(ut?.writable))return st.fromWeb(ut);if(typeof ut?.writable=="object"||typeof ut?.readable=="object"){let et=ut!=null&&ut.readable?h(ut?.readable)?ut?.readable:ht(ut.readable):void 0,jt=ut!=null&&ut.writable?d(ut?.writable)?ut?.writable:ht(ut.writable):void 0;return mt({readable:et,writable:jt})}let lt=ut?.then;if(typeof lt=="function"){let et;return tt(lt,ut,jt=>{jt!=null&&et.push(jt),et.push(null)},jt=>{C(et,jt)}),et=new st({objectMode:!0,writable:!1,read(){}})}throw new E(rt,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],ut)};function G(ht){let{promise:ut,resolve:rt}=D(),lt=new J,et=lt.signal;return{value:ht((async function*(){for(;;){let jt=ut;ut=null;let{chunk:nt,done:Z,cb:K}=await jt;if(e.nextTick(K),Z)return;if(et.aborted)throw new x(void 0,{cause:et.reason});({promise:ut,resolve:rt}=D()),yield nt}})(),{signal:et}),write(jt,nt,Z){let K=rt;rt=null,K({chunk:jt,done:!1,cb:Z})},final(jt){let nt=rt;rt=null,nt({done:!0,cb:jt})},destroy(jt,nt){lt.abort(),nt(jt)}}}function mt(ht){let ut=ht.readable&&typeof ht.readable.read!="function"?P.wrap(ht.readable):ht.readable,rt=ht.writable,lt=!!o(ut),et=!!a(rt),jt,nt,Z,K,at;function At(gt){let Ut=K;K=null,Ut?Ut(gt):gt&&at.destroy(gt)}return at=new st({readableObjectMode:!!(ut!=null&&ut.readableObjectMode),writableObjectMode:!!(rt!=null&&rt.writableObjectMode),readable:lt,writable:et}),et&&(S(rt,gt=>{et=!1,gt&&C(ut,gt),At(gt)}),at._write=function(gt,Ut,_t){rt.write(gt,Ut)?_t():jt=_t},at._final=function(gt){rt.end(),nt=gt},rt.on("drain",function(){if(jt){let gt=jt;jt=null,gt()}}),rt.on("finish",function(){if(nt){let gt=nt;nt=null,gt()}})),lt&&(S(ut,gt=>{lt=!1,gt&&C(ut,gt),At(gt)}),ut.on("readable",function(){if(Z){let gt=Z;Z=null,gt()}}),ut.on("end",function(){at.push(null)}),at._read=function(){for(;;){let gt=ut.read();if(gt===null){Z=at._read;return}if(!at.push(gt))return}}),at._destroy=function(gt,Ut){!gt&&K!==null&&(gt=new x),Z=null,jt=null,nt=null,K===null?Ut(gt):(K=Ut,C(rt,gt),C(ut,gt))},at}}),ra=pe((n,t)=>{se(),le(),ae();var{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:r,ObjectKeys:o,ObjectSetPrototypeOf:a}=ni();t.exports=h;var l=Od(),c=y_();a(h.prototype,l.prototype),a(h,l);{let b=o(c.prototype);for(let S=0;S<b.length;S++){let x=b[S];h.prototype[x]||(h.prototype[x]=c.prototype[x])}}function h(b){if(!(this instanceof h))return new h(b);l.call(this,b),c.call(this,b),b?(this.allowHalfOpen=b.allowHalfOpen!==!1,b.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),b.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(h.prototype,{writable:{__proto__:null,...r(c.prototype,"writable")},writableHighWaterMark:{__proto__:null,...r(c.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...r(c.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...r(c.prototype,"writableBuffer")},writableLength:{__proto__:null,...r(c.prototype,"writableLength")},writableFinished:{__proto__:null,...r(c.prototype,"writableFinished")},writableCorked:{__proto__:null,...r(c.prototype,"writableCorked")},writableEnded:{__proto__:null,...r(c.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...r(c.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(b){this._readableState&&this._writableState&&(this._readableState.destroyed=b,this._writableState.destroyed=b)}}});var d;function g(){return d===void 0&&(d={}),d}h.fromWeb=function(b,S){return g().newStreamDuplexFromReadableWritablePair(b,S)},h.toWeb=function(b){return g().newReadableWritablePairFromDuplex(b)};var y;h.from=function(b){return y||(y=Ik()),y(b,"body")}}),DS=pe((n,t)=>{se(),le(),ae();var{ObjectSetPrototypeOf:e,Symbol:r}=ni();t.exports=h;var{ERR_METHOD_NOT_IMPLEMENTED:o}=Er().codes,a=ra(),{getHighWaterMark:l}=Md();e(h.prototype,a.prototype),e(h,a);var c=r("kCallback");function h(y){if(!(this instanceof h))return new h(y);let b=y?l(this,y,"readableHighWaterMark",!0):null;b===0&&(y={...y,highWaterMark:null,readableHighWaterMark:b,writableHighWaterMark:y.writableHighWaterMark||0}),a.call(this,y),this._readableState.sync=!1,this[c]=null,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",g)}function d(y){typeof this._flush=="function"&&!this.destroyed?this._flush((b,S)=>{if(b){y?y(b):this.destroy(b);return}S!=null&&this.push(S),this.push(null),y&&y()}):(this.push(null),y&&y())}function g(){this._final!==d&&d.call(this)}h.prototype._final=d,h.prototype._transform=function(y,b,S){throw new o("_transform()")},h.prototype._write=function(y,b,S){let x=this._readableState,E=this._writableState,k=x.length;this._transform(y,b,(C,M)=>{if(C){S(C);return}M!=null&&this.push(M),E.ended||k===x.length||x.length<x.highWaterMark?S():this[c]=S})},h.prototype._read=function(){if(this[c]){let y=this[c];this[c]=null,y()}}}),jS=pe((n,t)=>{se(),le(),ae();var{ObjectSetPrototypeOf:e}=ni();t.exports=o;var r=DS();e(o.prototype,r.prototype),e(o,r);function o(a){if(!(this instanceof o))return new o(a);r.call(this,a)}o.prototype._transform=function(a,l,c){c(null,a)}}),__=pe((n,t)=>{se(),le(),ae();var e=Bl(),{ArrayIsArray:r,Promise:o,SymbolAsyncIterator:a,SymbolDispose:l}=ni(),c=Ja(),{once:h}=Hr(),d=Lu(),g=ra(),{aggregateTwoErrors:y,codes:{ERR_INVALID_ARG_TYPE:b,ERR_INVALID_RETURN_VALUE:S,ERR_MISSING_ARGS:x,ERR_STREAM_DESTROYED:E,ERR_STREAM_PREMATURE_CLOSE:k},AbortError:C}=Er(),{validateFunction:M,validateAbortSignal:P}=uf(),{isIterable:z,isReadable:D,isReadableNodeStream:B,isNodeStream:R,isTransformStream:V,isWebStream:J,isReadableStream:tt,isReadableFinished:st}=aa(),G=globalThis.AbortController||tf().AbortController,mt,ht,ut;function rt(gt,Ut,_t){let ct=!1;gt.on("close",()=>{ct=!0});let vt=c(gt,{readable:Ut,writable:_t},Mt=>{ct=!Mt});return{destroy:Mt=>{ct||(ct=!0,d.destroyer(gt,Mt||new E("pipe")))},cleanup:vt}}function lt(gt){return M(gt[gt.length-1],"streams[stream.length - 1]"),gt.pop()}function et(gt){if(z(gt))return gt;if(B(gt))return jt(gt);throw new b("val",["Readable","Iterable","AsyncIterable"],gt)}async function*jt(gt){ht||(ht=Od()),yield*ht.prototype[a].call(gt)}async function nt(gt,Ut,_t,{end:ct}){let vt,Mt=null,Nt=Jt=>{if(Jt&&(vt=Jt),Mt){let ft=Mt;Mt=null,ft()}},Tt=()=>new o((Jt,ft)=>{vt?ft(vt):Mt=()=>{vt?ft(vt):Jt()}});Ut.on("drain",Nt);let ce=c(Ut,{readable:!1},Nt);try{Ut.writableNeedDrain&&await Tt();for await(let Jt of gt)Ut.write(Jt)||await Tt();ct&&(Ut.end(),await Tt()),_t()}catch(Jt){_t(vt!==Jt?y(vt,Jt):Jt)}finally{ce(),Ut.off("drain",Nt)}}async function Z(gt,Ut,_t,{end:ct}){V(Ut)&&(Ut=Ut.writable);let vt=Ut.getWriter();try{for await(let Mt of gt)await vt.ready,vt.write(Mt).catch(()=>{});await vt.ready,ct&&await vt.close(),_t()}catch(Mt){try{await vt.abort(Mt),_t(Mt)}catch(Nt){_t(Nt)}}}function K(...gt){return at(gt,h(lt(gt)))}function at(gt,Ut,_t){if(gt.length===1&&r(gt[0])&&(gt=gt[0]),gt.length<2)throw new x("streams");let ct=new G,vt=ct.signal,Mt=_t?.signal,Nt=[];P(Mt,"options.signal");function Tt(){re(new C)}ut=ut||Hr().addAbortListener;let ce;Mt&&(ce=ut(Mt,Tt));let Jt,ft,Et=[],Vt=0;function ie(ve){re(ve,--Vt===0)}function re(ve,Xt){var Ze;if(ve&&(!Jt||Jt.code==="ERR_STREAM_PREMATURE_CLOSE")&&(Jt=ve),!(!Jt&&!Xt)){for(;Et.length;)Et.shift()(Jt);(Ze=ce)===null||Ze===void 0||Ze[l](),ct.abort(),Xt&&(Jt||Nt.forEach(N=>N()),e.nextTick(Ut,Jt,ft))}}let he;for(let ve=0;ve<gt.length;ve++){let Xt=gt[ve],Ze=ve<gt.length-1,N=ve>0,F=Ze||_t?.end!==!1,Y=ve===gt.length-1;if(R(Xt)){let bt=function(It){It&&It.name!=="AbortError"&&It.code!=="ERR_STREAM_PREMATURE_CLOSE"&&ie(It)};if(F){let{destroy:It,cleanup:ee}=rt(Xt,Ze,N);Et.push(It),D(Xt)&&Y&&Nt.push(ee)}Xt.on("error",bt),D(Xt)&&Y&&Nt.push(()=>{Xt.removeListener("error",bt)})}if(ve===0)if(typeof Xt=="function"){if(he=Xt({signal:vt}),!z(he))throw new S("Iterable, AsyncIterable or Stream","source",he)}else z(Xt)||B(Xt)||V(Xt)?he=Xt:he=g.from(Xt);else if(typeof Xt=="function"){if(V(he)){var wt;he=et((wt=he)===null||wt===void 0?void 0:wt.readable)}else he=et(he);if(he=Xt(he,{signal:vt}),Ze){if(!z(he,!0))throw new S("AsyncIterable",`transform[${ve-1}]`,he)}else{var fe;mt||(mt=jS());let bt=new mt({objectMode:!0}),It=(fe=he)===null||fe===void 0?void 0:fe.then;if(typeof It=="function")Vt++,It.call(he,Ot=>{ft=Ot,Ot!=null&&bt.write(Ot),F&&bt.end(),e.nextTick(ie)},Ot=>{bt.destroy(Ot),e.nextTick(ie,Ot)});else if(z(he,!0))Vt++,nt(he,bt,ie,{end:F});else if(tt(he)||V(he)){let Ot=he.readable||he;Vt++,nt(Ot,bt,ie,{end:F})}else throw new S("AsyncIterable or Promise","destination",he);he=bt;let{destroy:ee,cleanup:we}=rt(he,!1,!0);Et.push(ee),Y&&Nt.push(we)}}else if(R(Xt)){if(B(he)){Vt+=2;let bt=At(he,Xt,ie,{end:F});D(Xt)&&Y&&Nt.push(bt)}else if(V(he)||tt(he)){let bt=he.readable||he;Vt++,nt(bt,Xt,ie,{end:F})}else if(z(he))Vt++,nt(he,Xt,ie,{end:F});else throw new b("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],he);he=Xt}else if(J(Xt)){if(B(he))Vt++,Z(et(he),Xt,ie,{end:F});else if(tt(he)||z(he))Vt++,Z(he,Xt,ie,{end:F});else if(V(he))Vt++,Z(he.readable,Xt,ie,{end:F});else throw new b("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],he);he=Xt}else he=g.from(Xt)}return(vt!=null&&vt.aborted||Mt!=null&&Mt.aborted)&&e.nextTick(Tt),he}function At(gt,Ut,_t,{end:ct}){let vt=!1;if(Ut.on("close",()=>{vt||_t(new k)}),gt.pipe(Ut,{end:!1}),ct){let Mt=function(){vt=!0,Ut.end()};st(gt)?e.nextTick(Mt):gt.once("end",Mt)}else _t();return c(gt,{readable:!0,writable:!1},Mt=>{let Nt=gt._readableState;Mt&&Mt.code==="ERR_STREAM_PREMATURE_CLOSE"&&Nt&&Nt.ended&&!Nt.errored&&!Nt.errorEmitted?gt.once("end",_t).once("error",_t):_t(Mt)}),c(Ut,{readable:!1,writable:!0},_t)}t.exports={pipelineImpl:at,pipeline:K}}),PS=pe((n,t)=>{se(),le(),ae();var{pipeline:e}=__(),r=ra(),{destroyer:o}=Lu(),{isNodeStream:a,isReadable:l,isWritable:c,isWebStream:h,isTransformStream:d,isWritableStream:g,isReadableStream:y}=aa(),{AbortError:b,codes:{ERR_INVALID_ARG_VALUE:S,ERR_MISSING_ARGS:x}}=Er(),E=Ja();t.exports=function(...k){if(k.length===0)throw new x("streams");if(k.length===1)return r.from(k[0]);let C=[...k];if(typeof k[0]=="function"&&(k[0]=r.from(k[0])),typeof k[k.length-1]=="function"){let G=k.length-1;k[G]=r.from(k[G])}for(let G=0;G<k.length;++G)if(!(!a(k[G])&&!h(k[G]))){if(G<k.length-1&&!(l(k[G])||y(k[G])||d(k[G])))throw new S(`streams[${G}]`,C[G],"must be readable");if(G>0&&!(c(k[G])||g(k[G])||d(k[G])))throw new S(`streams[${G}]`,C[G],"must be writable")}let M,P,z,D,B;function R(G){let mt=D;D=null,mt?mt(G):G?B.destroy(G):!st&&!tt&&B.destroy()}let V=k[0],J=e(k,R),tt=!!(c(V)||g(V)||d(V)),st=!!(l(J)||y(J)||d(J));if(B=new r({writableObjectMode:!!(V!=null&&V.writableObjectMode),readableObjectMode:!!(J!=null&&J.readableObjectMode),writable:tt,readable:st}),tt){if(a(V))B._write=function(mt,ht,ut){V.write(mt,ht)?ut():M=ut},B._final=function(mt){V.end(),P=mt},V.on("drain",function(){if(M){let mt=M;M=null,mt()}});else if(h(V)){let mt=(d(V)?V.writable:V).getWriter();B._write=async function(ht,ut,rt){try{await mt.ready,mt.write(ht).catch(()=>{}),rt()}catch(lt){rt(lt)}},B._final=async function(ht){try{await mt.ready,mt.close().catch(()=>{}),P=ht}catch(ut){ht(ut)}}}let G=d(J)?J.readable:J;E(G,()=>{if(P){let mt=P;P=null,mt()}})}if(st){if(a(J))J.on("readable",function(){if(z){let G=z;z=null,G()}}),J.on("end",function(){B.push(null)}),B._read=function(){for(;;){let G=J.read();if(G===null){z=B._read;return}if(!B.push(G))return}};else if(h(J)){let G=(d(J)?J.readable:J).getReader();B._read=async function(){for(;;)try{let{value:mt,done:ht}=await G.read();if(!B.push(mt))return;if(ht){B.push(null);return}}catch{return}}}}return B._destroy=function(G,mt){!G&&D!==null&&(G=new b),z=null,M=null,P=null,D===null?mt(G):(D=mt,a(J)&&o(J,G))},B}}),Uk=pe((n,t)=>{se(),le(),ae();var e=globalThis.AbortController||tf().AbortController,{codes:{ERR_INVALID_ARG_VALUE:r,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:l},AbortError:c}=Er(),{validateAbortSignal:h,validateInteger:d,validateObject:g}=uf(),y=ni().Symbol("kWeak"),b=ni().Symbol("kResistStopPropagation"),{finished:S}=Ja(),x=PS(),{addAbortSignalNoValidate:E}=kd(),{isWritable:k,isNodeStream:C}=aa(),{deprecate:M}=Hr(),{ArrayPrototypePush:P,Boolean:z,MathFloor:D,Number:B,NumberIsNaN:R,Promise:V,PromiseReject:J,PromiseResolve:tt,PromisePrototypeThen:st,Symbol:G}=ni(),mt=G("kEmpty"),ht=G("kEof");function ut(Mt,Nt){if(Nt!=null&&g(Nt,"options"),Nt?.signal!=null&&h(Nt.signal,"options.signal"),C(Mt)&&!k(Mt))throw new r("stream",Mt,"must be writable");let Tt=x(this,Mt);return Nt!=null&&Nt.signal&&E(Nt.signal,Tt),Tt}function rt(Mt,Nt){if(typeof Mt!="function")throw new o("fn",["Function","AsyncFunction"],Mt);Nt!=null&&g(Nt,"options"),Nt?.signal!=null&&h(Nt.signal,"options.signal");let Tt=1;Nt?.concurrency!=null&&(Tt=D(Nt.concurrency));let ce=Tt-1;return Nt?.highWaterMark!=null&&(ce=D(Nt.highWaterMark)),d(Tt,"options.concurrency",1),d(ce,"options.highWaterMark",0),ce+=Tt,(async function*(){let Jt=Hr().AbortSignalAny([Nt?.signal].filter(z)),ft=this,Et=[],Vt={signal:Jt},ie,re,he=!1,wt=0;function fe(){he=!0,ve()}function ve(){wt-=1,Xt()}function Xt(){re&&!he&&wt<Tt&&Et.length<ce&&(re(),re=null)}async function Ze(){try{for await(let N of ft){if(he)return;if(Jt.aborted)throw new c;try{if(N=Mt(N,Vt),N===mt)continue;N=tt(N)}catch(F){N=J(F)}wt+=1,st(N,ve,fe),Et.push(N),ie&&(ie(),ie=null),!he&&(Et.length>=ce||wt>=Tt)&&await new V(F=>{re=F})}Et.push(ht)}catch(N){let F=J(N);st(F,ve,fe),Et.push(F)}finally{he=!0,ie&&(ie(),ie=null)}}Ze();try{for(;;){for(;Et.length>0;){let N=await Et[0];if(N===ht)return;if(Jt.aborted)throw new c;N!==mt&&(yield N),Et.shift(),Xt()}await new V(N=>{ie=N})}}finally{he=!0,re&&(re(),re=null)}}).call(this)}function lt(Mt=void 0){return Mt!=null&&g(Mt,"options"),Mt?.signal!=null&&h(Mt.signal,"options.signal"),(async function*(){let Nt=0;for await(let ce of this){var Tt;if(Mt!=null&&(Tt=Mt.signal)!==null&&Tt!==void 0&&Tt.aborted)throw new c({cause:Mt.signal.reason});yield[Nt++,ce]}}).call(this)}async function et(Mt,Nt=void 0){for await(let Tt of K.call(this,Mt,Nt))return!0;return!1}async function jt(Mt,Nt=void 0){if(typeof Mt!="function")throw new o("fn",["Function","AsyncFunction"],Mt);return!await et.call(this,async(...Tt)=>!await Mt(...Tt),Nt)}async function nt(Mt,Nt){for await(let Tt of K.call(this,Mt,Nt))return Tt}async function Z(Mt,Nt){if(typeof Mt!="function")throw new o("fn",["Function","AsyncFunction"],Mt);async function Tt(ce,Jt){return await Mt(ce,Jt),mt}for await(let ce of rt.call(this,Tt,Nt));}function K(Mt,Nt){if(typeof Mt!="function")throw new o("fn",["Function","AsyncFunction"],Mt);async function Tt(ce,Jt){return await Mt(ce,Jt)?ce:mt}return rt.call(this,Tt,Nt)}var at=class extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function At(Mt,Nt,Tt){var ce;if(typeof Mt!="function")throw new o("reducer",["Function","AsyncFunction"],Mt);Tt!=null&&g(Tt,"options"),Tt?.signal!=null&&h(Tt.signal,"options.signal");let Jt=arguments.length>1;if(Tt!=null&&(ce=Tt.signal)!==null&&ce!==void 0&&ce.aborted){let re=new c(void 0,{cause:Tt.signal.reason});throw this.once("error",()=>{}),await S(this.destroy(re)),re}let ft=new e,Et=ft.signal;if(Tt!=null&&Tt.signal){let re={once:!0,[y]:this,[b]:!0};Tt.signal.addEventListener("abort",()=>ft.abort(),re)}let Vt=!1;try{for await(let re of this){var ie;if(Vt=!0,Tt!=null&&(ie=Tt.signal)!==null&&ie!==void 0&&ie.aborted)throw new c;Jt?Nt=await Mt(Nt,re,{signal:Et}):(Nt=re,Jt=!0)}if(!Vt&&!Jt)throw new at}finally{ft.abort()}return Nt}async function gt(Mt){Mt!=null&&g(Mt,"options"),Mt?.signal!=null&&h(Mt.signal,"options.signal");let Nt=[];for await(let ce of this){var Tt;if(Mt!=null&&(Tt=Mt.signal)!==null&&Tt!==void 0&&Tt.aborted)throw new c(void 0,{cause:Mt.signal.reason});P(Nt,ce)}return Nt}function Ut(Mt,Nt){let Tt=rt.call(this,Mt,Nt);return(async function*(){for await(let ce of Tt)yield*ce}).call(this)}function _t(Mt){if(Mt=B(Mt),R(Mt))return 0;if(Mt<0)throw new l("number",">= 0",Mt);return Mt}function ct(Mt,Nt=void 0){return Nt!=null&&g(Nt,"options"),Nt?.signal!=null&&h(Nt.signal,"options.signal"),Mt=_t(Mt),(async function*(){var Tt;if(Nt!=null&&(Tt=Nt.signal)!==null&&Tt!==void 0&&Tt.aborted)throw new c;for await(let Jt of this){var ce;if(Nt!=null&&(ce=Nt.signal)!==null&&ce!==void 0&&ce.aborted)throw new c;Mt--<=0&&(yield Jt)}}).call(this)}function vt(Mt,Nt=void 0){return Nt!=null&&g(Nt,"options"),Nt?.signal!=null&&h(Nt.signal,"options.signal"),Mt=_t(Mt),(async function*(){var Tt;if(Nt!=null&&(Tt=Nt.signal)!==null&&Tt!==void 0&&Tt.aborted)throw new c;for await(let Jt of this){var ce;if(Nt!=null&&(ce=Nt.signal)!==null&&ce!==void 0&&ce.aborted)throw new c;if(Mt-- >0&&(yield Jt),Mt<=0)return}}).call(this)}t.exports.streamReturningOperators={asIndexedPairs:M(lt,"readable.asIndexedPairs will be removed in a future version."),drop:ct,filter:K,flatMap:Ut,map:rt,take:vt,compose:ut},t.exports.promiseReturningOperators={every:jt,forEach:Z,reduce:At,toArray:gt,some:et,find:nt}}),RS=pe((n,t)=>{se(),le(),ae();var{ArrayPrototypePop:e,Promise:r}=ni(),{isIterable:o,isNodeStream:a,isWebStream:l}=aa(),{pipelineImpl:c}=__(),{finished:h}=Ja();zS();function d(...g){return new r((y,b)=>{let S,x,E=g[g.length-1];if(E&&typeof E=="object"&&!a(E)&&!o(E)&&!l(E)){let k=e(g);S=k.signal,x=k.end}c(g,(k,C)=>{k?b(k):y(C)},{signal:S,end:x})})}t.exports={finished:h,pipeline:d}}),zS=pe((n,t)=>{se(),le(),ae();var{Buffer:e}=(Hi(),zn(Fi)),{ObjectDefineProperty:r,ObjectKeys:o,ReflectApply:a}=ni(),{promisify:{custom:l}}=Hr(),{streamReturningOperators:c,promiseReturningOperators:h}=Uk(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:d}}=Er(),g=PS(),{setDefaultHighWaterMark:y,getDefaultHighWaterMark:b}=Md(),{pipeline:S}=__(),{destroyer:x}=Lu(),E=Ja(),k=RS(),C=aa(),M=t.exports=g_().Stream;M.isDestroyed=C.isDestroyed,M.isDisturbed=C.isDisturbed,M.isErrored=C.isErrored,M.isReadable=C.isReadable,M.isWritable=C.isWritable,M.Readable=Od();for(let z of o(c)){let D=function(...R){if(new.target)throw d();return M.Readable.from(a(B,this,R))},B=c[z];r(D,"name",{__proto__:null,value:B.name}),r(D,"length",{__proto__:null,value:B.length}),r(M.Readable.prototype,z,{__proto__:null,value:D,enumerable:!1,configurable:!0,writable:!0})}for(let z of o(h)){let D=function(...R){if(new.target)throw d();return a(B,this,R)},B=h[z];r(D,"name",{__proto__:null,value:B.name}),r(D,"length",{__proto__:null,value:B.length}),r(M.Readable.prototype,z,{__proto__:null,value:D,enumerable:!1,configurable:!0,writable:!0})}M.Writable=y_(),M.Duplex=ra(),M.Transform=DS(),M.PassThrough=jS(),M.pipeline=S;var{addAbortSignal:P}=kd();M.addAbortSignal=P,M.finished=E,M.destroy=x,M.compose=g,M.setDefaultHighWaterMark=y,M.getDefaultHighWaterMark=b,r(M,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return k}}),r(S,l,{__proto__:null,enumerable:!0,get(){return k.pipeline}}),r(E,l,{__proto__:null,enumerable:!0,get(){return k.finished}}),M.Stream=M,M._isUint8Array=function(z){return z instanceof Uint8Array},M._uint8ArrayToBuffer=function(z){return e.from(z.buffer,z.byteOffset,z.byteLength)}}),Il=pe((n,t)=>{se(),le(),ae();var e=zS(),r=RS(),o=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=o,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return r}}),t.exports.Stream=e.Stream,t.exports.default=t.exports}),Fk=pe((n,t)=>{se(),le(),ae(),typeof Object.create=="function"?t.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,r){if(r){e.super_=r;var o=function(){};o.prototype=r.prototype,e.prototype=new o,e.prototype.constructor=e}}}),Hk=pe((n,t)=>{se(),le(),ae();var{Buffer:e}=(Hi(),zn(Fi)),r=Symbol.for("BufferList");function o(a){if(!(this instanceof o))return new o(a);o._init.call(this,a)}o._init=function(a){Object.defineProperty(this,r,{value:!0}),this._bufs=[],this.length=0,a&&this.append(a)},o.prototype._new=function(a){return new o(a)},o.prototype._offset=function(a){if(a===0)return[0,0];let l=0;for(let c=0;c<this._bufs.length;c++){let h=l+this._bufs[c].length;if(a<h||c===this._bufs.length-1)return[c,a-l];l=h}},o.prototype._reverseOffset=function(a){let l=a[0],c=a[1];for(let h=0;h<l;h++)c+=this._bufs[h].length;return c},o.prototype.getBuffers=function(){return this._bufs},o.prototype.get=function(a){if(a>this.length||a<0)return;let l=this._offset(a);return this._bufs[l[0]][l[1]]},o.prototype.slice=function(a,l){return typeof a=="number"&&a<0&&(a+=this.length),typeof l=="number"&&l<0&&(l+=this.length),this.copy(null,0,a,l)},o.prototype.copy=function(a,l,c,h){if((typeof c!="number"||c<0)&&(c=0),(typeof h!="number"||h>this.length)&&(h=this.length),c>=this.length||h<=0)return a||e.alloc(0);let d=!!a,g=this._offset(c),y=h-c,b=y,S=d&&l||0,x=g[1];if(c===0&&h===this.length){if(!d)return this._bufs.length===1?this._bufs[0]:e.concat(this._bufs,this.length);for(let E=0;E<this._bufs.length;E++)this._bufs[E].copy(a,S),S+=this._bufs[E].length;return a}if(b<=this._bufs[g[0]].length-x)return d?this._bufs[g[0]].copy(a,l,x,x+b):this._bufs[g[0]].slice(x,x+b);d||(a=e.allocUnsafe(y));for(let E=g[0];E<this._bufs.length;E++){let k=this._bufs[E].length-x;if(b>k)this._bufs[E].copy(a,S,x),S+=k;else{this._bufs[E].copy(a,S,x,x+b),S+=k;break}b-=k,x&&(x=0)}return a.length>S?a.slice(0,S):a},o.prototype.shallowSlice=function(a,l){if(a=a||0,l=typeof l!="number"?this.length:l,a<0&&(a+=this.length),l<0&&(l+=this.length),a===l)return this._new();let c=this._offset(a),h=this._offset(l),d=this._bufs.slice(c[0],h[0]+1);return h[1]===0?d.pop():d[d.length-1]=d[d.length-1].slice(0,h[1]),c[1]!==0&&(d[0]=d[0].slice(c[1])),this._new(d)},o.prototype.toString=function(a,l,c){return this.slice(l,c).toString(a)},o.prototype.consume=function(a){if(a=Math.trunc(a),Number.isNaN(a)||a<=0)return this;for(;this._bufs.length;)if(a>=this._bufs[0].length)a-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(a),this.length-=a;break}return this},o.prototype.duplicate=function(){let a=this._new();for(let l=0;l<this._bufs.length;l++)a.append(this._bufs[l]);return a},o.prototype.append=function(a){return this._attach(a,o.prototype._appendBuffer)},o.prototype.prepend=function(a){return this._attach(a,o.prototype._prependBuffer,!0)},o.prototype._attach=function(a,l,c){if(a==null)return this;if(a.buffer)l.call(this,e.from(a.buffer,a.byteOffset,a.byteLength));else if(Array.isArray(a)){let[h,d]=c?[a.length-1,-1]:[0,1];for(let g=h;g>=0&&g<a.length;g+=d)this._attach(a[g],l,c)}else if(this._isBufferList(a)){let[h,d]=c?[a._bufs.length-1,-1]:[0,1];for(let g=h;g>=0&&g<a._bufs.length;g+=d)this._attach(a._bufs[g],l,c)}else typeof a=="number"&&(a=a.toString()),l.call(this,e.from(a));return this},o.prototype._appendBuffer=function(a){this._bufs.push(a),this.length+=a.length},o.prototype._prependBuffer=function(a){this._bufs.unshift(a),this.length+=a.length},o.prototype.indexOf=function(a,l,c){if(c===void 0&&typeof l=="string"&&(c=l,l=void 0),typeof a=="function"||Array.isArray(a))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof a=="number"?a=e.from([a]):typeof a=="string"?a=e.from(a,c):this._isBufferList(a)?a=a.slice():Array.isArray(a.buffer)?a=e.from(a.buffer,a.byteOffset,a.byteLength):e.isBuffer(a)||(a=e.from(a)),l=Number(l||0),isNaN(l)&&(l=0),l<0&&(l=this.length+l),l<0&&(l=0),a.length===0)return l>this.length?this.length:l;let h=this._offset(l),d=h[0],g=h[1];for(;d<this._bufs.length;d++){let y=this._bufs[d];for(;g<y.length;)if(y.length-g>=a.length){let b=y.indexOf(a,g);if(b!==-1)return this._reverseOffset([d,b]);g=y.length-a.length+1}else{let b=this._reverseOffset([d,g]);if(this._match(b,a))return b;g++}g=0}return-1},o.prototype._match=function(a,l){if(this.length-a<l.length)return!1;for(let c=0;c<l.length;c++)if(this.get(a+c)!==l[c])return!1;return!0},(function(){let a={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let l in a)(function(c){a[c]===null?o.prototype[c]=function(h,d){return this.slice(h,h+d)[c](0,d)}:o.prototype[c]=function(h=0){return this.slice(h,h+a[c])[c](0)}})(l)})(),o.prototype._isBufferList=function(a){return a instanceof o||o.isBufferList(a)},o.isBufferList=function(a){return a!=null&&a[r]},t.exports=o}),qk=pe((n,t)=>{se(),le(),ae();var e=Il().Duplex,r=Fk(),o=Hk();function a(l){if(!(this instanceof a))return new a(l);if(typeof l=="function"){this._callback=l;let c=(function(h){this._callback&&(this._callback(h),this._callback=null)}).bind(this);this.on("pipe",function(h){h.on("error",c)}),this.on("unpipe",function(h){h.removeListener("error",c)}),l=null}o._init.call(this,l),e.call(this)}r(a,e),Object.assign(a.prototype,o.prototype),a.prototype._new=function(l){return new a(l)},a.prototype._write=function(l,c,h){this._appendBuffer(l),typeof h=="function"&&h()},a.prototype._read=function(l){if(!this.length)return this.push(null);l=Math.min(l,this.length),this.push(this.slice(0,l)),this.consume(l)},a.prototype.end=function(l){e.prototype.end.call(this,l),this._callback&&(this._callback(null,this.slice()),this._callback=null)},a.prototype._destroy=function(l,c){this._bufs.length=0,this.length=0,c(l)},a.prototype._isBufferList=function(l){return l instanceof a||l instanceof o||a.isBufferList(l)},a.isBufferList=o.isBufferList,t.exports=a,t.exports.BufferListStream=a,t.exports.BufferList=o}),Vk=pe((n,t)=>{se(),le(),ae();var e=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};t.exports=e}),BS=pe((n,t)=>{se(),le(),ae();var e=t.exports,{Buffer:r}=(Hi(),zn(Fi));e.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},e.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},e.requiredHeaderFlagsErrors={};for(let a in e.requiredHeaderFlags){let l=e.requiredHeaderFlags[a];e.requiredHeaderFlagsErrors[a]="Invalid header flag bits, must be 0x"+l.toString(16)+" for "+e.types[a]+" packet"}e.codes={};for(let a in e.types){let l=e.types[a];e.codes[l]=a}e.CMD_SHIFT=4,e.CMD_MASK=240,e.DUP_MASK=8,e.QOS_MASK=3,e.QOS_SHIFT=1,e.RETAIN_MASK=1,e.VARBYTEINT_MASK=127,e.VARBYTEINT_FIN_MASK=128,e.VARBYTEINT_MAX=268435455,e.SESSIONPRESENT_MASK=1,e.SESSIONPRESENT_HEADER=r.from([e.SESSIONPRESENT_MASK]),e.CONNACK_HEADER=r.from([e.codes.connack<<e.CMD_SHIFT]),e.USERNAME_MASK=128,e.PASSWORD_MASK=64,e.WILL_RETAIN_MASK=32,e.WILL_QOS_MASK=24,e.WILL_QOS_SHIFT=3,e.WILL_FLAG_MASK=4,e.CLEAN_SESSION_MASK=2,e.CONNECT_HEADER=r.from([e.codes.connect<<e.CMD_SHIFT]),e.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},e.propertiesCodes={};for(let a in e.properties){let l=e.properties[a];e.propertiesCodes[l]=a}e.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function o(a){return[0,1,2].map(l=>[0,1].map(c=>[0,1].map(h=>{let d=r.alloc(1);return d.writeUInt8(e.codes[a]<<e.CMD_SHIFT|(c?e.DUP_MASK:0)|l<<e.QOS_SHIFT|h,0,!0),d})))}e.PUBLISH_HEADER=o("publish"),e.SUBSCRIBE_HEADER=o("subscribe"),e.SUBSCRIBE_OPTIONS_QOS_MASK=3,e.SUBSCRIBE_OPTIONS_NL_MASK=1,e.SUBSCRIBE_OPTIONS_NL_SHIFT=2,e.SUBSCRIBE_OPTIONS_RAP_MASK=1,e.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,e.SUBSCRIBE_OPTIONS_RH_MASK=3,e.SUBSCRIBE_OPTIONS_RH_SHIFT=4,e.SUBSCRIBE_OPTIONS_RH=[0,16,32],e.SUBSCRIBE_OPTIONS_NL=4,e.SUBSCRIBE_OPTIONS_RAP=8,e.SUBSCRIBE_OPTIONS_QOS=[0,1,2],e.UNSUBSCRIBE_HEADER=o("unsubscribe"),e.ACKS={unsuback:o("unsuback"),puback:o("puback"),pubcomp:o("pubcomp"),pubrel:o("pubrel"),pubrec:o("pubrec")},e.SUBACK_HEADER=r.from([e.codes.suback<<e.CMD_SHIFT]),e.VERSION3=r.from([3]),e.VERSION4=r.from([4]),e.VERSION5=r.from([5]),e.VERSION131=r.from([131]),e.VERSION132=r.from([132]),e.QOS=[0,1,2].map(a=>r.from([a])),e.EMPTY={pingreq:r.from([e.codes.pingreq<<4,0]),pingresp:r.from([e.codes.pingresp<<4,0]),disconnect:r.from([e.codes.disconnect<<4,0])},e.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},e.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},e.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},e.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},e.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},e.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),Yk=pe((n,t)=>{se(),le(),ae();var e=1e3,r=e*60,o=r*60,a=o*24,l=a*7,c=a*365.25;t.exports=function(b,S){S=S||{};var x=typeof b;if(x==="string"&&b.length>0)return h(b);if(x==="number"&&isFinite(b))return S.long?g(b):d(b);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(b))};function h(b){if(b=String(b),!(b.length>100)){var S=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(b);if(S){var x=parseFloat(S[1]),E=(S[2]||"ms").toLowerCase();switch(E){case"years":case"year":case"yrs":case"yr":case"y":return x*c;case"weeks":case"week":case"w":return x*l;case"days":case"day":case"d":return x*a;case"hours":case"hour":case"hrs":case"hr":case"h":return x*o;case"minutes":case"minute":case"mins":case"min":case"m":return x*r;case"seconds":case"second":case"secs":case"sec":case"s":return x*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return x;default:return}}}}function d(b){var S=Math.abs(b);return S>=a?Math.round(b/a)+"d":S>=o?Math.round(b/o)+"h":S>=r?Math.round(b/r)+"m":S>=e?Math.round(b/e)+"s":b+"ms"}function g(b){var S=Math.abs(b);return S>=a?y(b,S,a,"day"):S>=o?y(b,S,o,"hour"):S>=r?y(b,S,r,"minute"):S>=e?y(b,S,e,"second"):b+" ms"}function y(b,S,x,E){var k=S>=x*1.5;return Math.round(b/x)+" "+E+(k?"s":"")}}),Zk=pe((n,t)=>{se(),le(),ae();function e(r){a.debug=a,a.default=a,a.coerce=y,a.disable=d,a.enable=c,a.enabled=g,a.humanize=Yk(),a.destroy=b,Object.keys(r).forEach(S=>{a[S]=r[S]}),a.names=[],a.skips=[],a.formatters={};function o(S){let x=0;for(let E=0;E<S.length;E++)x=(x<<5)-x+S.charCodeAt(E),x|=0;return a.colors[Math.abs(x)%a.colors.length]}a.selectColor=o;function a(S){let x,E=null,k,C;function M(...P){if(!M.enabled)return;let z=M,D=Number(new Date),B=D-(x||D);z.diff=B,z.prev=x,z.curr=D,x=D,P[0]=a.coerce(P[0]),typeof P[0]!="string"&&P.unshift("%O");let R=0;P[0]=P[0].replace(/%([a-zA-Z%])/g,(V,J)=>{if(V==="%%")return"%";R++;let tt=a.formatters[J];if(typeof tt=="function"){let st=P[R];V=tt.call(z,st),P.splice(R,1),R--}return V}),a.formatArgs.call(z,P),(z.log||a.log).apply(z,P)}return M.namespace=S,M.useColors=a.useColors(),M.color=a.selectColor(S),M.extend=l,M.destroy=a.destroy,Object.defineProperty(M,"enabled",{enumerable:!0,configurable:!1,get:()=>E!==null?E:(k!==a.namespaces&&(k=a.namespaces,C=a.enabled(S)),C),set:P=>{E=P}}),typeof a.init=="function"&&a.init(M),M}function l(S,x){let E=a(this.namespace+(typeof x>"u"?":":x)+S);return E.log=this.log,E}function c(S){a.save(S),a.namespaces=S,a.names=[],a.skips=[];let x=(typeof S=="string"?S:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let E of x)E[0]==="-"?a.skips.push(E.slice(1)):a.names.push(E)}function h(S,x){let E=0,k=0,C=-1,M=0;for(;E<S.length;)if(k<x.length&&(x[k]===S[E]||x[k]==="*"))x[k]==="*"?(C=k,M=E,k++):(E++,k++);else if(C!==-1)k=C+1,M++,E=M;else return!1;for(;k<x.length&&x[k]==="*";)k++;return k===x.length}function d(){let S=[...a.names,...a.skips.map(x=>"-"+x)].join(",");return a.enable(""),S}function g(S){for(let x of a.skips)if(h(S,x))return!1;for(let x of a.names)if(h(S,x))return!0;return!1}function y(S){return S instanceof Error?S.stack||S.message:S}function b(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return a.enable(a.load()),a}t.exports=e}),oa=pe((n,t)=>{se(),le(),ae(),n.formatArgs=r,n.save=o,n.load=a,n.useColors=e,n.storage=l(),n.destroy=(()=>{let h=!1;return()=>{h||(h=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function e(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let h;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(h=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(h[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(h){if(h[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+h[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let d="color: "+this.color;h.splice(1,0,d,"color: inherit");let g=0,y=0;h[0].replace(/%[a-zA-Z%]/g,b=>{b!=="%%"&&(g++,b==="%c"&&(y=g))}),h.splice(y,0,d)}n.log=console.debug||console.log||(()=>{});function o(h){try{h?n.storage.setItem("debug",h):n.storage.removeItem("debug")}catch{}}function a(){let h;try{h=n.storage.getItem("debug")||n.storage.getItem("DEBUG")}catch{}return!h&&typeof qn<"u"&&"env"in qn&&(h=qn.env.DEBUG),h}function l(){try{return localStorage}catch{}}t.exports=Zk()(n);var{formatters:c}=t.exports;c.j=function(h){try{return JSON.stringify(h)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}}),Kk=pe((n,t)=>{se(),le(),ae();var e=qk(),{EventEmitter:r}=(zl(),zn(Qa)),o=Vk(),a=BS(),l=oa()("mqtt-packet:parser"),c=class oy extends r{constructor(){super(),this.parser=this.constructor.parser}static parser(d){return this instanceof oy?(this.settings=d||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new oy().parser(d)}_resetState(){l("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new o,this.error=null,this._list=e(),this._stateCounter=0}parse(d){for(this.error&&this._resetState(),this._list.append(d),l("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,l("parse: state complete. _stateCounter is now: %d",this._stateCounter),l("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return l("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let d=this._list.readUInt8(0),g=d>>a.CMD_SHIFT;this.packet.cmd=a.types[g];let y=d&15,b=a.requiredHeaderFlags[g];return b!=null&&y!==b?this._emitError(new Error(a.requiredHeaderFlagsErrors[g])):(this.packet.retain=(d&a.RETAIN_MASK)!==0,this.packet.qos=d>>a.QOS_SHIFT&a.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(d&a.DUP_MASK)!==0,l("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let d=this._parseVarByteNum(!0);return d&&(this.packet.length=d.value,this._list.consume(d.bytes)),l("_parseLength %d",d.value),!!d}_parsePayload(){l("_parsePayload: payload %O",this._list);let d=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}d=!0}return l("_parsePayload complete result: %s",d),d}_parseConnect(){l("_parseConnect");let d,g,y,b,S={},x=this.packet,E=this._parseString();if(E===null)return this._emitError(new Error("Cannot parse protocolId"));if(E!=="MQTT"&&E!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(x.protocolId=E,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(x.protocolVersion=this._list.readUInt8(this._pos),x.protocolVersion>=128&&(x.bridgeMode=!0,x.protocolVersion=x.protocolVersion-128),x.protocolVersion!==3&&x.protocolVersion!==4&&x.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));S.username=this._list.readUInt8(this._pos)&a.USERNAME_MASK,S.password=this._list.readUInt8(this._pos)&a.PASSWORD_MASK,S.will=this._list.readUInt8(this._pos)&a.WILL_FLAG_MASK;let k=!!(this._list.readUInt8(this._pos)&a.WILL_RETAIN_MASK),C=(this._list.readUInt8(this._pos)&a.WILL_QOS_MASK)>>a.WILL_QOS_SHIFT;if(S.will)x.will={},x.will.retain=k,x.will.qos=C;else{if(k)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(C)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(x.clean=(this._list.readUInt8(this._pos)&a.CLEAN_SESSION_MASK)!==0,this._pos++,x.keepalive=this._parseNum(),x.keepalive===-1)return this._emitError(new Error("Packet too short"));if(x.protocolVersion===5){let P=this._parseProperties();Object.getOwnPropertyNames(P).length&&(x.properties=P)}let M=this._parseString();if(M===null)return this._emitError(new Error("Packet too short"));if(x.clientId=M,l("_parseConnect: packet.clientId: %s",x.clientId),S.will){if(x.protocolVersion===5){let P=this._parseProperties();Object.getOwnPropertyNames(P).length&&(x.will.properties=P)}if(d=this._parseString(),d===null)return this._emitError(new Error("Cannot parse will topic"));if(x.will.topic=d,l("_parseConnect: packet.will.topic: %s",x.will.topic),g=this._parseBuffer(),g===null)return this._emitError(new Error("Cannot parse will payload"));x.will.payload=g,l("_parseConnect: packet.will.paylaod: %s",x.will.payload)}if(S.username){if(b=this._parseString(),b===null)return this._emitError(new Error("Cannot parse username"));x.username=b,l("_parseConnect: packet.username: %s",x.username)}if(S.password){if(y=this._parseBuffer(),y===null)return this._emitError(new Error("Cannot parse password"));x.password=y}return this.settings=x,l("_parseConnect: complete"),x}_parseConnack(){l("_parseConnack");let d=this.packet;if(this._list.length<1)return null;let g=this._list.readUInt8(this._pos++);if(g>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(d.sessionPresent=!!(g&a.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?d.reasonCode=this._list.readUInt8(this._pos++):d.reasonCode=0;else{if(this._list.length<2)return null;d.returnCode=this._list.readUInt8(this._pos++)}if(d.returnCode===-1||d.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let y=this._parseProperties();Object.getOwnPropertyNames(y).length&&(d.properties=y)}l("_parseConnack: complete")}_parsePublish(){l("_parsePublish");let d=this.packet;if(d.topic=this._parseString(),d.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(d.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let g=this._parseProperties();Object.getOwnPropertyNames(g).length&&(d.properties=g)}d.payload=this._list.slice(this._pos,d.length),l("_parsePublish: payload from buffer list: %o",d.payload)}}_parseSubscribe(){l("_parseSubscribe");let d=this.packet,g,y,b,S,x,E,k;if(d.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let C=this._parseProperties();Object.getOwnPropertyNames(C).length&&(d.properties=C)}if(d.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<d.length;){if(g=this._parseString(),g===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=d.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(y=this._parseByte(),this.settings.protocolVersion===5){if(y&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(y&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(b=y&a.SUBSCRIBE_OPTIONS_QOS_MASK,b>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(E=(y>>a.SUBSCRIBE_OPTIONS_NL_SHIFT&a.SUBSCRIBE_OPTIONS_NL_MASK)!==0,x=(y>>a.SUBSCRIBE_OPTIONS_RAP_SHIFT&a.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,S=y>>a.SUBSCRIBE_OPTIONS_RH_SHIFT&a.SUBSCRIBE_OPTIONS_RH_MASK,S>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));k={topic:g,qos:b},this.settings.protocolVersion===5?(k.nl=E,k.rap=x,k.rh=S):this.settings.bridgeMode&&(k.rh=0,k.rap=!0,k.nl=!0),l("_parseSubscribe: push subscription `%s` to subscription",k),d.subscriptions.push(k)}}}_parseSuback(){l("_parseSuback");let d=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let g=this._parseProperties();Object.getOwnPropertyNames(g).length&&(d.properties=g)}if(d.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let g=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!a.MQTT5_SUBACK_CODES[g])return this._emitError(new Error("Invalid suback code"))}else if(g>2&&g!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(g)}}}_parseUnsubscribe(){l("_parseUnsubscribe");let d=this.packet;if(d.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let g=this._parseProperties();Object.getOwnPropertyNames(g).length&&(d.properties=g)}if(d.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<d.length;){let g=this._parseString();if(g===null)return this._emitError(new Error("Cannot parse topic"));l("_parseUnsubscribe: push topic `%s` to unsubscriptions",g),d.unsubscriptions.push(g)}}}_parseUnsuback(){l("_parseUnsuback");let d=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&d.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(d.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let g=this._parseProperties();for(Object.getOwnPropertyNames(g).length&&(d.properties=g),d.granted=[];this._pos<this.packet.length;){let y=this._list.readUInt8(this._pos++);if(!a.MQTT5_UNSUBACK_CODES[y])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(y)}}}_parseConfirmation(){l("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let d=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(d.length>2){switch(d.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!a.MQTT5_PUBACK_PUBREC_CODES[d.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!a.MQTT5_PUBREL_PUBCOMP_CODES[d.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}l("_parseConfirmation: packet.reasonCode `%d`",d.reasonCode)}else d.reasonCode=0;if(d.length>3){let g=this._parseProperties();Object.getOwnPropertyNames(g).length&&(d.properties=g)}}return!0}_parseDisconnect(){let d=this.packet;if(l("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(d.reasonCode=this._parseByte(),a.MQTT5_DISCONNECT_CODES[d.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):d.reasonCode=0;let g=this._parseProperties();Object.getOwnPropertyNames(g).length&&(d.properties=g)}return l("_parseDisconnect result: true"),!0}_parseAuth(){l("_parseAuth");let d=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(d.reasonCode=this._parseByte(),!a.MQTT5_AUTH_CODES[d.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let g=this._parseProperties();return Object.getOwnPropertyNames(g).length&&(d.properties=g),l("_parseAuth: result: true"),!0}_parseMessageId(){let d=this.packet;return d.messageId=this._parseNum(),d.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(l("_parseMessageId: packet.messageId %d",d.messageId),!0)}_parseString(d){let g=this._parseNum(),y=g+this._pos;if(g===-1||y>this._list.length||y>this.packet.length)return null;let b=this._list.toString("utf8",this._pos,y);return this._pos+=g,l("_parseString: result: %s",b),b}_parseStringPair(){return l("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let d=this._parseNum(),g=d+this._pos;if(d===-1||g>this._list.length||g>this.packet.length)return null;let y=this._list.slice(this._pos,g);return this._pos+=d,l("_parseBuffer: result: %o",y),y}_parseNum(){if(this._list.length-this._pos<2)return-1;let d=this._list.readUInt16BE(this._pos);return this._pos+=2,l("_parseNum: result: %s",d),d}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let d=this._list.readUInt32BE(this._pos);return this._pos+=4,l("_parse4ByteNum: result: %s",d),d}_parseVarByteNum(d){l("_parseVarByteNum");let g=4,y=0,b=1,S=0,x=!1,E,k=this._pos?this._pos:0;for(;y<g&&k+y<this._list.length;){if(E=this._list.readUInt8(k+y++),S+=b*(E&a.VARBYTEINT_MASK),b*=128,(E&a.VARBYTEINT_FIN_MASK)===0){x=!0;break}if(this._list.length<=y)break}return!x&&y===g&&this._list.length>=y&&this._emitError(new Error("Invalid variable byte integer")),k&&(this._pos+=y),x?d?x={bytes:y,value:S}:x=S:x=!1,l("_parseVarByteNum: result: %o",x),x}_parseByte(){let d;return this._pos<this._list.length&&(d=this._list.readUInt8(this._pos),this._pos++),l("_parseByte: result: %o",d),d}_parseByType(d){switch(l("_parseByType: type: %s",d),d){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){l("_parseProperties");let d=this._parseVarByteNum(),g=this._pos+d,y={};for(;this._pos<g;){let b=this._parseByte();if(!b)return this._emitError(new Error("Cannot parse property code type")),!1;let S=a.propertiesCodes[b];if(!S)return this._emitError(new Error("Unknown property")),!1;if(S==="userProperties"){y[S]||(y[S]=Object.create(null));let x=this._parseByType(a.propertiesTypes[S]);if(y[S][x.name])if(Array.isArray(y[S][x.name]))y[S][x.name].push(x.value);else{let E=y[S][x.name];y[S][x.name]=[E],y[S][x.name].push(x.value)}else y[S][x.name]=x.value;continue}y[S]?Array.isArray(y[S])?y[S].push(this._parseByType(a.propertiesTypes[S])):(y[S]=[y[S]],y[S].push(this._parseByType(a.propertiesTypes[S]))):y[S]=this._parseByType(a.propertiesTypes[S])}return y}_newPacket(){return l("_newPacket"),this.packet&&(this._list.consume(this.packet.length),l("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),l("_newPacket: new packet"),this.packet=new o,this._pos=0,!0}_emitError(d){l("_emitError",d),this.error=d,this.emit("error",d)}};t.exports=c}),Wk=pe((n,t)=>{se(),le(),ae();var{Buffer:e}=(Hi(),zn(Fi)),r=65536,o={},a=e.isBuffer(e.from([1,2]).subarray(0,1));function l(g){let y=e.allocUnsafe(2);return y.writeUInt8(g>>8,0),y.writeUInt8(g&255,1),y}function c(){for(let g=0;g<r;g++)o[g]=l(g)}function h(g){let y=0,b=0,S=e.allocUnsafe(4);do y=g%128|0,g=g/128|0,g>0&&(y=y|128),S.writeUInt8(y,b++);while(g>0&&b<4);return g>0&&(b=0),a?S.subarray(0,b):S.slice(0,b)}function d(g){let y=e.allocUnsafe(4);return y.writeUInt32BE(g,0),y}t.exports={cache:o,generateCache:c,generateNumber:l,genBufVariableByteInt:h,generate4ByteBuffer:d}}),Xk=pe((n,t)=>{se(),le(),ae(),typeof qn>"u"||!qn.version||qn.version.indexOf("v0.")===0||qn.version.indexOf("v1.")===0&&qn.version.indexOf("v1.8.")!==0?t.exports={nextTick:e}:t.exports=qn;function e(r,o,a,l){if(typeof r!="function")throw new TypeError('"callback" argument must be a function');var c=arguments.length,h,d;switch(c){case 0:case 1:return qn.nextTick(r);case 2:return qn.nextTick(function(){r.call(null,o)});case 3:return qn.nextTick(function(){r.call(null,o,a)});case 4:return qn.nextTick(function(){r.call(null,o,a,l)});default:for(h=new Array(c-1),d=0;d<h.length;)h[d++]=arguments[d];return qn.nextTick(function(){r.apply(null,h)})}}}),IS=pe((n,t)=>{se(),le(),ae();var e=BS(),{Buffer:r}=(Hi(),zn(Fi)),o=r.allocUnsafe(0),a=r.from([0]),l=Wk(),c=Xk().nextTick,h=oa()("mqtt-packet:writeToStream"),d=l.cache,g=l.generateNumber,y=l.generateCache,b=l.genBufVariableByteInt,S=l.generate4ByteBuffer,x=lt,E=!0;function k(_t,ct,vt){switch(h("generate called"),ct.cork&&(ct.cork(),c(C,ct)),E&&(E=!1,y()),h("generate: packet.cmd: %s",_t.cmd),_t.cmd){case"connect":return M(_t,ct);case"connack":return P(_t,ct,vt);case"publish":return z(_t,ct,vt);case"puback":case"pubrec":case"pubrel":case"pubcomp":return D(_t,ct,vt);case"subscribe":return B(_t,ct,vt);case"suback":return R(_t,ct,vt);case"unsubscribe":return V(_t,ct,vt);case"unsuback":return J(_t,ct,vt);case"pingreq":case"pingresp":return tt(_t,ct);case"disconnect":return st(_t,ct,vt);case"auth":return G(_t,ct,vt);default:return ct.destroy(new Error("Unknown command")),!1}}Object.defineProperty(k,"cacheNumbers",{get(){return x===lt},set(_t){_t?((!d||Object.keys(d).length===0)&&(E=!0),x=lt):(E=!1,x=et)}});function C(_t){_t.uncork()}function M(_t,ct,vt){let Mt=_t||{},Nt=Mt.protocolId||"MQTT",Tt=Mt.protocolVersion||4,ce=Mt.will,Jt=Mt.clean,ft=Mt.keepalive||0,Et=Mt.clientId||"",Vt=Mt.username,ie=Mt.password,re=Mt.properties;Jt===void 0&&(Jt=!0);let he=0;if(typeof Nt!="string"&&!r.isBuffer(Nt))return ct.destroy(new Error("Invalid protocolId")),!1;if(he+=Nt.length+2,Tt!==3&&Tt!==4&&Tt!==5)return ct.destroy(new Error("Invalid protocol version")),!1;if(he+=1,(typeof Et=="string"||r.isBuffer(Et))&&(Et||Tt>=4)&&(Et||Jt))he+=r.byteLength(Et)+2;else{if(Tt<4)return ct.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(Jt*1===0)return ct.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof ft!="number"||ft<0||ft>65535||ft%1!==0)return ct.destroy(new Error("Invalid keepalive")),!1;he+=2,he+=1;let wt,fe;if(Tt===5){if(wt=Z(ct,re),!wt)return!1;he+=wt.length}if(ce){if(typeof ce!="object")return ct.destroy(new Error("Invalid will")),!1;if(!ce.topic||typeof ce.topic!="string")return ct.destroy(new Error("Invalid will topic")),!1;if(he+=r.byteLength(ce.topic)+2,he+=2,ce.payload)if(ce.payload.length>=0)typeof ce.payload=="string"?he+=r.byteLength(ce.payload):he+=ce.payload.length;else return ct.destroy(new Error("Invalid will payload")),!1;if(fe={},Tt===5){if(fe=Z(ct,ce.properties),!fe)return!1;he+=fe.length}}let ve=!1;if(Vt!=null)if(Ut(Vt))ve=!0,he+=r.byteLength(Vt)+2;else return ct.destroy(new Error("Invalid username")),!1;if(ie!=null){if(!ve)return ct.destroy(new Error("Username is required to use password")),!1;if(Ut(ie))he+=gt(ie)+2;else return ct.destroy(new Error("Invalid password")),!1}ct.write(e.CONNECT_HEADER),ht(ct,he),nt(ct,Nt),Mt.bridgeMode&&(Tt+=128),ct.write(Tt===131?e.VERSION131:Tt===132?e.VERSION132:Tt===4?e.VERSION4:Tt===5?e.VERSION5:e.VERSION3);let Xt=0;return Xt|=Vt!=null?e.USERNAME_MASK:0,Xt|=ie!=null?e.PASSWORD_MASK:0,Xt|=ce&&ce.retain?e.WILL_RETAIN_MASK:0,Xt|=ce&&ce.qos?ce.qos<<e.WILL_QOS_SHIFT:0,Xt|=ce?e.WILL_FLAG_MASK:0,Xt|=Jt?e.CLEAN_SESSION_MASK:0,ct.write(r.from([Xt])),x(ct,ft),Tt===5&&wt.write(),nt(ct,Et),ce&&(Tt===5&&fe.write(),ut(ct,ce.topic),nt(ct,ce.payload)),Vt!=null&&nt(ct,Vt),ie!=null&&nt(ct,ie),!0}function P(_t,ct,vt){let Mt=vt?vt.protocolVersion:4,Nt=_t||{},Tt=Mt===5?Nt.reasonCode:Nt.returnCode,ce=Nt.properties,Jt=2;if(typeof Tt!="number")return ct.destroy(new Error("Invalid return code")),!1;let ft=null;if(Mt===5){if(ft=Z(ct,ce),!ft)return!1;Jt+=ft.length}return ct.write(e.CONNACK_HEADER),ht(ct,Jt),ct.write(Nt.sessionPresent?e.SESSIONPRESENT_HEADER:a),ct.write(r.from([Tt])),ft?.write(),!0}function z(_t,ct,vt){h("publish: packet: %o",_t);let Mt=vt?vt.protocolVersion:4,Nt=_t||{},Tt=Nt.qos||0,ce=Nt.retain?e.RETAIN_MASK:0,Jt=Nt.topic,ft=Nt.payload||o,Et=Nt.messageId,Vt=Nt.properties,ie=0;if(typeof Jt=="string")ie+=r.byteLength(Jt)+2;else if(r.isBuffer(Jt))ie+=Jt.length+2;else return ct.destroy(new Error("Invalid topic")),!1;if(r.isBuffer(ft)?ie+=ft.length:ie+=r.byteLength(ft),Tt&&typeof Et!="number")return ct.destroy(new Error("Invalid messageId")),!1;Tt&&(ie+=2);let re=null;if(Mt===5){if(re=Z(ct,Vt),!re)return!1;ie+=re.length}return ct.write(e.PUBLISH_HEADER[Tt][Nt.dup?1:0][ce?1:0]),ht(ct,ie),x(ct,gt(Jt)),ct.write(Jt),Tt>0&&x(ct,Et),re?.write(),h("publish: payload: %o",ft),ct.write(ft)}function D(_t,ct,vt){let Mt=vt?vt.protocolVersion:4,Nt=_t||{},Tt=Nt.cmd||"puback",ce=Nt.messageId,Jt=Nt.dup&&Tt==="pubrel"?e.DUP_MASK:0,ft=0,Et=Nt.reasonCode,Vt=Nt.properties,ie=Mt===5?3:2;if(Tt==="pubrel"&&(ft=1),typeof ce!="number")return ct.destroy(new Error("Invalid messageId")),!1;let re=null;if(Mt===5&&typeof Vt=="object"){if(re=K(ct,Vt,vt,ie),!re)return!1;ie+=re.length}return ct.write(e.ACKS[Tt][ft][Jt][0]),ie===3&&(ie+=Et!==0?1:-1),ht(ct,ie),x(ct,ce),Mt===5&&ie!==2&&ct.write(r.from([Et])),re!==null?re.write():ie===4&&ct.write(r.from([0])),!0}function B(_t,ct,vt){h("subscribe: packet: ");let Mt=vt?vt.protocolVersion:4,Nt=_t||{},Tt=Nt.dup?e.DUP_MASK:0,ce=Nt.messageId,Jt=Nt.subscriptions,ft=Nt.properties,Et=0;if(typeof ce!="number")return ct.destroy(new Error("Invalid messageId")),!1;Et+=2;let Vt=null;if(Mt===5){if(Vt=Z(ct,ft),!Vt)return!1;Et+=Vt.length}if(typeof Jt=="object"&&Jt.length)for(let re=0;re<Jt.length;re+=1){let he=Jt[re].topic,wt=Jt[re].qos;if(typeof he!="string")return ct.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof wt!="number")return ct.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(Mt===5){if(typeof(Jt[re].nl||!1)!="boolean")return ct.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(Jt[re].rap||!1)!="boolean")return ct.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let fe=Jt[re].rh||0;if(typeof fe!="number"||fe>2)return ct.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}Et+=r.byteLength(he)+2+1}else return ct.destroy(new Error("Invalid subscriptions")),!1;h("subscribe: writing to stream: %o",e.SUBSCRIBE_HEADER),ct.write(e.SUBSCRIBE_HEADER[1][Tt?1:0][0]),ht(ct,Et),x(ct,ce),Vt!==null&&Vt.write();let ie=!0;for(let re of Jt){let he=re.topic,wt=re.qos,fe=+re.nl,ve=+re.rap,Xt=re.rh,Ze;ut(ct,he),Ze=e.SUBSCRIBE_OPTIONS_QOS[wt],Mt===5&&(Ze|=fe?e.SUBSCRIBE_OPTIONS_NL:0,Ze|=ve?e.SUBSCRIBE_OPTIONS_RAP:0,Ze|=Xt?e.SUBSCRIBE_OPTIONS_RH[Xt]:0),ie=ct.write(r.from([Ze]))}return ie}function R(_t,ct,vt){let Mt=vt?vt.protocolVersion:4,Nt=_t||{},Tt=Nt.messageId,ce=Nt.granted,Jt=Nt.properties,ft=0;if(typeof Tt!="number")return ct.destroy(new Error("Invalid messageId")),!1;if(ft+=2,typeof ce=="object"&&ce.length)for(let Vt=0;Vt<ce.length;Vt+=1){if(typeof ce[Vt]!="number")return ct.destroy(new Error("Invalid qos vector")),!1;ft+=1}else return ct.destroy(new Error("Invalid qos vector")),!1;let Et=null;if(Mt===5){if(Et=K(ct,Jt,vt,ft),!Et)return!1;ft+=Et.length}return ct.write(e.SUBACK_HEADER),ht(ct,ft),x(ct,Tt),Et!==null&&Et.write(),ct.write(r.from(ce))}function V(_t,ct,vt){let Mt=vt?vt.protocolVersion:4,Nt=_t||{},Tt=Nt.messageId,ce=Nt.dup?e.DUP_MASK:0,Jt=Nt.unsubscriptions,ft=Nt.properties,Et=0;if(typeof Tt!="number")return ct.destroy(new Error("Invalid messageId")),!1;if(Et+=2,typeof Jt=="object"&&Jt.length)for(let re=0;re<Jt.length;re+=1){if(typeof Jt[re]!="string")return ct.destroy(new Error("Invalid unsubscriptions")),!1;Et+=r.byteLength(Jt[re])+2}else return ct.destroy(new Error("Invalid unsubscriptions")),!1;let Vt=null;if(Mt===5){if(Vt=Z(ct,ft),!Vt)return!1;Et+=Vt.length}ct.write(e.UNSUBSCRIBE_HEADER[1][ce?1:0][0]),ht(ct,Et),x(ct,Tt),Vt!==null&&Vt.write();let ie=!0;for(let re=0;re<Jt.length;re++)ie=ut(ct,Jt[re]);return ie}function J(_t,ct,vt){let Mt=vt?vt.protocolVersion:4,Nt=_t||{},Tt=Nt.messageId,ce=Nt.dup?e.DUP_MASK:0,Jt=Nt.granted,ft=Nt.properties,Et=Nt.cmd,Vt=0,ie=2;if(typeof Tt!="number")return ct.destroy(new Error("Invalid messageId")),!1;if(Mt===5)if(typeof Jt=="object"&&Jt.length)for(let he=0;he<Jt.length;he+=1){if(typeof Jt[he]!="number")return ct.destroy(new Error("Invalid qos vector")),!1;ie+=1}else return ct.destroy(new Error("Invalid qos vector")),!1;let re=null;if(Mt===5){if(re=K(ct,ft,vt,ie),!re)return!1;ie+=re.length}return ct.write(e.ACKS[Et][Vt][ce][0]),ht(ct,ie),x(ct,Tt),re!==null&&re.write(),Mt===5&&ct.write(r.from(Jt)),!0}function tt(_t,ct,vt){return ct.write(e.EMPTY[_t.cmd])}function st(_t,ct,vt){let Mt=vt?vt.protocolVersion:4,Nt=_t||{},Tt=Nt.reasonCode,ce=Nt.properties,Jt=Mt===5?1:0,ft=null;if(Mt===5){if(ft=K(ct,ce,vt,Jt),!ft)return!1;Jt+=ft.length}return ct.write(r.from([e.codes.disconnect<<4])),ht(ct,Jt),Mt===5&&ct.write(r.from([Tt])),ft!==null&&ft.write(),!0}function G(_t,ct,vt){let Mt=vt?vt.protocolVersion:4,Nt=_t||{},Tt=Nt.reasonCode,ce=Nt.properties,Jt=Mt===5?1:0;Mt!==5&&ct.destroy(new Error("Invalid mqtt version for auth packet"));let ft=K(ct,ce,vt,Jt);return ft?(Jt+=ft.length,ct.write(r.from([e.codes.auth<<4])),ht(ct,Jt),ct.write(r.from([Tt])),ft!==null&&ft.write(),!0):!1}var mt={};function ht(_t,ct){if(ct>e.VARBYTEINT_MAX)return _t.destroy(new Error(`Invalid variable byte integer: ${ct}`)),!1;let vt=mt[ct];return vt||(vt=b(ct),ct<16384&&(mt[ct]=vt)),h("writeVarByteInt: writing to stream: %o",vt),_t.write(vt)}function ut(_t,ct){let vt=r.byteLength(ct);return x(_t,vt),h("writeString: %s",ct),_t.write(ct,"utf8")}function rt(_t,ct,vt){ut(_t,ct),ut(_t,vt)}function lt(_t,ct){return h("writeNumberCached: number: %d",ct),h("writeNumberCached: %o",d[ct]),_t.write(d[ct])}function et(_t,ct){let vt=g(ct);return h("writeNumberGenerated: %o",vt),_t.write(vt)}function jt(_t,ct){let vt=S(ct);return h("write4ByteNumber: %o",vt),_t.write(vt)}function nt(_t,ct){typeof ct=="string"?ut(_t,ct):ct?(x(_t,ct.length),_t.write(ct)):x(_t,0)}function Z(_t,ct){if(typeof ct!="object"||ct.length!=null)return{length:1,write(){At(_t,{},0)}};let vt=0;function Mt(Nt,Tt){let ce=e.propertiesTypes[Nt],Jt=0;switch(ce){case"byte":{if(typeof Tt!="boolean")return _t.destroy(new Error(`Invalid ${Nt}: ${Tt}`)),!1;Jt+=2;break}case"int8":{if(typeof Tt!="number"||Tt<0||Tt>255)return _t.destroy(new Error(`Invalid ${Nt}: ${Tt}`)),!1;Jt+=2;break}case"binary":{if(Tt&&Tt===null)return _t.destroy(new Error(`Invalid ${Nt}: ${Tt}`)),!1;Jt+=1+r.byteLength(Tt)+2;break}case"int16":{if(typeof Tt!="number"||Tt<0||Tt>65535)return _t.destroy(new Error(`Invalid ${Nt}: ${Tt}`)),!1;Jt+=3;break}case"int32":{if(typeof Tt!="number"||Tt<0||Tt>4294967295)return _t.destroy(new Error(`Invalid ${Nt}: ${Tt}`)),!1;Jt+=5;break}case"var":{if(typeof Tt!="number"||Tt<0||Tt>268435455)return _t.destroy(new Error(`Invalid ${Nt}: ${Tt}`)),!1;Jt+=1+r.byteLength(b(Tt));break}case"string":{if(typeof Tt!="string")return _t.destroy(new Error(`Invalid ${Nt}: ${Tt}`)),!1;Jt+=3+r.byteLength(Tt.toString());break}case"pair":{if(typeof Tt!="object")return _t.destroy(new Error(`Invalid ${Nt}: ${Tt}`)),!1;Jt+=Object.getOwnPropertyNames(Tt).reduce((ft,Et)=>{let Vt=Tt[Et];return Array.isArray(Vt)?ft+=Vt.reduce((ie,re)=>(ie+=3+r.byteLength(Et.toString())+2+r.byteLength(re.toString()),ie),0):ft+=3+r.byteLength(Et.toString())+2+r.byteLength(Tt[Et].toString()),ft},0);break}default:return _t.destroy(new Error(`Invalid property ${Nt}: ${Tt}`)),!1}return Jt}if(ct)for(let Nt in ct){let Tt=0,ce=0,Jt=ct[Nt];if(Jt!==void 0){if(Array.isArray(Jt))for(let ft=0;ft<Jt.length;ft++){if(ce=Mt(Nt,Jt[ft]),!ce)return!1;Tt+=ce}else{if(ce=Mt(Nt,Jt),!ce)return!1;Tt=ce}if(!Tt)return!1;vt+=Tt}}return{length:r.byteLength(b(vt))+vt,write(){At(_t,ct,vt)}}}function K(_t,ct,vt,Mt){let Nt=["reasonString","userProperties"],Tt=vt&&vt.properties&&vt.properties.maximumPacketSize?vt.properties.maximumPacketSize:0,ce=Z(_t,ct);if(Tt)for(;Mt+ce.length>Tt;){let Jt=Nt.shift();if(Jt&&ct[Jt])delete ct[Jt],ce=Z(_t,ct);else return!1}return ce}function at(_t,ct,vt){switch(e.propertiesTypes[ct]){case"byte":{_t.write(r.from([e.properties[ct]])),_t.write(r.from([+vt]));break}case"int8":{_t.write(r.from([e.properties[ct]])),_t.write(r.from([vt]));break}case"binary":{_t.write(r.from([e.properties[ct]])),nt(_t,vt);break}case"int16":{_t.write(r.from([e.properties[ct]])),x(_t,vt);break}case"int32":{_t.write(r.from([e.properties[ct]])),jt(_t,vt);break}case"var":{_t.write(r.from([e.properties[ct]])),ht(_t,vt);break}case"string":{_t.write(r.from([e.properties[ct]])),ut(_t,vt);break}case"pair":{Object.getOwnPropertyNames(vt).forEach(Mt=>{let Nt=vt[Mt];Array.isArray(Nt)?Nt.forEach(Tt=>{_t.write(r.from([e.properties[ct]])),rt(_t,Mt.toString(),Tt.toString())}):(_t.write(r.from([e.properties[ct]])),rt(_t,Mt.toString(),Nt.toString()))});break}default:return _t.destroy(new Error(`Invalid property ${ct} value: ${vt}`)),!1}}function At(_t,ct,vt){ht(_t,vt);for(let Mt in ct)if(Object.prototype.hasOwnProperty.call(ct,Mt)&&ct[Mt]!=null){let Nt=ct[Mt];if(Array.isArray(Nt))for(let Tt=0;Tt<Nt.length;Tt++)at(_t,Mt,Nt[Tt]);else at(_t,Mt,Nt)}}function gt(_t){return _t?_t instanceof r?_t.length:r.byteLength(_t):0}function Ut(_t){return typeof _t=="string"||_t instanceof r}t.exports=k}),Gk=pe((n,t)=>{se(),le(),ae();var e=IS(),{EventEmitter:r}=(zl(),zn(Qa)),{Buffer:o}=(Hi(),zn(Fi));function a(c,h){let d=new l;return e(c,d,h),d.concat()}var l=class extends r{constructor(){super(),this._array=new Array(20),this._i=0}write(c){return this._array[this._i++]=c,!0}concat(){let c=0,h=new Array(this._array.length),d=this._array,g=0,y;for(y=0;y<d.length&&d[y]!==void 0;y++)typeof d[y]!="string"?h[y]=d[y].length:h[y]=o.byteLength(d[y]),c+=h[y];let b=o.allocUnsafe(c);for(y=0;y<d.length&&d[y]!==void 0;y++)typeof d[y]!="string"?(d[y].copy(b,g),g+=h[y]):(b.write(d[y],g),g+=h[y]);return b}destroy(c){c&&this.emit("error",c)}};t.exports=a}),$k=pe(n=>{se(),le(),ae(),n.parser=Kk().parser,n.generate=Gk(),n.writeToStream=IS()}),Qk=pe((n,t)=>{se(),le(),ae(),t.exports=r;function e(a){return a instanceof hd?hd.from(a):new a.constructor(a.buffer.slice(),a.byteOffset,a.length)}function r(a){if(a=a||{},a.circles)return o(a);let l=new Map;if(l.set(Date,y=>new Date(y)),l.set(Map,(y,b)=>new Map(h(Array.from(y),b))),l.set(Set,(y,b)=>new Set(h(Array.from(y),b))),a.constructorHandlers)for(let y of a.constructorHandlers)l.set(y[0],y[1]);let c=null;return a.proto?g:d;function h(y,b){let S=Object.keys(y),x=new Array(S.length);for(let E=0;E<S.length;E++){let k=S[E],C=y[k];typeof C!="object"||C===null?x[k]=C:C.constructor!==Object&&(c=l.get(C.constructor))?x[k]=c(C,b):ArrayBuffer.isView(C)?x[k]=e(C):x[k]=b(C)}return x}function d(y){if(typeof y!="object"||y===null)return y;if(Array.isArray(y))return h(y,d);if(y.constructor!==Object&&(c=l.get(y.constructor)))return c(y,d);let b={};for(let S in y){if(Object.hasOwnProperty.call(y,S)===!1)continue;let x=y[S];typeof x!="object"||x===null?b[S]=x:x.constructor!==Object&&(c=l.get(x.constructor))?b[S]=c(x,d):ArrayBuffer.isView(x)?b[S]=e(x):b[S]=d(x)}return b}function g(y){if(typeof y!="object"||y===null)return y;if(Array.isArray(y))return h(y,g);if(y.constructor!==Object&&(c=l.get(y.constructor)))return c(y,g);let b={};for(let S in y){let x=y[S];typeof x!="object"||x===null?b[S]=x:x.constructor!==Object&&(c=l.get(x.constructor))?b[S]=c(x,g):ArrayBuffer.isView(x)?b[S]=e(x):b[S]=g(x)}return b}}function o(a){let l=[],c=[],h=new Map;if(h.set(Date,S=>new Date(S)),h.set(Map,(S,x)=>new Map(g(Array.from(S),x))),h.set(Set,(S,x)=>new Set(g(Array.from(S),x))),a.constructorHandlers)for(let S of a.constructorHandlers)h.set(S[0],S[1]);let d=null;return a.proto?b:y;function g(S,x){let E=Object.keys(S),k=new Array(E.length);for(let C=0;C<E.length;C++){let M=E[C],P=S[M];if(typeof P!="object"||P===null)k[M]=P;else if(P.constructor!==Object&&(d=h.get(P.constructor)))k[M]=d(P,x);else if(ArrayBuffer.isView(P))k[M]=e(P);else{let z=l.indexOf(P);z!==-1?k[M]=c[z]:k[M]=x(P)}}return k}function y(S){if(typeof S!="object"||S===null)return S;if(Array.isArray(S))return g(S,y);if(S.constructor!==Object&&(d=h.get(S.constructor)))return d(S,y);let x={};l.push(S),c.push(x);for(let E in S){if(Object.hasOwnProperty.call(S,E)===!1)continue;let k=S[E];if(typeof k!="object"||k===null)x[E]=k;else if(k.constructor!==Object&&(d=h.get(k.constructor)))x[E]=d(k,y);else if(ArrayBuffer.isView(k))x[E]=e(k);else{let C=l.indexOf(k);C!==-1?x[E]=c[C]:x[E]=y(k)}}return l.pop(),c.pop(),x}function b(S){if(typeof S!="object"||S===null)return S;if(Array.isArray(S))return g(S,b);if(S.constructor!==Object&&(d=h.get(S.constructor)))return d(S,b);let x={};l.push(S),c.push(x);for(let E in S){let k=S[E];if(typeof k!="object"||k===null)x[E]=k;else if(k.constructor!==Object&&(d=h.get(k.constructor)))x[E]=d(k,b);else if(ArrayBuffer.isView(k))x[E]=e(k);else{let C=l.indexOf(k);C!==-1?x[E]=c[C]:x[E]=b(k)}}return l.pop(),c.pop(),x}}}),Jk=pe((n,t)=>{se(),le(),ae(),t.exports=Qk()()}),tM=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0}),n.validateTopic=t,n.validateTopics=e;function t(r){let o=r.split("/");for(let a=0;a<o.length;a++)if(o[a]!=="+"){if(o[a]==="#")return a===o.length-1;if(o[a].indexOf("+")!==-1||o[a].indexOf("#")!==-1)return!1}return!0}function e(r){if(r.length===0)return"empty_topic_list";for(let o=0;o<r.length;o++)if(!t(r[o]))return r[o];return null}}),US=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0});var t=Il(),e={objectMode:!0},r={clean:!0},o=class{options;_inflights;constructor(a){this.options=a||{},this.options={...r,...a},this._inflights=new Map}put(a,l){return this._inflights.set(a.messageId,a),l&&l(),this}createStream(){let a=new t.Readable(e),l=[],c=!1,h=0;return this._inflights.forEach((d,g)=>{l.push(d)}),a._read=()=>{!c&&h<l.length?a.push(l[h++]):a.push(null)},a.destroy=d=>{if(!c)return c=!0,setTimeout(()=>{a.emit("close")},0),a},a}del(a,l){let c=this._inflights.get(a.messageId);return c?(this._inflights.delete(a.messageId),l(null,c)):l&&l(new Error("missing packet")),this}get(a,l){let c=this._inflights.get(a.messageId);return c?l(null,c):l&&l(new Error("missing packet")),this}close(a){this.options.clean&&(this._inflights=null),a&&a()}};n.default=o}),eM=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0});var t=[0,16,128,131,135,144,145,151,153],e=(r,o,a)=>{r.log("handlePublish: packet %o",o),a=typeof a<"u"?a:r.noop;let l=o.topic.toString(),c=o.payload,{qos:h}=o,{messageId:d}=o,{options:g}=r;if(r.options.protocolVersion===5){let y;if(o.properties&&(y=o.properties.topicAlias),typeof y<"u")if(l.length===0)if(y>0&&y<=65535){let b=r.topicAliasRecv.getTopicByAlias(y);if(b)l=b,r.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",l,y);else{r.log("handlePublish :: unregistered topic alias. alias: %d",y),r.emit("error",new Error("Received unregistered Topic Alias"));return}}else{r.log("handlePublish :: topic alias out of range. alias: %d",y),r.emit("error",new Error("Received Topic Alias is out of range"));return}else if(r.topicAliasRecv.put(l,y))r.log("handlePublish :: registered topic: %s - alias: %d",l,y);else{r.log("handlePublish :: topic alias out of range. alias: %d",y),r.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(r.log("handlePublish: qos %d",h),h){case 2:{g.customHandleAcks(l,c,o,(y,b)=>{if(typeof y=="number"&&(b=y,y=null),y)return r.emit("error",y);if(t.indexOf(b)===-1)return r.emit("error",new Error("Wrong reason code for pubrec"));b?r._sendPacket({cmd:"pubrec",messageId:d,reasonCode:b},a):r.incomingStore.put(o,()=>{r._sendPacket({cmd:"pubrec",messageId:d},a)})});break}case 1:{g.customHandleAcks(l,c,o,(y,b)=>{if(typeof y=="number"&&(b=y,y=null),y)return r.emit("error",y);if(t.indexOf(b)===-1)return r.emit("error",new Error("Wrong reason code for puback"));b||r.emit("message",l,c,o),r.handleMessage(o,S=>{if(S)return a&&a(S);r._sendPacket({cmd:"puback",messageId:d,reasonCode:b},a)})});break}case 0:r.emit("message",l,c,o),r.handleMessage(o,a);break;default:r.log("handlePublish: unknown QoS. Doing nothing.");break}};n.default=e}),nM=pe((n,t)=>{t.exports={version:"5.14.1"}}),Nu=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0}),n.MQTTJS_VERSION=n.nextTick=n.ErrorWithSubackPacket=n.ErrorWithReasonCode=void 0,n.applyMixin=r;var t=class FS extends Error{code;constructor(a,l){super(a),this.code=l,Object.setPrototypeOf(this,FS.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};n.ErrorWithReasonCode=t;var e=class HS extends Error{packet;constructor(a,l){super(a),this.packet=l,Object.setPrototypeOf(this,HS.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}};n.ErrorWithSubackPacket=e;function r(o,a,l=!1){let c=[a];for(;;){let h=c[0],d=Object.getPrototypeOf(h);if(d?.prototype)c.unshift(d);else break}for(let h of c)for(let d of Object.getOwnPropertyNames(h.prototype))(l||d!=="constructor")&&Object.defineProperty(o.prototype,d,Object.getOwnPropertyDescriptor(h.prototype,d)??Object.create(null))}n.nextTick=typeof qn?.nextTick=="function"?qn.nextTick:o=>{setTimeout(o,0)},n.MQTTJS_VERSION=nM().version}),Cd=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0}),n.ReasonCodes=void 0;var t=Nu();n.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var e=(r,o)=>{let{messageId:a}=o,l=o.cmd,c=null,h=r.outgoing[a]?r.outgoing[a].cb:null,d=null;if(!h){r.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(r.log("_handleAck :: packet type",l),l){case"pubcomp":case"puback":{let g=o.reasonCode;g&&g>0&&g!==16?(d=new t.ErrorWithReasonCode(`Publish error: ${n.ReasonCodes[g]}`,g),r._removeOutgoingAndStoreMessage(a,()=>{h(d,o)})):r._removeOutgoingAndStoreMessage(a,h);break}case"pubrec":{c={cmd:"pubrel",qos:2,messageId:a};let g=o.reasonCode;g&&g>0&&g!==16?(d=new t.ErrorWithReasonCode(`Publish error: ${n.ReasonCodes[g]}`,g),r._removeOutgoingAndStoreMessage(a,()=>{h(d,o)})):r._sendPacket(c);break}case"suback":{delete r.outgoing[a],r.messageIdProvider.deallocate(a);let g=o.granted;for(let y=0;y<g.length;y++){let b=g[y];if((b&128)!==0){d=new Error(`Subscribe error: ${n.ReasonCodes[b]}`),d.code=b;let S=r.messageIdToTopic[a];S&&S.forEach(x=>{delete r._resubscribeTopics[x]})}}delete r.messageIdToTopic[a],r._invokeStoreProcessingQueue(),h(d,o);break}case"unsuback":{delete r.outgoing[a],r.messageIdProvider.deallocate(a),r._invokeStoreProcessingQueue(),h(null,o);break}default:r.emit("error",new Error("unrecognized packet type"))}r.disconnecting&&Object.keys(r.outgoing).length===0&&r.emit("outgoingEmpty")};n.default=e}),iM=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0});var t=Nu(),e=Cd(),r=(o,a)=>{let{options:l}=o,c=l.protocolVersion,h=c===5?a.reasonCode:a.returnCode;if(c!==5){let d=new t.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${c}`,h);o.emit("error",d);return}o.handleAuth(a,(d,g)=>{if(d){o.emit("error",d);return}if(h===24)o.reconnecting=!1,o._sendPacket(g);else{let y=new t.ErrorWithReasonCode(`Connection refused: ${e.ReasonCodes[h]}`,h);o.emit("error",y)}})};n.default=r}),rM=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0}),n.LRUCache=void 0;var t=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,e=new Set,r=typeof qn=="object"&&qn?qn:{},o=(S,x,E,k)=>{typeof r.emitWarning=="function"?r.emitWarning(S,x,E,k):console.error(`[${E}] ${x}: ${S}`)},a=globalThis.AbortController,l=globalThis.AbortSignal;if(typeof a>"u"){l=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(E,k){this._onabort.push(k)}},a=class{constructor(){x()}signal=new l;abort(E){if(!this.signal.aborted){this.signal.reason=E,this.signal.aborted=!0;for(let k of this.signal._onabort)k(E);this.signal.onabort?.(E)}}};let S=r.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",x=()=>{S&&(S=!1,o("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",x))}}var c=S=>!e.has(S),h=S=>S&&S===Math.floor(S)&&S>0&&isFinite(S),d=S=>h(S)?S<=Math.pow(2,8)?Uint8Array:S<=Math.pow(2,16)?Uint16Array:S<=Math.pow(2,32)?Uint32Array:S<=Number.MAX_SAFE_INTEGER?g:null:null,g=class extends Array{constructor(S){super(S),this.fill(0)}},y=class Pc{heap;length;static#l=!1;static create(x){let E=d(x);if(!E)return[];Pc.#l=!0;let k=new Pc(x,E);return Pc.#l=!1,k}constructor(x,E){if(!Pc.#l)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new E(x),this.length=0}push(x){this.heap[this.length++]=x}pop(){return this.heap[--this.length]}},b=class qS{#l;#f;#m;#g;#C;#L;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#r;#y;#i;#n;#t;#u;#h;#a;#o;#_;#s;#b;#v;#d;#w;#A;#c;static unsafeExposeInternals(x){return{starts:x.#v,ttls:x.#d,sizes:x.#b,keyMap:x.#i,keyList:x.#n,valList:x.#t,next:x.#u,prev:x.#h,get head(){return x.#a},get tail(){return x.#o},free:x.#_,isBackgroundFetch:E=>x.#e(E),backgroundFetch:(E,k,C,M)=>x.#j(E,k,C,M),moveToTail:E=>x.#O(E),indexes:E=>x.#x(E),rindexes:E=>x.#S(E),isStale:E=>x.#p(E)}}get max(){return this.#l}get maxSize(){return this.#f}get calculatedSize(){return this.#y}get size(){return this.#r}get fetchMethod(){return this.#C}get memoMethod(){return this.#L}get dispose(){return this.#m}get disposeAfter(){return this.#g}constructor(x){let{max:E=0,ttl:k,ttlResolution:C=1,ttlAutopurge:M,updateAgeOnGet:P,updateAgeOnHas:z,allowStale:D,dispose:B,disposeAfter:R,noDisposeOnSet:V,noUpdateTTL:J,maxSize:tt=0,maxEntrySize:st=0,sizeCalculation:G,fetchMethod:mt,memoMethod:ht,noDeleteOnFetchRejection:ut,noDeleteOnStaleGet:rt,allowStaleOnFetchRejection:lt,allowStaleOnFetchAbort:et,ignoreFetchAbort:jt}=x;if(E!==0&&!h(E))throw new TypeError("max option must be a nonnegative integer");let nt=E?d(E):Array;if(!nt)throw new Error("invalid max value: "+E);if(this.#l=E,this.#f=tt,this.maxEntrySize=st||this.#f,this.sizeCalculation=G,this.sizeCalculation){if(!this.#f&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(ht!==void 0&&typeof ht!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#L=ht,mt!==void 0&&typeof mt!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#C=mt,this.#A=!!mt,this.#i=new Map,this.#n=new Array(E).fill(void 0),this.#t=new Array(E).fill(void 0),this.#u=new nt(E),this.#h=new nt(E),this.#a=0,this.#o=0,this.#_=y.create(E),this.#r=0,this.#y=0,typeof B=="function"&&(this.#m=B),typeof R=="function"?(this.#g=R,this.#s=[]):(this.#g=void 0,this.#s=void 0),this.#w=!!this.#m,this.#c=!!this.#g,this.noDisposeOnSet=!!V,this.noUpdateTTL=!!J,this.noDeleteOnFetchRejection=!!ut,this.allowStaleOnFetchRejection=!!lt,this.allowStaleOnFetchAbort=!!et,this.ignoreFetchAbort=!!jt,this.maxEntrySize!==0){if(this.#f!==0&&!h(this.#f))throw new TypeError("maxSize must be a positive integer if specified");if(!h(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#F()}if(this.allowStale=!!D,this.noDeleteOnStaleGet=!!rt,this.updateAgeOnGet=!!P,this.updateAgeOnHas=!!z,this.ttlResolution=h(C)||C===0?C:1,this.ttlAutopurge=!!M,this.ttl=k||0,this.ttl){if(!h(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#P()}if(this.#l===0&&this.ttl===0&&this.#f===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#l&&!this.#f){let Z="LRU_CACHE_UNBOUNDED";c(Z)&&(e.add(Z),o("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Z,qS))}}getRemainingTTL(x){return this.#i.has(x)?1/0:0}#P(){let x=new g(this.#l),E=new g(this.#l);this.#d=x,this.#v=E,this.#R=(M,P,z=t.now())=>{if(E[M]=P!==0?z:0,x[M]=P,P!==0&&this.ttlAutopurge){let D=setTimeout(()=>{this.#p(M)&&this.#E(this.#n[M],"expire")},P+1);D.unref&&D.unref()}},this.#k=M=>{E[M]=x[M]!==0?t.now():0},this.#T=(M,P)=>{if(x[P]){let z=x[P],D=E[P];if(!z||!D)return;M.ttl=z,M.start=D,M.now=k||C();let B=M.now-D;M.remainingTTL=z-B}};let k=0,C=()=>{let M=t.now();if(this.ttlResolution>0){k=M;let P=setTimeout(()=>k=0,this.ttlResolution);P.unref&&P.unref()}return M};this.getRemainingTTL=M=>{let P=this.#i.get(M);if(P===void 0)return 0;let z=x[P],D=E[P];if(!z||!D)return 1/0;let B=(k||C())-D;return z-B},this.#p=M=>{let P=E[M],z=x[M];return!!z&&!!P&&(k||C())-P>z}}#k=()=>{};#T=()=>{};#R=()=>{};#p=()=>!1;#F(){let x=new g(this.#l);this.#y=0,this.#b=x,this.#M=E=>{this.#y-=x[E],x[E]=0},this.#z=(E,k,C,M)=>{if(this.#e(k))return 0;if(!h(C))if(M){if(typeof M!="function")throw new TypeError("sizeCalculation must be a function");if(C=M(k,E),!h(C))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return C},this.#N=(E,k,C)=>{if(x[E]=k,this.#f){let M=this.#f-x[E];for(;this.#y>M;)this.#D(!0)}this.#y+=x[E],C&&(C.entrySize=k,C.totalCalculatedSize=this.#y)}}#M=x=>{};#N=(x,E,k)=>{};#z=(x,E,k,C)=>{if(k||C)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#x({allowStale:x=this.allowStale}={}){if(this.#r)for(let E=this.#o;!(!this.#B(E)||((x||!this.#p(E))&&(yield E),E===this.#a));)E=this.#h[E]}*#S({allowStale:x=this.allowStale}={}){if(this.#r)for(let E=this.#a;!(!this.#B(E)||((x||!this.#p(E))&&(yield E),E===this.#o));)E=this.#u[E]}#B(x){return x!==void 0&&this.#i.get(this.#n[x])===x}*entries(){for(let x of this.#x())this.#t[x]!==void 0&&this.#n[x]!==void 0&&!this.#e(this.#t[x])&&(yield[this.#n[x],this.#t[x]])}*rentries(){for(let x of this.#S())this.#t[x]!==void 0&&this.#n[x]!==void 0&&!this.#e(this.#t[x])&&(yield[this.#n[x],this.#t[x]])}*keys(){for(let x of this.#x()){let E=this.#n[x];E!==void 0&&!this.#e(this.#t[x])&&(yield E)}}*rkeys(){for(let x of this.#S()){let E=this.#n[x];E!==void 0&&!this.#e(this.#t[x])&&(yield E)}}*values(){for(let x of this.#x())this.#t[x]!==void 0&&!this.#e(this.#t[x])&&(yield this.#t[x])}*rvalues(){for(let x of this.#S())this.#t[x]!==void 0&&!this.#e(this.#t[x])&&(yield this.#t[x])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(x,E={}){for(let k of this.#x()){let C=this.#t[k],M=this.#e(C)?C.__staleWhileFetching:C;if(M!==void 0&&x(M,this.#n[k],this))return this.get(this.#n[k],E)}}forEach(x,E=this){for(let k of this.#x()){let C=this.#t[k],M=this.#e(C)?C.__staleWhileFetching:C;M!==void 0&&x.call(E,M,this.#n[k],this)}}rforEach(x,E=this){for(let k of this.#S()){let C=this.#t[k],M=this.#e(C)?C.__staleWhileFetching:C;M!==void 0&&x.call(E,M,this.#n[k],this)}}purgeStale(){let x=!1;for(let E of this.#S({allowStale:!0}))this.#p(E)&&(this.#E(this.#n[E],"expire"),x=!0);return x}info(x){let E=this.#i.get(x);if(E===void 0)return;let k=this.#t[E],C=this.#e(k)?k.__staleWhileFetching:k;if(C===void 0)return;let M={value:C};if(this.#d&&this.#v){let P=this.#d[E],z=this.#v[E];if(P&&z){let D=P-(t.now()-z);M.ttl=D,M.start=Date.now()}}return this.#b&&(M.size=this.#b[E]),M}dump(){let x=[];for(let E of this.#x({allowStale:!0})){let k=this.#n[E],C=this.#t[E],M=this.#e(C)?C.__staleWhileFetching:C;if(M===void 0||k===void 0)continue;let P={value:M};if(this.#d&&this.#v){P.ttl=this.#d[E];let z=t.now()-this.#v[E];P.start=Math.floor(Date.now()-z)}this.#b&&(P.size=this.#b[E]),x.unshift([k,P])}return x}load(x){this.clear();for(let[E,k]of x){if(k.start){let C=Date.now()-k.start;k.start=t.now()-C}this.set(E,k.value,k)}}set(x,E,k={}){if(E===void 0)return this.delete(x),this;let{ttl:C=this.ttl,start:M,noDisposeOnSet:P=this.noDisposeOnSet,sizeCalculation:z=this.sizeCalculation,status:D}=k,{noUpdateTTL:B=this.noUpdateTTL}=k,R=this.#z(x,E,k.size||0,z);if(this.maxEntrySize&&R>this.maxEntrySize)return D&&(D.set="miss",D.maxEntrySizeExceeded=!0),this.#E(x,"set"),this;let V=this.#r===0?void 0:this.#i.get(x);if(V===void 0)V=this.#r===0?this.#o:this.#_.length!==0?this.#_.pop():this.#r===this.#l?this.#D(!1):this.#r,this.#n[V]=x,this.#t[V]=E,this.#i.set(x,V),this.#u[this.#o]=V,this.#h[V]=this.#o,this.#o=V,this.#r++,this.#N(V,R,D),D&&(D.set="add"),B=!1;else{this.#O(V);let J=this.#t[V];if(E!==J){if(this.#A&&this.#e(J)){J.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:tt}=J;tt!==void 0&&!P&&(this.#w&&this.#m?.(tt,x,"set"),this.#c&&this.#s?.push([tt,x,"set"]))}else P||(this.#w&&this.#m?.(J,x,"set"),this.#c&&this.#s?.push([J,x,"set"]));if(this.#M(V),this.#N(V,R,D),this.#t[V]=E,D){D.set="replace";let tt=J&&this.#e(J)?J.__staleWhileFetching:J;tt!==void 0&&(D.oldValue=tt)}}else D&&(D.set="update")}if(C!==0&&!this.#d&&this.#P(),this.#d&&(B||this.#R(V,C,M),D&&this.#T(D,V)),!P&&this.#c&&this.#s){let J=this.#s,tt;for(;tt=J?.shift();)this.#g?.(...tt)}return this}pop(){try{for(;this.#r;){let x=this.#t[this.#a];if(this.#D(!0),this.#e(x)){if(x.__staleWhileFetching)return x.__staleWhileFetching}else if(x!==void 0)return x}}finally{if(this.#c&&this.#s){let x=this.#s,E;for(;E=x?.shift();)this.#g?.(...E)}}}#D(x){let E=this.#a,k=this.#n[E],C=this.#t[E];return this.#A&&this.#e(C)?C.__abortController.abort(new Error("evicted")):(this.#w||this.#c)&&(this.#w&&this.#m?.(C,k,"evict"),this.#c&&this.#s?.push([C,k,"evict"])),this.#M(E),x&&(this.#n[E]=void 0,this.#t[E]=void 0,this.#_.push(E)),this.#r===1?(this.#a=this.#o=0,this.#_.length=0):this.#a=this.#u[E],this.#i.delete(k),this.#r--,E}has(x,E={}){let{updateAgeOnHas:k=this.updateAgeOnHas,status:C}=E,M=this.#i.get(x);if(M!==void 0){let P=this.#t[M];if(this.#e(P)&&P.__staleWhileFetching===void 0)return!1;if(this.#p(M))C&&(C.has="stale",this.#T(C,M));else return k&&this.#k(M),C&&(C.has="hit",this.#T(C,M)),!0}else C&&(C.has="miss");return!1}peek(x,E={}){let{allowStale:k=this.allowStale}=E,C=this.#i.get(x);if(C===void 0||!k&&this.#p(C))return;let M=this.#t[C];return this.#e(M)?M.__staleWhileFetching:M}#j(x,E,k,C){let M=E===void 0?void 0:this.#t[E];if(this.#e(M))return M;let P=new a,{signal:z}=k;z?.addEventListener("abort",()=>P.abort(z.reason),{signal:P.signal});let D={signal:P.signal,options:k,context:C},B=(G,mt=!1)=>{let{aborted:ht}=P.signal,ut=k.ignoreFetchAbort&&G!==void 0;if(k.status&&(ht&&!mt?(k.status.fetchAborted=!0,k.status.fetchError=P.signal.reason,ut&&(k.status.fetchAbortIgnored=!0)):k.status.fetchResolved=!0),ht&&!ut&&!mt)return V(P.signal.reason);let rt=tt;return this.#t[E]===tt&&(G===void 0?rt.__staleWhileFetching?this.#t[E]=rt.__staleWhileFetching:this.#E(x,"fetch"):(k.status&&(k.status.fetchUpdated=!0),this.set(x,G,D.options))),G},R=G=>(k.status&&(k.status.fetchRejected=!0,k.status.fetchError=G),V(G)),V=G=>{let{aborted:mt}=P.signal,ht=mt&&k.allowStaleOnFetchAbort,ut=ht||k.allowStaleOnFetchRejection,rt=ut||k.noDeleteOnFetchRejection,lt=tt;if(this.#t[E]===tt&&(!rt||lt.__staleWhileFetching===void 0?this.#E(x,"fetch"):ht||(this.#t[E]=lt.__staleWhileFetching)),ut)return k.status&&lt.__staleWhileFetching!==void 0&&(k.status.returnedStale=!0),lt.__staleWhileFetching;if(lt.__returned===lt)throw G},J=(G,mt)=>{let ht=this.#C?.(x,M,D);ht&&ht instanceof Promise&&ht.then(ut=>G(ut===void 0?void 0:ut),mt),P.signal.addEventListener("abort",()=>{(!k.ignoreFetchAbort||k.allowStaleOnFetchAbort)&&(G(void 0),k.allowStaleOnFetchAbort&&(G=ut=>B(ut,!0)))})};k.status&&(k.status.fetchDispatched=!0);let tt=new Promise(J).then(B,R),st=Object.assign(tt,{__abortController:P,__staleWhileFetching:M,__returned:void 0});return E===void 0?(this.set(x,st,{...D.options,status:void 0}),E=this.#i.get(x)):this.#t[E]=st,st}#e(x){if(!this.#A)return!1;let E=x;return!!E&&E instanceof Promise&&E.hasOwnProperty("__staleWhileFetching")&&E.__abortController instanceof a}async fetch(x,E={}){let{allowStale:k=this.allowStale,updateAgeOnGet:C=this.updateAgeOnGet,noDeleteOnStaleGet:M=this.noDeleteOnStaleGet,ttl:P=this.ttl,noDisposeOnSet:z=this.noDisposeOnSet,size:D=0,sizeCalculation:B=this.sizeCalculation,noUpdateTTL:R=this.noUpdateTTL,noDeleteOnFetchRejection:V=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:J=this.allowStaleOnFetchRejection,ignoreFetchAbort:tt=this.ignoreFetchAbort,allowStaleOnFetchAbort:st=this.allowStaleOnFetchAbort,context:G,forceRefresh:mt=!1,status:ht,signal:ut}=E;if(!this.#A)return ht&&(ht.fetch="get"),this.get(x,{allowStale:k,updateAgeOnGet:C,noDeleteOnStaleGet:M,status:ht});let rt={allowStale:k,updateAgeOnGet:C,noDeleteOnStaleGet:M,ttl:P,noDisposeOnSet:z,size:D,sizeCalculation:B,noUpdateTTL:R,noDeleteOnFetchRejection:V,allowStaleOnFetchRejection:J,allowStaleOnFetchAbort:st,ignoreFetchAbort:tt,status:ht,signal:ut},lt=this.#i.get(x);if(lt===void 0){ht&&(ht.fetch="miss");let et=this.#j(x,lt,rt,G);return et.__returned=et}else{let et=this.#t[lt];if(this.#e(et)){let K=k&&et.__staleWhileFetching!==void 0;return ht&&(ht.fetch="inflight",K&&(ht.returnedStale=!0)),K?et.__staleWhileFetching:et.__returned=et}let jt=this.#p(lt);if(!mt&&!jt)return ht&&(ht.fetch="hit"),this.#O(lt),C&&this.#k(lt),ht&&this.#T(ht,lt),et;let nt=this.#j(x,lt,rt,G),Z=nt.__staleWhileFetching!==void 0&&k;return ht&&(ht.fetch=jt?"stale":"refresh",Z&&jt&&(ht.returnedStale=!0)),Z?nt.__staleWhileFetching:nt.__returned=nt}}async forceFetch(x,E={}){let k=await this.fetch(x,E);if(k===void 0)throw new Error("fetch() returned undefined");return k}memo(x,E={}){let k=this.#L;if(!k)throw new Error("no memoMethod provided to constructor");let{context:C,forceRefresh:M,...P}=E,z=this.get(x,P);if(!M&&z!==void 0)return z;let D=k(x,z,{options:P,context:C});return this.set(x,D,P),D}get(x,E={}){let{allowStale:k=this.allowStale,updateAgeOnGet:C=this.updateAgeOnGet,noDeleteOnStaleGet:M=this.noDeleteOnStaleGet,status:P}=E,z=this.#i.get(x);if(z!==void 0){let D=this.#t[z],B=this.#e(D);return P&&this.#T(P,z),this.#p(z)?(P&&(P.get="stale"),B?(P&&k&&D.__staleWhileFetching!==void 0&&(P.returnedStale=!0),k?D.__staleWhileFetching:void 0):(M||this.#E(x,"expire"),P&&k&&(P.returnedStale=!0),k?D:void 0)):(P&&(P.get="hit"),B?D.__staleWhileFetching:(this.#O(z),C&&this.#k(z),D))}else P&&(P.get="miss")}#I(x,E){this.#h[E]=x,this.#u[x]=E}#O(x){x!==this.#o&&(x===this.#a?this.#a=this.#u[x]:this.#I(this.#h[x],this.#u[x]),this.#I(this.#o,x),this.#o=x)}delete(x){return this.#E(x,"delete")}#E(x,E){let k=!1;if(this.#r!==0){let C=this.#i.get(x);if(C!==void 0)if(k=!0,this.#r===1)this.#U(E);else{this.#M(C);let M=this.#t[C];if(this.#e(M)?M.__abortController.abort(new Error("deleted")):(this.#w||this.#c)&&(this.#w&&this.#m?.(M,x,E),this.#c&&this.#s?.push([M,x,E])),this.#i.delete(x),this.#n[C]=void 0,this.#t[C]=void 0,C===this.#o)this.#o=this.#h[C];else if(C===this.#a)this.#a=this.#u[C];else{let P=this.#h[C];this.#u[P]=this.#u[C];let z=this.#u[C];this.#h[z]=this.#h[C]}this.#r--,this.#_.push(C)}}if(this.#c&&this.#s?.length){let C=this.#s,M;for(;M=C?.shift();)this.#g?.(...M)}return k}clear(){return this.#U("delete")}#U(x){for(let E of this.#S({allowStale:!0})){let k=this.#t[E];if(this.#e(k))k.__abortController.abort(new Error("deleted"));else{let C=this.#n[E];this.#w&&this.#m?.(k,C,x),this.#c&&this.#s?.push([k,C,x])}}if(this.#i.clear(),this.#t.fill(void 0),this.#n.fill(void 0),this.#d&&this.#v&&(this.#d.fill(0),this.#v.fill(0)),this.#b&&this.#b.fill(0),this.#a=0,this.#o=0,this.#_.length=0,this.#y=0,this.#r=0,this.#c&&this.#s){let E=this.#s,k;for(;k=E?.shift();)this.#g?.(...k)}}};n.LRUCache=b}),la=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.ContainerIterator=n.Container=n.Base=void 0;var t=class{constructor(o=0){this.iteratorType=o}equals(o){return this.o===o.o}};n.ContainerIterator=t;var e=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};n.Base=e;var r=class extends e{};n.Container=r}),oM=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=la(),e=class extends t.Base{constructor(o=[]){super(),this.S=[];let a=this;o.forEach(function(l){a.push(l)})}clear(){this.i=0,this.S=[]}push(o){return this.S.push(o),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},r=e;n.default=r}),sM=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=la(),e=class extends t.Base{constructor(o=[]){super(),this.j=0,this.q=[];let a=this;o.forEach(function(l){a.push(l)})}clear(){this.q=[],this.i=this.j=0}push(o){let a=this.q.length;if(this.j/a>.5&&this.j+this.i>=a&&a>4096){let l=this.i;for(let c=0;c<l;++c)this.q[c]=this.q[this.j+c];this.j=0,this.q[this.i]=o}else this.q[this.j+this.i]=o;return++this.i}pop(){if(this.i===0)return;let o=this.q[this.j++];return this.i-=1,o}front(){if(this.i!==0)return this.q[this.j]}},r=e;n.default=r}),aM=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=la(),e=class extends t.Base{constructor(o=[],a=function(c,h){return c>h?-1:c<h?1:0},l=!0){if(super(),this.v=a,Array.isArray(o))this.C=l?[...o]:o;else{this.C=[];let h=this;o.forEach(function(d){h.C.push(d)})}this.i=this.C.length;let c=this.i>>1;for(let h=this.i-1>>1;h>=0;--h)this.k(h,c)}m(o){let a=this.C[o];for(;o>0;){let l=o-1>>1,c=this.C[l];if(this.v(c,a)<=0)break;this.C[o]=c,o=l}this.C[o]=a}k(o,a){let l=this.C[o];for(;o<a;){let c=o<<1|1,h=c+1,d=this.C[c];if(h<this.i&&this.v(d,this.C[h])>0&&(c=h,d=this.C[h]),this.v(d,l)>=0)break;this.C[o]=d,o=c}this.C[o]=l}clear(){this.i=0,this.C.length=0}push(o){this.C.push(o),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let o=this.C[0],a=this.C.pop();return this.i-=1,this.i&&(this.C[0]=a,this.k(0,this.i>>1)),o}top(){return this.C[0]}find(o){return this.C.indexOf(o)>=0}remove(o){let a=this.C.indexOf(o);return a<0?!1:(a===0?this.pop():a===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(a,1,this.C.pop()),this.i-=1,this.m(a),this.k(a,this.i>>1)),!0)}updateItem(o){let a=this.C.indexOf(o);return a<0?!1:(this.m(a),this.k(a,this.i>>1),!0)}toArray(){return[...this.C]}},r=e;n.default=r}),b_=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=la(),e=class extends t.Container{},r=e;n.default=r}),ua=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.throwIteratorAccessError=t;function t(){throw new RangeError("Iterator access denied!")}}),VS=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.RandomIterator=void 0;var t=la(),e=ua(),r=class extends t.ContainerIterator{constructor(o,a){super(a),this.o=o,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,e.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,e.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,e.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,e.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(o){this.container.setElementByPos(this.o,o)}};n.RandomIterator=r}),lM=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=r(b_()),e=VS();function r(c){return c&&c.t?c:{default:c}}var o=class YS extends e.RandomIterator{constructor(h,d,g){super(h,g),this.container=d}copy(){return new YS(this.o,this.container,this.iteratorType)}},a=class extends t.default{constructor(c=[],h=!0){if(super(),Array.isArray(c))this.J=h?[...c]:c,this.i=c.length;else{this.J=[];let d=this;c.forEach(function(g){d.pushBack(g)})}}clear(){this.i=0,this.J.length=0}begin(){return new o(0,this)}end(){return new o(this.i,this)}rBegin(){return new o(this.i-1,this,1)}rEnd(){return new o(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;return this.J[c]}eraseElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;return this.J.splice(c,1),this.i-=1,this.i}eraseElementByValue(c){let h=0;for(let d=0;d<this.i;++d)this.J[d]!==c&&(this.J[h++]=this.J[d]);return this.i=this.J.length=h,this.i}eraseElementByIterator(c){let h=c.o;return c=c.next(),this.eraseElementByPos(h),c}pushBack(c){return this.J.push(c),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(c,h){if(c<0||c>this.i-1)throw new RangeError;this.J[c]=h}insert(c,h,d=1){if(c<0||c>this.i)throw new RangeError;return this.J.splice(c,0,...new Array(d).fill(h)),this.i+=d,this.i}find(c){for(let h=0;h<this.i;++h)if(this.J[h]===c)return new o(h,this);return this.end()}reverse(){this.J.reverse()}unique(){let c=1;for(let h=1;h<this.i;++h)this.J[h]!==this.J[h-1]&&(this.J[c++]=this.J[h]);return this.i=this.J.length=c,this.i}sort(c){this.J.sort(c)}forEach(c){for(let h=0;h<this.i;++h)c(this.J[h],h,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},l=a;n.default=l}),uM=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=o(b_()),e=la(),r=ua();function o(h){return h&&h.t?h:{default:h}}var a=class ZS extends e.ContainerIterator{constructor(d,g,y,b){super(b),this.o=d,this.h=g,this.container=y,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.l}set pointer(d){this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.l=d}copy(){return new ZS(this.o,this.h,this.container,this.iteratorType)}},l=class extends t.default{constructor(h=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let d=this;h.forEach(function(g){d.pushBack(g)})}V(h){let{L:d,B:g}=h;d.B=g,g.L=d,h===this.p&&(this.p=g),h===this._&&(this._=d),this.i-=1}G(h,d){let g=d.B,y={l:h,L:d,B:g};d.B=y,g.L=y,d===this.h&&(this.p=y),g===this.h&&(this._=y),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new a(this.p,this.h,this)}end(){return new a(this.h,this.h,this)}rBegin(){return new a(this._,this.h,this,1)}rEnd(){return new a(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(h){if(h<0||h>this.i-1)throw new RangeError;let d=this.p;for(;h--;)d=d.B;return d.l}eraseElementByPos(h){if(h<0||h>this.i-1)throw new RangeError;let d=this.p;for(;h--;)d=d.B;return this.V(d),this.i}eraseElementByValue(h){let d=this.p;for(;d!==this.h;)d.l===h&&this.V(d),d=d.B;return this.i}eraseElementByIterator(h){let d=h.o;return d===this.h&&(0,r.throwIteratorAccessError)(),h=h.next(),this.V(d),h}pushBack(h){return this.G(h,this._),this.i}popBack(){if(this.i===0)return;let h=this._.l;return this.V(this._),h}pushFront(h){return this.G(h,this.h),this.i}popFront(){if(this.i===0)return;let h=this.p.l;return this.V(this.p),h}setElementByPos(h,d){if(h<0||h>this.i-1)throw new RangeError;let g=this.p;for(;h--;)g=g.B;g.l=d}insert(h,d,g=1){if(h<0||h>this.i)throw new RangeError;if(g<=0)return this.i;if(h===0)for(;g--;)this.pushFront(d);else if(h===this.i)for(;g--;)this.pushBack(d);else{let y=this.p;for(let S=1;S<h;++S)y=y.B;let b=y.B;for(this.i+=g;g--;)y.B={l:d,L:y},y.B.L=y,y=y.B;y.B=b,b.L=y}return this.i}find(h){let d=this.p;for(;d!==this.h;){if(d.l===h)return new a(d,this.h,this);d=d.B}return this.end()}reverse(){if(this.i<=1)return;let h=this.p,d=this._,g=0;for(;g<<1<this.i;){let y=h.l;h.l=d.l,d.l=y,h=h.B,d=d.L,g+=1}}unique(){if(this.i<=1)return this.i;let h=this.p;for(;h!==this.h;){let d=h;for(;d.B!==this.h&&d.l===d.B.l;)d=d.B,this.i-=1;h.B=d.B,h.B.L=h,h=h.B}return this.i}sort(h){if(this.i<=1)return;let d=[];this.forEach(function(y){d.push(y)}),d.sort(h);let g=this.p;d.forEach(function(y){g.l=y,g=g.B})}merge(h){let d=this;if(this.i===0)h.forEach(function(g){d.pushBack(g)});else{let g=this.p;h.forEach(function(y){for(;g!==d.h&&g.l<=y;)g=g.B;d.G(y,g.L)})}return this.i}forEach(h){let d=this.p,g=0;for(;d!==this.h;)h(d.l,g++,this),d=d.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let h=this.p;for(;h!==this.h;)yield h.l,h=h.B}).bind(this)()}},c=l;n.default=c}),cM=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=r(b_()),e=VS();function r(c){return c&&c.t?c:{default:c}}var o=class KS extends e.RandomIterator{constructor(h,d,g){super(h,g),this.container=d}copy(){return new KS(this.o,this.container,this.iteratorType)}},a=class extends t.default{constructor(c=[],h=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let d=(()=>{if(typeof c.length=="number")return c.length;if(typeof c.size=="number")return c.size;if(typeof c.size=="function")return c.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=h,this.P=Math.max(Math.ceil(d/this.F),1);for(let b=0;b<this.P;++b)this.A.push(new Array(this.F));let g=Math.ceil(d/this.F);this.j=this.R=(this.P>>1)-(g>>1),this.D=this.N=this.F-d%this.F>>1;let y=this;c.forEach(function(b){y.pushBack(b)})}T(){let c=[],h=Math.max(this.P>>1,1);for(let d=0;d<h;++d)c[d]=new Array(this.F);for(let d=this.j;d<this.P;++d)c[c.length]=this.A[d];for(let d=0;d<this.R;++d)c[c.length]=this.A[d];c[c.length]=[...this.A[this.R]],this.j=h,this.R=c.length-1;for(let d=0;d<h;++d)c[c.length]=new Array(this.F);this.A=c,this.P=c.length}O(c){let h=this.D+c+1,d=h%this.F,g=d-1,y=this.j+(h-d)/this.F;return d===0&&(y-=1),y%=this.P,g<0&&(g+=this.F),{curNodeBucketIndex:y,curNodePointerIndex:g}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new o(0,this)}end(){return new o(this.i,this)}rBegin(){return new o(this.i-1,this,1)}rEnd(){return new o(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(c){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=c,this.i}popBack(){if(this.i===0)return;let c=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,c}pushFront(c){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=c,this.i}popFront(){if(this.i===0)return;let c=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,c}getElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;let{curNodeBucketIndex:h,curNodePointerIndex:d}=this.O(c);return this.A[h][d]}setElementByPos(c,h){if(c<0||c>this.i-1)throw new RangeError;let{curNodeBucketIndex:d,curNodePointerIndex:g}=this.O(c);this.A[d][g]=h}insert(c,h,d=1){if(c<0||c>this.i)throw new RangeError;if(c===0)for(;d--;)this.pushFront(h);else if(c===this.i)for(;d--;)this.pushBack(h);else{let g=[];for(let y=c;y<this.i;++y)g.push(this.getElementByPos(y));this.cut(c-1);for(let y=0;y<d;++y)this.pushBack(h);for(let y=0;y<g.length;++y)this.pushBack(g[y])}return this.i}cut(c){if(c<0)return this.clear(),0;let{curNodeBucketIndex:h,curNodePointerIndex:d}=this.O(c);return this.R=h,this.N=d,this.i=c+1,this.i}eraseElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;if(c===0)this.popFront();else if(c===this.i-1)this.popBack();else{let h=[];for(let g=c+1;g<this.i;++g)h.push(this.getElementByPos(g));this.cut(c),this.popBack();let d=this;h.forEach(function(g){d.pushBack(g)})}return this.i}eraseElementByValue(c){if(this.i===0)return 0;let h=[];for(let g=0;g<this.i;++g){let y=this.getElementByPos(g);y!==c&&h.push(y)}let d=h.length;for(let g=0;g<d;++g)this.setElementByPos(g,h[g]);return this.cut(d-1)}eraseElementByIterator(c){let h=c.o;return this.eraseElementByPos(h),c=c.next(),c}find(c){for(let h=0;h<this.i;++h)if(this.getElementByPos(h)===c)return new o(h,this);return this.end()}reverse(){let c=0,h=this.i-1;for(;c<h;){let d=this.getElementByPos(c);this.setElementByPos(c,this.getElementByPos(h)),this.setElementByPos(h,d),c+=1,h-=1}}unique(){if(this.i<=1)return this.i;let c=1,h=this.getElementByPos(0);for(let d=1;d<this.i;++d){let g=this.getElementByPos(d);g!==h&&(h=g,this.setElementByPos(c++,g))}for(;this.i>c;)this.popBack();return this.i}sort(c){let h=[];for(let d=0;d<this.i;++d)h.push(this.getElementByPos(d));h.sort(c);for(let d=0;d<this.i;++d)this.setElementByPos(d,h[d])}shrinkToFit(){if(this.i===0)return;let c=[];this.forEach(function(h){c.push(h)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let h=0;h<this.P;++h)this.A.push(new Array(this.F));for(let h=0;h<c.length;++h)this.pushBack(c[h])}forEach(c){for(let h=0;h<this.i;++h)c(this.getElementByPos(h),h,this)}[Symbol.iterator](){return(function*(){for(let c=0;c<this.i;++c)yield this.getElementByPos(c)}).bind(this)()}},l=a;n.default=l}),fM=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.TreeNodeEnableIndex=n.TreeNode=void 0;var t=class{constructor(r,o){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=r,this.l=o}L(){let r=this;if(r.ee===1&&r.tt.tt===r)r=r.W;else if(r.U)for(r=r.U;r.W;)r=r.W;else{let o=r.tt;for(;o.U===r;)r=o,o=r.tt;r=o}return r}B(){let r=this;if(r.W){for(r=r.W;r.U;)r=r.U;return r}else{let o=r.tt;for(;o.W===r;)r=o,o=r.tt;return r.W!==o?o:r}}te(){let r=this.tt,o=this.W,a=o.U;return r.tt===this?r.tt=o:r.U===this?r.U=o:r.W=o,o.tt=r,o.U=this,this.tt=o,this.W=a,a&&(a.tt=this),o}se(){let r=this.tt,o=this.U,a=o.W;return r.tt===this?r.tt=o:r.U===this?r.U=o:r.W=o,o.tt=r,o.W=this,this.tt=o,this.U=a,a&&(a.tt=this),o}};n.TreeNode=t;var e=class extends t{constructor(){super(...arguments),this.rt=1}te(){let r=super.te();return this.ie(),r.ie(),r}se(){let r=super.se();return this.ie(),r.ie(),r}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};n.TreeNodeEnableIndex=e}),WS=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=fM(),e=la(),r=ua(),o=class extends e.Container{constructor(l=function(h,d){return h<d?-1:h>d?1:0},c=!1){super(),this.Y=void 0,this.v=l,c?(this.re=t.TreeNodeEnableIndex,this.M=function(h,d,g){let y=this.ne(h,d,g);if(y){let b=y.tt;for(;b!==this.h;)b.rt+=1,b=b.tt;let S=this.he(y);if(S){let{parentNode:x,grandParent:E,curNode:k}=S;x.ie(),E.ie(),k.ie()}}return this.i},this.V=function(h){let d=this.fe(h);for(;d!==this.h;)d.rt-=1,d=d.tt}):(this.re=t.TreeNode,this.M=function(h,d,g){let y=this.ne(h,d,g);return y&&this.he(y),this.i},this.V=this.fe),this.h=new this.re}X(l,c){let h=this.h;for(;l;){let d=this.v(l.u,c);if(d<0)l=l.W;else if(d>0)h=l,l=l.U;else return l}return h}Z(l,c){let h=this.h;for(;l;)this.v(l.u,c)<=0?l=l.W:(h=l,l=l.U);return h}$(l,c){let h=this.h;for(;l;){let d=this.v(l.u,c);if(d<0)h=l,l=l.W;else if(d>0)l=l.U;else return l}return h}rr(l,c){let h=this.h;for(;l;)this.v(l.u,c)<0?(h=l,l=l.W):l=l.U;return h}ue(l){for(;;){let c=l.tt;if(c===this.h)return;if(l.ee===1){l.ee=0;return}if(l===c.U){let h=c.W;if(h.ee===1)h.ee=0,c.ee=1,c===this.Y?this.Y=c.te():c.te();else if(h.W&&h.W.ee===1){h.ee=c.ee,c.ee=0,h.W.ee=0,c===this.Y?this.Y=c.te():c.te();return}else h.U&&h.U.ee===1?(h.ee=1,h.U.ee=0,h.se()):(h.ee=1,l=c)}else{let h=c.U;if(h.ee===1)h.ee=0,c.ee=1,c===this.Y?this.Y=c.se():c.se();else if(h.U&&h.U.ee===1){h.ee=c.ee,c.ee=0,h.U.ee=0,c===this.Y?this.Y=c.se():c.se();return}else h.W&&h.W.ee===1?(h.ee=1,h.W.ee=0,h.te()):(h.ee=1,l=c)}}}fe(l){if(this.i===1)return this.clear(),this.h;let c=l;for(;c.U||c.W;){if(c.W)for(c=c.W;c.U;)c=c.U;else c=c.U;[l.u,c.u]=[c.u,l.u],[l.l,c.l]=[c.l,l.l],l=c}this.h.U===c?this.h.U=c.tt:this.h.W===c&&(this.h.W=c.tt),this.ue(c);let h=c.tt;return c===h.U?h.U=void 0:h.W=void 0,this.i-=1,this.Y.ee=0,h}oe(l,c){return l===void 0?!1:this.oe(l.U,c)||c(l)?!0:this.oe(l.W,c)}he(l){for(;;){let c=l.tt;if(c.ee===0)return;let h=c.tt;if(c===h.U){let d=h.W;if(d&&d.ee===1){if(d.ee=c.ee=0,h===this.Y)return;h.ee=1,l=h;continue}else if(l===c.W){if(l.ee=0,l.U&&(l.U.tt=c),l.W&&(l.W.tt=h),c.W=l.U,h.U=l.W,l.U=c,l.W=h,h===this.Y)this.Y=l,this.h.tt=l;else{let g=h.tt;g.U===h?g.U=l:g.W=l}return l.tt=h.tt,c.tt=l,h.tt=l,h.ee=1,{parentNode:c,grandParent:h,curNode:l}}else c.ee=0,h===this.Y?this.Y=h.se():h.se(),h.ee=1}else{let d=h.U;if(d&&d.ee===1){if(d.ee=c.ee=0,h===this.Y)return;h.ee=1,l=h;continue}else if(l===c.U){if(l.ee=0,l.U&&(l.U.tt=h),l.W&&(l.W.tt=c),h.W=l.U,c.U=l.W,l.U=h,l.W=c,h===this.Y)this.Y=l,this.h.tt=l;else{let g=h.tt;g.U===h?g.U=l:g.W=l}return l.tt=h.tt,c.tt=l,h.tt=l,h.ee=1,{parentNode:c,grandParent:h,curNode:l}}else c.ee=0,h===this.Y?this.Y=h.te():h.te(),h.ee=1}return}}ne(l,c,h){if(this.Y===void 0){this.i+=1,this.Y=new this.re(l,c),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let d,g=this.h.U,y=this.v(g.u,l);if(y===0){g.l=c;return}else if(y>0)g.U=new this.re(l,c),g.U.tt=g,d=g.U,this.h.U=d;else{let b=this.h.W,S=this.v(b.u,l);if(S===0){b.l=c;return}else if(S<0)b.W=new this.re(l,c),b.W.tt=b,d=b.W,this.h.W=d;else{if(h!==void 0){let x=h.o;if(x!==this.h){let E=this.v(x.u,l);if(E===0){x.l=c;return}else if(E>0){let k=x.L(),C=this.v(k.u,l);if(C===0){k.l=c;return}else C<0&&(d=new this.re(l,c),k.W===void 0?(k.W=d,d.tt=k):(x.U=d,d.tt=x))}}}if(d===void 0)for(d=this.Y;;){let x=this.v(d.u,l);if(x>0){if(d.U===void 0){d.U=new this.re(l,c),d.U.tt=d,d=d.U;break}d=d.U}else if(x<0){if(d.W===void 0){d.W=new this.re(l,c),d.W.tt=d,d=d.W;break}d=d.W}else{d.l=c;return}}}}return this.i+=1,d}I(l,c){for(;l;){let h=this.v(l.u,c);if(h<0)l=l.W;else if(h>0)l=l.U;else return l}return l||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(l,c){let h=l.o;if(h===this.h&&(0,r.throwIteratorAccessError)(),this.i===1)return h.u=c,!0;if(h===this.h.U)return this.v(h.B().u,c)>0?(h.u=c,!0):!1;if(h===this.h.W)return this.v(h.L().u,c)<0?(h.u=c,!0):!1;let d=h.L().u;if(this.v(d,c)>=0)return!1;let g=h.B().u;return this.v(g,c)<=0?!1:(h.u=c,!0)}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=0,h=this;return this.oe(this.Y,function(d){return l===c?(h.V(d),!0):(c+=1,!1)}),this.i}eraseElementByKey(l){if(this.i===0)return!1;let c=this.I(this.Y,l);return c===this.h?!1:(this.V(c),!0)}eraseElementByIterator(l){let c=l.o;c===this.h&&(0,r.throwIteratorAccessError)();let h=c.W===void 0;return l.iteratorType===0?h&&l.next():(!h||c.U===void 0)&&l.next(),this.V(c),l}forEach(l){let c=0;for(let h of this)l(h,c++,this)}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c,h=0;for(let d of this){if(h===l){c=d;break}h+=1}return c}getHeight(){if(this.i===0)return 0;let l=function(c){return c?Math.max(l(c.U),l(c.W))+1:0};return l(this.Y)}},a=o;n.default=a}),XS=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=la(),e=ua(),r=class extends t.ContainerIterator{constructor(a,l,c){super(c),this.o=a,this.h=l,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,e.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,e.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,e.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,e.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let a=this.o,l=this.h.tt;if(a===this.h)return l?l.rt-1:0;let c=0;for(a.U&&(c+=a.U.rt);a!==l;){let h=a.tt;a===h.W&&(c+=1,h.U&&(c+=h.U.rt)),a=h}return c}},o=r;n.default=o}),hM=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=o(WS()),e=o(XS()),r=ua();function o(h){return h&&h.t?h:{default:h}}var a=class GS extends e.default{constructor(d,g,y,b){super(d,g,b),this.container=y}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.u}copy(){return new GS(this.o,this.h,this.container,this.iteratorType)}},l=class extends t.default{constructor(h=[],d,g){super(d,g);let y=this;h.forEach(function(b){y.insert(b)})}*K(h){h!==void 0&&(yield*this.K(h.U),yield h.u,yield*this.K(h.W))}begin(){return new a(this.h.U||this.h,this.h,this)}end(){return new a(this.h,this.h,this)}rBegin(){return new a(this.h.W||this.h,this.h,this,1)}rEnd(){return new a(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(h,d){return this.M(h,void 0,d)}find(h){let d=this.I(this.Y,h);return new a(d,this.h,this)}lowerBound(h){let d=this.X(this.Y,h);return new a(d,this.h,this)}upperBound(h){let d=this.Z(this.Y,h);return new a(d,this.h,this)}reverseLowerBound(h){let d=this.$(this.Y,h);return new a(d,this.h,this)}reverseUpperBound(h){let d=this.rr(this.Y,h);return new a(d,this.h,this)}union(h){let d=this;return h.forEach(function(g){d.insert(g)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},c=l;n.default=c}),dM=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=o(WS()),e=o(XS()),r=ua();function o(h){return h&&h.t?h:{default:h}}var a=class $S extends e.default{constructor(d,g,y,b){super(d,g,b),this.container=y}get pointer(){this.o===this.h&&(0,r.throwIteratorAccessError)();let d=this;return new Proxy([],{get(g,y){if(y==="0")return d.o.u;if(y==="1")return d.o.l},set(g,y,b){if(y!=="1")throw new TypeError("props must be 1");return d.o.l=b,!0}})}copy(){return new $S(this.o,this.h,this.container,this.iteratorType)}},l=class extends t.default{constructor(h=[],d,g){super(d,g);let y=this;h.forEach(function(b){y.setElement(b[0],b[1])})}*K(h){h!==void 0&&(yield*this.K(h.U),yield[h.u,h.l],yield*this.K(h.W))}begin(){return new a(this.h.U||this.h,this.h,this)}end(){return new a(this.h,this.h,this)}rBegin(){return new a(this.h.W||this.h,this.h,this,1)}rEnd(){return new a(this.h,this.h,this,1)}front(){if(this.i===0)return;let h=this.h.U;return[h.u,h.l]}back(){if(this.i===0)return;let h=this.h.W;return[h.u,h.l]}lowerBound(h){let d=this.X(this.Y,h);return new a(d,this.h,this)}upperBound(h){let d=this.Z(this.Y,h);return new a(d,this.h,this)}reverseLowerBound(h){let d=this.$(this.Y,h);return new a(d,this.h,this)}reverseUpperBound(h){let d=this.rr(this.Y,h);return new a(d,this.h,this)}setElement(h,d,g){return this.M(h,d,g)}find(h){let d=this.I(this.Y,h);return new a(d,this.h,this)}getElementByKey(h){return this.I(this.Y,h).l}union(h){let d=this;return h.forEach(function(g){d.setElement(g[0],g[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},c=l;n.default=c}),QS=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=t;function t(e){let r=typeof e;return r==="object"&&e!==null||r==="function"}}),JS=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.HashContainerIterator=n.HashContainer=void 0;var t=la(),e=o(QS()),r=ua();function o(c){return c&&c.t?c:{default:c}}var a=class extends t.ContainerIterator{constructor(c,h,d){super(d),this.o=c,this.h=h,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this})}};n.HashContainerIterator=a;var l=class extends t.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(c){let{L:h,B:d}=c;h.B=d,d.L=h,c===this.p&&(this.p=d),c===this._&&(this._=h),this.i-=1}M(c,h,d){d===void 0&&(d=(0,e.default)(c));let g;if(d){let y=c[this.HASH_TAG];if(y!==void 0)return this.H[y].l=h,this.i;Object.defineProperty(c,this.HASH_TAG,{value:this.H.length,configurable:!0}),g={u:c,l:h,L:this._,B:this.h},this.H.push(g)}else{let y=this.g[c];if(y)return y.l=h,this.i;g={u:c,l:h,L:this._,B:this.h},this.g[c]=g}return this.i===0?(this.p=g,this.h.B=g):this._.B=g,this._=g,this.h.L=g,++this.i}I(c,h){if(h===void 0&&(h=(0,e.default)(c)),h){let d=c[this.HASH_TAG];return d===void 0?this.h:this.H[d]}else return this.g[c]||this.h}clear(){let c=this.HASH_TAG;this.H.forEach(function(h){delete h.u[c]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(c,h){let d;if(h===void 0&&(h=(0,e.default)(c)),h){let g=c[this.HASH_TAG];if(g===void 0)return!1;delete c[this.HASH_TAG],d=this.H[g],delete this.H[g]}else{if(d=this.g[c],d===void 0)return!1;delete this.g[c]}return this.V(d),!0}eraseElementByIterator(c){let h=c.o;return h===this.h&&(0,r.throwIteratorAccessError)(),this.V(h),c.next()}eraseElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;let h=this.p;for(;c--;)h=h.B;return this.V(h),this.i}};n.HashContainer=l}),pM=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=JS(),e=ua(),r=class t2 extends t.HashContainerIterator{constructor(c,h,d,g){super(c,h,g),this.container=d}get pointer(){return this.o===this.h&&(0,e.throwIteratorAccessError)(),this.o.u}copy(){return new t2(this.o,this.h,this.container,this.iteratorType)}},o=class extends t.HashContainer{constructor(l=[]){super();let c=this;l.forEach(function(h){c.insert(h)})}begin(){return new r(this.p,this.h,this)}end(){return new r(this.h,this.h,this)}rBegin(){return new r(this._,this.h,this,1)}rEnd(){return new r(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(l,c){return this.M(l,void 0,c)}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return c.u}find(l,c){let h=this.I(l,c);return new r(h,this.h,this)}forEach(l){let c=0,h=this.p;for(;h!==this.h;)l(h.u,c++,this),h=h.B}[Symbol.iterator](){return(function*(){let l=this.p;for(;l!==this.h;)yield l.u,l=l.B}).bind(this)()}},a=o;n.default=a}),mM=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),n.default=void 0;var t=JS(),e=o(QS()),r=ua();function o(h){return h&&h.t?h:{default:h}}var a=class e2 extends t.HashContainerIterator{constructor(d,g,y,b){super(d,g,b),this.container=y}get pointer(){this.o===this.h&&(0,r.throwIteratorAccessError)();let d=this;return new Proxy([],{get(g,y){if(y==="0")return d.o.u;if(y==="1")return d.o.l},set(g,y,b){if(y!=="1")throw new TypeError("props must be 1");return d.o.l=b,!0}})}copy(){return new e2(this.o,this.h,this.container,this.iteratorType)}},l=class extends t.HashContainer{constructor(h=[]){super();let d=this;h.forEach(function(g){d.setElement(g[0],g[1])})}begin(){return new a(this.p,this.h,this)}end(){return new a(this.h,this.h,this)}rBegin(){return new a(this._,this.h,this,1)}rEnd(){return new a(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(h,d,g){return this.M(h,d,g)}getElementByKey(h,d){if(d===void 0&&(d=(0,e.default)(h)),d){let y=h[this.HASH_TAG];return y!==void 0?this.H[y].l:void 0}let g=this.g[h];return g?g.l:void 0}getElementByPos(h){if(h<0||h>this.i-1)throw new RangeError;let d=this.p;for(;h--;)d=d.B;return[d.u,d.l]}find(h,d){let g=this.I(h,d);return new a(g,this.h,this)}forEach(h){let d=0,g=this.p;for(;g!==this.h;)h([g.u,g.l],d++,this),g=g.B}[Symbol.iterator](){return(function*(){let h=this.p;for(;h!==this.h;)yield[h.u,h.l],h=h.B}).bind(this)()}},c=l;n.default=c}),gM=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"t",{value:!0}),Object.defineProperty(n,"Deque",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"HashMap",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(n,"HashSet",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(n,"LinkList",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"OrderedMap",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(n,"OrderedSet",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"PriorityQueue",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"Queue",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"Stack",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(n,"Vector",{enumerable:!0,get:function(){return o.default}});var t=y(oM()),e=y(sM()),r=y(aM()),o=y(lM()),a=y(uM()),l=y(cM()),c=y(hM()),h=y(dM()),d=y(pM()),g=y(mM());function y(b){return b&&b.t?b:{default:b}}}),yM=pe((n,t)=>{se(),le(),ae();var e=gM().OrderedSet,r=oa()("number-allocator:trace"),o=oa()("number-allocator:error");function a(c,h){this.low=c,this.high=h}a.prototype.equals=function(c){return this.low===c.low&&this.high===c.high},a.prototype.compare=function(c){return this.low<c.low&&this.high<c.low?-1:c.low<this.low&&c.high<this.low?1:0};function l(c,h){if(!(this instanceof l))return new l(c,h);this.min=c,this.max=h,this.ss=new e([],(d,g)=>d.compare(g)),r("Create"),this.clear()}l.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},l.prototype.alloc=function(){if(this.ss.size()===0)return r("alloc():empty"),null;let c=this.ss.begin(),h=c.pointer.low,d=c.pointer.high,g=h;return g+1<=d?this.ss.updateKeyByIterator(c,new a(h+1,d)):this.ss.eraseElementByPos(0),r("alloc():"+g),g},l.prototype.use=function(c){let h=new a(c,c),d=this.ss.lowerBound(h);if(!d.equals(this.ss.end())){let g=d.pointer.low,y=d.pointer.high;return d.pointer.equals(h)?(this.ss.eraseElementByIterator(d),r("use():"+c),!0):g>c?!1:g===c?(this.ss.updateKeyByIterator(d,new a(g+1,y)),r("use():"+c),!0):y===c?(this.ss.updateKeyByIterator(d,new a(g,y-1)),r("use():"+c),!0):(this.ss.updateKeyByIterator(d,new a(c+1,y)),this.ss.insert(new a(g,c-1)),r("use():"+c),!0)}return r("use():failed"),!1},l.prototype.free=function(c){if(c<this.min||c>this.max){o("free():"+c+" is out of range");return}let h=new a(c,c),d=this.ss.upperBound(h);if(d.equals(this.ss.end())){if(d.equals(this.ss.begin())){this.ss.insert(h);return}d.pre();let g=d.pointer.high;d.pointer.high+1===c?this.ss.updateKeyByIterator(d,new a(g,c)):this.ss.insert(h)}else if(d.equals(this.ss.begin()))if(c+1===d.pointer.low){let g=d.pointer.high;this.ss.updateKeyByIterator(d,new a(c,g))}else this.ss.insert(h);else{let g=d.pointer.low,y=d.pointer.high;d.pre();let b=d.pointer.low;d.pointer.high+1===c?c+1===g?(this.ss.eraseElementByIterator(d),this.ss.updateKeyByIterator(d,new a(b,y))):this.ss.updateKeyByIterator(d,new a(b,c)):c+1===g?(this.ss.eraseElementByIterator(d.next()),this.ss.insert(new a(c,y))):this.ss.insert(h)}r("free():"+c)},l.prototype.clear=function(){r("clear()"),this.ss.clear(),this.ss.insert(new a(this.min,this.max))},l.prototype.intervalCount=function(){return this.ss.size()},l.prototype.dump=function(){console.log("length:"+this.ss.size());for(let c of this.ss)console.log(c)},t.exports=l}),n2=pe((n,t)=>{se(),le(),ae();var e=yM();t.exports.NumberAllocator=e}),_M=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0});var t=rM(),e=n2(),r=class{aliasToTopic;topicToAlias;max;numberAllocator;length;constructor(o){o>0&&(this.aliasToTopic=new t.LRUCache({max:o}),this.topicToAlias={},this.numberAllocator=new e.NumberAllocator(1,o),this.max=o,this.length=0)}put(o,a){if(a===0||a>this.max)return!1;let l=this.aliasToTopic.get(a);return l&&delete this.topicToAlias[l],this.aliasToTopic.set(a,o),this.topicToAlias[o]=a,this.numberAllocator.use(a),this.length=this.aliasToTopic.size,!0}getTopicByAlias(o){return this.aliasToTopic.get(o)}getAliasByTopic(o){let a=this.topicToAlias[o];return typeof a<"u"&&this.aliasToTopic.get(a),a}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};n.default=r}),bM=pe(n=>{se(),le(),ae();var t=n&&n.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(n,"__esModule",{value:!0});var e=Cd(),r=t(_M()),o=Nu(),a=(l,c)=>{l.log("_handleConnack");let{options:h}=l,d=h.protocolVersion===5?c.reasonCode:c.returnCode;if(clearTimeout(l.connackTimer),delete l.topicAliasSend,c.properties){if(c.properties.topicAliasMaximum){if(c.properties.topicAliasMaximum>65535){l.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}c.properties.topicAliasMaximum>0&&(l.topicAliasSend=new r.default(c.properties.topicAliasMaximum))}c.properties.serverKeepAlive&&h.keepalive&&(h.keepalive=c.properties.serverKeepAlive),c.properties.maximumPacketSize&&(h.properties||(h.properties={}),h.properties.maximumPacketSize=c.properties.maximumPacketSize)}if(d===0)l.reconnecting=!1,l._onConnect(c);else if(d>0){let g=new o.ErrorWithReasonCode(`Connection refused: ${e.ReasonCodes[d]}`,d);l.emit("error",g),l.options.reconnectOnConnackError&&l._cleanUp(!0)}};n.default=a}),vM=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0});var t=(e,r,o)=>{e.log("handling pubrel packet");let a=typeof o<"u"?o:e.noop,{messageId:l}=r,c={cmd:"pubcomp",messageId:l};e.incomingStore.get(r,(h,d)=>{h?e._sendPacket(c,a):(e.emit("message",d.topic,d.payload,d),e.handleMessage(d,g=>{if(g)return a(g);e.incomingStore.del(d,e.noop),e._sendPacket(c,a)}))})};n.default=t}),wM=pe(n=>{se(),le(),ae();var t=n&&n.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(n,"__esModule",{value:!0});var e=t(eM()),r=t(iM()),o=t(bM()),a=t(Cd()),l=t(vM()),c=(h,d,g)=>{let{options:y}=h;if(y.protocolVersion===5&&y.properties&&y.properties.maximumPacketSize&&y.properties.maximumPacketSize<d.length)return h.emit("error",new Error(`exceeding packets size ${d.cmd}`)),h.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),h;switch(h.log("_handlePacket :: emitting packetreceive"),h.emit("packetreceive",d),d.cmd){case"publish":(0,e.default)(h,d,g);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":h.reschedulePing(),(0,a.default)(h,d),g();break;case"pubrel":h.reschedulePing(),(0,l.default)(h,d,g);break;case"connack":(0,o.default)(h,d),g();break;case"auth":h.reschedulePing(),(0,r.default)(h,d),g();break;case"pingresp":h.log("_handlePacket :: received pingresp"),h.reschedulePing(!0),g();break;case"disconnect":h.emit("disconnect",d),g();break;default:h.log("_handlePacket :: unknown command"),g();break}};n.default=c}),i2=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0});var t=class{nextId;constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let e=this.nextId++;return this.nextId===65536&&(this.nextId=1),e}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(e){return!0}deallocate(e){}clear(){}};n.default=t}),xM=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0});var t=class{aliasToTopic;max;length;constructor(e){this.aliasToTopic={},this.max=e}put(e,r){return r===0||r>this.max?!1:(this.aliasToTopic[r]=e,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(e){return this.aliasToTopic[e]}clear(){this.aliasToTopic={}}};n.default=t}),SM=pe(n=>{se(),le(),ae();var t=n&&n.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(n,"__esModule",{value:!0}),n.TypedEventEmitter=void 0;var e=t((zl(),zn(Qa))),r=Nu(),o=class{};n.TypedEventEmitter=o,(0,r.applyMixin)(o,e.default)}),Ld=pe((n,t)=>{se(),le(),ae();function e(r){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}),EM=pe((n,t)=>{se(),le(),ae();var e=Ld().default;function r(o,a){if(e(o)!="object"||!o)return o;var l=o[Symbol.toPrimitive];if(l!==void 0){var c=l.call(o,a||"default");if(e(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}),TM=pe((n,t)=>{se(),le(),ae();var e=Ld().default,r=EM();function o(a){var l=r(a,"string");return e(l)=="symbol"?l:l+""}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}),AM=pe((n,t)=>{se(),le(),ae();var e=TM();function r(o,a,l){return(a=e(a))in o?Object.defineProperty(o,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[a]=l,o}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}),kM=pe((n,t)=>{se(),le(),ae();function e(r){if(Array.isArray(r))return r}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}),MM=pe((n,t)=>{se(),le(),ae();function e(r,o){var a=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(a!=null){var l,c,h,d,g=[],y=!0,b=!1;try{if(h=(a=a.call(r)).next,o===0){if(Object(a)!==a)return;y=!1}else for(;!(y=(l=h.call(a)).done)&&(g.push(l.value),g.length!==o);y=!0);}catch(S){b=!0,c=S}finally{try{if(!y&&a.return!=null&&(d=a.return(),Object(d)!==d))return}finally{if(b)throw c}}return g}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}),OM=pe((n,t)=>{se(),le(),ae();function e(r,o){(o==null||o>r.length)&&(o=r.length);for(var a=0,l=Array(o);a<o;a++)l[a]=r[a];return l}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}),CM=pe((n,t)=>{se(),le(),ae();var e=OM();function r(o,a){if(o){if(typeof o=="string")return e(o,a);var l={}.toString.call(o).slice(8,-1);return l==="Object"&&o.constructor&&(l=o.constructor.name),l==="Map"||l==="Set"?Array.from(o):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?e(o,a):void 0}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}),LM=pe((n,t)=>{se(),le(),ae();function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}),NM=pe((n,t)=>{se(),le(),ae();var e=kM(),r=MM(),o=CM(),a=LM();function l(c,h){return e(c)||r(c,h)||o(c,h)||a()}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports}),r2=pe((n,t)=>{se(),le(),ae(),(function(e,r){typeof n=="object"&&typeof t<"u"?r(n):typeof define=="function"&&define.amd?define(["exports"],r):(e=typeof globalThis<"u"?globalThis:e||self,r(e.fastUniqueNumbers={}))})(n,function(e){var r=function(S){return function(x){var E=S(x);return x.add(E),E}},o=function(S){return function(x,E){return S.set(x,E),E}},a=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,l=536870912,c=l*2,h=function(S,x){return function(E){var k=x.get(E),C=k===void 0?E.size:k<c?k+1:0;if(!E.has(C))return S(E,C);if(E.size<l){for(;E.has(C);)C=Math.floor(Math.random()*c);return S(E,C)}if(E.size>a)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;E.has(C);)C=Math.floor(Math.random()*a);return S(E,C)}},d=new WeakMap,g=o(d),y=h(g,d),b=r(y);e.addUniqueNumber=b,e.generateUniqueNumber=y})}),DM=pe((n,t)=>{se(),le(),ae();function e(o,a,l,c,h,d,g){try{var y=o[d](g),b=y.value}catch(S){return void l(S)}y.done?a(b):Promise.resolve(b).then(c,h)}function r(o){return function(){var a=this,l=arguments;return new Promise(function(c,h){var d=o.apply(a,l);function g(b){e(d,c,h,g,y,"next",b)}function y(b){e(d,c,h,g,y,"throw",b)}g(void 0)})}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}),o2=pe((n,t)=>{se(),le(),ae();function e(r,o){this.v=r,this.k=o}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}),s2=pe((n,t)=>{se(),le(),ae();function e(r,o,a,l){var c=Object.defineProperty;try{c({},"",{})}catch{c=0}t.exports=e=function(h,d,g,y){function b(S,x){e(h,S,function(E){return this._invoke(S,x,E)})}d?c?c(h,d,{value:g,enumerable:!y,configurable:!y,writable:!y}):h[d]=g:(b("next",0),b("throw",1),b("return",2))},t.exports.__esModule=!0,t.exports.default=t.exports,e(r,o,a,l)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}),a2=pe((n,t)=>{se(),le(),ae();var e=s2();function r(){var o,a,l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",h=l.toStringTag||"@@toStringTag";function d(C,M,P,z){var D=M&&M.prototype instanceof y?M:y,B=Object.create(D.prototype);return e(B,"_invoke",(function(R,V,J){var tt,st,G,mt=0,ht=J||[],ut=!1,rt={p:0,n:0,v:o,a:lt,f:lt.bind(o,4),d:function(et,jt){return tt=et,st=0,G=o,rt.n=jt,g}};function lt(et,jt){for(st=et,G=jt,a=0;!ut&&mt&&!nt&&a<ht.length;a++){var nt,Z=ht[a],K=rt.p,at=Z[2];et>3?(nt=at===jt)&&(G=Z[(st=Z[4])?5:(st=3,3)],Z[4]=Z[5]=o):Z[0]<=K&&((nt=et<2&&K<Z[1])?(st=0,rt.v=jt,rt.n=Z[1]):K<at&&(nt=et<3||Z[0]>jt||jt>at)&&(Z[4]=et,Z[5]=jt,rt.n=at,st=0))}if(nt||et>1)return g;throw ut=!0,jt}return function(et,jt,nt){if(mt>1)throw TypeError("Generator is already running");for(ut&&jt===1&&lt(jt,nt),st=jt,G=nt;(a=st<2?o:G)||!ut;){tt||(st?st<3?(st>1&&(rt.n=-1),lt(st,G)):rt.n=G:rt.v=G);try{if(mt=2,tt){if(st||(et="next"),a=tt[et]){if(!(a=a.call(tt,G)))throw TypeError("iterator result is not an object");if(!a.done)return a;G=a.value,st<2&&(st=0)}else st===1&&(a=tt.return)&&a.call(tt),st<2&&(G=TypeError("The iterator does not provide a '"+et+"' method"),st=1);tt=o}else if((a=(ut=rt.n<0)?G:R.call(V,rt))!==g)break}catch(Z){tt=o,st=1,G=Z}finally{mt=1}}return{value:a,done:ut}}})(C,P,z),!0),B}var g={};function y(){}function b(){}function S(){}a=Object.getPrototypeOf;var x=[][c]?a(a([][c]())):(e(a={},c,function(){return this}),a),E=S.prototype=y.prototype=Object.create(x);function k(C){return Object.setPrototypeOf?Object.setPrototypeOf(C,S):(C.__proto__=S,e(C,h,"GeneratorFunction")),C.prototype=Object.create(E),C}return b.prototype=S,e(E,"constructor",S),e(S,"constructor",b),b.displayName="GeneratorFunction",e(S,h,"GeneratorFunction"),e(E),e(E,h,"Generator"),e(E,c,function(){return this}),e(E,"toString",function(){return"[object Generator]"}),(t.exports=r=function(){return{w:d,m:k}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}),l2=pe((n,t)=>{se(),le(),ae();var e=o2(),r=s2();function o(a,l){function c(d,g,y,b){try{var S=a[d](g),x=S.value;return x instanceof e?l.resolve(x.v).then(function(E){c("next",E,y,b)},function(E){c("throw",E,y,b)}):l.resolve(x).then(function(E){S.value=E,y(S)},function(E){return c("throw",E,y,b)})}catch(E){b(E)}}var h;this.next||(r(o.prototype),r(o.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),r(this,"_invoke",function(d,g,y){function b(){return new l(function(S,x){c(d,y,S,x)})}return h=h?h.then(b,b):b()},!0)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}),u2=pe((n,t)=>{se(),le(),ae();var e=a2(),r=l2();function o(a,l,c,h,d){return new r(e().w(a,l,c,h),d||Promise)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}),jM=pe((n,t)=>{se(),le(),ae();var e=u2();function r(o,a,l,c,h){var d=e(o,a,l,c,h);return d.next().then(function(g){return g.done?g.value:d.next()})}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}),PM=pe((n,t)=>{se(),le(),ae();function e(r){var o=Object(r),a=[];for(var l in o)a.unshift(l);return function c(){for(;a.length;)if((l=a.pop())in o)return c.value=l,c.done=!1,c;return c.done=!0,c}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}),RM=pe((n,t)=>{se(),le(),ae();var e=Ld().default;function r(o){if(o!=null){var a=o[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],l=0;if(a)return a.call(o);if(typeof o.next=="function")return o;if(!isNaN(o.length))return{next:function(){return o&&l>=o.length&&(o=void 0),{value:o&&o[l++],done:!o}}}}throw new TypeError(e(o)+" is not iterable")}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}),zM=pe((n,t)=>{se(),le(),ae();var e=o2(),r=a2(),o=jM(),a=u2(),l=l2(),c=PM(),h=RM();function d(){var g=r(),y=g.m(d),b=(Object.getPrototypeOf?Object.getPrototypeOf(y):y.__proto__).constructor;function S(k){var C=typeof k=="function"&&k.constructor;return!!C&&(C===b||(C.displayName||C.name)==="GeneratorFunction")}var x={throw:1,return:2,break:3,continue:3};function E(k){var C,M;return function(P){C||(C={stop:function(){return M(P.a,2)},catch:function(){return P.v},abrupt:function(z,D){return M(P.a,x[z],D)},delegateYield:function(z,D,B){return C.resultName=D,M(P.d,h(z),B)},finish:function(z){return M(P.f,z)}},M=function(z,D,B){P.p=C.prev,P.n=C.next;try{return z(D,B)}finally{C.next=P.n}}),C.resultName&&(C[C.resultName]=P.v,C.resultName=void 0),C.sent=P.v,C.next=P.n;try{return k.call(this,C)}finally{P.p=C.prev,P.n=C.next}}}return(t.exports=d=function(){return{wrap:function(k,C,M,P){return g.w(E(k),C,M,P&&P.reverse())},isGeneratorFunction:S,mark:g.m,awrap:function(k,C){return new e(k,C)},AsyncIterator:l,async:function(k,C,M,P,z){return(S(C)?a:o)(E(k),C,M,P,z)},keys:c,values:h}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=d,t.exports.__esModule=!0,t.exports.default=t.exports}),BM=pe((n,t)=>{se(),le(),ae();var e=zM()();t.exports=e;try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}),IM=pe((n,t)=>{se(),le(),ae(),(function(e,r){typeof n=="object"&&typeof t<"u"?r(n,AM(),NM(),r2(),DM(),BM()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/defineProperty","@babel/runtime/helpers/slicedToArray","fast-unique-numbers","@babel/runtime/helpers/asyncToGenerator","@babel/runtime/regenerator"],r):(e=typeof globalThis<"u"?globalThis:e||self,r(e.brokerFactory={},e._defineProperty,e._slicedToArray,e.fastUniqueNumbers,e._asyncToGenerator,e._regeneratorRuntime))})(n,function(e,r,o,a,l,c){var h=function(M){return typeof M.start=="function"},d=new WeakMap;function g(M,P){var z=Object.keys(M);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(M);P&&(D=D.filter(function(B){return Object.getOwnPropertyDescriptor(M,B).enumerable})),z.push.apply(z,D)}return z}function y(M){for(var P=1;P<arguments.length;P++){var z=arguments[P]!=null?arguments[P]:{};P%2?g(Object(z),!0).forEach(function(D){r(M,D,z[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(z)):g(Object(z)).forEach(function(D){Object.defineProperty(M,D,Object.getOwnPropertyDescriptor(z,D))})}return M}var b=function(M){return y(y({},M),{},{connect:function(P){var z=P.call;return l(c.mark(function D(){var B,R,V,J;return c.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return B=new MessageChannel,R=B.port1,V=B.port2,tt.next=1,z("connect",{port:R},[R]);case 1:return J=tt.sent,d.set(V,J),tt.abrupt("return",V);case 2:case"end":return tt.stop()}},D)}))},disconnect:function(P){var z=P.call;return(function(){var D=l(c.mark(function B(R){var V;return c.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(V=d.get(R),V!==void 0){J.next=1;break}throw new Error("The given port is not connected.");case 1:return J.next=2,z("disconnect",{portId:V});case 2:case"end":return J.stop()}},B)}));return function(B){return D.apply(this,arguments)}})()},isSupported:function(P){var z=P.call;return function(){return z("isSupported")}}})};function S(M,P){var z=Object.keys(M);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(M);P&&(D=D.filter(function(B){return Object.getOwnPropertyDescriptor(M,B).enumerable})),z.push.apply(z,D)}return z}function x(M){for(var P=1;P<arguments.length;P++){var z=arguments[P]!=null?arguments[P]:{};P%2?S(Object(z),!0).forEach(function(D){r(M,D,z[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(z)):S(Object(z)).forEach(function(D){Object.defineProperty(M,D,Object.getOwnPropertyDescriptor(z,D))})}return M}var E=new WeakMap,k=function(M){if(E.has(M))return E.get(M);var P=new Map;return E.set(M,P),P},C=function(M){var P=b(M);return function(z){var D=k(z);z.addEventListener("message",function(ht){var ut=ht.data,rt=ut.id;if(rt!==null&&D.has(rt)){var lt=D.get(rt),et=lt.reject,jt=lt.resolve;D.delete(rt),ut.error===void 0?jt(ut.result):et(new Error(ut.error.message))}}),h(z)&&z.start();for(var B=function(ht){var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return new Promise(function(lt,et){var jt=a.generateUniqueNumber(D);D.set(jt,{reject:et,resolve:lt}),ut===null?z.postMessage({id:jt,method:ht},rt):z.postMessage({id:jt,method:ht,params:ut},rt)})},R=function(ht,ut){var rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];z.postMessage({id:null,method:ht,params:ut},rt)},V={},J=0,tt=Object.entries(P);J<tt.length;J++){var st=o(tt[J],2),G=st[0],mt=st[1];V=x(x({},V),{},r({},G,mt({call:B,notify:R})))}return x({},V)}};e.createBroker=C})}),UM=pe((n,t)=>{se(),le(),ae(),(function(e,r){typeof n=="object"&&typeof t<"u"?r(n,Ld(),IM(),r2()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/typeof","broker-factory","fast-unique-numbers"],r):(e=typeof globalThis<"u"?globalThis:e||self,r(e.workerTimersBroker={},e._typeof,e.brokerFactory,e.fastUniqueNumbers))})(n,function(e,r,o,a){var l=new Map([[0,null]]),c=new Map([[0,null]]),h=o.createBroker({clearInterval:function(g){var y=g.call;return function(b){r(l.get(b))==="symbol"&&(l.set(b,null),y("clear",{timerId:b,timerType:"interval"}).then(function(){l.delete(b)}))}},clearTimeout:function(g){var y=g.call;return function(b){r(c.get(b))==="symbol"&&(c.set(b,null),y("clear",{timerId:b,timerType:"timeout"}).then(function(){c.delete(b)}))}},setInterval:function(g){var y=g.call;return function(b){for(var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=arguments.length,E=new Array(x>2?x-2:0),k=2;k<x;k++)E[k-2]=arguments[k];var C=Symbol(),M=a.generateUniqueNumber(l);l.set(M,C);var P=function(){return y("set",{delay:S,now:performance.timeOrigin+performance.now(),timerId:M,timerType:"interval"}).then(function(){var z=l.get(M);if(z===void 0)throw new Error("The timer is in an undefined state.");z===C&&(b.apply(void 0,E),l.get(M)===C&&P())})};return P(),M}},setTimeout:function(g){var y=g.call;return function(b){for(var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=arguments.length,E=new Array(x>2?x-2:0),k=2;k<x;k++)E[k-2]=arguments[k];var C=Symbol(),M=a.generateUniqueNumber(c);return c.set(M,C),y("set",{delay:S,now:performance.timeOrigin+performance.now(),timerId:M,timerType:"timeout"}).then(function(){var P=c.get(M);if(P===void 0)throw new Error("The timer is in an undefined state.");P===C&&(c.delete(M),b.apply(void 0,E))}),M}}}),d=function(g){var y=new Worker(g);return h(y)};e.load=d,e.wrap=h})}),FM=pe((n,t)=>{se(),le(),ae(),(function(e,r){typeof n=="object"&&typeof t<"u"?r(n,UM()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],r):(e=typeof globalThis<"u"?globalThis:e||self,r(e.workerTimers={},e.workerTimersBroker))})(n,function(e,r){var o=function(y,b){var S=null;return function(){if(S!==null)return S;var x=new Blob([b],{type:"application/javascript; charset=utf-8"}),E=URL.createObjectURL(x);return S=y(E),setTimeout(function(){return URL.revokeObjectURL(E)}),S}},a=`(()=>{var e={45:(e,t,r)=>{var n=r(738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},122:(e,t,r)=>{var n=r(79);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},156:e=>{e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,a,i=[],s=!0,c=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=u.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},293:e=>{function t(e,t,r,n,o,u,a){try{var i=e[u](a),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,u){var a=e.apply(r,n);function i(e){t(a,o,u,i,s,"next",e)}function s(e){t(a,o,u,i,s,"throw",e)}i(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},373:e=>{e.exports=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,u=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<u?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*u);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,s=r(i),c=a(s,i),f=t(c);e.addUniqueNumber=f,e.generateUniqueNumber=c}(t)},472:function(e,t,r){!function(e,t,r,n){"use strict";var o=function(e,t){return function(r){var o=t.get(r);if(void 0===o)return Promise.resolve(!1);var u=n(o,2),a=u[0],i=u[1];return e(a),t.delete(r),i(!1),Promise.resolve(!0)}},u=function(e,t){var r=function(n,o,u,a){var i=n-e.now();i>0?o.set(a,[t(r,i,n,o,u,a),u]):(o.delete(a),u(!0))};return r},a=function(e,t,r,n){return function(o,u,a){var i=o+u-t.timeOrigin,s=i-t.now();return new Promise((function(t){e.set(a,[r(n,s,i,e,t,a),t])}))}},i=new Map,s=o(globalThis.clearTimeout,i),c=new Map,f=o(globalThis.clearTimeout,c),l=u(performance,globalThis.setTimeout),p=a(i,performance,globalThis.setTimeout,l),d=a(c,performance,globalThis.setTimeout,l);r.createWorker(self,{clear:function(){var r=e(t.mark((function e(r){var n,o,u;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.timerId,o=r.timerType,e.next=1,"interval"===o?s(n):f(n);case 1:return u=e.sent,e.abrupt("return",{result:u});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}(),set:function(){var r=e(t.mark((function e(r){var n,o,u,a,i;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.delay,o=r.now,u=r.timerId,a=r.timerType,e.next=1,("interval"===a?p:d)(n,o,u);case 1:return i=e.sent,e.abrupt("return",{result:i});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}()})}(r(293),r(756),r(623),r(715))},546:e=>{function t(r,n,o,u){var a=Object.defineProperty;try{a({},"",{})}catch(r){a=0}e.exports=t=function(e,r,n,o){if(r)a?a(e,r,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[r]=n;else{var u=function(r,n){t(e,r,(function(e){return this._invoke(r,n,e)}))};u("next",0),u("throw",1),u("return",2)}},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n,o,u)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},579:(e,t,r)=>{var n=r(738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(n(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},623:function(e,t,r){!function(e,t,r,n,o){"use strict";var u={INTERNAL_ERROR:-32603,INVALID_PARAMS:-32602,METHOD_NOT_FOUND:-32601},a=function(e,t){return Object.assign(new Error(e),{status:t})},i=function(e){return a('The requested method called "'.concat(e,'" is not supported.'),u.METHOD_NOT_FOUND)},s=function(e){return a('The handler of the method called "'.concat(e,'" returned no required result.'),u.INTERNAL_ERROR)},c=function(e){return a('The handler of the method called "'.concat(e,'" returned an unexpected result.'),u.INTERNAL_ERROR)},f=function(e){return a('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),u.INVALID_PARAMS)},l=function(e,n){return function(){var o=t(r.mark((function t(o){var u,a,f,l,p,d,v,x,y,b,h,m,_,g,w;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=o.data,a=u.id,f=u.method,l=u.params,p=n[f],t.prev=1,void 0!==p){t.next=2;break}throw i(f);case 2:if(void 0!==(d=void 0===l?p():p(l))){t.next=3;break}throw s(f);case 3:if(!(d instanceof Promise)){t.next=5;break}return t.next=4,d;case 4:g=t.sent,t.next=6;break;case 5:g=d;case 6:if(v=g,null!==a){t.next=8;break}if(void 0===v.result){t.next=7;break}throw c(f);case 7:t.next=10;break;case 8:if(void 0!==v.result){t.next=9;break}throw c(f);case 9:x=v.result,y=v.transferables,b=void 0===y?[]:y,e.postMessage({id:a,result:x},b);case 10:t.next=12;break;case 11:t.prev=11,w=t.catch(1),h=w.message,m=w.status,_=void 0===m?-32603:m,e.postMessage({error:{code:_,message:h},id:a});case 12:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return o.apply(this,arguments)}}()},p=function(){return new Promise((function(e){var t=new ArrayBuffer(0),r=new MessageChannel,n=r.port1,o=r.port2;n.onmessage=function(t){var r=t.data;return e(null!==r)},o.postMessage(t,[t])}))};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=new Map,y=function(e,n,u){return v(v({},n),{},{connect:function(t){var r=t.port;r.start();var u=e(r,n),a=o.generateUniqueNumber(x);return x.set(a,(function(){u(),r.close(),x.delete(a)})),{result:a}},disconnect:function(e){var t=e.portId,r=x.get(t);if(void 0===r)throw f(t);return r(),{result:null}},isSupported:function(){var e=t(r.mark((function e(){var t,n,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,p();case 1:if(!e.sent){e.next=5;break}if(!((t=u())instanceof Promise)){e.next=3;break}return e.next=2,t;case 2:o=e.sent,e.next=4;break;case 3:o=t;case 4:return n=o,e.abrupt("return",{result:n});case 5:return e.abrupt("return",{result:!1});case 6:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})},b=function(e,t){var r=y(b,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0}),n=l(e,r);return e.addEventListener("message",n),function(){return e.removeEventListener("message",n)}};e.createWorker=b,e.isSupported=p}(t,r(293),r(756),r(693),r(389))},633:(e,t,r)=>{var n=r(172),o=r(993),u=r(869),a=r(887),i=r(791),s=r(373),c=r(579);function f(){"use strict";var t=o(),r=t.m(f),l=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function p(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))}var d={throw:1,return:2,break:3,continue:3};function v(e){var t,r;return function(n){t||(t={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return r(n.a,d[e],t)},delegateYield:function(e,o,u){return t.resultName=o,r(n.d,c(e),u)},finish:function(e){return r(n.f,e)}},r=function(e,r,o){n.p=t.prev,n.n=t.next;try{return e(r,o)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(e.exports=f=function(){return{wrap:function(e,r,n,o){return t.w(v(e),r,n,o&&o.reverse())},isGeneratorFunction:p,mark:t.m,awrap:function(e,t){return new n(e,t)},AsyncIterator:i,async:function(e,t,r,n,o){return(p(t)?a:u)(v(e),t,r,n,o)},keys:s,values:c}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=f,e.exports.__esModule=!0,e.exports.default=e.exports},693:(e,t,r)=>{var n=r(736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},715:(e,t,r)=>{var n=r(987),o=r(156),u=r(122),a=r(752);e.exports=function(e,t){return n(e)||o(e,t)||u(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},736:(e,t,r)=>{var n=r(738).default,o=r(45);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,r)=>{var n=r(633)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},791:(e,t,r)=>{var n=r(172),o=r(546);e.exports=function e(t,r){function u(e,o,a,i){try{var s=t[e](o),c=s.value;return c instanceof n?r.resolve(c.v).then((function(e){u("next",e,a,i)}),(function(e){u("throw",e,a,i)})):r.resolve(c).then((function(e){s.value=e,a(s)}),(function(e){return u("throw",e,a,i)}))}catch(e){i(e)}}var a;this.next||(o(e.prototype),o(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),o(this,"_invoke",(function(e,t,n){function o(){return new r((function(t,r){u(e,n,t,r)}))}return a=a?a.then(o,o):o()}),!0)},e.exports.__esModule=!0,e.exports.default=e.exports},869:(e,t,r)=>{var n=r(887);e.exports=function(e,t,r,o,u){var a=n(e,t,r,o,u);return a.next().then((function(e){return e.done?e.value:a.next()}))},e.exports.__esModule=!0,e.exports.default=e.exports},887:(e,t,r)=>{var n=r(993),o=r(791);e.exports=function(e,t,r,u,a){return new o(n().w(e,t,r,u),a||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},993:(e,t,r)=>{var n=r(546);function o(){var t,r,u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",i=u.toStringTag||"@@toStringTag";function s(e,o,u,a){var i=o&&o.prototype instanceof f?o:f,s=Object.create(i.prototype);return n(s,"_invoke",function(e,n,o){var u,a,i,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return u=e,a=0,i=t,p.n=r,c}};function d(e,n){for(a=e,i=n,r=0;!l&&s&&!o&&r<f.length;r++){var o,u=f[r],d=p.p,v=u[2];e>3?(o=v===n)&&(i=u[(a=u[4])?5:(a=3,3)],u[4]=u[5]=t):u[0]<=d&&((o=e<2&&d<u[1])?(a=0,p.v=n,p.n=u[1]):d<v&&(o=e<3||u[0]>n||n>v)&&(u[4]=e,u[5]=n,p.n=v,a=0))}if(o||e>1)return c;throw l=!0,n}return function(o,f,v){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,v),a=f,i=v;(r=a<2?t:i)||!l;){u||(a?a<3?(a>1&&(p.n=-1),d(a,i)):p.n=i:p.v=i);try{if(s=2,u){if(a||(o="next"),r=u[o]){if(!(r=r.call(u,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=u.return)&&r.call(u),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);u=t}else if((r=(l=p.n<0)?i:e.call(n,p))!==c)break}catch(e){u=t,a=1,i=e}finally{s=1}}return{value:r,done:l}}}(e,u,a),!0),s}var c={};function f(){}function l(){}function p(){}r=Object.getPrototypeOf;var d=[][a]?r(r([][a]())):(n(r={},a,(function(){return this})),r),v=p.prototype=f.prototype=Object.create(d);function x(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,n(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e}return l.prototype=p,n(v,"constructor",p),n(p,"constructor",l),l.displayName="GeneratorFunction",n(p,i,"GeneratorFunction"),n(v),n(v,i,"Generator"),n(v,a,(function(){return this})),n(v,"toString",(function(){return"[object Generator]"})),(e.exports=o=function(){return{w:s,m:x}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var u=t[n]={exports:{}};return e[n].call(u.exports,u,u.exports,r),u.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,l=o(r.load,a),c=function(y){return l().clearInterval(y)},h=function(y){return l().clearTimeout(y)},d=function(){var y;return(y=l()).setInterval.apply(y,arguments)},g=function(){var y;return(y=l()).setTimeout.apply(y,arguments)};e.clearInterval=c,e.clearTimeout=h,e.setInterval=d,e.setTimeout=g})}),Nd=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0}),n.isReactNativeBrowser=n.isWebWorker=void 0;var t=()=>typeof window<"u"?typeof navigator<"u"&&navigator.userAgent?.toLowerCase().indexOf(" electron/")>-1&&qn?.versions?!Object.prototype.hasOwnProperty.call(qn.versions,"electron"):typeof window.document<"u":!1,e=()=>!!(typeof self=="object"&&self?.constructor?.name?.includes("WorkerGlobalScope")&&typeof Deno>"u"),r=()=>typeof navigator<"u"&&navigator.product==="ReactNative",o=t()||e()||r();n.isWebWorker=e(),n.isReactNativeBrowser=r(),n.default=o}),HM=pe(n=>{se(),le(),ae();var t=n&&n.__createBinding||(Object.create?function(d,g,y,b){b===void 0&&(b=y);var S=Object.getOwnPropertyDescriptor(g,y);(!S||("get"in S?!g.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return g[y]}}),Object.defineProperty(d,b,S)}:function(d,g,y,b){b===void 0&&(b=y),d[b]=g[y]}),e=n&&n.__setModuleDefault||(Object.create?function(d,g){Object.defineProperty(d,"default",{enumerable:!0,value:g})}:function(d,g){d.default=g}),r=n&&n.__importStar||(function(){var d=function(g){return d=Object.getOwnPropertyNames||function(y){var b=[];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(b[b.length]=S);return b},d(g)};return function(g){if(g&&g.__esModule)return g;var y={};if(g!=null)for(var b=d(g),S=0;S<b.length;S++)b[S]!=="default"&&t(y,g,b[S]);return e(y,g),y}})();Object.defineProperty(n,"__esModule",{value:!0});var o=FM(),a=r(Nd()),l={set:o.setInterval,clear:o.clearInterval},c={set:(d,g)=>setInterval(d,g),clear:d=>clearInterval(d)},h=d=>{switch(d){case"native":return c;case"worker":return l;case"auto":default:return a.default&&!a.isWebWorker&&!a.isReactNativeBrowser?l:c}};n.default=h}),c2=pe(n=>{se(),le(),ae();var t=n&&n.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(n,"__esModule",{value:!0});var e=t(HM()),r=class{_keepalive;timerId;timer;destroyed=!1;counter;client;_keepaliveTimeoutTimestamp;_intervalEvery;get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(o,a){this.client=o,this.timer=typeof a=="object"&&"set"in a&&"clear"in a?a:(0,e.default)(a),this.setKeepalive(o.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(o){if(o*=1e3,isNaN(o)||o<=0||o>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${o}`);this._keepalive=o,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${o}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let o=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+o,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};n.default=r}),sy=pe(n=>{se(),le(),ae();var t=n&&n.__createBinding||(Object.create?function(D,B,R,V){V===void 0&&(V=R);var J=Object.getOwnPropertyDescriptor(B,R);(!J||("get"in J?!B.__esModule:J.writable||J.configurable))&&(J={enumerable:!0,get:function(){return B[R]}}),Object.defineProperty(D,V,J)}:function(D,B,R,V){V===void 0&&(V=R),D[V]=B[R]}),e=n&&n.__setModuleDefault||(Object.create?function(D,B){Object.defineProperty(D,"default",{enumerable:!0,value:B})}:function(D,B){D.default=B}),r=n&&n.__importStar||(function(){var D=function(B){return D=Object.getOwnPropertyNames||function(R){var V=[];for(var J in R)Object.prototype.hasOwnProperty.call(R,J)&&(V[V.length]=J);return V},D(B)};return function(B){if(B&&B.__esModule)return B;var R={};if(B!=null)for(var V=D(B),J=0;J<V.length;J++)V[J]!=="default"&&t(R,B,V[J]);return e(R,B),R}})(),o=n&&n.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(n,"__esModule",{value:!0});var a=o($k()),l=Il(),c=o(Jk()),h=o(oa()),d=r(tM()),g=o(US()),y=o(wM()),b=o(i2()),S=o(xM()),x=Nu(),E=SM(),k=o(c2()),C=r(Nd()),M=globalThis.setImmediate||((...D)=>{let B=D.shift();(0,x.nextTick)(()=>{B(...D)})}),P={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},z=class ay extends E.TypedEventEmitter{static VERSION=x.MQTTJS_VERSION;connected;disconnecting;disconnected;reconnecting;incomingStore;outgoingStore;options;queueQoSZero;_reconnectCount;log;messageIdProvider;outgoing;messageIdToTopic;noop;keepaliveManager;stream;queue;streamBuilder;_resubscribeTopics;connackTimer;reconnectTimer;_storeProcessing;_packetIdsDuringStoreProcessing;_storeProcessingQueue;_firstConnection;topicAliasRecv;topicAliasSend;_deferredReconnect;connackPacket;static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(B,R){super(),this.options=R||{};for(let V in P)typeof this.options[V]>"u"?this.options[V]=P[V]:this.options[V]=R[V];this.log=this.options.log||(0,h.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",ay.VERSION),C.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",C.default?"browser":"node"),this.log("MqttClient :: options.protocol",R.protocol),this.log("MqttClient :: options.protocolVersion",R.protocolVersion),this.log("MqttClient :: options.username",R.username),this.log("MqttClient :: options.keepalive",R.keepalive),this.log("MqttClient :: options.reconnectPeriod",R.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",R.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",R.properties?R.properties.topicAliasMaximum:void 0),this.options.clientId=typeof R.clientId=="string"?R.clientId:ay.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=R.protocolVersion===5&&R.customHandleAcks?R.customHandleAcks:(...V)=>{V[3](null,0)},this.options.writeCache||(a.default.writeToStream.cacheNumbers=!1),this.streamBuilder=B,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new b.default:this.options.messageIdProvider,this.outgoingStore=R.outgoingStore||new g.default,this.incomingStore=R.incomingStore||new g.default,this.queueQoSZero=R.queueQoSZero===void 0?!0:R.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,R.properties&&R.properties.topicAliasMaximum>0&&(R.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new S.default(R.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:V}=this,J=()=>{let tt=V.shift();this.log("deliver :: entry %o",tt);let st=null;if(!tt){this._resubscribe();return}st=tt.packet,this.log("deliver :: call _sendPacket for %o",st);let G=!0;st.messageId&&st.messageId!==0&&(this.messageIdProvider.register(st.messageId)||(G=!1)),G?this._sendPacket(st,mt=>{tt.cb&&tt.cb(mt),J()}):(this.log("messageId: %d has already used. The message is skipped and removed.",st.messageId),J())};this.log("connect :: sending queued packets"),J()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(B,R){R()}handleMessage(B,R){R()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){let B=new l.Writable,R=a.default.parser(this.options),V=null,J=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new g.default,this.outgoingStore=this.options.outgoingStore||new g.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),R.on("packet",ht=>{this.log("parser :: on packet push to packets array."),J.push(ht)});let tt=()=>{this.log("work :: getting next packet in queue");let ht=J.shift();if(ht)this.log("work :: packet pulled from queue"),(0,y.default)(this,ht,st);else{this.log("work :: no packets in queue");let ut=V;V=null,this.log("work :: done flag is %s",!!ut),ut&&ut()}},st=()=>{if(J.length)(0,x.nextTick)(tt);else{let ht=V;V=null,ht()}};B._write=(ht,ut,rt)=>{V=rt,this.log("writable stream :: parsing buffer"),R.parse(ht),tt()};let G=ht=>{this.log("streamErrorHandler :: error",ht.message),ht.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",ht)):this.noop(ht)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(B),this.stream.on("error",G),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let mt={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(mt.will={...this.options.will,payload:this.options.will?.payload}),this.topicAliasRecv&&(mt.properties||(mt.properties={}),this.topicAliasRecv&&(mt.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(mt),R.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let ht={cmd:"auth",reasonCode:0,...this.options.authPacket};this._writePacket(ht)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(B,R,V,J){this.log("publish :: message `%s` to topic `%s`",R,B);let{options:tt}=this;typeof V=="function"&&(J=V,V=null),V=V||{},V={qos:0,retain:!1,dup:!1,...V};let{qos:st,retain:G,dup:mt,properties:ht,cbStorePut:ut}=V;if(this._checkDisconnecting(J))return this;let rt=()=>{let lt=0;if((st===1||st===2)&&(lt=this._nextId(),lt===null))return this.log("No messageId left"),!1;let et={cmd:"publish",topic:B,payload:R,qos:st,retain:G,messageId:lt,dup:mt};switch(tt.protocolVersion===5&&(et.properties=ht),this.log("publish :: qos",st),st){case 1:case 2:this.outgoing[et.messageId]={volatile:!1,cb:J||this.noop},this.log("MqttClient:publish: packet cmd: %s",et.cmd),this._sendPacket(et,void 0,ut);break;default:this.log("MqttClient:publish: packet cmd: %s",et.cmd),this._sendPacket(et,J,ut);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!rt())&&this._storeProcessingQueue.push({invoke:rt,cbStorePut:V.cbStorePut,callback:J}),this}publishAsync(B,R,V){return new Promise((J,tt)=>{this.publish(B,R,V,(st,G)=>{st?tt(st):J(G)})})}subscribe(B,R,V){let J=this.options.protocolVersion;typeof R=="function"&&(V=R),V=V||this.noop;let tt=!1,st=[];typeof B=="string"?(B=[B],st=B):Array.isArray(B)?st=B:typeof B=="object"&&(tt=B.resubscribe,delete B.resubscribe,st=Object.keys(B));let G=d.validateTopics(st);if(G!==null)return M(V,new Error(`Invalid topic ${G}`)),this;if(this._checkDisconnecting(V))return this.log("subscribe: discconecting true"),this;let mt={qos:0};J===5&&(mt.nl=!1,mt.rap=!1,mt.rh=0),R={...mt,...R};let{properties:ht}=R,ut=[],rt=(jt,nt)=>{if(nt=nt||R,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,jt)||this._resubscribeTopics[jt].qos<nt.qos||tt){let Z={topic:jt,qos:nt.qos};J===5&&(Z.nl=nt.nl,Z.rap=nt.rap,Z.rh=nt.rh,Z.properties=ht),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",Z.topic,Z.qos),ut.push(Z)}};if(Array.isArray(B)?B.forEach(jt=>{this.log("subscribe: array topic %s",jt),rt(jt)}):Object.keys(B).forEach(jt=>{this.log("subscribe: object topic %s, %o",jt,B[jt]),rt(jt,B[jt])}),!ut.length)return V(null,[]),this;let lt=(jt,nt)=>{let Z={cmd:"subscribe",subscriptions:jt,messageId:nt};if(ht&&(Z.properties=ht),this.options.resubscribe){this.log("subscribe :: resubscribe true");let at=[];jt.forEach(At=>{if(this.options.reconnectPeriod>0){let gt={qos:At.qos};J===5&&(gt.nl=At.nl||!1,gt.rap=At.rap||!1,gt.rh=At.rh||0,gt.properties=At.properties),this._resubscribeTopics[At.topic]=gt,at.push(At.topic)}}),this.messageIdToTopic[Z.messageId]=at}let K=new Promise((at,At)=>{this.outgoing[Z.messageId]={volatile:!0,cb(gt,Ut){if(!gt){let{granted:_t}=Ut;for(let ct=0;ct<_t.length;ct+=1)jt[ct].qos=_t[ct]}gt?At(new x.ErrorWithSubackPacket(gt.message,Ut)):at(Ut)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(Z),K},et=()=>{let jt=this.options.subscribeBatchSize??ut.length,nt=[];for(let Z=0;Z<ut.length;Z+=jt){let K=ut.slice(Z,Z+jt),at=this._nextId();if(at===null)return this.log("No messageId left"),!1;nt.push(lt(K,at))}return Promise.all(nt).then(Z=>{V(null,ut,Z.at(-1))}).catch(Z=>{V(Z,ut,Z.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!et())&&this._storeProcessingQueue.push({invoke:et,callback:V}),this}subscribeAsync(B,R){return new Promise((V,J)=>{this.subscribe(B,R,(tt,st)=>{tt?J(tt):V(st)})})}unsubscribe(B,R,V){typeof B=="string"&&(B=[B]),typeof R=="function"&&(V=R),V=V||this.noop;let J=d.validateTopics(B);if(J!==null)return M(V,new Error(`Invalid topic ${J}`)),this;if(this._checkDisconnecting(V))return this;let tt=()=>{let st=this._nextId();if(st===null)return this.log("No messageId left"),!1;let G={cmd:"unsubscribe",messageId:st,unsubscriptions:[]};return typeof B=="string"?G.unsubscriptions=[B]:Array.isArray(B)&&(G.unsubscriptions=B),this.options.resubscribe&&G.unsubscriptions.forEach(mt=>{delete this._resubscribeTopics[mt]}),typeof R=="object"&&R.properties&&(G.properties=R.properties),this.outgoing[G.messageId]={volatile:!0,cb:V},this.log("unsubscribe: call _sendPacket"),this._sendPacket(G),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!tt())&&this._storeProcessingQueue.push({invoke:tt,callback:V}),this}unsubscribeAsync(B,R){return new Promise((V,J)=>{this.unsubscribe(B,R,(tt,st)=>{tt?J(tt):V(st)})})}end(B,R,V){this.log("end :: (%s)",this.options.clientId),(B==null||typeof B!="boolean")&&(V=V||R,R=B,B=!1),typeof R!="object"&&(V=V||R,R=null),this.log("end :: cb? %s",!!V),(!V||typeof V!="function")&&(V=this.noop);let J=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(st=>{this.outgoingStore.close(G=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),V){let mt=st||G;this.log("end :: closeStores: invoking callback with args"),V(mt)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},tt=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,B),this._cleanUp(B,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,x.nextTick)(J)},R)};return this.disconnecting?(V(),this):(this._clearReconnect(),this.disconnecting=!0,!B&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,tt,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),tt()),this)}endAsync(B,R){return new Promise((V,J)=>{this.end(B,R,tt=>{tt?J(tt):V()})})}removeOutgoingMessage(B){if(this.outgoing[B]){let{cb:R}=this.outgoing[B];this._removeOutgoingAndStoreMessage(B,()=>{R(new Error("Message removed"))})}return this}reconnect(B){this.log("client reconnect");let R=()=>{B?(this.options.incomingStore=B.incomingStore,this.options.outgoingStore=B.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new g.default,this.outgoingStore=this.options.outgoingStore||new g.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=R:R(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(B=>{this.outgoing[B].volatile&&typeof this.outgoing[B].cb=="function"&&(this.outgoing[B].cb(new Error("Connection closed")),delete this.outgoing[B])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(B=>{typeof this.outgoing[B].cb=="function"&&(this.outgoing[B].cb(new Error("Connection closed")),delete this.outgoing[B])}))}_removeTopicAliasAndRecoverTopicName(B){let R;B.properties&&(R=B.properties.topicAlias);let V=B.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",R,V),V.length===0){if(typeof R>"u")return new Error("Unregistered Topic Alias");if(V=this.topicAliasSend.getTopicByAlias(R),typeof V>"u")return new Error("Unregistered Topic Alias");B.topic=V}R&&delete B.properties.topicAlias}_checkDisconnecting(B){return this.disconnecting&&(B&&B!==this.noop?B(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(B,R,V={}){if(R&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",R)),this.log("_cleanUp :: forced? %s",B),B)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let J={cmd:"disconnect",...V};this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(J,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),M(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),R&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",R),R())}_storeAndSend(B,R,V){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",B.cmd);let J=B,tt;if(J.cmd==="publish"&&(J=(0,c.default)(B),tt=this._removeTopicAliasAndRecoverTopicName(J),tt))return R&&R(tt);this.outgoingStore.put(J,st=>{if(st)return R&&R(st);V(),this._writePacket(B,R)})}_applyTopicAlias(B){if(this.options.protocolVersion===5&&B.cmd==="publish"){let R;B.properties&&(R=B.properties.topicAlias);let V=B.topic.toString();if(this.topicAliasSend)if(R){if(V.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",V,R),!this.topicAliasSend.put(V,R)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",V,R),new Error("Sending Topic Alias out of range")}else V.length!==0&&(this.options.autoAssignTopicAlias?(R=this.topicAliasSend.getAliasByTopic(V),R?(B.topic="",B.properties={...B.properties,topicAlias:R},this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",V,R)):(R=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(V,R),B.properties={...B.properties,topicAlias:R},this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",V,R))):this.options.autoUseTopicAlias&&(R=this.topicAliasSend.getAliasByTopic(V),R&&(B.topic="",B.properties={...B.properties,topicAlias:R},this.log("applyTopicAlias :: auto use topic: %s - alias: %d",V,R))));else if(R)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",V,R),new Error("Sending Topic Alias out of range")}}_noop(B){this.log("noop ::",B)}_writePacket(B,R){this.log("_writePacket :: packet: %O",B),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",B),this.log("_writePacket :: writing to stream");let V=a.default.writeToStream(B,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",V),!V&&R&&R!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",R)):R&&(this.log("_writePacket :: invoking cb"),R())}_sendPacket(B,R,V,J){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),V=V||this.noop,R=R||this.noop;let tt=this._applyTopicAlias(B);if(tt){R(tt);return}if(!this.connected){if(B.cmd==="auth"){this._writePacket(B,R);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(B,R,V);return}if(J){this._writePacket(B,R);return}switch(B.cmd){case"publish":break;case"pubrel":this._storeAndSend(B,R,V);return;default:this._writePacket(B,R);return}switch(B.qos){case 2:case 1:this._storeAndSend(B,R,V);break;case 0:default:this._writePacket(B,R);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(B,R,V){this.log("_storePacket :: packet: %o",B),this.log("_storePacket :: cb? %s",!!R),V=V||this.noop;let J=B;if(J.cmd==="publish"){J=(0,c.default)(B);let st=this._removeTopicAliasAndRecoverTopicName(J);if(st)return R&&R(st)}let tt=J.qos||0;tt===0&&this.queueQoSZero||J.cmd!=="publish"?this.queue.push({packet:J,cb:R}):tt>0?(R=this.outgoing[J.messageId]?this.outgoing[J.messageId].cb:null,this.outgoingStore.put(J,st=>{if(st)return R&&R(st);V()})):R&&R(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new k.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(B=!1){this.keepaliveManager&&this.options.keepalive&&(B||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let B=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&B.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let R=0;R<B.length;R++){let V={};V[B[R]]=this._resubscribeTopics[B[R]],V.resubscribe=!0,this.subscribe(V,{properties:V[B[R]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(B){if(this.disconnected){this.emit("connect",B);return}this.connackPacket=B,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let R=()=>{let V=this.outgoingStore.createStream(),J=()=>{V.destroy(),V=null,this._flushStoreProcessingQueue(),tt()},tt=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",J),V.on("error",G=>{tt(),this._flushStoreProcessingQueue(),this.removeListener("close",J),this.emit("error",G)});let st=()=>{if(!V)return;let G=V.read(1),mt;if(!G){V.once("readable",st);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[G.messageId]){st();return}!this.disconnecting&&!this.reconnectTimer?(mt=this.outgoing[G.messageId]?this.outgoing[G.messageId].cb:null,this.outgoing[G.messageId]={volatile:!1,cb(ht,ut){mt&&mt(ht,ut),st()}},this._packetIdsDuringStoreProcessing[G.messageId]=!0,this.messageIdProvider.register(G.messageId)?this._sendPacket(G,void 0,void 0,!0):this.log("messageId: %d has already used.",G.messageId)):V.destroy&&V.destroy()};V.on("end",()=>{let G=!0;for(let mt in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[mt]){G=!1;break}this.removeListener("close",J),G?(tt(),this._invokeAllStoreProcessingQueue(),this.emit("connect",B)):R()}),st()};R()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let B=this._storeProcessingQueue[0];if(B&&B.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let B of this._storeProcessingQueue)B.cbStorePut&&B.cbStorePut(new Error("Connection closed")),B.callback&&B.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(B,R){delete this.outgoing[B],this.outgoingStore.del({messageId:B},(V,J)=>{R(V,J),this.messageIdProvider.deallocate(B),this._invokeStoreProcessingQueue()})}};n.default=z}),qM=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0});var t=n2(),e=class{numberAllocator;lastId;constructor(){this.numberAllocator=new t.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(r){return this.numberAllocator.use(r)}deallocate(r){this.numberAllocator.free(r)}clear(){this.numberAllocator.clear()}};n.default=e});function VM(){if(ly)return Ih;ly=!0;let n=2147483647,t=36,e=1,r=26,o=38,a=700,l=72,c=128,h="-",d=/^xn--/,g=/[^\0-\x7F]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=t-e,x=Math.floor,E=String.fromCharCode;function k(tt){throw new RangeError(b[tt])}function C(tt,st){let G=[],mt=tt.length;for(;mt--;)G[mt]=st(tt[mt]);return G}function M(tt,st){let G=tt.split("@"),mt="";G.length>1&&(mt=G[0]+"@",tt=G[1]),tt=tt.replace(y,".");let ht=tt.split("."),ut=C(ht,st).join(".");return mt+ut}function P(tt){let st=[],G=0,mt=tt.length;for(;G<mt;){let ht=tt.charCodeAt(G++);if(ht>=55296&&ht<=56319&&G<mt){let ut=tt.charCodeAt(G++);(ut&64512)==56320?st.push(((ht&1023)<<10)+(ut&1023)+65536):(st.push(ht),G--)}else st.push(ht)}return st}let z=tt=>String.fromCodePoint(...tt),D=function(tt){return tt>=48&&tt<58?26+(tt-48):tt>=65&&tt<91?tt-65:tt>=97&&tt<123?tt-97:t},B=function(tt,st){return tt+22+75*(tt<26)-((st!=0)<<5)},R=function(tt,st,G){let mt=0;for(tt=G?x(tt/a):tt>>1,tt+=x(tt/st);tt>S*r>>1;mt+=t)tt=x(tt/S);return x(mt+(S+1)*tt/(tt+o))},V=function(tt){let st=[],G=tt.length,mt=0,ht=c,ut=l,rt=tt.lastIndexOf(h);rt<0&&(rt=0);for(let lt=0;lt<rt;++lt)tt.charCodeAt(lt)>=128&&k("not-basic"),st.push(tt.charCodeAt(lt));for(let lt=rt>0?rt+1:0;lt<G;){let et=mt;for(let nt=1,Z=t;;Z+=t){lt>=G&&k("invalid-input");let K=D(tt.charCodeAt(lt++));K>=t&&k("invalid-input"),K>x((n-mt)/nt)&&k("overflow"),mt+=K*nt;let at=Z<=ut?e:Z>=ut+r?r:Z-ut;if(K<at)break;let At=t-at;nt>x(n/At)&&k("overflow"),nt*=At}let jt=st.length+1;ut=R(mt-et,jt,et==0),x(mt/jt)>n-ht&&k("overflow"),ht+=x(mt/jt),mt%=jt,st.splice(mt++,0,ht)}return String.fromCodePoint(...st)},J=function(tt){let st=[];tt=P(tt);let G=tt.length,mt=c,ht=0,ut=l;for(let et of tt)et<128&&st.push(E(et));let rt=st.length,lt=rt;for(rt&&st.push(h);lt<G;){let et=n;for(let nt of tt)nt>=mt&&nt<et&&(et=nt);let jt=lt+1;et-mt>x((n-ht)/jt)&&k("overflow"),ht+=(et-mt)*jt,mt=et;for(let nt of tt)if(nt<mt&&++ht>n&&k("overflow"),nt===mt){let Z=ht;for(let K=t;;K+=t){let at=K<=ut?e:K>=ut+r?r:K-ut;if(Z<at)break;let At=Z-at,gt=t-at;st.push(E(B(at+At%gt,0))),Z=x(At/gt)}st.push(E(B(Z,0))),ut=R(ht,jt,lt===rt),ht=0,++lt}++ht,++mt}return st.join("")};return Ih={version:"2.3.1",ucs2:{decode:P,encode:z},decode:V,encode:J,toASCII:function(tt){return M(tt,function(st){return g.test(st)?"xn--"+J(st):st})},toUnicode:function(tt){return M(tt,function(st){return d.test(st)?V(st.slice(4).toLowerCase()):st})}},Ih}var Ih,ly,qa,YM=qr(()=>{se(),le(),ae(),Ih={},ly=!1,qa=VM(),qa.decode,qa.encode,qa.toASCII,qa.toUnicode,qa.ucs2,qa.version});function ZM(){return cy||(cy=!0,uy=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var n={},t=Symbol("test"),e=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(e)!=="[object Symbol]")return!1;var r=42;n[t]=r;for(t in n)return!1;if(typeof Object.keys=="function"&&Object.keys(n).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(n).length!==0)return!1;var o=Object.getOwnPropertySymbols(n);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(n,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(n,t);if(a.value!==r||a.enumerable!==!0)return!1}return!0}),uy}function KM(){return hy||(hy=!0,fy=Error),fy}function WM(){return py||(py=!0,dy=EvalError),dy}function XM(){return gy||(gy=!0,my=RangeError),my}function GM(){return _y||(_y=!0,yy=ReferenceError),yy}function f2(){return vy||(vy=!0,by=SyntaxError),by}function cf(){return xy||(xy=!0,wy=TypeError),wy}function $M(){return Ey||(Ey=!0,Sy=URIError),Sy}function QM(){if(Ty)return Uh;Ty=!0;var n=typeof Symbol<"u"&&Symbol,t=ZM();return Uh=function(){return typeof n!="function"||typeof Symbol!="function"||typeof n("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Uh}function JM(){if(Ay)return Fh;Ay=!0;var n={__proto__:null,foo:{}},t=Object;return Fh=function(){return{__proto__:n}.foo===n.foo&&!(n instanceof t)},Fh}function tO(){if(ky)return Hh;ky=!0;var n="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,e=Math.max,r="[object Function]",o=function(c,h){for(var d=[],g=0;g<c.length;g+=1)d[g]=c[g];for(var y=0;y<h.length;y+=1)d[y+c.length]=h[y];return d},a=function(c,h){for(var d=[],g=h,y=0;g<c.length;g+=1,y+=1)d[y]=c[g];return d},l=function(c,h){for(var d="",g=0;g<c.length;g+=1)d+=c[g],g+1<c.length&&(d+=h);return d};return Hh=function(c){var h=this;if(typeof h!="function"||t.apply(h)!==r)throw new TypeError(n+h);for(var d=a(arguments,1),g,y=function(){if(this instanceof g){var k=h.apply(this,o(d,arguments));return Object(k)===k?k:this}return h.apply(c,o(d,arguments))},b=e(0,h.length-d.length),S=[],x=0;x<b;x++)S[x]="$"+x;if(g=Function("binder","return function ("+l(S,",")+"){ return binder.apply(this,arguments); }")(y),h.prototype){var E=function(){};E.prototype=h.prototype,g.prototype=new E,E.prototype=null}return g},Hh}function v_(){if(My)return qh;My=!0;var n=tO();return qh=Function.prototype.bind||n,qh}function eO(){if(Oy)return Vh;Oy=!0;var n=Function.prototype.call,t=Object.prototype.hasOwnProperty,e=v_();return Vh=e.call(n,t),Vh}function Du(){if(Cy)return Yh;Cy=!0;var n,t=KM(),e=WM(),r=XM(),o=GM(),a=f2(),l=cf(),c=$M(),h=Function,d=function(lt){try{return h('"use strict"; return ('+lt+").constructor;")()}catch{}},g=Object.getOwnPropertyDescriptor;if(g)try{g({},"")}catch{g=null}var y=function(){throw new l},b=g?(function(){try{return arguments.callee,y}catch{try{return g(arguments,"callee").get}catch{return y}}})():y,S=QM()(),x=JM()(),E=Object.getPrototypeOf||(x?function(lt){return lt.__proto__}:null),k={},C=typeof Uint8Array>"u"||!E?n:E(Uint8Array),M={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?n:ArrayBuffer,"%ArrayIteratorPrototype%":S&&E?E([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":k,"%AsyncGenerator%":k,"%AsyncGeneratorFunction%":k,"%AsyncIteratorPrototype%":k,"%Atomics%":typeof Atomics>"u"?n:Atomics,"%BigInt%":typeof BigInt>"u"?n:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?n:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":e,"%Float32Array%":typeof Float32Array>"u"?n:Float32Array,"%Float64Array%":typeof Float64Array>"u"?n:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?n:FinalizationRegistry,"%Function%":h,"%GeneratorFunction%":k,"%Int8Array%":typeof Int8Array>"u"?n:Int8Array,"%Int16Array%":typeof Int16Array>"u"?n:Int16Array,"%Int32Array%":typeof Int32Array>"u"?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":S&&E?E(E([][Symbol.iterator]())):n,"%JSON%":typeof JSON=="object"?JSON:n,"%Map%":typeof Map>"u"?n:Map,"%MapIteratorPrototype%":typeof Map>"u"||!S||!E?n:E(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?n:Promise,"%Proxy%":typeof Proxy>"u"?n:Proxy,"%RangeError%":r,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?n:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?n:Set,"%SetIteratorPrototype%":typeof Set>"u"||!S||!E?n:E(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":S&&E?E(""[Symbol.iterator]()):n,"%Symbol%":S?Symbol:n,"%SyntaxError%":a,"%ThrowTypeError%":b,"%TypedArray%":C,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array>"u"?n:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?n:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?n:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?n:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?n:WeakMap,"%WeakRef%":typeof WeakRef>"u"?n:WeakRef,"%WeakSet%":typeof WeakSet>"u"?n:WeakSet};if(E)try{null.error}catch(lt){var P=E(E(lt));M["%Error.prototype%"]=P}var z=function lt(et){var jt;if(et==="%AsyncFunction%")jt=d("async function () {}");else if(et==="%GeneratorFunction%")jt=d("function* () {}");else if(et==="%AsyncGeneratorFunction%")jt=d("async function* () {}");else if(et==="%AsyncGenerator%"){var nt=lt("%AsyncGeneratorFunction%");nt&&(jt=nt.prototype)}else if(et==="%AsyncIteratorPrototype%"){var Z=lt("%AsyncGenerator%");Z&&E&&(jt=E(Z.prototype))}return M[et]=jt,jt},D={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},B=v_(),R=eO(),V=B.call(Function.call,Array.prototype.concat),J=B.call(Function.apply,Array.prototype.splice),tt=B.call(Function.call,String.prototype.replace),st=B.call(Function.call,String.prototype.slice),G=B.call(Function.call,RegExp.prototype.exec),mt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ht=/\\(\\)?/g,ut=function(lt){var et=st(lt,0,1),jt=st(lt,-1);if(et==="%"&&jt!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(jt==="%"&&et!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var nt=[];return tt(lt,mt,function(Z,K,at,At){nt[nt.length]=at?tt(At,ht,"$1"):K||Z}),nt},rt=function(lt,et){var jt=lt,nt;if(R(D,jt)&&(nt=D[jt],jt="%"+nt[0]+"%"),R(M,jt)){var Z=M[jt];if(Z===k&&(Z=z(jt)),typeof Z>"u"&&!et)throw new l("intrinsic "+lt+" exists, but is not available. Please file an issue!");return{alias:nt,name:jt,value:Z}}throw new a("intrinsic "+lt+" does not exist!")};return Yh=function(lt,et){if(typeof lt!="string"||lt.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof et!="boolean")throw new l('"allowMissing" argument must be a boolean');if(G(/^%?[^%]*%?$/,lt)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var jt=ut(lt),nt=jt.length>0?jt[0]:"",Z=rt("%"+nt+"%",et),K=Z.name,at=Z.value,At=!1,gt=Z.alias;gt&&(nt=gt[0],J(jt,V([0,1],gt)));for(var Ut=1,_t=!0;Ut<jt.length;Ut+=1){var ct=jt[Ut],vt=st(ct,0,1),Mt=st(ct,-1);if((vt==='"'||vt==="'"||vt==="`"||Mt==='"'||Mt==="'"||Mt==="`")&&vt!==Mt)throw new a("property names with quotes must have matching quotes");if((ct==="constructor"||!_t)&&(At=!0),nt+="."+ct,K="%"+nt+"%",R(M,K))at=M[K];else if(at!=null){if(!(ct in at)){if(!et)throw new l("base intrinsic for "+lt+" exists, but the property is not available.");return}if(g&&Ut+1>=jt.length){var Nt=g(at,ct);_t=!!Nt,_t&&"get"in Nt&&!("originalValue"in Nt.get)?at=Nt.get:at=at[ct]}else _t=R(at,ct),at=at[ct];_t&&!At&&(M[K]=at)}}return at},Yh}function w_(){if(Ly)return Zh;Ly=!0;var n=Du(),t=n("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Zh=t,Zh}function h2(){if(Ny)return Kh;Ny=!0;var n=Du(),t=n("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch{t=null}return Kh=t,Kh}function nO(){if(Dy)return Wh;Dy=!0;var n=w_(),t=f2(),e=cf(),r=h2();return Wh=function(o,a,l){if(!o||typeof o!="object"&&typeof o!="function")throw new e("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new e("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new e("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new e("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new e("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new e("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null,h=arguments.length>4?arguments[4]:null,d=arguments.length>5?arguments[5]:null,g=arguments.length>6?arguments[6]:!1,y=!!r&&r(o,a);if(n)n(o,a,{configurable:d===null&&y?y.configurable:!d,enumerable:c===null&&y?y.enumerable:!c,value:l,writable:h===null&&y?y.writable:!h});else if(g||!c&&!h&&!d)o[a]=l;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Wh}function iO(){if(jy)return Xh;jy=!0;var n=w_(),t=function(){return!!n};return t.hasArrayLengthDefineBug=function(){if(!n)return null;try{return n([],"length",{value:1}).length!==1}catch{return!0}},Xh=t,Xh}function rO(){if(Py)return Gh;Py=!0;var n=Du(),t=nO(),e=iO()(),r=h2(),o=cf(),a=n("%Math.floor%");return Gh=function(l,c){if(typeof l!="function")throw new o("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||a(c)!==c)throw new o("`length` must be a positive 32-bit integer");var h=arguments.length>2&&!!arguments[2],d=!0,g=!0;if("length"in l&&r){var y=r(l,"length");y&&!y.configurable&&(d=!1),y&&!y.writable&&(g=!1)}return(d||g||!h)&&(e?t(l,"length",c,!0,!0):t(l,"length",c)),l},Gh}function oO(){if(Ry)return xu;Ry=!0;var n=v_(),t=Du(),e=rO(),r=cf(),o=t("%Function.prototype.apply%"),a=t("%Function.prototype.call%"),l=t("%Reflect.apply%",!0)||n.call(a,o),c=w_(),h=t("%Math.max%");xu=function(g){if(typeof g!="function")throw new r("a function is required");var y=l(n,a,arguments);return e(y,1+h(0,g.length-(arguments.length-1)),!0)};var d=function(){return l(n,o,arguments)};return c?c(xu,"apply",{value:d}):xu.apply=d,xu}function sO(){if(zy)return $h;zy=!0;var n=Du(),t=oO(),e=t(n("String.prototype.indexOf"));return $h=function(r,o){var a=n(r,!!o);return typeof a=="function"&&e(r,".prototype.")>-1?t(a):a},$h}var uy,cy,fy,hy,dy,py,my,gy,yy,_y,by,vy,wy,xy,Sy,Ey,Uh,Ty,Fh,Ay,Hh,ky,qh,My,Vh,Oy,Yh,Cy,Zh,Ly,Kh,Ny,Wh,Dy,Xh,jy,Gh,Py,xu,Ry,$h,zy,aO=qr(()=>{se(),le(),ae(),uy={},cy=!1,fy={},hy=!1,dy={},py=!1,my={},gy=!1,yy={},_y=!1,by={},vy=!1,wy={},xy=!1,Sy={},Ey=!1,Uh={},Ty=!1,Fh={},Ay=!1,Hh={},ky=!1,qh={},My=!1,Vh={},Oy=!1,Yh={},Cy=!1,Zh={},Ly=!1,Kh={},Ny=!1,Wh={},Dy=!1,Xh={},jy=!1,Gh={},Py=!1,xu={},Ry=!1,$h={},zy=!1});function x_(n){throw new Error("Node.js process "+n+" is not supported by JSPM core outside of Node.js")}function lO(){!Dl||!Cl||(Dl=!1,Cl.length?ps=Cl.concat(ps):Yc=-1,ps.length&&d2())}function d2(){if(!Dl){var n=setTimeout(lO,0);Dl=!0;for(var t=ps.length;t;){for(Cl=ps,ps=[];++Yc<t;)Cl&&Cl[Yc].run();Yc=-1,t=ps.length}Cl=null,Dl=!1,clearTimeout(n)}}function uO(n){var t=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)t[e-1]=arguments[e];ps.push(new p2(n,t)),ps.length===1&&!Dl&&setTimeout(d2,0)}function p2(n,t){this.fun=n,this.array=t}function or(){}function cO(n){x_("_linkedBinding")}function fO(n){x_("dlopen")}function hO(){return[]}function dO(){return[]}function pO(n,t){if(!n)throw new Error(t||"assertion error")}function mO(){return!1}function gO(){return ta.now()/1e3}function Tm(n){var t=Math.floor((Date.now()-ta.now())*.001),e=ta.now()*.001,r=Math.floor(e)+t,o=Math.floor(e%1*1e9);return n&&(r=r-n[0],o=o-n[1],o<0&&(r--,o+=Qh)),[r,o]}function Fa(){return S_}function yO(n){return[]}var ps,Dl,Cl,Yc,o1,s1,a1,l1,u1,c1,f1,h1,d1,p1,m1,g1,y1,_1,b1,v1,w1,x1,S1,E1,T1,hh,A1,k1,M1,O1,C1,L1,N1,D1,j1,P1,R1,z1,B1,I1,U1,F1,H1,q1,V1,Y1,Z1,K1,W1,X1,G1,ta,Am,Qh,$1,Q1,J1,tw,ew,nw,iw,rw,ow,sw,aw,S_,m2=qr(()=>{se(),le(),ae(),ps=[],Dl=!1,Yc=-1,p2.prototype.run=function(){this.fun.apply(null,this.array)},o1="browser",s1="x64",a1="browser",l1={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},u1=["/usr/bin/node"],c1=[],f1="v16.8.0",h1={},d1=function(n,t){console.warn((t?t+": ":"")+n)},p1=function(n){x_("binding")},m1=function(n){return 0},g1=function(){return"/"},y1=function(n){},_1={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},b1=or,v1=[],w1={},x1=!1,S1={},E1=or,T1=or,hh=function(){return{}},A1=hh,k1=hh,M1=or,O1=or,C1=or,L1={},N1={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},D1=or,j1=or,P1=or,R1=or,z1=or,B1=or,I1=or,U1=void 0,F1=void 0,H1=void 0,q1=or,V1=2,Y1=1,Z1="/bin/usr/node",K1=9229,W1="node",X1=[],G1=or,ta={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},ta.now===void 0&&(Am=Date.now(),ta.timing&&ta.timing.navigationStart&&(Am=ta.timing.navigationStart),ta.now=()=>Date.now()-Am),Qh=1e9,Tm.bigint=function(n){var t=Tm(n);return typeof BigInt>"u"?t[0]*Qh+t[1]:BigInt(t[0]*Qh)+BigInt(t[1])},$1=10,Q1={},J1=0,tw=Fa,ew=Fa,nw=Fa,iw=Fa,rw=Fa,ow=or,sw=Fa,aw=Fa,S_={version:f1,versions:h1,arch:s1,platform:a1,release:_1,_rawDebug:b1,moduleLoadList:v1,binding:p1,_linkedBinding:cO,_events:Q1,_eventsCount:J1,_maxListeners:$1,on:Fa,addListener:tw,once:ew,off:nw,removeListener:iw,removeAllListeners:rw,emit:ow,prependListener:sw,prependOnceListener:aw,listeners:yO,domain:w1,_exiting:x1,config:S1,dlopen:fO,uptime:gO,_getActiveRequests:hO,_getActiveHandles:dO,reallyExit:E1,_kill:T1,cpuUsage:hh,resourceUsage:A1,memoryUsage:k1,kill:M1,exit:O1,openStdin:C1,allowedNodeEnvironmentFlags:L1,assert:pO,features:N1,_fatalExceptions:D1,setUncaughtExceptionCaptureCallback:j1,hasUncaughtExceptionCaptureCallback:mO,emitWarning:d1,nextTick:uO,_tickCallback:P1,_debugProcess:R1,_debugEnd:z1,_startProfilerIdleNotifier:B1,_stopProfilerIdleNotifier:I1,stdout:U1,stdin:H1,stderr:F1,abort:q1,umask:m1,chdir:y1,cwd:g1,env:l1,title:o1,argv:u1,execArgv:c1,pid:V1,ppid:Y1,execPath:Z1,debugPort:K1,hrtime:Tm,argv0:W1,_preload_modules:X1,setSourceMapsEnabled:G1}});function _O(){if(By)return Jh;By=!0;var n=S_;function t(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}function e(a,l){for(var c="",h=0,d=-1,g=0,y,b=0;b<=a.length;++b){if(b<a.length)y=a.charCodeAt(b);else{if(y===47)break;y=47}if(y===47){if(!(d===b-1||g===1))if(d!==b-1&&g===2){if(c.length<2||h!==2||c.charCodeAt(c.length-1)!==46||c.charCodeAt(c.length-2)!==46){if(c.length>2){var S=c.lastIndexOf("/");if(S!==c.length-1){S===-1?(c="",h=0):(c=c.slice(0,S),h=c.length-1-c.lastIndexOf("/")),d=b,g=0;continue}}else if(c.length===2||c.length===1){c="",h=0,d=b,g=0;continue}}l&&(c.length>0?c+="/..":c="..",h=2)}else c.length>0?c+="/"+a.slice(d+1,b):c=a.slice(d+1,b),h=b-d-1;d=b,g=0}else y===46&&g!==-1?++g:g=-1}return c}function r(a,l){var c=l.dir||l.root,h=l.base||(l.name||"")+(l.ext||"");return c?c===l.root?c+h:c+a+h:h}var o={resolve:function(){for(var a="",l=!1,c,h=arguments.length-1;h>=-1&&!l;h--){var d;h>=0?d=arguments[h]:(c===void 0&&(c=n.cwd()),d=c),t(d),d.length!==0&&(a=d+"/"+a,l=d.charCodeAt(0)===47)}return a=e(a,!l),l?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(a){if(t(a),a.length===0)return".";var l=a.charCodeAt(0)===47,c=a.charCodeAt(a.length-1)===47;return a=e(a,!l),a.length===0&&!l&&(a="."),a.length>0&&c&&(a+="/"),l?"/"+a:a},isAbsolute:function(a){return t(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,l=0;l<arguments.length;++l){var c=arguments[l];t(c),c.length>0&&(a===void 0?a=c:a+="/"+c)}return a===void 0?".":o.normalize(a)},relative:function(a,l){if(t(a),t(l),a===l||(a=o.resolve(a),l=o.resolve(l),a===l))return"";for(var c=1;c<a.length&&a.charCodeAt(c)===47;++c);for(var h=a.length,d=h-c,g=1;g<l.length&&l.charCodeAt(g)===47;++g);for(var y=l.length,b=y-g,S=d<b?d:b,x=-1,E=0;E<=S;++E){if(E===S){if(b>S){if(l.charCodeAt(g+E)===47)return l.slice(g+E+1);if(E===0)return l.slice(g+E)}else d>S&&(a.charCodeAt(c+E)===47?x=E:E===0&&(x=0));break}var k=a.charCodeAt(c+E),C=l.charCodeAt(g+E);if(k!==C)break;k===47&&(x=E)}var M="";for(E=c+x+1;E<=h;++E)(E===h||a.charCodeAt(E)===47)&&(M.length===0?M+="..":M+="/..");return M.length>0?M+l.slice(g+x):(g+=x,l.charCodeAt(g)===47&&++g,l.slice(g))},_makeLong:function(a){return a},dirname:function(a){if(t(a),a.length===0)return".";for(var l=a.charCodeAt(0),c=l===47,h=-1,d=!0,g=a.length-1;g>=1;--g)if(l=a.charCodeAt(g),l===47){if(!d){h=g;break}}else d=!1;return h===-1?c?"/":".":c&&h===1?"//":a.slice(0,h)},basename:function(a,l){if(l!==void 0&&typeof l!="string")throw new TypeError('"ext" argument must be a string');t(a);var c=0,h=-1,d=!0,g;if(l!==void 0&&l.length>0&&l.length<=a.length){if(l.length===a.length&&l===a)return"";var y=l.length-1,b=-1;for(g=a.length-1;g>=0;--g){var S=a.charCodeAt(g);if(S===47){if(!d){c=g+1;break}}else b===-1&&(d=!1,b=g+1),y>=0&&(S===l.charCodeAt(y)?--y===-1&&(h=g):(y=-1,h=b))}return c===h?h=b:h===-1&&(h=a.length),a.slice(c,h)}else{for(g=a.length-1;g>=0;--g)if(a.charCodeAt(g)===47){if(!d){c=g+1;break}}else h===-1&&(d=!1,h=g+1);return h===-1?"":a.slice(c,h)}},extname:function(a){t(a);for(var l=-1,c=0,h=-1,d=!0,g=0,y=a.length-1;y>=0;--y){var b=a.charCodeAt(y);if(b===47){if(!d){c=y+1;break}continue}h===-1&&(d=!1,h=y+1),b===46?l===-1?l=y:g!==1&&(g=1):l!==-1&&(g=-1)}return l===-1||h===-1||g===0||g===1&&l===h-1&&l===c+1?"":a.slice(l,h)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return r("/",a)},parse:function(a){t(a);var l={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return l;var c=a.charCodeAt(0),h=c===47,d;h?(l.root="/",d=1):d=0;for(var g=-1,y=0,b=-1,S=!0,x=a.length-1,E=0;x>=d;--x){if(c=a.charCodeAt(x),c===47){if(!S){y=x+1;break}continue}b===-1&&(S=!1,b=x+1),c===46?g===-1?g=x:E!==1&&(E=1):g!==-1&&(E=-1)}return g===-1||b===-1||E===0||E===1&&g===b-1&&g===y+1?b!==-1&&(y===0&&h?l.base=l.name=a.slice(1,b):l.base=l.name=a.slice(y,b)):(y===0&&h?(l.name=a.slice(1,g),l.base=a.slice(1,b)):(l.name=a.slice(y,g),l.base=a.slice(y,b)),l.ext=a.slice(g,b)),y>0?l.dir=a.slice(0,y-1):h&&(l.dir="/"),l},sep:"/",delimiter:":",win32:null,posix:null};return o.posix=o,Jh=o,Jh}var Jh,By,Iy,bO=qr(()=>{se(),le(),ae(),m2(),Jh={},By=!1,Iy=_O()}),g2={};Cu(g2,{URL:()=>A2,Url:()=>w2,default:()=>ar,fileURLToPath:()=>_2,format:()=>x2,parse:()=>T2,pathToFileURL:()=>b2,resolve:()=>S2,resolveObject:()=>E2});function vO(){if(Uy)return td;Uy=!0;var n=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,e=n&&t&&typeof t.get=="function"?t.get:null,r=n&&Map.prototype.forEach,o=typeof Set=="function"&&Set.prototype,a=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=o&&a&&typeof a.get=="function"?a.get:null,c=o&&Set.prototype.forEach,h=typeof WeakMap=="function"&&WeakMap.prototype,d=h?WeakMap.prototype.has:null,g=typeof WeakSet=="function"&&WeakSet.prototype,y=g?WeakSet.prototype.has:null,b=typeof WeakRef=="function"&&WeakRef.prototype,S=b?WeakRef.prototype.deref:null,x=Boolean.prototype.valueOf,E=Object.prototype.toString,k=Function.prototype.toString,C=String.prototype.match,M=String.prototype.slice,P=String.prototype.replace,z=String.prototype.toUpperCase,D=String.prototype.toLowerCase,B=RegExp.prototype.test,R=Array.prototype.concat,V=Array.prototype.join,J=Array.prototype.slice,tt=Math.floor,st=typeof BigInt=="function"?BigInt.prototype.valueOf:null,G=Object.getOwnPropertySymbols,mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ht=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ut=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ht||!0)?Symbol.toStringTag:null,rt=Object.prototype.propertyIsEnumerable,lt=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Ot){return Ot.__proto__}:null);function et(Ot,Yt){if(Ot===1/0||Ot===-1/0||Ot!==Ot||Ot&&Ot>-1e3&&Ot<1e3||B.call(/e/,Yt))return Yt;var je=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Ot=="number"){var ue=Ot<0?-tt(-Ot):tt(Ot);if(ue!==Ot){var Fe=String(ue),Ke=M.call(Yt,Fe.length+1);return P.call(Fe,je,"$&_")+"."+P.call(P.call(Ke,/([0-9]{3})/g,"$&_"),/_$/,"")}}return P.call(Yt,je,"$&_")}var jt=v2,nt=jt.custom,Z=Nt(nt)?nt:null;td=function Ot(Yt,je,ue,Fe){var Ke=je||{};if(Jt(Ke,"quoteStyle")&&Ke.quoteStyle!=="single"&&Ke.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Jt(Ke,"maxStringLength")&&(typeof Ke.maxStringLength=="number"?Ke.maxStringLength<0&&Ke.maxStringLength!==1/0:Ke.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var ki=Jt(Ke,"customInspect")?Ke.customInspect:!0;if(typeof ki!="boolean"&&ki!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Jt(Ke,"indent")&&Ke.indent!==null&&Ke.indent!=="	"&&!(parseInt(Ke.indent,10)===Ke.indent&&Ke.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Jt(Ke,"numericSeparator")&&typeof Ke.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Te=Ke.numericSeparator;if(typeof Yt>"u")return"undefined";if(Yt===null)return"null";if(typeof Yt=="boolean")return Yt?"true":"false";if(typeof Yt=="string")return Xt(Yt,Ke);if(typeof Yt=="number"){if(Yt===0)return 1/0/Yt>0?"0":"-0";var Nn=String(Yt);return Te?et(Yt,Nn):Nn}if(typeof Yt=="bigint"){var ci=String(Yt)+"n";return Te?et(Yt,ci):ci}var yi=typeof Ke.depth>"u"?5:Ke.depth;if(typeof ue>"u"&&(ue=0),ue>=yi&&yi>0&&typeof Yt=="object")return At(Yt)?"[Array]":"[Object]";var _i=It(Ke,ue);if(typeof Fe>"u")Fe=[];else if(Vt(Fe,Yt)>=0)return"[Circular]";function Vn(Fn,fr,bi){if(fr&&(Fe=J.call(Fe),Fe.push(fr)),bi){var Ri={depth:Ke.depth};return Jt(Ke,"quoteStyle")&&(Ri.quoteStyle=Ke.quoteStyle),Ot(Fn,Ri,ue+1,Fe)}return Ot(Fn,Ke,ue+1,Fe)}if(typeof Yt=="function"&&!Ut(Yt)){var qo=Et(Yt),Vr=we(Yt,Vn);return"[Function"+(qo?": "+qo:" (anonymous)")+"]"+(Vr.length>0?" { "+V.call(Vr,", ")+" }":"")}if(Nt(Yt)){var Pi=ht?P.call(String(Yt),/^(Symbol\(.*\))_[^)]*$/,"$1"):mt.call(Yt);return typeof Yt=="object"&&!ht?N(Pi):Pi}if(ve(Yt)){for(var it="<"+D.call(String(Yt.nodeName)),dt=Yt.attributes||[],xe=0;xe<dt.length;xe++)it+=" "+dt[xe].name+"="+K(at(dt[xe].value),"double",Ke);return it+=">",Yt.childNodes&&Yt.childNodes.length&&(it+="..."),it+="</"+D.call(String(Yt.nodeName))+">",it}if(At(Yt)){if(Yt.length===0)return"[]";var be=we(Yt,Vn);return _i&&!bt(be)?"["+ee(be,_i)+"]":"[ "+V.call(be,", ")+" ]"}if(_t(Yt)){var ke=we(Yt,Vn);return!("cause"in Error.prototype)&&"cause"in Yt&&!rt.call(Yt,"cause")?"{ ["+String(Yt)+"] "+V.call(R.call("[cause]: "+Vn(Yt.cause),ke),", ")+" }":ke.length===0?"["+String(Yt)+"]":"{ ["+String(Yt)+"] "+V.call(ke,", ")+" }"}if(typeof Yt=="object"&&ki){if(Z&&typeof Yt[Z]=="function"&&jt)return jt(Yt,{depth:yi-ue});if(ki!=="symbol"&&typeof Yt.inspect=="function")return Yt.inspect()}if(ie(Yt)){var ln=[];return r&&r.call(Yt,function(Fn,fr){ln.push(Vn(fr,Yt,!0)+" => "+Vn(Fn,Yt))}),Y("Map",e.call(Yt),ln,_i)}if(wt(Yt)){var Ne=[];return c&&c.call(Yt,function(Fn){Ne.push(Vn(Fn,Yt))}),Y("Set",l.call(Yt),Ne,_i)}if(re(Yt))return F("WeakMap");if(fe(Yt))return F("WeakSet");if(he(Yt))return F("WeakRef");if(vt(Yt))return N(Vn(Number(Yt)));if(Tt(Yt))return N(Vn(st.call(Yt)));if(Mt(Yt))return N(x.call(Yt));if(ct(Yt))return N(Vn(String(Yt)));if(typeof window<"u"&&Yt===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Yt===globalThis||typeof ed<"u"&&Yt===ed)return"{ [object globalThis] }";if(!gt(Yt)&&!Ut(Yt)){var ii=we(Yt,Vn),Gi=lt?lt(Yt)===Object.prototype:Yt instanceof Object||Yt.constructor===Object,Mi=Yt instanceof Object?"":"null prototype",hn=!Gi&&ut&&Object(Yt)===Yt&&ut in Yt?M.call(ft(Yt),8,-1):Mi?"Object":"",Tn=Gi||typeof Yt.constructor!="function"?"":Yt.constructor.name?Yt.constructor.name+" ":"",Un=Tn+(hn||Mi?"["+V.call(R.call([],hn||[],Mi||[]),": ")+"] ":"");return ii.length===0?Un+"{}":_i?Un+"{"+ee(ii,_i)+"}":Un+"{ "+V.call(ii,", ")+" }"}return String(Yt)};function K(Ot,Yt,je){var ue=(je.quoteStyle||Yt)==="double"?'"':"'";return ue+Ot+ue}function at(Ot){return P.call(String(Ot),/"/g,"&quot;")}function At(Ot){return ft(Ot)==="[object Array]"&&(!ut||!(typeof Ot=="object"&&ut in Ot))}function gt(Ot){return ft(Ot)==="[object Date]"&&(!ut||!(typeof Ot=="object"&&ut in Ot))}function Ut(Ot){return ft(Ot)==="[object RegExp]"&&(!ut||!(typeof Ot=="object"&&ut in Ot))}function _t(Ot){return ft(Ot)==="[object Error]"&&(!ut||!(typeof Ot=="object"&&ut in Ot))}function ct(Ot){return ft(Ot)==="[object String]"&&(!ut||!(typeof Ot=="object"&&ut in Ot))}function vt(Ot){return ft(Ot)==="[object Number]"&&(!ut||!(typeof Ot=="object"&&ut in Ot))}function Mt(Ot){return ft(Ot)==="[object Boolean]"&&(!ut||!(typeof Ot=="object"&&ut in Ot))}function Nt(Ot){if(ht)return Ot&&typeof Ot=="object"&&Ot instanceof Symbol;if(typeof Ot=="symbol")return!0;if(!Ot||typeof Ot!="object"||!mt)return!1;try{return mt.call(Ot),!0}catch{}return!1}function Tt(Ot){if(!Ot||typeof Ot!="object"||!st)return!1;try{return st.call(Ot),!0}catch{}return!1}var ce=Object.prototype.hasOwnProperty||function(Ot){return Ot in(this||ed)};function Jt(Ot,Yt){return ce.call(Ot,Yt)}function ft(Ot){return E.call(Ot)}function Et(Ot){if(Ot.name)return Ot.name;var Yt=C.call(k.call(Ot),/^function\s*([\w$]+)/);return Yt?Yt[1]:null}function Vt(Ot,Yt){if(Ot.indexOf)return Ot.indexOf(Yt);for(var je=0,ue=Ot.length;je<ue;je++)if(Ot[je]===Yt)return je;return-1}function ie(Ot){if(!e||!Ot||typeof Ot!="object")return!1;try{e.call(Ot);try{l.call(Ot)}catch{return!0}return Ot instanceof Map}catch{}return!1}function re(Ot){if(!d||!Ot||typeof Ot!="object")return!1;try{d.call(Ot,d);try{y.call(Ot,y)}catch{return!0}return Ot instanceof WeakMap}catch{}return!1}function he(Ot){if(!S||!Ot||typeof Ot!="object")return!1;try{return S.call(Ot),!0}catch{}return!1}function wt(Ot){if(!l||!Ot||typeof Ot!="object")return!1;try{l.call(Ot);try{e.call(Ot)}catch{return!0}return Ot instanceof Set}catch{}return!1}function fe(Ot){if(!y||!Ot||typeof Ot!="object")return!1;try{y.call(Ot,y);try{d.call(Ot,d)}catch{return!0}return Ot instanceof WeakSet}catch{}return!1}function ve(Ot){return!Ot||typeof Ot!="object"?!1:typeof HTMLElement<"u"&&Ot instanceof HTMLElement?!0:typeof Ot.nodeName=="string"&&typeof Ot.getAttribute=="function"}function Xt(Ot,Yt){if(Ot.length>Yt.maxStringLength){var je=Ot.length-Yt.maxStringLength,ue="... "+je+" more character"+(je>1?"s":"");return Xt(M.call(Ot,0,Yt.maxStringLength),Yt)+ue}var Fe=P.call(P.call(Ot,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Ze);return K(Fe,"single",Yt)}function Ze(Ot){var Yt=Ot.charCodeAt(0),je={8:"b",9:"t",10:"n",12:"f",13:"r"}[Yt];return je?"\\"+je:"\\x"+(Yt<16?"0":"")+z.call(Yt.toString(16))}function N(Ot){return"Object("+Ot+")"}function F(Ot){return Ot+" { ? }"}function Y(Ot,Yt,je,ue){var Fe=ue?ee(je,ue):V.call(je,", ");return Ot+" ("+Yt+") {"+Fe+"}"}function bt(Ot){for(var Yt=0;Yt<Ot.length;Yt++)if(Vt(Ot[Yt],`
`)>=0)return!1;return!0}function It(Ot,Yt){var je;if(Ot.indent==="	")je="	";else if(typeof Ot.indent=="number"&&Ot.indent>0)je=V.call(Array(Ot.indent+1)," ");else return null;return{base:je,prev:V.call(Array(Yt+1),je)}}function ee(Ot,Yt){if(Ot.length===0)return"";var je=`
`+Yt.prev+Yt.base;return je+V.call(Ot,","+je)+`
`+Yt.prev}function we(Ot,Yt){var je=At(Ot),ue=[];if(je){ue.length=Ot.length;for(var Fe=0;Fe<Ot.length;Fe++)ue[Fe]=Jt(Ot,Fe)?Yt(Ot[Fe],Ot):""}var Ke=typeof G=="function"?G(Ot):[],ki;if(ht){ki={};for(var Te=0;Te<Ke.length;Te++)ki["$"+Ke[Te]]=Ke[Te]}for(var Nn in Ot)Jt(Ot,Nn)&&(je&&String(Number(Nn))===Nn&&Nn<Ot.length||ht&&ki["$"+Nn]instanceof Symbol||(B.call(/[^\w$]/,Nn)?ue.push(Yt(Nn,Ot)+": "+Yt(Ot[Nn],Ot)):ue.push(Nn+": "+Yt(Ot[Nn],Ot))));if(typeof G=="function")for(var ci=0;ci<Ke.length;ci++)rt.call(Ot,Ke[ci])&&ue.push("["+Yt(Ke[ci])+"]: "+Yt(Ot[Ke[ci]],Ot));return ue}return td}function wO(){if(Fy)return nd;Fy=!0;var n=Du(),t=sO(),e=vO(),r=cf(),o=n("%WeakMap%",!0),a=n("%Map%",!0),l=t("WeakMap.prototype.get",!0),c=t("WeakMap.prototype.set",!0),h=t("WeakMap.prototype.has",!0),d=t("Map.prototype.get",!0),g=t("Map.prototype.set",!0),y=t("Map.prototype.has",!0),b=function(k,C){for(var M=k,P;(P=M.next)!==null;M=P)if(P.key===C)return M.next=P.next,P.next=k.next,k.next=P,P},S=function(k,C){var M=b(k,C);return M&&M.value},x=function(k,C,M){var P=b(k,C);P?P.value=M:k.next={key:C,next:k.next,value:M}},E=function(k,C){return!!b(k,C)};return nd=function(){var k,C,M,P={assert:function(z){if(!P.has(z))throw new r("Side channel does not contain "+e(z))},get:function(z){if(o&&z&&(typeof z=="object"||typeof z=="function")){if(k)return l(k,z)}else if(a){if(C)return d(C,z)}else if(M)return S(M,z)},has:function(z){if(o&&z&&(typeof z=="object"||typeof z=="function")){if(k)return h(k,z)}else if(a){if(C)return y(C,z)}else if(M)return E(M,z);return!1},set:function(z,D){o&&z&&(typeof z=="object"||typeof z=="function")?(k||(k=new o),c(k,z,D)):a?(C||(C=new a),g(C,z,D)):(M||(M={key:{},next:null}),x(M,z,D))}};return P},nd}function E_(){if(Hy)return id;Hy=!0;var n=String.prototype.replace,t=/%20/g,e={RFC1738:"RFC1738",RFC3986:"RFC3986"};return id={default:e.RFC3986,formatters:{RFC1738:function(r){return n.call(r,t,"+")},RFC3986:function(r){return String(r)}},RFC1738:e.RFC1738,RFC3986:e.RFC3986},id}function y2(){if(qy)return rd;qy=!0;var n=E_(),t=Object.prototype.hasOwnProperty,e=Array.isArray,r=(function(){for(var k=[],C=0;C<256;++C)k.push("%"+((C<16?"0":"")+C.toString(16)).toUpperCase());return k})(),o=function(k){for(;k.length>1;){var C=k.pop(),M=C.obj[C.prop];if(e(M)){for(var P=[],z=0;z<M.length;++z)typeof M[z]<"u"&&P.push(M[z]);C.obj[C.prop]=P}}},a=function(k,C){for(var M=C&&C.plainObjects?Object.create(null):{},P=0;P<k.length;++P)typeof k[P]<"u"&&(M[P]=k[P]);return M},l=function k(C,M,P){if(!M)return C;if(typeof M!="object"){if(e(C))C.push(M);else if(C&&typeof C=="object")(P&&(P.plainObjects||P.allowPrototypes)||!t.call(Object.prototype,M))&&(C[M]=!0);else return[C,M];return C}if(!C||typeof C!="object")return[C].concat(M);var z=C;return e(C)&&!e(M)&&(z=a(C,P)),e(C)&&e(M)?(M.forEach(function(D,B){if(t.call(C,B)){var R=C[B];R&&typeof R=="object"&&D&&typeof D=="object"?C[B]=k(R,D,P):C.push(D)}else C[B]=D}),C):Object.keys(M).reduce(function(D,B){var R=M[B];return t.call(D,B)?D[B]=k(D[B],R,P):D[B]=R,D},z)},c=function(k,C){return Object.keys(C).reduce(function(M,P){return M[P]=C[P],M},k)},h=function(k,C,M){var P=k.replace(/\+/g," ");if(M==="iso-8859-1")return P.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(P)}catch{return P}},d=1024,g=function(k,C,M,P,z){if(k.length===0)return k;var D=k;if(typeof k=="symbol"?D=Symbol.prototype.toString.call(k):typeof k!="string"&&(D=String(k)),M==="iso-8859-1")return escape(D).replace(/%u[0-9a-f]{4}/gi,function(G){return"%26%23"+parseInt(G.slice(2),16)+"%3B"});for(var B="",R=0;R<D.length;R+=d){for(var V=D.length>=d?D.slice(R,R+d):D,J=[],tt=0;tt<V.length;++tt){var st=V.charCodeAt(tt);if(st===45||st===46||st===95||st===126||st>=48&&st<=57||st>=65&&st<=90||st>=97&&st<=122||z===n.RFC1738&&(st===40||st===41)){J[J.length]=V.charAt(tt);continue}if(st<128){J[J.length]=r[st];continue}if(st<2048){J[J.length]=r[192|st>>6]+r[128|st&63];continue}if(st<55296||st>=57344){J[J.length]=r[224|st>>12]+r[128|st>>6&63]+r[128|st&63];continue}tt+=1,st=65536+((st&1023)<<10|V.charCodeAt(tt)&1023),J[J.length]=r[240|st>>18]+r[128|st>>12&63]+r[128|st>>6&63]+r[128|st&63]}B+=J.join("")}return B},y=function(k){for(var C=[{obj:{o:k},prop:"o"}],M=[],P=0;P<C.length;++P)for(var z=C[P],D=z.obj[z.prop],B=Object.keys(D),R=0;R<B.length;++R){var V=B[R],J=D[V];typeof J=="object"&&J!==null&&M.indexOf(J)===-1&&(C.push({obj:D,prop:V}),M.push(J))}return o(C),k},b=function(k){return Object.prototype.toString.call(k)==="[object RegExp]"},S=function(k){return!k||typeof k!="object"?!1:!!(k.constructor&&k.constructor.isBuffer&&k.constructor.isBuffer(k))},x=function(k,C){return[].concat(k,C)},E=function(k,C){if(e(k)){for(var M=[],P=0;P<k.length;P+=1)M.push(C(k[P]));return M}return C(k)};return rd={arrayToObject:a,assign:c,combine:x,compact:y,decode:h,encode:g,isBuffer:S,isRegExp:b,maybeMap:E,merge:l},rd}function xO(){if(Vy)return od;Vy=!0;var n=wO(),t=y2(),e=E_(),r=Object.prototype.hasOwnProperty,o={brackets:function(E){return E+"[]"},comma:"comma",indices:function(E,k){return E+"["+k+"]"},repeat:function(E){return E}},a=Array.isArray,l=Array.prototype.push,c=function(E,k){l.apply(E,a(k)?k:[k])},h=Date.prototype.toISOString,d=e.default,g={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,format:d,formatter:e.formatters[d],indices:!1,serializeDate:function(E){return h.call(E)},skipNulls:!1,strictNullHandling:!1},y=function(E){return typeof E=="string"||typeof E=="number"||typeof E=="boolean"||typeof E=="symbol"||typeof E=="bigint"},b={},S=function E(k,C,M,P,z,D,B,R,V,J,tt,st,G,mt,ht,ut,rt,lt){for(var et=k,jt=lt,nt=0,Z=!1;(jt=jt.get(b))!==void 0&&!Z;){var K=jt.get(k);if(nt+=1,typeof K<"u"){if(K===nt)throw new RangeError("Cyclic object value");Z=!0}typeof jt.get(b)>"u"&&(nt=0)}if(typeof J=="function"?et=J(C,et):et instanceof Date?et=G(et):M==="comma"&&a(et)&&(et=t.maybeMap(et,function(ft){return ft instanceof Date?G(ft):ft})),et===null){if(D)return V&&!ut?V(C,g.encoder,rt,"key",mt):C;et=""}if(y(et)||t.isBuffer(et)){if(V){var at=ut?C:V(C,g.encoder,rt,"key",mt);return[ht(at)+"="+ht(V(et,g.encoder,rt,"value",mt))]}return[ht(C)+"="+ht(String(et))]}var At=[];if(typeof et>"u")return At;var gt;if(M==="comma"&&a(et))ut&&V&&(et=t.maybeMap(et,V)),gt=[{value:et.length>0?et.join(",")||null:void 0}];else if(a(J))gt=J;else{var Ut=Object.keys(et);gt=tt?Ut.sort(tt):Ut}var _t=R?C.replace(/\./g,"%2E"):C,ct=P&&a(et)&&et.length===1?_t+"[]":_t;if(z&&a(et)&&et.length===0)return ct+"[]";for(var vt=0;vt<gt.length;++vt){var Mt=gt[vt],Nt=typeof Mt=="object"&&typeof Mt.value<"u"?Mt.value:et[Mt];if(!(B&&Nt===null)){var Tt=st&&R?Mt.replace(/\./g,"%2E"):Mt,ce=a(et)?typeof M=="function"?M(ct,Tt):ct:ct+(st?"."+Tt:"["+Tt+"]");lt.set(k,nt);var Jt=n();Jt.set(b,lt),c(At,E(Nt,ce,M,P,z,D,B,R,M==="comma"&&ut&&a(et)?null:V,J,tt,st,G,mt,ht,ut,rt,Jt))}}return At},x=function(E){if(!E)return g;if(typeof E.allowEmptyArrays<"u"&&typeof E.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof E.encodeDotInKeys<"u"&&typeof E.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(E.encoder!==null&&typeof E.encoder<"u"&&typeof E.encoder!="function")throw new TypeError("Encoder has to be a function.");var k=E.charset||g.charset;if(typeof E.charset<"u"&&E.charset!=="utf-8"&&E.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var C=e.default;if(typeof E.format<"u"){if(!r.call(e.formatters,E.format))throw new TypeError("Unknown format option provided.");C=E.format}var M=e.formatters[C],P=g.filter;(typeof E.filter=="function"||a(E.filter))&&(P=E.filter);var z;if(E.arrayFormat in o?z=E.arrayFormat:"indices"in E?z=E.indices?"indices":"repeat":z=g.arrayFormat,"commaRoundTrip"in E&&typeof E.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var D=typeof E.allowDots>"u"?E.encodeDotInKeys===!0?!0:g.allowDots:!!E.allowDots;return{addQueryPrefix:typeof E.addQueryPrefix=="boolean"?E.addQueryPrefix:g.addQueryPrefix,allowDots:D,allowEmptyArrays:typeof E.allowEmptyArrays=="boolean"?!!E.allowEmptyArrays:g.allowEmptyArrays,arrayFormat:z,charset:k,charsetSentinel:typeof E.charsetSentinel=="boolean"?E.charsetSentinel:g.charsetSentinel,commaRoundTrip:E.commaRoundTrip,delimiter:typeof E.delimiter>"u"?g.delimiter:E.delimiter,encode:typeof E.encode=="boolean"?E.encode:g.encode,encodeDotInKeys:typeof E.encodeDotInKeys=="boolean"?E.encodeDotInKeys:g.encodeDotInKeys,encoder:typeof E.encoder=="function"?E.encoder:g.encoder,encodeValuesOnly:typeof E.encodeValuesOnly=="boolean"?E.encodeValuesOnly:g.encodeValuesOnly,filter:P,format:C,formatter:M,serializeDate:typeof E.serializeDate=="function"?E.serializeDate:g.serializeDate,skipNulls:typeof E.skipNulls=="boolean"?E.skipNulls:g.skipNulls,sort:typeof E.sort=="function"?E.sort:null,strictNullHandling:typeof E.strictNullHandling=="boolean"?E.strictNullHandling:g.strictNullHandling}};return od=function(E,k){var C=E,M=x(k),P,z;typeof M.filter=="function"?(z=M.filter,C=z("",C)):a(M.filter)&&(z=M.filter,P=z);var D=[];if(typeof C!="object"||C===null)return"";var B=o[M.arrayFormat],R=B==="comma"&&M.commaRoundTrip;P||(P=Object.keys(C)),M.sort&&P.sort(M.sort);for(var V=n(),J=0;J<P.length;++J){var tt=P[J];M.skipNulls&&C[tt]===null||c(D,S(C[tt],tt,B,R,M.allowEmptyArrays,M.strictNullHandling,M.skipNulls,M.encodeDotInKeys,M.encode?M.encoder:null,M.filter,M.sort,M.allowDots,M.serializeDate,M.format,M.formatter,M.encodeValuesOnly,M.charset,V))}var st=D.join(M.delimiter),G=M.addQueryPrefix===!0?"?":"";return M.charsetSentinel&&(M.charset==="iso-8859-1"?G+="utf8=%26%2310003%3B&":G+="utf8=%E2%9C%93&"),st.length>0?G+st:""},od}function SO(){if(Yy)return sd;Yy=!0;var n=y2(),t=Object.prototype.hasOwnProperty,e=Array.isArray,r={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},o=function(b){return b.replace(/&#(\d+);/g,function(S,x){return String.fromCharCode(parseInt(x,10))})},a=function(b,S){return b&&typeof b=="string"&&S.comma&&b.indexOf(",")>-1?b.split(","):b},l="utf8=%26%2310003%3B",c="utf8=%E2%9C%93",h=function(b,S){var x={__proto__:null},E=S.ignoreQueryPrefix?b.replace(/^\?/,""):b;E=E.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var k=S.parameterLimit===1/0?void 0:S.parameterLimit,C=E.split(S.delimiter,k),M=-1,P,z=S.charset;if(S.charsetSentinel)for(P=0;P<C.length;++P)C[P].indexOf("utf8=")===0&&(C[P]===c?z="utf-8":C[P]===l&&(z="iso-8859-1"),M=P,P=C.length);for(P=0;P<C.length;++P)if(P!==M){var D=C[P],B=D.indexOf("]="),R=B===-1?D.indexOf("="):B+1,V,J;R===-1?(V=S.decoder(D,r.decoder,z,"key"),J=S.strictNullHandling?null:""):(V=S.decoder(D.slice(0,R),r.decoder,z,"key"),J=n.maybeMap(a(D.slice(R+1),S),function(st){return S.decoder(st,r.decoder,z,"value")})),J&&S.interpretNumericEntities&&z==="iso-8859-1"&&(J=o(J)),D.indexOf("[]=")>-1&&(J=e(J)?[J]:J);var tt=t.call(x,V);tt&&S.duplicates==="combine"?x[V]=n.combine(x[V],J):(!tt||S.duplicates==="last")&&(x[V]=J)}return x},d=function(b,S,x,E){for(var k=E?S:a(S,x),C=b.length-1;C>=0;--C){var M,P=b[C];if(P==="[]"&&x.parseArrays)M=x.allowEmptyArrays&&(k===""||x.strictNullHandling&&k===null)?[]:[].concat(k);else{M=x.plainObjects?Object.create(null):{};var z=P.charAt(0)==="["&&P.charAt(P.length-1)==="]"?P.slice(1,-1):P,D=x.decodeDotInKeys?z.replace(/%2E/g,"."):z,B=parseInt(D,10);!x.parseArrays&&D===""?M={0:k}:!isNaN(B)&&P!==D&&String(B)===D&&B>=0&&x.parseArrays&&B<=x.arrayLimit?(M=[],M[B]=k):D!=="__proto__"&&(M[D]=k)}k=M}return k},g=function(b,S,x,E){if(b){var k=x.allowDots?b.replace(/\.([^.[]+)/g,"[$1]"):b,C=/(\[[^[\]]*])/,M=/(\[[^[\]]*])/g,P=x.depth>0&&C.exec(k),z=P?k.slice(0,P.index):k,D=[];if(z){if(!x.plainObjects&&t.call(Object.prototype,z)&&!x.allowPrototypes)return;D.push(z)}for(var B=0;x.depth>0&&(P=M.exec(k))!==null&&B<x.depth;){if(B+=1,!x.plainObjects&&t.call(Object.prototype,P[1].slice(1,-1))&&!x.allowPrototypes)return;D.push(P[1])}if(P){if(x.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+x.depth+" and strictDepth is true");D.push("["+k.slice(P.index)+"]")}return d(D,S,x,E)}},y=function(b){if(!b)return r;if(typeof b.allowEmptyArrays<"u"&&typeof b.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof b.decodeDotInKeys<"u"&&typeof b.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(b.decoder!==null&&typeof b.decoder<"u"&&typeof b.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof b.charset<"u"&&b.charset!=="utf-8"&&b.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var S=typeof b.charset>"u"?r.charset:b.charset,x=typeof b.duplicates>"u"?r.duplicates:b.duplicates;if(x!=="combine"&&x!=="first"&&x!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var E=typeof b.allowDots>"u"?b.decodeDotInKeys===!0?!0:r.allowDots:!!b.allowDots;return{allowDots:E,allowEmptyArrays:typeof b.allowEmptyArrays=="boolean"?!!b.allowEmptyArrays:r.allowEmptyArrays,allowPrototypes:typeof b.allowPrototypes=="boolean"?b.allowPrototypes:r.allowPrototypes,allowSparse:typeof b.allowSparse=="boolean"?b.allowSparse:r.allowSparse,arrayLimit:typeof b.arrayLimit=="number"?b.arrayLimit:r.arrayLimit,charset:S,charsetSentinel:typeof b.charsetSentinel=="boolean"?b.charsetSentinel:r.charsetSentinel,comma:typeof b.comma=="boolean"?b.comma:r.comma,decodeDotInKeys:typeof b.decodeDotInKeys=="boolean"?b.decodeDotInKeys:r.decodeDotInKeys,decoder:typeof b.decoder=="function"?b.decoder:r.decoder,delimiter:typeof b.delimiter=="string"||n.isRegExp(b.delimiter)?b.delimiter:r.delimiter,depth:typeof b.depth=="number"||b.depth===!1?+b.depth:r.depth,duplicates:x,ignoreQueryPrefix:b.ignoreQueryPrefix===!0,interpretNumericEntities:typeof b.interpretNumericEntities=="boolean"?b.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:typeof b.parameterLimit=="number"?b.parameterLimit:r.parameterLimit,parseArrays:b.parseArrays!==!1,plainObjects:typeof b.plainObjects=="boolean"?b.plainObjects:r.plainObjects,strictDepth:typeof b.strictDepth=="boolean"?!!b.strictDepth:r.strictDepth,strictNullHandling:typeof b.strictNullHandling=="boolean"?b.strictNullHandling:r.strictNullHandling}};return sd=function(b,S){var x=y(S);if(b===""||b===null||typeof b>"u")return x.plainObjects?Object.create(null):{};for(var E=typeof b=="string"?h(b,x):b,k=x.plainObjects?Object.create(null):{},C=Object.keys(E),M=0;M<C.length;++M){var P=C[M],z=g(P,E[P],x,typeof b=="string");k=n.merge(k,z,x)}return x.allowSparse===!0?k:n.compact(k)},sd}function EO(){if(Zy)return ad;Zy=!0;var n=xO(),t=SO(),e=E_();return ad={formats:e,parse:t,stringify:n},ad}function TO(){if(Ky)return Va;Ky=!0;var n=qa;function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var e=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,o=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,a=["<",">",'"',"`"," ","\r",`
`,"	"],l=["{","}","|","\\","^","`"].concat(a),c=["'"].concat(l),h=["%","/","?",";","#"].concat(c),d=["/","?","#"],g=255,y=/^[+a-z0-9A-Z_-]{0,63}$/,b=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,S={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},k=EO();function C(D,B,R){if(D&&typeof D=="object"&&D instanceof t)return D;var V=new t;return V.parse(D,B,R),V}t.prototype.parse=function(D,B,R){if(typeof D!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof D);var V=D.indexOf("?"),J=V!==-1&&V<D.indexOf("#")?"?":"#",tt=D.split(J),st=/\\/g;tt[0]=tt[0].replace(st,"/"),D=tt.join(J);var G=D;if(G=G.trim(),!R&&D.split("#").length===1){var mt=o.exec(G);if(mt)return this.path=G,this.href=G,this.pathname=mt[1],mt[2]?(this.search=mt[2],B?this.query=k.parse(this.search.substr(1)):this.query=this.search.substr(1)):B&&(this.search="",this.query={}),this}var ht=e.exec(G);if(ht){ht=ht[0];var ut=ht.toLowerCase();this.protocol=ut,G=G.substr(ht.length)}if(R||ht||G.match(/^\/\/[^@/]+@[^@/]+/)){var rt=G.substr(0,2)==="//";rt&&!(ht&&x[ht])&&(G=G.substr(2),this.slashes=!0)}if(!x[ht]&&(rt||ht&&!E[ht])){for(var lt=-1,et=0;et<d.length;et++){var jt=G.indexOf(d[et]);jt!==-1&&(lt===-1||jt<lt)&&(lt=jt)}var nt,Z;lt===-1?Z=G.lastIndexOf("@"):Z=G.lastIndexOf("@",lt),Z!==-1&&(nt=G.slice(0,Z),G=G.slice(Z+1),this.auth=decodeURIComponent(nt)),lt=-1;for(var et=0;et<h.length;et++){var jt=G.indexOf(h[et]);jt!==-1&&(lt===-1||jt<lt)&&(lt=jt)}lt===-1&&(lt=G.length),this.host=G.slice(0,lt),G=G.slice(lt),this.parseHost(),this.hostname=this.hostname||"";var K=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!K)for(var at=this.hostname.split(/\./),et=0,At=at.length;et<At;et++){var gt=at[et];if(gt&&!gt.match(y)){for(var Ut="",_t=0,ct=gt.length;_t<ct;_t++)gt.charCodeAt(_t)>127?Ut+="x":Ut+=gt[_t];if(!Ut.match(y)){var vt=at.slice(0,et),Mt=at.slice(et+1),Nt=gt.match(b);Nt&&(vt.push(Nt[1]),Mt.unshift(Nt[2])),Mt.length&&(G="/"+Mt.join(".")+G),this.hostname=vt.join(".");break}}}this.hostname.length>g?this.hostname="":this.hostname=this.hostname.toLowerCase(),K||(this.hostname=n.toASCII(this.hostname));var Tt=this.port?":"+this.port:"",ce=this.hostname||"";this.host=ce+Tt,this.href+=this.host,K&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),G[0]!=="/"&&(G="/"+G))}if(!S[ut])for(var et=0,At=c.length;et<At;et++){var Jt=c[et];if(G.indexOf(Jt)!==-1){var ft=encodeURIComponent(Jt);ft===Jt&&(ft=escape(Jt)),G=G.split(Jt).join(ft)}}var Et=G.indexOf("#");Et!==-1&&(this.hash=G.substr(Et),G=G.slice(0,Et));var Vt=G.indexOf("?");if(Vt!==-1?(this.search=G.substr(Vt),this.query=G.substr(Vt+1),B&&(this.query=k.parse(this.query)),G=G.slice(0,Vt)):B&&(this.search="",this.query={}),G&&(this.pathname=G),E[ut]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Tt=this.pathname||"",ie=this.search||"";this.path=Tt+ie}return this.href=this.format(),this};function M(D){return typeof D=="string"&&(D=C(D)),D instanceof t?D.format():t.prototype.format.call(D)}t.prototype.format=function(){var D=this.auth||"";D&&(D=encodeURIComponent(D),D=D.replace(/%3A/i,":"),D+="@");var B=this.protocol||"",R=this.pathname||"",V=this.hash||"",J=!1,tt="";this.host?J=D+this.host:this.hostname&&(J=D+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(J+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(tt=k.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var st=this.search||tt&&"?"+tt||"";return B&&B.substr(-1)!==":"&&(B+=":"),this.slashes||(!B||E[B])&&J!==!1?(J="//"+(J||""),R&&R.charAt(0)!=="/"&&(R="/"+R)):J||(J=""),V&&V.charAt(0)!=="#"&&(V="#"+V),st&&st.charAt(0)!=="?"&&(st="?"+st),R=R.replace(/[?#]/g,function(G){return encodeURIComponent(G)}),st=st.replace("#","%23"),B+J+R+st+V};function P(D,B){return C(D,!1,!0).resolve(B)}t.prototype.resolve=function(D){return this.resolveObject(C(D,!1,!0)).format()};function z(D,B){return D?C(D,!1,!0).resolveObject(B):B}return t.prototype.resolveObject=function(D){if(typeof D=="string"){var B=new t;B.parse(D,!1,!0),D=B}for(var R=new t,V=Object.keys(this),J=0;J<V.length;J++){var tt=V[J];R[tt]=this[tt]}if(R.hash=D.hash,D.href==="")return R.href=R.format(),R;if(D.slashes&&!D.protocol){for(var st=Object.keys(D),G=0;G<st.length;G++){var mt=st[G];mt!=="protocol"&&(R[mt]=D[mt])}return E[R.protocol]&&R.hostname&&!R.pathname&&(R.pathname="/",R.path=R.pathname),R.href=R.format(),R}if(D.protocol&&D.protocol!==R.protocol){if(!E[D.protocol]){for(var ht=Object.keys(D),ut=0;ut<ht.length;ut++){var rt=ht[ut];R[rt]=D[rt]}return R.href=R.format(),R}if(R.protocol=D.protocol,!D.host&&!x[D.protocol]){for(var At=(D.pathname||"").split("/");At.length&&!(D.host=At.shift()););D.host||(D.host=""),D.hostname||(D.hostname=""),At[0]!==""&&At.unshift(""),At.length<2&&At.unshift(""),R.pathname=At.join("/")}else R.pathname=D.pathname;if(R.search=D.search,R.query=D.query,R.host=D.host||"",R.auth=D.auth,R.hostname=D.hostname||D.host,R.port=D.port,R.pathname||R.search){var lt=R.pathname||"",et=R.search||"";R.path=lt+et}return R.slashes=R.slashes||D.slashes,R.href=R.format(),R}var jt=R.pathname&&R.pathname.charAt(0)==="/",nt=D.host||D.pathname&&D.pathname.charAt(0)==="/",Z=nt||jt||R.host&&D.pathname,K=Z,at=R.pathname&&R.pathname.split("/")||[],At=D.pathname&&D.pathname.split("/")||[],gt=R.protocol&&!E[R.protocol];if(gt&&(R.hostname="",R.port=null,R.host&&(at[0]===""?at[0]=R.host:at.unshift(R.host)),R.host="",D.protocol&&(D.hostname=null,D.port=null,D.host&&(At[0]===""?At[0]=D.host:At.unshift(D.host)),D.host=null),Z=Z&&(At[0]===""||at[0]==="")),nt)R.host=D.host||D.host===""?D.host:R.host,R.hostname=D.hostname||D.hostname===""?D.hostname:R.hostname,R.search=D.search,R.query=D.query,at=At;else if(At.length)at||(at=[]),at.pop(),at=at.concat(At),R.search=D.search,R.query=D.query;else if(D.search!=null){if(gt){R.host=at.shift(),R.hostname=R.host;var Ut=R.host&&R.host.indexOf("@")>0?R.host.split("@"):!1;Ut&&(R.auth=Ut.shift(),R.hostname=Ut.shift(),R.host=R.hostname)}return R.search=D.search,R.query=D.query,(R.pathname!==null||R.search!==null)&&(R.path=(R.pathname?R.pathname:"")+(R.search?R.search:"")),R.href=R.format(),R}if(!at.length)return R.pathname=null,R.search?R.path="/"+R.search:R.path=null,R.href=R.format(),R;for(var _t=at.slice(-1)[0],ct=(R.host||D.host||at.length>1)&&(_t==="."||_t==="..")||_t==="",vt=0,Mt=at.length;Mt>=0;Mt--)_t=at[Mt],_t==="."?at.splice(Mt,1):_t===".."?(at.splice(Mt,1),vt++):vt&&(at.splice(Mt,1),vt--);if(!Z&&!K)for(;vt--;vt)at.unshift("..");Z&&at[0]!==""&&(!at[0]||at[0].charAt(0)!=="/")&&at.unshift(""),ct&&at.join("/").substr(-1)!=="/"&&at.push("");var Nt=at[0]===""||at[0]&&at[0].charAt(0)==="/";if(gt){R.hostname=Nt?"":at.length?at.shift():"",R.host=R.hostname;var Ut=R.host&&R.host.indexOf("@")>0?R.host.split("@"):!1;Ut&&(R.auth=Ut.shift(),R.hostname=Ut.shift(),R.host=R.hostname)}return Z=Z||R.host&&at.length,Z&&!Nt&&at.unshift(""),at.length>0?R.pathname=at.join("/"):(R.pathname=null,R.path=null),(R.pathname!==null||R.search!==null)&&(R.path=(R.pathname?R.pathname:"")+(R.search?R.search:"")),R.auth=D.auth||R.auth,R.slashes=R.slashes||D.slashes,R.href=R.format(),R},t.prototype.parseHost=function(){var D=this.host,B=r.exec(D);B&&(B=B[0],B!==":"&&(this.port=B.substr(1)),D=D.substr(0,D.length-B.length)),D&&(this.hostname=D)},Va.parse=C,Va.resolve=P,Va.resolveObject=z,Va.format=M,Va.Url=t,Va}function _2(n){if(typeof n=="string")n=new URL(n);else if(!(n instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(n.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return dd?AO(n):kO(n)}function AO(n){let t=n.hostname,e=n.pathname;for(let r=0;r<e.length;r++)if(e[r]==="%"){let o=e.codePointAt(r+2)||32;if(e[r+1]==="2"&&o===102||e[r+1]==="5"&&o===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(e=e.replace(L2,"\\"),e=decodeURIComponent(e),t!=="")return`\\\\${t}${e}`;{let r=e.codePointAt(1)|32,o=e[2];if(r<O2||r>C2||o!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return e.slice(1)}}function kO(n){if(n.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let t=n.pathname;for(let e=0;e<t.length;e++)if(t[e]==="%"){let r=t.codePointAt(e+2)||32;if(t[e+1]==="2"&&r===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function b2(n){let t=Iy.resolve(n),e=n.charCodeAt(n.length-1);(e===M2||dd&&e===k2)&&t[t.length-1]!==Iy.sep&&(t+="/");let r=new URL("file://");return t.includes("%")&&(t=t.replace(N2,"%25")),!dd&&t.includes("\\")&&(t=t.replace(D2,"%5C")),t.includes(`
`)&&(t=t.replace(j2,"%0A")),t.includes("\r")&&(t=t.replace(P2,"%0D")),t.includes("	")&&(t=t.replace(R2,"%09")),r.pathname=t,r}var v2,td,Uy,ed,nd,Fy,id,Hy,rd,qy,od,Vy,sd,Yy,ad,Zy,Va,Ky,ar,lw,w2,x2,S2,E2,T2,A2,k2,M2,O2,C2,dd,L2,N2,D2,j2,P2,R2,MO=qr(()=>{se(),le(),ae(),YM(),aO(),bO(),m2(),v2=Object.freeze(Object.create(null)),td={},Uy=!1,ed=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,nd={},Fy=!1,id={},Hy=!1,rd={},qy=!1,od={},Vy=!1,sd={},Yy=!1,ad={},Zy=!1,Va={},Ky=!1,ar=TO(),ar.parse,ar.resolve,ar.resolveObject,ar.format,ar.Url,lw=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,ar.URL=typeof URL<"u"?URL:null,ar.pathToFileURL=b2,ar.fileURLToPath=_2,w2=ar.Url,x2=ar.format,S2=ar.resolve,E2=ar.resolveObject,T2=ar.parse,A2=ar.URL,k2=92,M2=47,O2=97,C2=122,dd=lw==="win32",L2=/\//g,N2=/%/g,D2=/\\/g,j2=/\n/g,P2=/\r/g,R2=/\t/g}),OO=pe((n,t)=>{se(),le(),ae(),t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),T_=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0}),n.BufferedDuplex=void 0,n.writev=r;var t=Il(),e=(Hi(),zn(Fi));function r(a,l){let c=new Array(a.length);for(let h=0;h<a.length;h++)typeof a[h].chunk=="string"?c[h]=e.Buffer.from(a[h].chunk,"utf8"):c[h]=a[h].chunk;this._write(e.Buffer.concat(c),"binary",l)}var o=class extends t.Duplex{socket;proxy;isSocketOpen;writeQueue;constructor(a,l,c){super({objectMode:!0}),this.proxy=l,this.socket=c,this.writeQueue=[],a.objectMode||(this._writev=r.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",h=>{!this.destroyed&&this.readable&&this.push(h)})}_read(a){this.proxy.read(a)}_write(a,l,c){this.isSocketOpen?this.writeToProxy(a,l,c):this.writeQueue.push({chunk:a,encoding:l,cb:c})}_final(a){this.writeQueue=[],this.proxy.end(a)}_destroy(a,l){this.writeQueue=[],this.proxy.destroy(),l(a)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(a,l,c){this.proxy.write(a,l)===!1?this.proxy.once("drain",c):c()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:a,encoding:l,cb:c}=this.writeQueue.shift();this.writeToProxy(a,l,c)}}};n.BufferedDuplex=o}),dh=pe(n=>{se(),le(),ae();var t=n&&n.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(n,"__esModule",{value:!0}),n.streamBuilder=n.browserStreamBuilder=void 0;var e=(Hi(),zn(Fi)),r=t(OO()),o=t(oa()),a=Il(),l=t(Nd()),c=T_(),h=(0,o.default)("mqttjs:ws"),d=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function g(C,M){let P=`${C.protocol}://${C.hostname}:${C.port}${C.path}`;return typeof C.transformWsUrl=="function"&&(P=C.transformWsUrl(P,C,M)),P}function y(C){let M=C;return C.port||(C.protocol==="wss"?M.port=443:M.port=80),C.path||(M.path="/"),C.wsOptions||(M.wsOptions={}),!l.default&&!C.forceNativeWebSocket&&C.protocol==="wss"&&d.forEach(P=>{Object.prototype.hasOwnProperty.call(C,P)&&!Object.prototype.hasOwnProperty.call(C.wsOptions,P)&&(M.wsOptions[P]=C[P])}),M}function b(C){let M=y(C);if(M.hostname||(M.hostname=M.host),!M.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let P=new URL(document.URL);M.hostname=P.hostname,M.port||(M.port=Number(P.port))}return M.objectMode===void 0&&(M.objectMode=!(M.binary===!0||M.binary===void 0)),M}function S(C,M,P){h("createWebSocket"),h(`protocol: ${P.protocolId} ${P.protocolVersion}`);let z=P.protocolId==="MQIsdp"&&P.protocolVersion===3?"mqttv3.1":"mqtt";h(`creating new Websocket for url: ${M} and protocol: ${z}`);let D;return P.createWebsocket?D=P.createWebsocket(M,[z],P):D=new r.default(M,[z],P.wsOptions),D}function x(C,M){let P=M.protocolId==="MQIsdp"&&M.protocolVersion===3?"mqttv3.1":"mqtt",z=g(M,C),D;return M.createWebsocket?D=M.createWebsocket(z,[P],M):D=new WebSocket(z,[P]),D.binaryType="arraybuffer",D}var E=(C,M)=>{h("streamBuilder");let P=y(M);P.hostname=P.hostname||P.host||"localhost";let z=g(P,C),D=S(C,z,P),B=r.default.createWebSocketStream(D,P.wsOptions);return B.url=z,D.on("close",()=>{B.destroy()}),B};n.streamBuilder=E;var k=(C,M)=>{h("browserStreamBuilder");let P,z=b(M).browserBufferSize||1024*512,D=M.browserBufferTimeout||1e3,B=!M.objectMode,R=x(C,M),V=tt(M,ut,rt);M.objectMode||(V._writev=c.writev.bind(V)),V.on("close",()=>{R.close()});let J=typeof R.addEventListener<"u";R.readyState===R.OPEN?(P=V,P.socket=R):(P=new c.BufferedDuplex(M,V,R),J?R.addEventListener("open",st):R.onopen=st),J?(R.addEventListener("close",G),R.addEventListener("error",mt),R.addEventListener("message",ht)):(R.onclose=G,R.onerror=mt,R.onmessage=ht);function tt(lt,et,jt){let nt=new a.Transform({objectMode:lt.objectMode});return nt._write=et,nt._flush=jt,nt}function st(){h("WebSocket onOpen"),P instanceof c.BufferedDuplex&&P.socketReady()}function G(lt){h("WebSocket onClose",lt),P.end(),P.destroy()}function mt(lt){h("WebSocket onError",lt);let et=new Error("WebSocket error");et.event=lt,P.destroy(et)}async function ht(lt){if(!V||!V.readable||!V.writable)return;let{data:et}=lt;et instanceof ArrayBuffer?et=e.Buffer.from(et):et instanceof Blob?et=e.Buffer.from(await new Response(et).arrayBuffer()):et=e.Buffer.from(et,"utf8"),V.push(et)}function ut(lt,et,jt){if(R.bufferedAmount>z){setTimeout(ut,D,lt,et,jt);return}B&&typeof lt=="string"&&(lt=e.Buffer.from(lt,"utf8"));try{R.send(lt)}catch(nt){return jt(nt)}jt()}function rt(lt){R.close(),lt()}return P};n.browserStreamBuilder=k}),A_={};Cu(A_,{Server:()=>$n,Socket:()=>$n,Stream:()=>$n,_createServerHandle:()=>$n,_normalizeArgs:()=>$n,_setSimultaneousAccepts:()=>$n,connect:()=>$n,createConnection:()=>$n,createServer:()=>$n,default:()=>z2,isIP:()=>$n,isIPv4:()=>$n,isIPv6:()=>$n});function $n(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var z2,B2=qr(()=>{se(),le(),ae(),z2={_createServerHandle:$n,_normalizeArgs:$n,_setSimultaneousAccepts:$n,connect:$n,createConnection:$n,createServer:$n,isIP:$n,isIPv4:$n,isIPv6:$n,Server:$n,Socket:$n,Stream:$n}}),I2=pe((n,t)=>{se(),le(),ae(),t.exports={}}),uw=pe(n=>{se(),le(),ae();var t=n&&n.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(n,"__esModule",{value:!0});var e=t((B2(),zn(A_))),r=t(oa()),o=t(I2()),a=(0,r.default)("mqttjs:tcp"),l=(c,h)=>{if(h.port=h.port||1883,h.hostname=h.hostname||h.host||"localhost",h.socksProxy)return(0,o.default)(h.hostname,h.port,h.socksProxy,{timeout:h.socksTimeout});let{port:d,path:g}=h,y=h.hostname;return a("port %d and host %s",d,y),e.default.createConnection({port:d,host:y,path:g})};n.default=l}),U2={};Cu(U2,{default:()=>F2});var F2,CO=qr(()=>{se(),le(),ae(),F2={}}),cw=pe(n=>{se(),le(),ae();var t=n&&n.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(n,"__esModule",{value:!0});var e=(CO(),zn(U2)),r=t((B2(),zn(A_))),o=t(oa()),a=t(I2()),l=(0,o.default)("mqttjs:tls");function c(d){let{host:g,port:y,socksProxy:b,...S}=d;if(b!==void 0){let x=(0,a.default)(g,y,b,{timeout:d.socksTimeout});return(0,e.connect)({...S,socket:x})}return(0,e.connect)(d)}var h=(d,g)=>{g.port=g.port||8883,g.host=g.hostname||g.host||"localhost",r.default.isIP(g.host)===0&&(g.servername=g.host),g.rejectUnauthorized=g.rejectUnauthorized!==!1,delete g.path,l("port %d host %s rejectUnauthorized %b",g.port,g.host,g.rejectUnauthorized);let y=c(g);y.on("secureConnect",()=>{g.rejectUnauthorized&&!y.authorized?y.emit("error",new Error("TLS not authorized")):y.removeListener("error",b)});function b(S){g.rejectUnauthorized&&d.emit("error",S),y.end()}return y.on("error",b),y};n.default=h}),fw=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0});var t=(Hi(),zn(Fi)),e=Il(),r=T_(),o,a,l;function c(){let b=new e.Transform;return b._write=(S,x,E)=>{o.send({data:S.buffer,success(){E()},fail(k){E(new Error(k))}})},b._flush=S=>{o.close({success(){S()}})},b}function h(b){b.hostname||(b.hostname="localhost"),b.path||(b.path="/"),b.wsOptions||(b.wsOptions={})}function d(b,S){let x=b.protocol==="wxs"?"wss":"ws",E=`${x}://${b.hostname}${b.path}`;return b.port&&b.port!==80&&b.port!==443&&(E=`${x}://${b.hostname}:${b.port}${b.path}`),typeof b.transformWsUrl=="function"&&(E=b.transformWsUrl(E,b,S)),E}function g(){o.onOpen(()=>{l.socketReady()}),o.onMessage(b=>{let{data:S}=b;S instanceof ArrayBuffer?S=t.Buffer.from(S):S=t.Buffer.from(S,"utf8"),a.push(S)}),o.onClose(()=>{l.emit("close"),l.end(),l.destroy()}),o.onError(b=>{let S=new Error(b.errMsg);l.destroy(S)})}var y=(b,S)=>{if(S.hostname=S.hostname||S.host,!S.hostname)throw new Error("Could not determine host. Specify host manually.");let x=S.protocolId==="MQIsdp"&&S.protocolVersion===3?"mqttv3.1":"mqtt";h(S);let E=d(S,b);o=wx.connectSocket({url:E,protocols:[x]}),a=c(),l=new r.BufferedDuplex(S,a,o),l._destroy=(C,M)=>{o.close({success(){M&&M(C)}})};let k=l.destroy;return l.destroy=(C,M)=>(l.destroy=k,setTimeout(()=>{o.close({fail(){l._destroy(C,M)}})},0),l),g(),l};n.default=y}),hw=pe(n=>{se(),le(),ae(),Object.defineProperty(n,"__esModule",{value:!0});var t=(Hi(),zn(Fi)),e=Il(),r=T_(),o,a,l,c=!1;function h(){let S=new e.Transform;return S._write=(x,E,k)=>{o.sendSocketMessage({data:x.buffer,success(){k()},fail(){k(new Error)}})},S._flush=x=>{o.closeSocket({success(){x()}})},S}function d(S){S.hostname||(S.hostname="localhost"),S.path||(S.path="/"),S.wsOptions||(S.wsOptions={})}function g(S,x){let E=S.protocol==="alis"?"wss":"ws",k=`${E}://${S.hostname}${S.path}`;return S.port&&S.port!==80&&S.port!==443&&(k=`${E}://${S.hostname}:${S.port}${S.path}`),typeof S.transformWsUrl=="function"&&(k=S.transformWsUrl(k,S,x)),k}function y(){c||(c=!0,o.onSocketOpen(()=>{l.socketReady()}),o.onSocketMessage(S=>{if(typeof S.data=="string"){let x=t.Buffer.from(S.data,"base64");a.push(x)}else{let x=new FileReader;x.addEventListener("load",()=>{if(x.result instanceof ArrayBuffer){a.push(t.Buffer.from(x.result));return}a.push(t.Buffer.from(x.result,"utf-8"))}),x.readAsArrayBuffer(S.data)}}),o.onSocketClose(()=>{l.end(),l.destroy()}),o.onSocketError(S=>{l.destroy(S)}))}var b=(S,x)=>{if(x.hostname=x.hostname||x.host,!x.hostname)throw new Error("Could not determine host. Specify host manually.");let E=x.protocolId==="MQIsdp"&&x.protocolVersion===3?"mqttv3.1":"mqtt";d(x);let k=g(x,S);return o=x.my,o.connectSocket({url:k,protocols:E}),a=h(),l=new r.BufferedDuplex(x,a,o),y(),l};n.default=b}),LO=pe(n=>{se(),le(),ae();var t=n&&n.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(n,"__esModule",{value:!0}),n.connectAsync=g;var e=t(oa()),r=t((MO(),zn(g2))),o=t(sy()),a=t(Nd());typeof qn?.nextTick!="function"&&(qn.nextTick=setImmediate);var l=(0,e.default)("mqttjs"),c=null;function h(y){let b;if(y.auth)if(b=y.auth.match(/^(.+):(.+)$/),b){let[,S,x]=b;y.username=S,y.password=x}else y.username=y.auth}function d(y,b){if(l("connecting to an MQTT broker..."),typeof y=="object"&&!b&&(b=y,y=""),b=b||{},y&&typeof y=="string"){let E=r.default.parse(y,!0),k={};if(E.port!=null&&(k.port=Number(E.port)),k.host=E.hostname,k.query=E.query,k.auth=E.auth,k.protocol=E.protocol,k.path=E.path,b={...k,...b},!b.protocol)throw new Error("Missing protocol");b.protocol=b.protocol.replace(/:$/,"")}if(b.unixSocket=b.unixSocket||b.protocol?.includes("+unix"),b.unixSocket?b.protocol=b.protocol.replace("+unix",""):!b.protocol?.startsWith("ws")&&!b.protocol?.startsWith("wx")&&delete b.path,h(b),b.query&&typeof b.query.clientId=="string"&&(b.clientId=b.query.clientId),a.default||b.unixSocket?b.socksProxy=void 0:b.socksProxy===void 0&&typeof qn<"u"&&(b.socksProxy=qn.env.MQTTJS_SOCKS_PROXY),b.cert&&b.key)if(b.protocol){if(["mqtts","wss","wxs","alis"].indexOf(b.protocol)===-1)switch(b.protocol){case"mqtt":b.protocol="mqtts";break;case"ws":b.protocol="wss";break;case"wx":b.protocol="wxs";break;case"ali":b.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${b.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(c||(c={},!a.default&&!b.forceNativeWebSocket?(c.ws=dh().streamBuilder,c.wss=dh().streamBuilder,c.mqtt=uw().default,c.tcp=uw().default,c.ssl=cw().default,c.tls=c.ssl,c.mqtts=cw().default):(c.ws=dh().browserStreamBuilder,c.wss=dh().browserStreamBuilder,c.wx=fw().default,c.wxs=fw().default,c.ali=hw().default,c.alis=hw().default)),!c[b.protocol]){let E=["mqtts","wss"].indexOf(b.protocol)!==-1;b.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((k,C)=>E&&C%2===0?!1:typeof c[k]=="function")[0]}if(b.clean===!1&&!b.clientId)throw new Error("Missing clientId for unclean clients");b.protocol&&(b.defaultProtocol=b.protocol);function S(E){return b.servers&&((!E._reconnectCount||E._reconnectCount===b.servers.length)&&(E._reconnectCount=0),b.host=b.servers[E._reconnectCount].host,b.port=b.servers[E._reconnectCount].port,b.protocol=b.servers[E._reconnectCount].protocol?b.servers[E._reconnectCount].protocol:b.defaultProtocol,b.hostname=b.host,E._reconnectCount++),l("calling streambuilder for",b.protocol),c[b.protocol](E,b)}let x=new o.default(S,b);return x.on("error",()=>{}),x}function g(y,b,S=!0){return new Promise((x,E)=>{let k=d(y,b),C={connect:P=>{M(),x(k)},end:()=>{M(),x(k)},error:P=>{M(),k.end(),E(P)}};S===!1&&(C.close=()=>{C.error(new Error("Couldn't connect to server"))});function M(){Object.keys(C).forEach(P=>{k.off(P,C[P])})}Object.keys(C).forEach(P=>{k.on(P,C[P])})})}n.default=d}),dw=pe(n=>{se(),le(),ae();var t=n&&n.__createBinding||(Object.create?function(S,x,E,k){k===void 0&&(k=E);var C=Object.getOwnPropertyDescriptor(x,E);(!C||("get"in C?!x.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return x[E]}}),Object.defineProperty(S,k,C)}:function(S,x,E,k){k===void 0&&(k=E),S[k]=x[E]}),e=n&&n.__setModuleDefault||(Object.create?function(S,x){Object.defineProperty(S,"default",{enumerable:!0,value:x})}:function(S,x){S.default=x}),r=n&&n.__importStar||(function(){var S=function(x){return S=Object.getOwnPropertyNames||function(E){var k=[];for(var C in E)Object.prototype.hasOwnProperty.call(E,C)&&(k[k.length]=C);return k},S(x)};return function(x){if(x&&x.__esModule)return x;var E={};if(x!=null)for(var k=S(x),C=0;C<k.length;C++)k[C]!=="default"&&t(E,x,k[C]);return e(E,x),E}})(),o=n&&n.__exportStar||function(S,x){for(var E in S)E!=="default"&&!Object.prototype.hasOwnProperty.call(x,E)&&t(x,S,E)},a=n&&n.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(n,"__esModule",{value:!0}),n.ReasonCodes=n.KeepaliveManager=n.UniqueMessageIdProvider=n.DefaultMessageIdProvider=n.Store=n.MqttClient=n.connectAsync=n.connect=n.Client=void 0;var l=a(sy());n.MqttClient=l.default;var c=a(i2());n.DefaultMessageIdProvider=c.default;var h=a(qM());n.UniqueMessageIdProvider=h.default;var d=a(US());n.Store=d.default;var g=r(LO());n.connect=g.default,Object.defineProperty(n,"connectAsync",{enumerable:!0,get:function(){return g.connectAsync}});var y=a(c2());n.KeepaliveManager=y.default,n.Client=l.default,o(sy(),n),o(Nu(),n);var b=Cd();Object.defineProperty(n,"ReasonCodes",{enumerable:!0,get:function(){return b.ReasonCodes}})}),NO=pe(n=>{se(),le(),ae();var t=n&&n.__createBinding||(Object.create?function(l,c,h,d){d===void 0&&(d=h);var g=Object.getOwnPropertyDescriptor(c,h);(!g||("get"in g?!c.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return c[h]}}),Object.defineProperty(l,d,g)}:function(l,c,h,d){d===void 0&&(d=h),l[d]=c[h]}),e=n&&n.__setModuleDefault||(Object.create?function(l,c){Object.defineProperty(l,"default",{enumerable:!0,value:c})}:function(l,c){l.default=c}),r=n&&n.__importStar||(function(){var l=function(c){return l=Object.getOwnPropertyNames||function(h){var d=[];for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(d[d.length]=g);return d},l(c)};return function(c){if(c&&c.__esModule)return c;var h={};if(c!=null)for(var d=l(c),g=0;g<d.length;g++)d[g]!=="default"&&t(h,c,d[g]);return e(h,c),h}})(),o=n&&n.__exportStar||function(l,c){for(var h in l)h!=="default"&&!Object.prototype.hasOwnProperty.call(c,h)&&t(c,l,h)};Object.defineProperty(n,"__esModule",{value:!0});var a=r(dw());n.default=a,o(dw(),n)});const DO=NO();/*! Bundled license information:

@jspm/core/nodelibs/browser/chunk-DtuTasat.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@babel/runtime/helpers/regenerator.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE *)
*/const sa=Ad((n,t)=>{const e=new Set,r=new Map;let o=null;const a=()=>{if(!(!o||!o.connected))for(const[c,h]of r.entries())console.log(`SUB: ${c}`),o.subscribe(c,h||{},d=>{d&&console.error("subscribe error:",c,d)})};return{connected:!1,connect(c="ws://192.168.123.129:9001",h={reconnectPeriod:5e3}){o||(o=DO.connect(c,h),o.on("connect",()=>{n({connected:!0}),a()}),o.on("reconnect",()=>{}),o.on("close",()=>{n({connected:!1})}),o.on("error",d=>{console.error("[mqttStore] error:",d)}),o.on("message",(d,g,y)=>{for(const b of e)try{b(d,g,y)}catch(S){console.error("listener error:",S)}}))},disconnect(){try{o&&(o.end(!0),o=null)}catch(c){console.warn("[mqttStore] disconnect error:",c)}e.clear(),r.clear(),n({connected:!1})},publish(c,h,d={}){if(!o||!o.connected)return!1;const g=typeof h=="string"?h:JSON.stringify(h);return o.publish(c,g,d,y=>{y&&console.error("publish error:",y)}),!0},subscribeTopics(c,h={qos:0}){const d=Array.isArray(c)?c:[];for(const g of d)console.log("sub ->",g),typeof g=="string"?r.set(g,h):g&&typeof g.topic=="string"&&r.set(g.topic,{qos:0,...g.opts||{}});a()},unsubscribeTopics(c){const h=Array.isArray(c)?c:[];for(const d of h){const g=typeof d=="string"?d:d?.topic;g&&(r.delete(g),o&&o.connected&&o.unsubscribe(g,y=>{y&&console.error("unsubscribe error:",g,y)}))}},addMessageHandler(c){return e.add(c),()=>e.delete(c)},setState(c){n(c)}}});var ld={exports:{}},jO=ld.exports,pw;function PO(){return pw||(pw=1,(function(n,t){(function(e,r){n.exports=r()})(jO,function(){var e=function(_,T){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,I){j.__proto__=I}||function(j,I){for(var q in I)Object.prototype.hasOwnProperty.call(I,q)&&(j[q]=I[q])})(_,T)},r=function(){return(r=Object.assign||function(_){for(var T,j=1,I=arguments.length;j<I;j++)for(var q in T=arguments[j])Object.prototype.hasOwnProperty.call(T,q)&&(_[q]=T[q]);return _}).apply(this,arguments)};function o(_,T,j){for(var I,q=0,W=T.length;q<W;q++)!I&&q in T||((I=I||Array.prototype.slice.call(T,0,q))[q]=T[q]);return _.concat(I||Array.prototype.slice.call(T))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:hk,l=Object.keys,c=Array.isArray;function h(_,T){return typeof T!="object"||l(T).forEach(function(j){_[j]=T[j]}),_}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var d=Object.getPrototypeOf,g={}.hasOwnProperty;function y(_,T){return g.call(_,T)}function b(_,T){typeof T=="function"&&(T=T(d(_))),(typeof Reflect>"u"?l:Reflect.ownKeys)(T).forEach(function(j){x(_,j,T[j])})}var S=Object.defineProperty;function x(_,T,j,I){S(_,T,h(j&&y(j,"get")&&typeof j.get=="function"?{get:j.get,set:j.set,configurable:!0}:{value:j,configurable:!0,writable:!0},I))}function E(_){return{from:function(T){return _.prototype=Object.create(T.prototype),x(_.prototype,"constructor",_),{extend:b.bind(null,_.prototype)}}}}var k=Object.getOwnPropertyDescriptor,C=[].slice;function M(_,T,j){return C.call(_,T,j)}function P(_,T){return T(_)}function z(_){if(!_)throw new Error("Assertion Failed")}function D(_){a.setImmediate?setImmediate(_):setTimeout(_,0)}function B(_,T){if(typeof T=="string"&&y(_,T))return _[T];if(!T)return _;if(typeof T!="string"){for(var j=[],I=0,q=T.length;I<q;++I){var W=B(_,T[I]);j.push(W)}return j}var ot=T.indexOf(".");if(ot!==-1){var pt=_[T.substr(0,ot)];return pt==null?void 0:B(pt,T.substr(ot+1))}}function R(_,T,j){if(_&&T!==void 0&&!("isFrozen"in Object&&Object.isFrozen(_)))if(typeof T!="string"&&"length"in T){z(typeof j!="string"&&"length"in j);for(var I=0,q=T.length;I<q;++I)R(_,T[I],j[I])}else{var W,ot,pt=T.indexOf(".");pt!==-1?(W=T.substr(0,pt),(ot=T.substr(pt+1))===""?j===void 0?c(_)&&!isNaN(parseInt(W))?_.splice(W,1):delete _[W]:_[W]=j:R(pt=!(pt=_[W])||!y(_,W)?_[W]={}:pt,ot,j)):j===void 0?c(_)&&!isNaN(parseInt(T))?_.splice(T,1):delete _[T]:_[T]=j}}function V(_){var T,j={};for(T in _)y(_,T)&&(j[T]=_[T]);return j}var J=[].concat;function tt(_){return J.apply([],_)}var N="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(tt([8,16,32,64].map(function(_){return["Int","Uint","Float"].map(function(T){return T+_+"Array"})}))).filter(function(_){return a[_]}),st=new Set(N.map(function(_){return a[_]})),G=null;function mt(_){return G=new WeakMap,_=(function T(j){if(!j||typeof j!="object")return j;var I=G.get(j);if(I)return I;if(c(j)){I=[],G.set(j,I);for(var q=0,W=j.length;q<W;++q)I.push(T(j[q]))}else if(st.has(j.constructor))I=j;else{var ot,pt=d(j);for(ot in I=pt===Object.prototype?{}:Object.create(pt),G.set(j,I),j)y(j,ot)&&(I[ot]=T(j[ot]))}return I})(_),G=null,_}var ht={}.toString;function ut(_){return ht.call(_).slice(8,-1)}var rt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",lt=typeof rt=="symbol"?function(_){var T;return _!=null&&(T=_[rt])&&T.apply(_)}:function(){return null};function et(_,T){return T=_.indexOf(T),0<=T&&_.splice(T,1),0<=T}var jt={};function nt(_){var T,j,I,q;if(arguments.length===1){if(c(_))return _.slice();if(this===jt&&typeof _=="string")return[_];if(q=lt(_)){for(j=[];!(I=q.next()).done;)j.push(I.value);return j}if(_==null)return[_];if(typeof(T=_.length)!="number")return[_];for(j=new Array(T);T--;)j[T]=_[T];return j}for(T=arguments.length,j=new Array(T);T--;)j[T]=arguments[T];return j}var Z=typeof Symbol<"u"?function(_){return _[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ze=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Yi=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ze),K={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function at(_,T){this.name=_,this.message=T}function At(_,T){return _+". Errors: "+Object.keys(T).map(function(j){return T[j].toString()}).filter(function(j,I,q){return q.indexOf(j)===I}).join(`
`)}function gt(_,T,j,I){this.failures=T,this.failedKeys=I,this.successCount=j,this.message=At(_,T)}function Ut(_,T){this.name="BulkError",this.failures=Object.keys(T).map(function(j){return T[j]}),this.failuresByPos=T,this.message=At(_,this.failures)}E(at).from(Error).extend({toString:function(){return this.name+": "+this.message}}),E(gt).from(at),E(Ut).from(at);var _t=Yi.reduce(function(_,T){return _[T]=T+"Error",_},{}),ct=at,vt=Yi.reduce(function(_,T){var j=T+"Error";function I(q,W){this.name=j,q?typeof q=="string"?(this.message="".concat(q).concat(W?`
 `+W:""),this.inner=W||null):typeof q=="object"&&(this.message="".concat(q.name," ").concat(q.message),this.inner=q):(this.message=K[T]||j,this.inner=null)}return E(I).from(ct),_[T]=I,_},{});vt.Syntax=SyntaxError,vt.Type=TypeError,vt.Range=RangeError;var Mt=Ze.reduce(function(_,T){return _[T+"Error"]=vt[T],_},{}),Nt=Yi.reduce(function(_,T){return["Syntax","Type","Range"].indexOf(T)===-1&&(_[T+"Error"]=vt[T]),_},{});function Tt(){}function ce(_){return _}function Jt(_,T){return _==null||_===ce?T:function(j){return T(_(j))}}function ft(_,T){return function(){_.apply(this,arguments),T.apply(this,arguments)}}function Et(_,T){return _===Tt?T:function(){var j=_.apply(this,arguments);j!==void 0&&(arguments[0]=j);var I=this.onsuccess,q=this.onerror;this.onsuccess=null,this.onerror=null;var W=T.apply(this,arguments);return I&&(this.onsuccess=this.onsuccess?ft(I,this.onsuccess):I),q&&(this.onerror=this.onerror?ft(q,this.onerror):q),W!==void 0?W:j}}function Vt(_,T){return _===Tt?T:function(){_.apply(this,arguments);var j=this.onsuccess,I=this.onerror;this.onsuccess=this.onerror=null,T.apply(this,arguments),j&&(this.onsuccess=this.onsuccess?ft(j,this.onsuccess):j),I&&(this.onerror=this.onerror?ft(I,this.onerror):I)}}function ie(_,T){return _===Tt?T:function(j){var I=_.apply(this,arguments);h(j,I);var q=this.onsuccess,W=this.onerror;return this.onsuccess=null,this.onerror=null,j=T.apply(this,arguments),q&&(this.onsuccess=this.onsuccess?ft(q,this.onsuccess):q),W&&(this.onerror=this.onerror?ft(W,this.onerror):W),I===void 0?j===void 0?void 0:j:h(I,j)}}function re(_,T){return _===Tt?T:function(){return T.apply(this,arguments)!==!1&&_.apply(this,arguments)}}function he(_,T){return _===Tt?T:function(){var j=_.apply(this,arguments);if(j&&typeof j.then=="function"){for(var I=this,q=arguments.length,W=new Array(q);q--;)W[q]=arguments[q];return j.then(function(){return T.apply(I,W)})}return T.apply(this,arguments)}}Nt.ModifyError=gt,Nt.DexieError=at,Nt.BulkError=Ut;var wt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function fe(_){wt=_}var ve={},Xt=100,N=typeof Promise>"u"?[]:(function(){var _=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[_,d(_),_];var T=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[T,d(T),_]})(),Ze=N[0],Yi=N[1],N=N[2],Yi=Yi&&Yi.then,F=Ze&&Ze.constructor,Y=!!N,bt=function(_,T){Fe.push([_,T]),ee&&(queueMicrotask(Vr),ee=!1)},It=!0,ee=!0,we=[],Ot=[],Yt=ce,je={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Tt,pgp:!1,env:{},finalize:Tt},ue=je,Fe=[],Ke=0,ki=[];function Te(_){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var T=this._PSD=ue;if(typeof _!="function"){if(_!==ve)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&yi(this,this._value))}this._state=null,this._value=null,++T.ref,(function j(I,q){try{q(function(W){if(I._state===null){if(W===I)throw new TypeError("A promise cannot be resolved with itself.");var ot=I._lib&&Pi();W&&typeof W.then=="function"?j(I,function(pt,kt){W instanceof Te?W._then(pt,kt):W.then(pt,kt)}):(I._state=!0,I._value=W,_i(I)),ot&&it()}},yi.bind(null,I))}catch(W){yi(I,W)}})(this,_)}var Nn={get:function(){var _=ue,T=Gi;function j(I,q){var W=this,ot=!_.global&&(_!==ue||T!==Gi),pt=ot&&!Un(),kt=new Te(function(Ct,Bt){Vn(W,new ci(ca(I,_,ot,pt),ca(q,_,ot,pt),Ct,Bt,_))});return this._consoleTask&&(kt._consoleTask=this._consoleTask),kt}return j.prototype=ve,j},set:function(_){x(this,"then",_&&_.prototype===ve?Nn:{get:function(){return _},set:Nn.set})}};function ci(_,T,j,I,q){this.onFulfilled=typeof _=="function"?_:null,this.onRejected=typeof T=="function"?T:null,this.resolve=j,this.reject=I,this.psd=q}function yi(_,T){var j,I;Ot.push(T),_._state===null&&(j=_._lib&&Pi(),T=Yt(T),_._state=!1,_._value=T,I=_,we.some(function(q){return q._value===I._value})||we.push(I),_i(_),j&&it())}function _i(_){var T=_._listeners;_._listeners=[];for(var j=0,I=T.length;j<I;++j)Vn(_,T[j]);var q=_._PSD;--q.ref||q.finalize(),Ke===0&&(++Ke,bt(function(){--Ke==0&&dt()},[]))}function Vn(_,T){if(_._state!==null){var j=_._state?T.onFulfilled:T.onRejected;if(j===null)return(_._state?T.resolve:T.reject)(_._value);++T.psd.ref,++Ke,bt(qo,[j,_,T])}else _._listeners.push(T)}function qo(_,T,j){try{var I,q=T._value;!T._state&&Ot.length&&(Ot=[]),I=wt&&T._consoleTask?T._consoleTask.run(function(){return _(q)}):_(q),T._state||Ot.indexOf(q)!==-1||(function(W){for(var ot=we.length;ot;)if(we[--ot]._value===W._value)return we.splice(ot,1)})(T),j.resolve(I)}catch(W){j.reject(W)}finally{--Ke==0&&dt(),--j.psd.ref||j.psd.finalize()}}function Vr(){Yn(je,function(){Pi()&&it()})}function Pi(){var _=It;return ee=It=!1,_}function it(){var _,T,j;do for(;0<Fe.length;)for(_=Fe,Fe=[],j=_.length,T=0;T<j;++T){var I=_[T];I[0].apply(null,I[1])}while(0<Fe.length);ee=It=!0}function dt(){var _=we;we=[],_.forEach(function(I){I._PSD.onunhandled.call(null,I._value,I)});for(var T=ki.slice(0),j=T.length;j;)T[--j]()}function xe(_){return new Te(ve,!1,_)}function be(_,T){var j=ue;return function(){var I=Pi(),q=ue;try{return bi(j,!0),_.apply(this,arguments)}catch(W){T&&T(W)}finally{bi(q,!1),I&&it()}}}b(Te.prototype,{then:Nn,_then:function(_,T){Vn(this,new ci(null,null,_,T,ue))},catch:function(_){if(arguments.length===1)return this.then(null,_);var T=_,j=arguments[1];return typeof T=="function"?this.then(null,function(I){return(I instanceof T?j:xe)(I)}):this.then(null,function(I){return(I&&I.name===T?j:xe)(I)})},finally:function(_){return this.then(function(T){return Te.resolve(_()).then(function(){return T})},function(T){return Te.resolve(_()).then(function(){return xe(T)})})},timeout:function(_,T){var j=this;return _<1/0?new Te(function(I,q){var W=setTimeout(function(){return q(new vt.Timeout(T))},_);j.then(I,q).finally(clearTimeout.bind(null,W))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&x(Te.prototype,Symbol.toStringTag,"Dexie.Promise"),je.env=Ri(),b(Te,{all:function(){var _=nt.apply(null,arguments).map(Fn);return new Te(function(T,j){_.length===0&&T([]);var I=_.length;_.forEach(function(q,W){return Te.resolve(q).then(function(ot){_[W]=ot,--I||T(_)},j)})})},resolve:function(_){return _ instanceof Te?_:_&&typeof _.then=="function"?new Te(function(T,j){_.then(T,j)}):new Te(ve,!0,_)},reject:xe,race:function(){var _=nt.apply(null,arguments).map(Fn);return new Te(function(T,j){_.map(function(I){return Te.resolve(I).then(T,j)})})},PSD:{get:function(){return ue},set:function(_){return ue=_}},totalEchoes:{get:function(){return Gi}},newPSD:hn,usePSD:Yn,scheduler:{get:function(){return bt},set:function(_){bt=_}},rejectionMapper:{get:function(){return Yt},set:function(_){Yt=_}},follow:function(_,T){return new Te(function(j,I){return hn(function(q,W){var ot=ue;ot.unhandleds=[],ot.onunhandled=W,ot.finalize=ft(function(){var pt,kt=this;pt=function(){kt.unhandleds.length===0?q():W(kt.unhandleds[0])},ki.push(function Ct(){pt(),ki.splice(ki.indexOf(Ct),1)}),++Ke,bt(function(){--Ke==0&&dt()},[])},ot.finalize),_()},T,j,I)})}}),F&&(F.allSettled&&x(Te,"allSettled",function(){var _=nt.apply(null,arguments).map(Fn);return new Te(function(T){_.length===0&&T([]);var j=_.length,I=new Array(j);_.forEach(function(q,W){return Te.resolve(q).then(function(ot){return I[W]={status:"fulfilled",value:ot}},function(ot){return I[W]={status:"rejected",reason:ot}}).then(function(){return--j||T(I)})})})}),F.any&&typeof AggregateError<"u"&&x(Te,"any",function(){var _=nt.apply(null,arguments).map(Fn);return new Te(function(T,j){_.length===0&&j(new AggregateError([]));var I=_.length,q=new Array(I);_.forEach(function(W,ot){return Te.resolve(W).then(function(pt){return T(pt)},function(pt){q[ot]=pt,--I||j(new AggregateError(q))})})})}),F.withResolvers&&(Te.withResolvers=F.withResolvers));var ke={awaits:0,echoes:0,id:0},ln=0,Ne=[],ii=0,Gi=0,Mi=0;function hn(_,T,j,I){var q=ue,W=Object.create(q);return W.parent=q,W.ref=0,W.global=!1,W.id=++Mi,je.env,W.env=Y?{Promise:Te,PromiseProp:{value:Te,configurable:!0,writable:!0},all:Te.all,race:Te.race,allSettled:Te.allSettled,any:Te.any,resolve:Te.resolve,reject:Te.reject}:{},T&&h(W,T),++q.ref,W.finalize=function(){--this.parent.ref||this.parent.finalize()},I=Yn(W,_,j,I),W.ref===0&&W.finalize(),I}function Tn(){return ke.id||(ke.id=++ln),++ke.awaits,ke.echoes+=Xt,ke.id}function Un(){return!!ke.awaits&&(--ke.awaits==0&&(ke.id=0),ke.echoes=ke.awaits*Xt,!0)}function Fn(_){return ke.echoes&&_&&_.constructor===F?(Tn(),_.then(function(T){return Un(),T},function(T){return Un(),An(T)})):_}function fr(){var _=Ne[Ne.length-1];Ne.pop(),bi(_,!1)}function bi(_,T){var j,I=ue;(T?!ke.echoes||ii++&&_===ue:!ii||--ii&&_===ue)||queueMicrotask(T?(function(q){++Gi,ke.echoes&&--ke.echoes!=0||(ke.echoes=ke.awaits=ke.id=0),Ne.push(ue),bi(q,!0)}).bind(null,_):fr),_!==ue&&(ue=_,I===je&&(je.env=Ri()),Y&&(j=je.env.Promise,T=_.env,(I.global||_.global)&&(Object.defineProperty(a,"Promise",T.PromiseProp),j.all=T.all,j.race=T.race,j.resolve=T.resolve,j.reject=T.reject,T.allSettled&&(j.allSettled=T.allSettled),T.any&&(j.any=T.any))))}function Ri(){var _=a.Promise;return Y?{Promise:_,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:_.all,race:_.race,allSettled:_.allSettled,any:_.any,resolve:_.resolve,reject:_.reject}:{}}function Yn(_,T,j,I,q){var W=ue;try{return bi(_,!0),T(j,I,q)}finally{bi(W,!1)}}function ca(_,T,j,I){return typeof _!="function"?_:function(){var q=ue;j&&Tn(),bi(T,!0);try{return _.apply(this,arguments)}finally{bi(q,!1),I&&queueMicrotask(Un)}}}function Yr(_){Promise===F&&ke.echoes===0?ii===0?_():enqueueNativeMicroTask(_):setTimeout(_,0)}(""+Yi).indexOf("[native code]")===-1&&(Tn=Un=Tt);var An=Te.reject,zi="￿",Bi="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Qn="String expected.",Eo=[],vs="__dbnames",Zr="readonly",Tr="readwrite";function hr(_,T){return _?T?function(){return _.apply(this,arguments)&&T.apply(this,arguments)}:_:T}var fa={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Vo(_){return typeof _!="string"||/\./.test(_)?function(T){return T}:function(T){return T[_]===void 0&&_ in T&&delete(T=mt(T))[_],T}}function Yo(){throw vt.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Re(_,T){try{var j=wn(_),I=wn(T);if(j!==I)return j==="Array"?1:I==="Array"?-1:j==="binary"?1:I==="binary"?-1:j==="string"?1:I==="string"?-1:j==="Date"?1:I!=="Date"?NaN:-1;switch(j){case"number":case"Date":case"string":return T<_?1:_<T?-1:0;case"binary":return(function(q,W){for(var ot=q.length,pt=W.length,kt=ot<pt?ot:pt,Ct=0;Ct<kt;++Ct)if(q[Ct]!==W[Ct])return q[Ct]<W[Ct]?-1:1;return ot===pt?0:ot<pt?-1:1})(qi(_),qi(T));case"Array":return(function(q,W){for(var ot=q.length,pt=W.length,kt=ot<pt?ot:pt,Ct=0;Ct<kt;++Ct){var Bt=Re(q[Ct],W[Ct]);if(Bt!==0)return Bt}return ot===pt?0:ot<pt?-1:1})(_,T)}}catch{}return NaN}function wn(_){var T=typeof _;return T!="object"?T:ArrayBuffer.isView(_)?"binary":(_=ut(_),_==="ArrayBuffer"?"binary":_)}function qi(_){return _ instanceof Uint8Array?_:ArrayBuffer.isView(_)?new Uint8Array(_.buffer,_.byteOffset,_.byteLength):new Uint8Array(_)}function Kn(_,T,j){var I=_.schema.yProps;return I?(T&&0<j.numFailures&&(T=T.filter(function(q,W){return!j.failures[W]})),Promise.all(I.map(function(q){return q=q.updatesTable,T?_.db.table(q).where("k").anyOf(T).delete():_.db.table(q).clear()})).then(function(){return j})):j}var dr=(ha.prototype.execute=function(_){var T=this["@@propmod"];if(T.add!==void 0){var j=T.add;if(c(j))return o(o([],c(_)?_:[],!0),j).sort();if(typeof j=="number")return(Number(_)||0)+j;if(typeof j=="bigint")try{return BigInt(_)+j}catch{return BigInt(0)+j}throw new TypeError("Invalid term ".concat(j))}if(T.remove!==void 0){var I=T.remove;if(c(I))return c(_)?_.filter(function(q){return!I.includes(q)}).sort():[];if(typeof I=="number")return Number(_)-I;if(typeof I=="bigint")try{return BigInt(_)-I}catch{return BigInt(0)-I}throw new TypeError("Invalid subtrahend ".concat(I))}return j=(j=T.replacePrefix)===null||j===void 0?void 0:j[0],j&&typeof _=="string"&&_.startsWith(j)?T.replacePrefix[1]+_.substring(j.length):_},ha);function ha(_){this["@@propmod"]=_}function Xe(_,T){for(var j=l(T),I=j.length,q=!1,W=0;W<I;++W){var ot=j[W],pt=T[ot],kt=B(_,ot);pt instanceof dr?(R(_,ot,pt.execute(kt)),q=!0):kt!==pt&&(R(_,ot,pt),q=!0)}return q}var Bn=(dn.prototype._trans=function(_,T,j){var I=this._tx||ue.trans,q=this.name,W=wt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(_==="readonly"?"read":"write"," ").concat(this.name));function ot(Ct,Bt,xt){if(!xt.schema[q])throw new vt.NotFound("Table "+q+" not part of transaction");return T(xt.idbtrans,xt)}var pt=Pi();try{var kt=I&&I.db._novip===this.db._novip?I===ue.trans?I._promise(_,ot,j):hn(function(){return I._promise(_,ot,j)},{trans:I,transless:ue.transless||ue}):(function Ct(Bt,xt,Ft,Lt){if(Bt.idbdb&&(Bt._state.openComplete||ue.letThrough||Bt._vip)){var Pt=Bt._createTransaction(xt,Ft,Bt._dbSchema);try{Pt.create(),Bt._state.PR1398_maxLoop=3}catch(zt){return zt.name===_t.InvalidState&&Bt.isOpen()&&0<--Bt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Bt.close({disableAutoOpen:!1}),Bt.open().then(function(){return Ct(Bt,xt,Ft,Lt)})):An(zt)}return Pt._promise(xt,function(zt,Rt){return hn(function(){return ue.trans=Pt,Lt(zt,Rt,Pt)})}).then(function(zt){if(xt==="readwrite")try{Pt.idbtrans.commit()}catch{}return xt==="readonly"?zt:Pt._completion.then(function(){return zt})})}if(Bt._state.openComplete)return An(new vt.DatabaseClosed(Bt._state.dbOpenError));if(!Bt._state.isBeingOpened){if(!Bt._state.autoOpen)return An(new vt.DatabaseClosed);Bt.open().catch(Tt)}return Bt._state.dbReadyPromise.then(function(){return Ct(Bt,xt,Ft,Lt)})})(this.db,_,[this.name],ot);return W&&(kt._consoleTask=W,kt=kt.catch(function(Ct){return console.trace(Ct),An(Ct)})),kt}finally{pt&&it()}},dn.prototype.get=function(_,T){var j=this;return _&&_.constructor===Object?this.where(_).first(T):_==null?An(new vt.Type("Invalid argument to Table.get()")):this._trans("readonly",function(I){return j.core.get({trans:I,key:_}).then(function(q){return j.hook.reading.fire(q)})}).then(T)},dn.prototype.where=function(_){if(typeof _=="string")return new this.db.WhereClause(this,_);if(c(_))return new this.db.WhereClause(this,"[".concat(_.join("+"),"]"));var T=l(_);if(T.length===1)return this.where(T[0]).equals(_[T[0]]);var j=this.schema.indexes.concat(this.schema.primKey).filter(function(pt){if(pt.compound&&T.every(function(Ct){return 0<=pt.keyPath.indexOf(Ct)})){for(var kt=0;kt<T.length;++kt)if(T.indexOf(pt.keyPath[kt])===-1)return!1;return!0}return!1}).sort(function(pt,kt){return pt.keyPath.length-kt.keyPath.length})[0];if(j&&this.db._maxKey!==zi){var W=j.keyPath.slice(0,T.length);return this.where(W).equals(W.map(function(kt){return _[kt]}))}!j&&wt&&console.warn("The query ".concat(JSON.stringify(_)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(T.join("+"),"]"));var I=this.schema.idxByName;function q(pt,kt){return Re(pt,kt)===0}var ot=T.reduce(function(xt,kt){var Ct=xt[0],Bt=xt[1],xt=I[kt],Ft=_[kt];return[Ct||xt,Ct||!xt?hr(Bt,xt&&xt.multi?function(Lt){return Lt=B(Lt,kt),c(Lt)&&Lt.some(function(Pt){return q(Ft,Pt)})}:function(Lt){return q(Ft,B(Lt,kt))}):Bt]},[null,null]),W=ot[0],ot=ot[1];return W?this.where(W.name).equals(_[W.keyPath]).filter(ot):j?this.filter(ot):this.where(T).equals("")},dn.prototype.filter=function(_){return this.toCollection().and(_)},dn.prototype.count=function(_){return this.toCollection().count(_)},dn.prototype.offset=function(_){return this.toCollection().offset(_)},dn.prototype.limit=function(_){return this.toCollection().limit(_)},dn.prototype.each=function(_){return this.toCollection().each(_)},dn.prototype.toArray=function(_){return this.toCollection().toArray(_)},dn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},dn.prototype.orderBy=function(_){return new this.db.Collection(new this.db.WhereClause(this,c(_)?"[".concat(_.join("+"),"]"):_))},dn.prototype.reverse=function(){return this.toCollection().reverse()},dn.prototype.mapToClass=function(_){var T,j=this.db,I=this.name;function q(){return T!==null&&T.apply(this,arguments)||this}(this.schema.mappedClass=_).prototype instanceof Yo&&((function(kt,Ct){if(typeof Ct!="function"&&Ct!==null)throw new TypeError("Class extends value "+String(Ct)+" is not a constructor or null");function Bt(){this.constructor=kt}e(kt,Ct),kt.prototype=Ct===null?Object.create(Ct):(Bt.prototype=Ct.prototype,new Bt)})(q,T=_),Object.defineProperty(q.prototype,"db",{get:function(){return j},enumerable:!1,configurable:!0}),q.prototype.table=function(){return I},_=q);for(var W=new Set,ot=_.prototype;ot;ot=d(ot))Object.getOwnPropertyNames(ot).forEach(function(kt){return W.add(kt)});function pt(kt){if(!kt)return kt;var Ct,Bt=Object.create(_.prototype);for(Ct in kt)if(!W.has(Ct))try{Bt[Ct]=kt[Ct]}catch{}return Bt}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=pt,this.hook("reading",pt),_},dn.prototype.defineClass=function(){return this.mapToClass(function(_){h(this,_)})},dn.prototype.add=function(_,T){var j=this,I=this.schema.primKey,q=I.auto,W=I.keyPath,ot=_;return W&&q&&(ot=Vo(W)(_)),this._trans("readwrite",function(pt){return j.core.mutate({trans:pt,type:"add",keys:T!=null?[T]:null,values:[ot]})}).then(function(pt){return pt.numFailures?Te.reject(pt.failures[0]):pt.lastResult}).then(function(pt){if(W)try{R(_,W,pt)}catch{}return pt})},dn.prototype.upsert=function(_,T){var j=this,I=this.schema.primKey.keyPath;return this._trans("readwrite",function(q){return j.core.get({trans:q,key:_}).then(function(W){var ot=W??{};return Xe(ot,T),I&&R(ot,I,_),j.core.mutate({trans:q,type:"put",values:[ot],keys:[_],upsert:!0,updates:{keys:[_],changeSpecs:[T]}}).then(function(pt){return pt.numFailures?Te.reject(pt.failures[0]):!!W})})})},dn.prototype.update=function(_,T){return typeof _!="object"||c(_)?this.where(":id").equals(_).modify(T):(_=B(_,this.schema.primKey.keyPath),_===void 0?An(new vt.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(_).modify(T))},dn.prototype.put=function(_,T){var j=this,I=this.schema.primKey,q=I.auto,W=I.keyPath,ot=_;return W&&q&&(ot=Vo(W)(_)),this._trans("readwrite",function(pt){return j.core.mutate({trans:pt,type:"put",values:[ot],keys:T!=null?[T]:null})}).then(function(pt){return pt.numFailures?Te.reject(pt.failures[0]):pt.lastResult}).then(function(pt){if(W)try{R(_,W,pt)}catch{}return pt})},dn.prototype.delete=function(_){var T=this;return this._trans("readwrite",function(j){return T.core.mutate({trans:j,type:"delete",keys:[_]}).then(function(I){return Kn(T,[_],I)}).then(function(I){return I.numFailures?Te.reject(I.failures[0]):void 0})})},dn.prototype.clear=function(){var _=this;return this._trans("readwrite",function(T){return _.core.mutate({trans:T,type:"deleteRange",range:fa}).then(function(j){return Kn(_,null,j)})}).then(function(T){return T.numFailures?Te.reject(T.failures[0]):void 0})},dn.prototype.bulkGet=function(_){var T=this;return this._trans("readonly",function(j){return T.core.getMany({keys:_,trans:j}).then(function(I){return I.map(function(q){return T.hook.reading.fire(q)})})})},dn.prototype.bulkAdd=function(_,T,j){var I=this,q=Array.isArray(T)?T:void 0,W=(j=j||(q?void 0:T))?j.allKeys:void 0;return this._trans("readwrite",function(ot){var Ct=I.schema.primKey,pt=Ct.auto,Ct=Ct.keyPath;if(Ct&&q)throw new vt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(q&&q.length!==_.length)throw new vt.InvalidArgument("Arguments objects and keys must have the same length");var kt=_.length,Ct=Ct&&pt?_.map(Vo(Ct)):_;return I.core.mutate({trans:ot,type:"add",keys:q,values:Ct,wantResults:W}).then(function(Pt){var xt=Pt.numFailures,Ft=Pt.results,Lt=Pt.lastResult,Pt=Pt.failures;if(xt===0)return W?Ft:Lt;throw new Ut("".concat(I.name,".bulkAdd(): ").concat(xt," of ").concat(kt," operations failed"),Pt)})})},dn.prototype.bulkPut=function(_,T,j){var I=this,q=Array.isArray(T)?T:void 0,W=(j=j||(q?void 0:T))?j.allKeys:void 0;return this._trans("readwrite",function(ot){var Ct=I.schema.primKey,pt=Ct.auto,Ct=Ct.keyPath;if(Ct&&q)throw new vt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(q&&q.length!==_.length)throw new vt.InvalidArgument("Arguments objects and keys must have the same length");var kt=_.length,Ct=Ct&&pt?_.map(Vo(Ct)):_;return I.core.mutate({trans:ot,type:"put",keys:q,values:Ct,wantResults:W}).then(function(Pt){var xt=Pt.numFailures,Ft=Pt.results,Lt=Pt.lastResult,Pt=Pt.failures;if(xt===0)return W?Ft:Lt;throw new Ut("".concat(I.name,".bulkPut(): ").concat(xt," of ").concat(kt," operations failed"),Pt)})})},dn.prototype.bulkUpdate=function(_){var T=this,j=this.core,I=_.map(function(ot){return ot.key}),q=_.map(function(ot){return ot.changes}),W=[];return this._trans("readwrite",function(ot){return j.getMany({trans:ot,keys:I,cache:"clone"}).then(function(pt){var kt=[],Ct=[];_.forEach(function(xt,Ft){var Lt=xt.key,Pt=xt.changes,zt=pt[Ft];if(zt){for(var Rt=0,Zt=Object.keys(Pt);Rt<Zt.length;Rt++){var Gt=Zt[Rt],oe=Pt[Gt];if(Gt===T.schema.primKey.keyPath){if(Re(oe,Lt)!==0)throw new vt.Constraint("Cannot update primary key in bulkUpdate()")}else R(zt,Gt,oe)}W.push(Ft),kt.push(Lt),Ct.push(zt)}});var Bt=kt.length;return j.mutate({trans:ot,type:"put",keys:kt,values:Ct,updates:{keys:I,changeSpecs:q}}).then(function(xt){var Ft=xt.numFailures,Lt=xt.failures;if(Ft===0)return Bt;for(var Pt=0,zt=Object.keys(Lt);Pt<zt.length;Pt++){var Rt,Zt=zt[Pt],Gt=W[Number(Zt)];Gt!=null&&(Rt=Lt[Zt],delete Lt[Zt],Lt[Gt]=Rt)}throw new Ut("".concat(T.name,".bulkUpdate(): ").concat(Ft," of ").concat(Bt," operations failed"),Lt)})})})},dn.prototype.bulkDelete=function(_){var T=this,j=_.length;return this._trans("readwrite",function(I){return T.core.mutate({trans:I,type:"delete",keys:_}).then(function(q){return Kn(T,_,q)})}).then(function(ot){var q=ot.numFailures,W=ot.lastResult,ot=ot.failures;if(q===0)return W;throw new Ut("".concat(T.name,".bulkDelete(): ").concat(q," of ").concat(j," operations failed"),ot)})},dn);function dn(){}function uo(_){function T(ot,pt){if(pt){for(var kt=arguments.length,Ct=new Array(kt-1);--kt;)Ct[kt-1]=arguments[kt];return j[ot].subscribe.apply(null,Ct),_}if(typeof ot=="string")return j[ot]}var j={};T.addEventType=W;for(var I=1,q=arguments.length;I<q;++I)W(arguments[I]);return T;function W(ot,pt,kt){if(typeof ot!="object"){var Ct;pt=pt||re;var Bt={subscribers:[],fire:kt=kt||Tt,subscribe:function(xt){Bt.subscribers.indexOf(xt)===-1&&(Bt.subscribers.push(xt),Bt.fire=pt(Bt.fire,xt))},unsubscribe:function(xt){Bt.subscribers=Bt.subscribers.filter(function(Ft){return Ft!==xt}),Bt.fire=Bt.subscribers.reduce(pt,kt)}};return j[ot]=T[ot]=Bt}l(Ct=ot).forEach(function(xt){var Ft=Ct[xt];if(c(Ft))W(xt,Ct[xt][0],Ct[xt][1]);else{if(Ft!=="asap")throw new vt.InvalidArgument("Invalid event config");var Lt=W(xt,ce,function(){for(var Pt=arguments.length,zt=new Array(Pt);Pt--;)zt[Pt]=arguments[Pt];Lt.subscribers.forEach(function(Rt){D(function(){Rt.apply(null,zt)})})})}})}}function xn(_,T){return E(T).from({prototype:_}),T}function co(_,T){return!(_.filter||_.algorithm||_.or)&&(T?_.justLimit:!_.replayFilter)}function To(_,T){_.filter=hr(_.filter,T)}function pr(_,T,j){var I=_.replayFilter;_.replayFilter=I?function(){return hr(I(),T())}:T,_.justLimit=j&&!I}function gn(_,T){if(_.isPrimKey)return T.primaryKey;var j=T.getIndexByKeyPath(_.index);if(!j)throw new vt.Schema("KeyPath "+_.index+" on object store "+T.name+" is not indexed");return j}function Kr(_,T,j){var I=gn(_,T.schema);return T.openCursor({trans:j,values:!_.keysOnly,reverse:_.dir==="prev",unique:!!_.unique,query:{index:I,range:_.range}})}function Wr(_,T,j,I){var q=_.replayFilter?hr(_.filter,_.replayFilter()):_.filter;if(_.or){var W={},ot=function(pt,kt,Ct){var Bt,xt;q&&!q(kt,Ct,function(Ft){return kt.stop(Ft)},function(Ft){return kt.fail(Ft)})||((xt=""+(Bt=kt.primaryKey))=="[object ArrayBuffer]"&&(xt=""+new Uint8Array(Bt)),y(W,xt)||(W[xt]=!0,T(pt,kt,Ct)))};return Promise.all([_.or._iterate(ot,j),mr(Kr(_,I,j),_.algorithm,ot,!_.keysOnly&&_.valueMapper)])}return mr(Kr(_,I,j),hr(_.algorithm,q),T,!_.keysOnly&&_.valueMapper)}function mr(_,T,j,I){var q=be(I?function(W,ot,pt){return j(I(W),ot,pt)}:j);return _.then(function(W){if(W)return W.start(function(){var ot=function(){return W.continue()};T&&!T(W,function(pt){return ot=pt},function(pt){W.stop(pt),ot=Tt},function(pt){W.fail(pt),ot=Tt})||q(W.value,W,function(pt){return ot=pt}),ot()})})}var tl=(tn.prototype._read=function(_,T){var j=this._ctx;return j.error?j.table._trans(null,An.bind(null,j.error)):j.table._trans("readonly",_).then(T)},tn.prototype._write=function(_){var T=this._ctx;return T.error?T.table._trans(null,An.bind(null,T.error)):T.table._trans("readwrite",_,"locked")},tn.prototype._addAlgorithm=function(_){var T=this._ctx;T.algorithm=hr(T.algorithm,_)},tn.prototype._iterate=function(_,T){return Wr(this._ctx,_,T,this._ctx.table.core)},tn.prototype.clone=function(_){var T=Object.create(this.constructor.prototype),j=Object.create(this._ctx);return _&&h(j,_),T._ctx=j,T},tn.prototype.raw=function(){return this._ctx.valueMapper=null,this},tn.prototype.each=function(_){var T=this._ctx;return this._read(function(j){return Wr(T,_,j,T.table.core)})},tn.prototype.count=function(_){var T=this;return this._read(function(j){var I=T._ctx,q=I.table.core;if(co(I,!0))return q.count({trans:j,query:{index:gn(I,q.schema),range:I.range}}).then(function(ot){return Math.min(ot,I.limit)});var W=0;return Wr(I,function(){return++W,!1},j,q).then(function(){return W})}).then(_)},tn.prototype.sortBy=function(_,T){var j=_.split(".").reverse(),I=j[0],q=j.length-1;function W(kt,Ct){return Ct?W(kt[j[Ct]],Ct-1):kt[I]}var ot=this._ctx.dir==="next"?1:-1;function pt(kt,Ct){return Re(W(kt,q),W(Ct,q))*ot}return this.toArray(function(kt){return kt.sort(pt)}).then(T)},tn.prototype.toArray=function(_){var T=this;return this._read(function(j){var I=T._ctx;if(I.dir==="next"&&co(I,!0)&&0<I.limit){var q=I.valueMapper,W=gn(I,I.table.core.schema);return I.table.core.query({trans:j,limit:I.limit,values:!0,query:{index:W,range:I.range}}).then(function(pt){return pt=pt.result,q?pt.map(q):pt})}var ot=[];return Wr(I,function(pt){return ot.push(pt)},j,I.table.core).then(function(){return ot})},_)},tn.prototype.offset=function(_){var T=this._ctx;return _<=0||(T.offset+=_,co(T)?pr(T,function(){var j=_;return function(I,q){return j===0||(j===1?--j:q(function(){I.advance(j),j=0}),!1)}}):pr(T,function(){var j=_;return function(){return--j<0}})),this},tn.prototype.limit=function(_){return this._ctx.limit=Math.min(this._ctx.limit,_),pr(this._ctx,function(){var T=_;return function(j,I,q){return--T<=0&&I(q),0<=T}},!0),this},tn.prototype.until=function(_,T){return To(this._ctx,function(j,I,q){return!_(j.value)||(I(q),T)}),this},tn.prototype.first=function(_){return this.limit(1).toArray(function(T){return T[0]}).then(_)},tn.prototype.last=function(_){return this.reverse().first(_)},tn.prototype.filter=function(_){var T;return To(this._ctx,function(j){return _(j.value)}),(T=this._ctx).isMatch=hr(T.isMatch,_),this},tn.prototype.and=function(_){return this.filter(_)},tn.prototype.or=function(_){return new this.db.WhereClause(this._ctx.table,_,this)},tn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},tn.prototype.desc=function(){return this.reverse()},tn.prototype.eachKey=function(_){var T=this._ctx;return T.keysOnly=!T.isMatch,this.each(function(j,I){_(I.key,I)})},tn.prototype.eachUniqueKey=function(_){return this._ctx.unique="unique",this.eachKey(_)},tn.prototype.eachPrimaryKey=function(_){var T=this._ctx;return T.keysOnly=!T.isMatch,this.each(function(j,I){_(I.primaryKey,I)})},tn.prototype.keys=function(_){var T=this._ctx;T.keysOnly=!T.isMatch;var j=[];return this.each(function(I,q){j.push(q.key)}).then(function(){return j}).then(_)},tn.prototype.primaryKeys=function(_){var T=this._ctx;if(T.dir==="next"&&co(T,!0)&&0<T.limit)return this._read(function(I){var q=gn(T,T.table.core.schema);return T.table.core.query({trans:I,values:!1,limit:T.limit,query:{index:q,range:T.range}})}).then(function(I){return I.result}).then(_);T.keysOnly=!T.isMatch;var j=[];return this.each(function(I,q){j.push(q.primaryKey)}).then(function(){return j}).then(_)},tn.prototype.uniqueKeys=function(_){return this._ctx.unique="unique",this.keys(_)},tn.prototype.firstKey=function(_){return this.limit(1).keys(function(T){return T[0]}).then(_)},tn.prototype.lastKey=function(_){return this.reverse().firstKey(_)},tn.prototype.distinct=function(){var _=this._ctx,_=_.index&&_.table.schema.idxByName[_.index];if(!_||!_.multi)return this;var T={};return To(this._ctx,function(q){var I=q.primaryKey.toString(),q=y(T,I);return T[I]=!0,!q}),this},tn.prototype.modify=function(_){var T=this,j=this._ctx;return this._write(function(I){var q=typeof _=="function"?_:function(zt){return Xe(zt,_)},W=j.table.core,Ct=W.schema.primaryKey,ot=Ct.outbound,pt=Ct.extractKey,kt=200,Ct=T.db._options.modifyChunkSize;Ct&&(kt=typeof Ct=="object"?Ct[W.name]||Ct["*"]||200:Ct);function Bt(zt,Gt){var Zt=Gt.failures,Gt=Gt.numFailures;Ft+=zt-Gt;for(var oe=0,ge=l(Zt);oe<ge.length;oe++){var Ae=ge[oe];xt.push(Zt[Ae])}}var xt=[],Ft=0,Lt=[],Pt=_===ws;return T.clone().primaryKeys().then(function(zt){function Rt(Gt){var oe=Math.min(kt,zt.length-Gt),ge=zt.slice(Gt,Gt+oe);return(Pt?Promise.resolve([]):W.getMany({trans:I,keys:ge,cache:"immutable"})).then(function(Ae){var Le=[],Se=[],Me=ot?[]:null,Oe=Pt?ge:[];if(!Pt)for(var Ee=0;Ee<oe;++Ee){var Pe=Ae[Ee],He={value:mt(Pe),primKey:zt[Gt+Ee]};q.call(He,He.value,He)!==!1&&(He.value==null?Oe.push(zt[Gt+Ee]):ot||Re(pt(Pe),pt(He.value))===0?(Se.push(He.value),ot&&Me.push(zt[Gt+Ee])):(Oe.push(zt[Gt+Ee]),Le.push(He.value)))}return Promise.resolve(0<Le.length&&W.mutate({trans:I,type:"add",values:Le}).then(function(qe){for(var Ge in qe.failures)Oe.splice(parseInt(Ge),1);Bt(Le.length,qe)})).then(function(){return(0<Se.length||Zt&&typeof _=="object")&&W.mutate({trans:I,type:"put",keys:Me,values:Se,criteria:Zt,changeSpec:typeof _!="function"&&_,isAdditionalChunk:0<Gt}).then(function(qe){return Bt(Se.length,qe)})}).then(function(){return(0<Oe.length||Zt&&Pt)&&W.mutate({trans:I,type:"delete",keys:Oe,criteria:Zt,isAdditionalChunk:0<Gt}).then(function(qe){return Kn(j.table,Oe,qe)}).then(function(qe){return Bt(Oe.length,qe)})}).then(function(){return zt.length>Gt+oe&&Rt(Gt+kt)})})}var Zt=co(j)&&j.limit===1/0&&(typeof _!="function"||Pt)&&{index:j.index,range:j.range};return Rt(0).then(function(){if(0<xt.length)throw new gt("Error modifying one or more objects",xt,Ft,Lt);return zt.length})})})},tn.prototype.delete=function(){var _=this._ctx,T=_.range;return!co(_)||_.table.schema.yProps||!_.isPrimKey&&T.type!==3?this.modify(ws):this._write(function(j){var I=_.table.core.schema.primaryKey,q=T;return _.table.core.count({trans:j,query:{index:I,range:q}}).then(function(W){return _.table.core.mutate({trans:j,type:"deleteRange",range:q}).then(function(kt){var pt=kt.failures,kt=kt.numFailures;if(kt)throw new gt("Could not delete some values",Object.keys(pt).map(function(Ct){return pt[Ct]}),W-kt);return W-kt})})})},tn);function tn(){}var ws=function(_,T){return T.value=null};function xs(_,T){return _<T?-1:_===T?0:1}function da(_,T){return T<_?-1:_===T?0:1}function Oi(_,T,j){return _=_ instanceof Ao?new _.Collection(_):_,_._ctx.error=new(j||TypeError)(T),_}function gr(_){return new _.Collection(_,function(){return Zo("")}).limit(0)}function Ci(_,T,j,I){var q,W,ot,pt,kt,Ct,Bt,xt=j.length;if(!j.every(function(Pt){return typeof Pt=="string"}))return Oi(_,Qn);function Ft(Pt){q=Pt==="next"?function(Rt){return Rt.toUpperCase()}:function(Rt){return Rt.toLowerCase()},W=Pt==="next"?function(Rt){return Rt.toLowerCase()}:function(Rt){return Rt.toUpperCase()},ot=Pt==="next"?xs:da;var zt=j.map(function(Rt){return{lower:W(Rt),upper:q(Rt)}}).sort(function(Rt,Zt){return ot(Rt.lower,Zt.lower)});pt=zt.map(function(Rt){return Rt.upper}),kt=zt.map(function(Rt){return Rt.lower}),Bt=(Ct=Pt)==="next"?"":I}Ft("next"),_=new _.Collection(_,function(){return yr(pt[0],kt[xt-1]+I)}),_._ondirectionchange=function(Pt){Ft(Pt)};var Lt=0;return _._addAlgorithm(function(Pt,zt,Rt){var Zt=Pt.key;if(typeof Zt!="string")return!1;var Gt=W(Zt);if(T(Gt,kt,Lt))return!0;for(var oe=null,ge=Lt;ge<xt;++ge){var Ae=(function(Le,Se,Me,Oe,Ee,Pe){for(var He=Math.min(Le.length,Oe.length),qe=-1,Ge=0;Ge<He;++Ge){var di=Se[Ge];if(di!==Oe[Ge])return Ee(Le[Ge],Me[Ge])<0?Le.substr(0,Ge)+Me[Ge]+Me.substr(Ge+1):Ee(Le[Ge],Oe[Ge])<0?Le.substr(0,Ge)+Oe[Ge]+Me.substr(Ge+1):0<=qe?Le.substr(0,qe)+Se[qe]+Me.substr(qe+1):null;Ee(Le[Ge],di)<0&&(qe=Ge)}return He<Oe.length&&Pe==="next"?Le+Me.substr(Le.length):He<Le.length&&Pe==="prev"?Le.substr(0,Me.length):qe<0?null:Le.substr(0,qe)+Oe[qe]+Me.substr(qe+1)})(Zt,Gt,pt[ge],kt[ge],ot,Ct);Ae===null&&oe===null?Lt=ge+1:(oe===null||0<ot(oe,Ae))&&(oe=Ae)}return zt(oe!==null?function(){Pt.continue(oe+Bt)}:Rt),!1}),_}function yr(_,T,j,I){return{type:2,lower:_,upper:T,lowerOpen:j,upperOpen:I}}function Zo(_){return{type:1,lower:_,upper:_}}var Ao=(Object.defineProperty(ze.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),ze.prototype.between=function(_,T,j,I){j=j!==!1,I=I===!0;try{return 0<this._cmp(_,T)||this._cmp(_,T)===0&&(j||I)&&(!j||!I)?gr(this):new this.Collection(this,function(){return yr(_,T,!j,!I)})}catch{return Oi(this,Bi)}},ze.prototype.equals=function(_){return _==null?Oi(this,Bi):new this.Collection(this,function(){return Zo(_)})},ze.prototype.above=function(_){return _==null?Oi(this,Bi):new this.Collection(this,function(){return yr(_,void 0,!0)})},ze.prototype.aboveOrEqual=function(_){return _==null?Oi(this,Bi):new this.Collection(this,function(){return yr(_,void 0,!1)})},ze.prototype.below=function(_){return _==null?Oi(this,Bi):new this.Collection(this,function(){return yr(void 0,_,!1,!0)})},ze.prototype.belowOrEqual=function(_){return _==null?Oi(this,Bi):new this.Collection(this,function(){return yr(void 0,_)})},ze.prototype.startsWith=function(_){return typeof _!="string"?Oi(this,Qn):this.between(_,_+zi,!0,!0)},ze.prototype.startsWithIgnoreCase=function(_){return _===""?this.startsWith(_):Ci(this,function(T,j){return T.indexOf(j[0])===0},[_],zi)},ze.prototype.equalsIgnoreCase=function(_){return Ci(this,function(T,j){return T===j[0]},[_],"")},ze.prototype.anyOfIgnoreCase=function(){var _=nt.apply(jt,arguments);return _.length===0?gr(this):Ci(this,function(T,j){return j.indexOf(T)!==-1},_,"")},ze.prototype.startsWithAnyOfIgnoreCase=function(){var _=nt.apply(jt,arguments);return _.length===0?gr(this):Ci(this,function(T,j){return j.some(function(I){return T.indexOf(I)===0})},_,zi)},ze.prototype.anyOf=function(){var _=this,T=nt.apply(jt,arguments),j=this._cmp;try{T.sort(j)}catch{return Oi(this,Bi)}if(T.length===0)return gr(this);var I=new this.Collection(this,function(){return yr(T[0],T[T.length-1])});I._ondirectionchange=function(W){j=W==="next"?_._ascending:_._descending,T.sort(j)};var q=0;return I._addAlgorithm(function(W,ot,pt){for(var kt=W.key;0<j(kt,T[q]);)if(++q===T.length)return ot(pt),!1;return j(kt,T[q])===0||(ot(function(){W.continue(T[q])}),!1)}),I},ze.prototype.notEqual=function(_){return this.inAnyRange([[-1/0,_],[_,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},ze.prototype.noneOf=function(){var _=nt.apply(jt,arguments);if(_.length===0)return new this.Collection(this);try{_.sort(this._ascending)}catch{return Oi(this,Bi)}var T=_.reduce(function(j,I){return j?j.concat([[j[j.length-1][1],I]]):[[-1/0,I]]},null);return T.push([_[_.length-1],this.db._maxKey]),this.inAnyRange(T,{includeLowers:!1,includeUppers:!1})},ze.prototype.inAnyRange=function(Zt,T){var j=this,I=this._cmp,q=this._ascending,W=this._descending,ot=this._min,pt=this._max;if(Zt.length===0)return gr(this);if(!Zt.every(function(Gt){return Gt[0]!==void 0&&Gt[1]!==void 0&&q(Gt[0],Gt[1])<=0}))return Oi(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",vt.InvalidArgument);var kt=!T||T.includeLowers!==!1,Ct=T&&T.includeUppers===!0,Bt,xt=q;function Ft(Gt,oe){return xt(Gt[0],oe[0])}try{(Bt=Zt.reduce(function(Gt,oe){for(var ge=0,Ae=Gt.length;ge<Ae;++ge){var Le=Gt[ge];if(I(oe[0],Le[1])<0&&0<I(oe[1],Le[0])){Le[0]=ot(Le[0],oe[0]),Le[1]=pt(Le[1],oe[1]);break}}return ge===Ae&&Gt.push(oe),Gt},[])).sort(Ft)}catch{return Oi(this,Bi)}var Lt=0,Pt=Ct?function(Gt){return 0<q(Gt,Bt[Lt][1])}:function(Gt){return 0<=q(Gt,Bt[Lt][1])},zt=kt?function(Gt){return 0<W(Gt,Bt[Lt][0])}:function(Gt){return 0<=W(Gt,Bt[Lt][0])},Rt=Pt,Zt=new this.Collection(this,function(){return yr(Bt[0][0],Bt[Bt.length-1][1],!kt,!Ct)});return Zt._ondirectionchange=function(Gt){xt=Gt==="next"?(Rt=Pt,q):(Rt=zt,W),Bt.sort(Ft)},Zt._addAlgorithm(function(Gt,oe,ge){for(var Ae,Le=Gt.key;Rt(Le);)if(++Lt===Bt.length)return oe(ge),!1;return!Pt(Ae=Le)&&!zt(Ae)||(j._cmp(Le,Bt[Lt][1])===0||j._cmp(Le,Bt[Lt][0])===0||oe(function(){xt===q?Gt.continue(Bt[Lt][0]):Gt.continue(Bt[Lt][1])}),!1)}),Zt},ze.prototype.startsWithAnyOf=function(){var _=nt.apply(jt,arguments);return _.every(function(T){return typeof T=="string"})?_.length===0?gr(this):this.inAnyRange(_.map(function(T){return[T,T+zi]})):Oi(this,"startsWithAnyOf() only works with strings")},ze);function ze(){}function Wn(_){return be(function(T){return un(T),_(T.target.error),!1})}function un(_){_.stopPropagation&&_.stopPropagation(),_.preventDefault&&_.preventDefault()}var ko="storagemutated",Xr="x-storagemutated-1",ri=uo(null,ko),Ss=(Xn.prototype._lock=function(){return z(!ue.global),++this._reculock,this._reculock!==1||ue.global||(ue.lockOwnerFor=this),this},Xn.prototype._unlock=function(){if(z(!ue.global),--this._reculock==0)for(ue.global||(ue.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var _=this._blockedFuncs.shift();try{Yn(_[1],_[0])}catch{}}return this},Xn.prototype._locked=function(){return this._reculock&&ue.lockOwnerFor!==this},Xn.prototype.create=function(_){var T=this;if(!this.mode)return this;var j=this.db.idbdb,I=this.db._state.dbOpenError;if(z(!this.idbtrans),!_&&!j)switch(I&&I.name){case"DatabaseClosedError":throw new vt.DatabaseClosed(I);case"MissingAPIError":throw new vt.MissingAPI(I.message,I);default:throw new vt.OpenFailed(I)}if(!this.active)throw new vt.TransactionInactive;return z(this._completion._state===null),(_=this.idbtrans=_||(this.db.core||j).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=be(function(q){un(q),T._reject(_.error)}),_.onabort=be(function(q){un(q),T.active&&T._reject(new vt.Abort(_.error)),T.active=!1,T.on("abort").fire(q)}),_.oncomplete=be(function(){T.active=!1,T._resolve(),"mutatedParts"in _&&ri.storagemutated.fire(_.mutatedParts)}),this},Xn.prototype._promise=function(_,T,j){var I=this;if(_==="readwrite"&&this.mode!=="readwrite")return An(new vt.ReadOnly("Transaction is readonly"));if(!this.active)return An(new vt.TransactionInactive);if(this._locked())return new Te(function(W,ot){I._blockedFuncs.push([function(){I._promise(_,T,j).then(W,ot)},ue])});if(j)return hn(function(){var W=new Te(function(ot,pt){I._lock();var kt=T(ot,pt,I);kt&&kt.then&&kt.then(ot,pt)});return W.finally(function(){return I._unlock()}),W._lib=!0,W});var q=new Te(function(W,ot){var pt=T(W,ot,I);pt&&pt.then&&pt.then(W,ot)});return q._lib=!0,q},Xn.prototype._root=function(){return this.parent?this.parent._root():this},Xn.prototype.waitFor=function(_){var T,j=this._root(),I=Te.resolve(_);j._waitingFor?j._waitingFor=j._waitingFor.then(function(){return I}):(j._waitingFor=I,j._waitingQueue=[],T=j.idbtrans.objectStore(j.storeNames[0]),(function W(){for(++j._spinCount;j._waitingQueue.length;)j._waitingQueue.shift()();j._waitingFor&&(T.get(-1/0).onsuccess=W)})());var q=j._waitingFor;return new Te(function(W,ot){I.then(function(pt){return j._waitingQueue.push(be(W.bind(null,pt)))},function(pt){return j._waitingQueue.push(be(ot.bind(null,pt)))}).finally(function(){j._waitingFor===q&&(j._waitingFor=null)})})},Xn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new vt.Abort))},Xn.prototype.table=function(_){var T=this._memoizedTables||(this._memoizedTables={});if(y(T,_))return T[_];var j=this.schema[_];if(!j)throw new vt.NotFound("Table "+_+" not part of transaction");return j=new this.db.Table(_,j,this),j.core=this.db.core.table(_),T[_]=j},Xn);function Xn(){}function $i(_,T,j,I,q,W,ot,pt){return{name:_,keyPath:T,unique:j,multi:I,auto:q,compound:W,src:(j&&!ot?"&":"")+(I?"*":"")+(q?"++":"")+fo(T),type:pt}}function fo(_){return typeof _=="string"?_:_?"["+[].join.call(_,"+")+"]":""}function Hn(_,T,j){return{name:_,primKey:T,indexes:j,mappedClass:null,idxByName:(I=function(q){return[q.name,q]},j.reduce(function(q,W,ot){return ot=I(W,ot),ot&&(q[ot[0]]=ot[1]),q},{}))};var I}var Qi=function(_){try{return _.only([[]]),Qi=function(){return[[]]},[[]]}catch{return Qi=function(){return zi},zi}};function Mo(_){return _==null?function(){}:typeof _=="string"?(T=_).split(".").length===1?function(j){return j[T]}:function(j){return B(j,T)}:function(j){return B(j,_)};var T}function Ko(_){return[].slice.call(_)}var Fl=0;function Jn(_){return _==null?":id":typeof _=="string"?_:"[".concat(_.join("+"),"]")}function Gr(_,T,kt){function I(Rt){if(Rt.type===3)return null;if(Rt.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Lt=Rt.lower,Pt=Rt.upper,zt=Rt.lowerOpen,Rt=Rt.upperOpen;return Lt===void 0?Pt===void 0?null:T.upperBound(Pt,!!Rt):Pt===void 0?T.lowerBound(Lt,!!zt):T.bound(Lt,Pt,!!zt,!!Rt)}function q(Ft){var Lt,Pt=Ft.name;return{name:Pt,schema:Ft,mutate:function(zt){var Rt=zt.trans,Zt=zt.type,Gt=zt.keys,oe=zt.values,ge=zt.range;return new Promise(function(Ae,Le){Ae=be(Ae);var Se=Rt.objectStore(Pt),Me=Se.keyPath==null,Oe=Zt==="put"||Zt==="add";if(!Oe&&Zt!=="delete"&&Zt!=="deleteRange")throw new Error("Invalid operation type: "+Zt);var Ee,Pe=(Gt||oe||{length:1}).length;if(Gt&&oe&&Gt.length!==oe.length)throw new Error("Given keys array must have same length as given values array.");if(Pe===0)return Ae({numFailures:0,failures:{},results:[],lastResult:void 0});function He(ti){++di,un(ti)}var qe=[],Ge=[],di=0;if(Zt==="deleteRange"){if(ge.type===4)return Ae({numFailures:di,failures:Ge,results:[],lastResult:void 0});ge.type===3?qe.push(Ee=Se.clear()):qe.push(Ee=Se.delete(I(ge)))}else{var Me=Oe?Me?[oe,Gt]:[oe,null]:[Gt,null],Ye=Me[0],oi=Me[1];if(Oe)for(var kn=0;kn<Pe;++kn)qe.push(Ee=oi&&oi[kn]!==void 0?Se[Zt](Ye[kn],oi[kn]):Se[Zt](Ye[kn])),Ee.onerror=He;else for(kn=0;kn<Pe;++kn)qe.push(Ee=Se[Zt](Ye[kn])),Ee.onerror=He}function eo(ti){ti=ti.target.result,qe.forEach(function(Zi,ul){return Zi.error!=null&&(Ge[ul]=Zi.error)}),Ae({numFailures:di,failures:Ge,results:Zt==="delete"?Gt:qe.map(function(Zi){return Zi.result}),lastResult:ti})}Ee.onerror=function(ti){He(ti),eo(ti)},Ee.onsuccess=eo})},getMany:function(zt){var Rt=zt.trans,Zt=zt.keys;return new Promise(function(Gt,oe){Gt=be(Gt);for(var ge,Ae=Rt.objectStore(Pt),Le=Zt.length,Se=new Array(Le),Me=0,Oe=0,Ee=function(qe){qe=qe.target,Se[qe._pos]=qe.result,++Oe===Me&&Gt(Se)},Pe=Wn(oe),He=0;He<Le;++He)Zt[He]!=null&&((ge=Ae.get(Zt[He]))._pos=He,ge.onsuccess=Ee,ge.onerror=Pe,++Me);Me===0&&Gt(Se)})},get:function(zt){var Rt=zt.trans,Zt=zt.key;return new Promise(function(Gt,oe){Gt=be(Gt);var ge=Rt.objectStore(Pt).get(Zt);ge.onsuccess=function(Ae){return Gt(Ae.target.result)},ge.onerror=Wn(oe)})},query:(Lt=Ct,function(zt){return new Promise(function(Rt,Zt){Rt=be(Rt);var Gt,oe,ge,Me=zt.trans,Ae=zt.values,Le=zt.limit,Ee=zt.query,Se=Le===1/0?void 0:Le,Oe=Ee.index,Ee=Ee.range,Me=Me.objectStore(Pt),Oe=Oe.isPrimaryKey?Me:Me.index(Oe.name),Ee=I(Ee);if(Le===0)return Rt({result:[]});Lt?((Se=Ae?Oe.getAll(Ee,Se):Oe.getAllKeys(Ee,Se)).onsuccess=function(Pe){return Rt({result:Pe.target.result})},Se.onerror=Wn(Zt)):(Gt=0,oe=!Ae&&"openKeyCursor"in Oe?Oe.openKeyCursor(Ee):Oe.openCursor(Ee),ge=[],oe.onsuccess=function(Pe){var He=oe.result;return He?(ge.push(Ae?He.value:He.primaryKey),++Gt===Le?Rt({result:ge}):void He.continue()):Rt({result:ge})},oe.onerror=Wn(Zt))})}),openCursor:function(zt){var Rt=zt.trans,Zt=zt.values,Gt=zt.query,oe=zt.reverse,ge=zt.unique;return new Promise(function(Ae,Le){Ae=be(Ae);var Oe=Gt.index,Se=Gt.range,Me=Rt.objectStore(Pt),Me=Oe.isPrimaryKey?Me:Me.index(Oe.name),Oe=oe?ge?"prevunique":"prev":ge?"nextunique":"next",Ee=!Zt&&"openKeyCursor"in Me?Me.openKeyCursor(I(Se),Oe):Me.openCursor(I(Se),Oe);Ee.onerror=Wn(Le),Ee.onsuccess=be(function(Pe){var He,qe,Ge,di,Ye=Ee.result;Ye?(Ye.___id=++Fl,Ye.done=!1,He=Ye.continue.bind(Ye),qe=(qe=Ye.continuePrimaryKey)&&qe.bind(Ye),Ge=Ye.advance.bind(Ye),di=function(){throw new Error("Cursor not stopped")},Ye.trans=Rt,Ye.stop=Ye.continue=Ye.continuePrimaryKey=Ye.advance=function(){throw new Error("Cursor not started")},Ye.fail=be(Le),Ye.next=function(){var oi=this,kn=1;return this.start(function(){return kn--?oi.continue():oi.stop()}).then(function(){return oi})},Ye.start=function(oi){function kn(){if(Ee.result)try{oi()}catch(ti){Ye.fail(ti)}else Ye.done=!0,Ye.start=function(){throw new Error("Cursor behind last entry")},Ye.stop()}var eo=new Promise(function(ti,Zi){ti=be(ti),Ee.onerror=Wn(Zi),Ye.fail=Zi,Ye.stop=function(ul){Ye.stop=Ye.continue=Ye.continuePrimaryKey=Ye.advance=di,ti(ul)}});return Ee.onsuccess=be(function(ti){Ee.onsuccess=kn,kn()}),Ye.continue=He,Ye.continuePrimaryKey=qe,Ye.advance=Ge,kn(),eo},Ae(Ye)):Ae(null)},Le)})},count:function(zt){var Rt=zt.query,Zt=zt.trans,Gt=Rt.index,oe=Rt.range;return new Promise(function(ge,Ae){var Le=Zt.objectStore(Pt),Se=Gt.isPrimaryKey?Le:Le.index(Gt.name),Le=I(oe),Se=Le?Se.count(Le):Se.count();Se.onsuccess=be(function(Me){return ge(Me.target.result)}),Se.onerror=Wn(Ae)})}}}var W,ot,pt,Bt=(ot=kt,pt=Ko((W=_).objectStoreNames),{schema:{name:W.name,tables:pt.map(function(Ft){return ot.objectStore(Ft)}).map(function(Ft){var Lt=Ft.keyPath,Rt=Ft.autoIncrement,Pt=c(Lt),zt={},Rt={name:Ft.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Lt==null,compound:Pt,keyPath:Lt,autoIncrement:Rt,unique:!0,extractKey:Mo(Lt)},indexes:Ko(Ft.indexNames).map(function(Zt){return Ft.index(Zt)}).map(function(ge){var Gt=ge.name,oe=ge.unique,Ae=ge.multiEntry,ge=ge.keyPath,Ae={name:Gt,compound:c(ge),keyPath:ge,unique:oe,multiEntry:Ae,extractKey:Mo(ge)};return zt[Jn(ge)]=Ae}),getIndexByKeyPath:function(Zt){return zt[Jn(Zt)]}};return zt[":id"]=Rt.primaryKey,Lt!=null&&(zt[Jn(Lt)]=Rt.primaryKey),Rt})},hasGetAll:0<pt.length&&"getAll"in ot.objectStore(pt[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),kt=Bt.schema,Ct=Bt.hasGetAll,Bt=kt.tables.map(q),xt={};return Bt.forEach(function(Ft){return xt[Ft.name]=Ft}),{stack:"dbcore",transaction:_.transaction.bind(_),table:function(Ft){if(!xt[Ft])throw new Error("Table '".concat(Ft,"' not found"));return xt[Ft]},MIN_KEY:-1/0,MAX_KEY:Qi(T),schema:kt}}function pa(_,T,j,I){var q=j.IDBKeyRange;return j.indexedDB,{dbcore:(I=Gr(T,q,I),_.dbcore.reduce(function(W,ot){return ot=ot.create,r(r({},W),ot(W))},I))}}function $r(_,I){var j=I.db,I=pa(_._middlewares,j,_._deps,I);_.core=I.dbcore,_.tables.forEach(function(q){var W=q.name;_.core.schema.tables.some(function(ot){return ot.name===W})&&(q.core=_.core.table(W),_[W]instanceof _.Table&&(_[W].core=q.core))})}function en(_,T,j,I){j.forEach(function(q){var W=I[q];T.forEach(function(ot){var pt=(function kt(Ct,Bt){return k(Ct,Bt)||(Ct=d(Ct))&&kt(Ct,Bt)})(ot,q);(!pt||"value"in pt&&pt.value===void 0)&&(ot===_.Transaction.prototype||ot instanceof _.Transaction?x(ot,q,{get:function(){return this.table(q)},set:function(kt){S(this,q,{value:kt,writable:!0,configurable:!0,enumerable:!0})}}):ot[q]=new _.Table(q,W))})})}function Es(_,T){T.forEach(function(j){for(var I in j)j[I]instanceof _.Table&&delete j[I]})}function Vi(_,T){return _._cfg.version-T._cfg.version}function Qr(_,T,j,I){var q=_._dbSchema;j.objectStoreNames.contains("$meta")&&!q.$meta&&(q.$meta=Hn("$meta",ya("")[0],[]),_._storeNames.push("$meta"));var W=_._createTransaction("readwrite",_._storeNames,q);W.create(j),W._completion.catch(I);var ot=W._reject.bind(W),pt=ue.transless||ue;hn(function(){return ue.trans=W,ue.transless=pt,T!==0?($r(_,j),Ct=T,((kt=W).storeNames.includes("$meta")?kt.table("$meta").get("version").then(function(Bt){return Bt??Ct}):Te.resolve(Ct)).then(function(Bt){return Ft=Bt,Lt=W,Pt=j,zt=[],Bt=(xt=_)._versions,Rt=xt._dbSchema=Wo(0,xt.idbdb,Pt),(Bt=Bt.filter(function(Zt){return Zt._cfg.version>=Ft})).length!==0?(Bt.forEach(function(Zt){zt.push(function(){var Gt=Rt,oe=Zt._cfg.dbschema;ga(xt,Gt,Pt),ga(xt,oe,Pt),Rt=xt._dbSchema=oe;var ge=ma(Gt,oe);ge.add.forEach(function(Oe){As(Pt,Oe[0],Oe[1].primKey,Oe[1].indexes)}),ge.change.forEach(function(Oe){if(Oe.recreate)throw new vt.Upgrade("Not yet support for changing primary key");var Ee=Pt.objectStore(Oe.name);Oe.add.forEach(function(Pe){return ks(Ee,Pe)}),Oe.change.forEach(function(Pe){Ee.deleteIndex(Pe.name),ks(Ee,Pe)}),Oe.del.forEach(function(Pe){return Ee.deleteIndex(Pe)})});var Ae=Zt._cfg.contentUpgrade;if(Ae&&Zt._cfg.version>Ft){$r(xt,Pt),Lt._memoizedTables={};var Le=V(oe);ge.del.forEach(function(Oe){Le[Oe]=Gt[Oe]}),Es(xt,[xt.Transaction.prototype]),en(xt,[xt.Transaction.prototype],l(Le),Le),Lt.schema=Le;var Se,Me=Z(Ae);return Me&&Tn(),ge=Te.follow(function(){var Oe;(Se=Ae(Lt))&&Me&&(Oe=Un.bind(null,null),Se.then(Oe,Oe))}),Se&&typeof Se.then=="function"?Te.resolve(Se):ge.then(function(){return Se})}}),zt.push(function(Gt){var oe,ge,Ae=Zt._cfg.dbschema;oe=Ae,ge=Gt,[].slice.call(ge.db.objectStoreNames).forEach(function(Le){return oe[Le]==null&&ge.db.deleteObjectStore(Le)}),Es(xt,[xt.Transaction.prototype]),en(xt,[xt.Transaction.prototype],xt._storeNames,xt._dbSchema),Lt.schema=xt._dbSchema}),zt.push(function(Gt){xt.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(xt.idbdb.version/10)===Zt._cfg.version?(xt.idbdb.deleteObjectStore("$meta"),delete xt._dbSchema.$meta,xt._storeNames=xt._storeNames.filter(function(oe){return oe!=="$meta"})):Gt.objectStore("$meta").put(Zt._cfg.version,"version"))})}),(function Zt(){return zt.length?Te.resolve(zt.shift()(Lt.idbtrans)).then(Zt):Te.resolve()})().then(function(){Hl(Rt,Pt)})):Te.resolve();var xt,Ft,Lt,Pt,zt,Rt}).catch(ot)):(l(q).forEach(function(Bt){As(j,Bt,q[Bt].primKey,q[Bt].indexes)}),$r(_,j),void Te.follow(function(){return _.on.populate.fire(W)}).catch(ot));var kt,Ct})}function Ts(_,T){Hl(_._dbSchema,T),T.db.version%10!=0||T.objectStoreNames.contains("$meta")||T.db.createObjectStore("$meta").add(Math.ceil(T.db.version/10-1),"version");var j=Wo(0,_.idbdb,T);ga(_,_._dbSchema,T);for(var I=0,q=ma(j,_._dbSchema).change;I<q.length;I++){var W=(function(ot){if(ot.change.length||ot.recreate)return console.warn("Unable to patch indexes of table ".concat(ot.name," because it has changes on the type of index or primary key.")),{value:void 0};var pt=T.objectStore(ot.name);ot.add.forEach(function(kt){wt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(ot.name,".").concat(kt.src)),ks(pt,kt)})})(q[I]);if(typeof W=="object")return W.value}}function ma(_,T){var j,I={del:[],add:[],change:[]};for(j in _)T[j]||I.del.push(j);for(j in T){var q=_[j],W=T[j];if(q){var ot={name:j,def:W,recreate:!1,del:[],add:[],change:[]};if(""+(q.primKey.keyPath||"")!=""+(W.primKey.keyPath||"")||q.primKey.auto!==W.primKey.auto)ot.recreate=!0,I.change.push(ot);else{var pt=q.idxByName,kt=W.idxByName,Ct=void 0;for(Ct in pt)kt[Ct]||ot.del.push(Ct);for(Ct in kt){var Bt=pt[Ct],xt=kt[Ct];Bt?Bt.src!==xt.src&&ot.change.push(xt):ot.add.push(xt)}(0<ot.del.length||0<ot.add.length||0<ot.change.length)&&I.change.push(ot)}}else I.add.push([j,W])}return I}function As(_,T,j,I){var q=_.db.createObjectStore(T,j.keyPath?{keyPath:j.keyPath,autoIncrement:j.auto}:{autoIncrement:j.auto});return I.forEach(function(W){return ks(q,W)}),q}function Hl(_,T){l(_).forEach(function(j){T.db.objectStoreNames.contains(j)||(wt&&console.debug("Dexie: Creating missing table",j),As(T,j,_[j].primKey,_[j].indexes))})}function ks(_,T){_.createIndex(T.name,T.keyPath,{unique:T.unique,multiEntry:T.multi})}function Wo(_,T,j){var I={};return M(T.objectStoreNames,0).forEach(function(q){for(var W=j.objectStore(q),ot=$i(fo(Ct=W.keyPath),Ct||"",!0,!1,!!W.autoIncrement,Ct&&typeof Ct!="string",!0),pt=[],kt=0;kt<W.indexNames.length;++kt){var Bt=W.index(W.indexNames[kt]),Ct=Bt.keyPath,Bt=$i(Bt.name,Ct,!!Bt.unique,!!Bt.multiEntry,!1,Ct&&typeof Ct!="string",!1);pt.push(Bt)}I[q]=Hn(q,ot,pt)}),I}function ga(_,T,j){for(var I=j.db.objectStoreNames,q=0;q<I.length;++q){var W=I[q],ot=j.objectStore(W);_._hasGetAll="getAll"in ot;for(var pt=0;pt<ot.indexNames.length;++pt){var kt=ot.indexNames[pt],Ct=ot.index(kt).keyPath,Bt=typeof Ct=="string"?Ct:"["+M(Ct).join("+")+"]";!T[W]||(Ct=T[W].idxByName[Bt])&&(Ct.name=kt,delete T[W].idxByName[Bt],T[W].idxByName[kt]=Ct)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(_._hasGetAll=!1)}function ya(_){return _.split(",").map(function(T,j){var W=T.split(":"),I=(q=W[1])===null||q===void 0?void 0:q.trim(),q=(T=W[0].trim()).replace(/([&*]|\+\+)/g,""),W=/^\[/.test(q)?q.match(/^\[(.*)\]$/)[1].split("+"):q;return $i(q,W||null,/\&/.test(T),/\*/.test(T),/\+\+/.test(T),c(W),j===0,I)})}var Pu=(Li.prototype._createTableSchema=Hn,Li.prototype._parseIndexSyntax=ya,Li.prototype._parseStoresSpec=function(_,T){var j=this;l(_).forEach(function(I){if(_[I]!==null){var q=j._parseIndexSyntax(_[I]),W=q.shift();if(!W)throw new vt.Schema("Invalid schema for table "+I+": "+_[I]);if(W.unique=!0,W.multi)throw new vt.Schema("Primary key cannot be multiEntry*");q.forEach(function(ot){if(ot.auto)throw new vt.Schema("Only primary key can be marked as autoIncrement (++)");if(!ot.keyPath)throw new vt.Schema("Index must have a name and cannot be an empty string")}),q=j._createTableSchema(I,W,q),T[I]=q}})},Li.prototype.stores=function(j){var T=this.db;this._cfg.storesSource=this._cfg.storesSource?h(this._cfg.storesSource,j):j;var j=T._versions,I={},q={};return j.forEach(function(W){h(I,W._cfg.storesSource),q=W._cfg.dbschema={},W._parseStoresSpec(I,q)}),T._dbSchema=q,Es(T,[T._allTables,T,T.Transaction.prototype]),en(T,[T._allTables,T,T.Transaction.prototype,this._cfg.tables],l(q),q),T._storeNames=l(q),this},Li.prototype.upgrade=function(_){return this._cfg.contentUpgrade=he(this._cfg.contentUpgrade||Tt,_),this},Li);function Li(){}function el(_,T){var j=_._dbNamesDB;return j||(j=_._dbNamesDB=new Mr(vs,{addons:[],indexedDB:_,IDBKeyRange:T})).version(1).stores({dbnames:"name"}),j.table("dbnames")}function Ms(_){return _&&typeof _.databases=="function"}function Ar(_){return hn(function(){return ue.letThrough=!0,_()})}function _a(_){return!("from"in _)}var fi=function(_,T){if(!this){var j=new fi;return _&&"d"in _&&h(j,_),j}h(this,arguments.length?{d:1,from:_,to:1<arguments.length?T:_}:{d:0})};function Oo(_,T,j){var I=Re(T,j);if(!isNaN(I)){if(0<I)throw RangeError();if(_a(_))return h(_,{from:T,to:j,d:1});var q=_.l,I=_.r;if(Re(j,_.from)<0)return q?Oo(q,T,j):_.l={from:T,to:j,d:1,l:null,r:null},ql(_);if(0<Re(T,_.to))return I?Oo(I,T,j):_.r={from:T,to:j,d:1,l:null,r:null},ql(_);Re(T,_.from)<0&&(_.from=T,_.l=null,_.d=I?I.d+1:1),0<Re(j,_.to)&&(_.to=j,_.r=null,_.d=_.l?_.l.d+1:1),j=!_.r,q&&!_.l&&Co(_,q),I&&j&&Co(_,I)}}function Co(_,T){_a(T)||(function j(I,kt){var W=kt.from,ot=kt.to,pt=kt.l,kt=kt.r;Oo(I,W,ot),pt&&j(I,pt),kt&&j(I,kt)})(_,T)}function nl(_,T){var j=Os(T),I=j.next();if(I.done)return!1;for(var q=I.value,W=Os(_),ot=W.next(q.from),pt=ot.value;!I.done&&!ot.done;){if(Re(pt.from,q.to)<=0&&0<=Re(pt.to,q.from))return!0;Re(q.from,pt.from)<0?q=(I=j.next(pt.from)).value:pt=(ot=W.next(q.from)).value}return!1}function Os(_){var T=_a(_)?null:{s:0,n:_};return{next:function(j){for(var I=0<arguments.length;T;)switch(T.s){case 0:if(T.s=1,I)for(;T.n.l&&Re(j,T.n.from)<0;)T={up:T,n:T.n.l,s:1};else for(;T.n.l;)T={up:T,n:T.n.l,s:1};case 1:if(T.s=2,!I||Re(j,T.n.to)<=0)return{value:T.n,done:!1};case 2:if(T.n.r){T.s=3,T={up:T,n:T.n.r,s:0};continue}case 3:T=T.up}return{done:!0}}}}function ql(_){var T,j,I=(((T=_.r)===null||T===void 0?void 0:T.d)||0)-(((j=_.l)===null||j===void 0?void 0:j.d)||0),q=1<I?"r":I<-1?"l":"";q&&(T=q=="r"?"l":"r",j=r({},_),I=_[q],_.from=I.from,_.to=I.to,_[q]=I[q],j[q]=I[T],(_[T]=j).d=il(j)),_.d=il(_)}function il(j){var T=j.r,j=j.l;return(T?j?Math.max(T.d,j.d):T.d:j?j.d:0)+1}function Xo(_,T){return l(T).forEach(function(j){_[j]?Co(_[j],T[j]):_[j]=(function I(q){var W,ot,pt={};for(W in q)y(q,W)&&(ot=q[W],pt[W]=!ot||typeof ot!="object"||st.has(ot.constructor)?ot:I(ot));return pt})(T[j])}),_}function rl(_,T){return _.all||T.all||Object.keys(_).some(function(j){return T[j]&&nl(T[j],_[j])})}b(fi.prototype,((Yi={add:function(_){return Co(this,_),this},addKey:function(_){return Oo(this,_,_),this},addKeys:function(_){var T=this;return _.forEach(function(j){return Oo(T,j,j)}),this},hasKey:function(_){var T=Os(this).next(_).value;return T&&Re(T.from,_)<=0&&0<=Re(T.to,_)}})[rt]=function(){return Os(this)},Yi));var ho={},ba={},Go=!1;function kr(_){Xo(ba,_),Go||(Go=!0,setTimeout(function(){Go=!1,ol(ba,!(ba={}))},0))}function ol(_,T){T===void 0&&(T=!1);var j=new Set;if(_.all)for(var I=0,q=Object.values(ho);I<q.length;I++)$o(ot=q[I],_,j,T);else for(var W in _){var ot,pt=/^idb\:\/\/(.*)\/(.*)\//.exec(W);pt&&(W=pt[1],pt=pt[2],(ot=ho["idb://".concat(W,"/").concat(pt)])&&$o(ot,_,j,T))}j.forEach(function(kt){return kt()})}function $o(_,T,j,I){for(var q=[],W=0,ot=Object.entries(_.queries.query);W<ot.length;W++){for(var pt=ot[W],kt=pt[0],Ct=[],Bt=0,xt=pt[1];Bt<xt.length;Bt++){var Ft=xt[Bt];rl(T,Ft.obsSet)?Ft.subscribers.forEach(function(Rt){return j.add(Rt)}):I&&Ct.push(Ft)}I&&q.push([kt,Ct])}if(I)for(var Lt=0,Pt=q;Lt<Pt.length;Lt++){var zt=Pt[Lt],kt=zt[0],Ct=zt[1];_.queries.query[kt]=Ct}}function Ji(_){var T=_._state,j=_._deps.indexedDB;if(T.isBeingOpened||_.idbdb)return T.dbReadyPromise.then(function(){return T.dbOpenError?An(T.dbOpenError):_});T.isBeingOpened=!0,T.dbOpenError=null,T.openComplete=!1;var I=T.openCanceller,q=Math.round(10*_.verno),W=!1;function ot(){if(T.openCanceller!==I)throw new vt.DatabaseClosed("db.open() was cancelled")}function pt(){return new Te(function(Ft,Lt){if(ot(),!j)throw new vt.MissingAPI;var Pt=_.name,zt=T.autoSchema||!q?j.open(Pt):j.open(Pt,q);if(!zt)throw new vt.MissingAPI;zt.onerror=Wn(Lt),zt.onblocked=be(_._fireOnBlocked),zt.onupgradeneeded=be(function(Rt){var Zt;Bt=zt.transaction,T.autoSchema&&!_._options.allowEmptyDB?(zt.onerror=un,Bt.abort(),zt.result.close(),(Zt=j.deleteDatabase(Pt)).onsuccess=Zt.onerror=be(function(){Lt(new vt.NoSuchDatabase("Database ".concat(Pt," doesnt exist")))})):(Bt.onerror=Wn(Lt),Rt=Rt.oldVersion>Math.pow(2,62)?0:Rt.oldVersion,xt=Rt<1,_.idbdb=zt.result,W&&Ts(_,Bt),Qr(_,Rt/10,Bt,Lt))},Lt),zt.onsuccess=be(function(){Bt=null;var Rt,Zt,Gt,oe,ge,Ae=_.idbdb=zt.result,Le=M(Ae.objectStoreNames);if(0<Le.length)try{var Se=Ae.transaction((oe=Le).length===1?oe[0]:oe,"readonly");if(T.autoSchema)Zt=Ae,Gt=Se,(Rt=_).verno=Zt.version/10,Gt=Rt._dbSchema=Wo(0,Zt,Gt),Rt._storeNames=M(Zt.objectStoreNames,0),en(Rt,[Rt._allTables],l(Gt),Gt);else if(ga(_,_._dbSchema,Se),((ge=ma(Wo(0,(ge=_).idbdb,Se),ge._dbSchema)).add.length||ge.change.some(function(Me){return Me.add.length||Me.change.length}))&&!W)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ae.close(),q=Ae.version+1,W=!0,Ft(pt());$r(_,Se)}catch{}Eo.push(_),Ae.onversionchange=be(function(Me){T.vcFired=!0,_.on("versionchange").fire(Me)}),Ae.onclose=be(function(){_.close({disableAutoOpen:!1})}),xt&&(ge=_._deps,Se=Pt,Ae=ge.indexedDB,ge=ge.IDBKeyRange,Ms(Ae)||Se===vs||el(Ae,ge).put({name:Se}).catch(Tt)),Ft()},Lt)}).catch(function(Ft){switch(Ft?.name){case"UnknownError":if(0<T.PR1398_maxLoop)return T.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),pt();break;case"VersionError":if(0<q)return q=0,pt()}return Te.reject(Ft)})}var kt,Ct=T.dbReadyResolve,Bt=null,xt=!1;return Te.race([I,(typeof navigator>"u"?Te.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Ft){function Lt(){return indexedDB.databases().finally(Ft)}kt=setInterval(Lt,100),Lt()}).finally(function(){return clearInterval(kt)}):Promise.resolve()).then(pt)]).then(function(){return ot(),T.onReadyBeingFired=[],Te.resolve(Ar(function(){return _.on.ready.fire(_.vip)})).then(function Ft(){if(0<T.onReadyBeingFired.length){var Lt=T.onReadyBeingFired.reduce(he,Tt);return T.onReadyBeingFired=[],Te.resolve(Ar(function(){return Lt(_.vip)})).then(Ft)}})}).finally(function(){T.openCanceller===I&&(T.onReadyBeingFired=null,T.isBeingOpened=!1)}).catch(function(Ft){T.dbOpenError=Ft;try{Bt&&Bt.abort()}catch{}return I===T.openCanceller&&_._close(),An(Ft)}).finally(function(){T.openComplete=!0,Ct()}).then(function(){var Ft;return xt&&(Ft={},_.tables.forEach(function(Lt){Lt.schema.indexes.forEach(function(Pt){Pt.name&&(Ft["idb://".concat(_.name,"/").concat(Lt.name,"/").concat(Pt.name)]=new fi(-1/0,[[[]]]))}),Ft["idb://".concat(_.name,"/").concat(Lt.name,"/")]=Ft["idb://".concat(_.name,"/").concat(Lt.name,"/:dels")]=new fi(-1/0,[[[]]])}),ri(ko).fire(Ft),ol(Ft,!0)),_})}function Qo(_){function T(W){return _.next(W)}var j=q(T),I=q(function(W){return _.throw(W)});function q(W){return function(kt){var pt=W(kt),kt=pt.value;return pt.done?kt:kt&&typeof kt.then=="function"?kt.then(j,I):c(kt)?Promise.all(kt).then(j,I):j(kt)}}return q(T)()}function Jr(_,T,j){for(var I=c(_)?_.slice():[_],q=0;q<j;++q)I.push(T);return I}var Ru={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(_){return r(r({},_),{table:function(T){var j=_.table(T),I=j.schema,q={},W=[];function ot(xt,Ft,Lt){var Pt=Jn(xt),zt=q[Pt]=q[Pt]||[],Rt=xt==null?0:typeof xt=="string"?1:xt.length,Zt=0<Ft,Zt=r(r({},Lt),{name:Zt?"".concat(Pt,"(virtual-from:").concat(Lt.name,")"):Lt.name,lowLevelIndex:Lt,isVirtual:Zt,keyTail:Ft,keyLength:Rt,extractKey:Mo(xt),unique:!Zt&&Lt.unique});return zt.push(Zt),Zt.isPrimaryKey||W.push(Zt),1<Rt&&ot(Rt===2?xt[0]:xt.slice(0,Rt-1),Ft+1,Lt),zt.sort(function(Gt,oe){return Gt.keyTail-oe.keyTail}),Zt}T=ot(I.primaryKey.keyPath,0,I.primaryKey),q[":id"]=[T];for(var pt=0,kt=I.indexes;pt<kt.length;pt++){var Ct=kt[pt];ot(Ct.keyPath,0,Ct)}function Bt(xt){var Ft,Lt=xt.query.index;return Lt.isVirtual?r(r({},xt),{query:{index:Lt.lowLevelIndex,range:(Ft=xt.query.range,Lt=Lt.keyTail,{type:Ft.type===1?2:Ft.type,lower:Jr(Ft.lower,Ft.lowerOpen?_.MAX_KEY:_.MIN_KEY,Lt),lowerOpen:!0,upper:Jr(Ft.upper,Ft.upperOpen?_.MIN_KEY:_.MAX_KEY,Lt),upperOpen:!0})}}):xt}return r(r({},j),{schema:r(r({},I),{primaryKey:T,indexes:W,getIndexByKeyPath:function(xt){return(xt=q[Jn(xt)])&&xt[0]}}),count:function(xt){return j.count(Bt(xt))},query:function(xt){return j.query(Bt(xt))},openCursor:function(xt){var Ft=xt.query.index,Lt=Ft.keyTail,Pt=Ft.isVirtual,zt=Ft.keyLength;return Pt?j.openCursor(Bt(xt)).then(function(Zt){return Zt&&Rt(Zt)}):j.openCursor(xt);function Rt(Zt){return Object.create(Zt,{continue:{value:function(Gt){Gt!=null?Zt.continue(Jr(Gt,xt.reverse?_.MAX_KEY:_.MIN_KEY,Lt)):xt.unique?Zt.continue(Zt.key.slice(0,zt).concat(xt.reverse?_.MIN_KEY:_.MAX_KEY,Lt)):Zt.continue()}},continuePrimaryKey:{value:function(Gt,oe){Zt.continuePrimaryKey(Jr(Gt,_.MAX_KEY,Lt),oe)}},primaryKey:{get:function(){return Zt.primaryKey}},key:{get:function(){var Gt=Zt.key;return zt===1?Gt[0]:Gt.slice(0,zt)}},value:{get:function(){return Zt.value}}})}}})}})}};function Jo(_,T,j,I){return j=j||{},I=I||"",l(_).forEach(function(q){var W,ot,pt;y(T,q)?(W=_[q],ot=T[q],typeof W=="object"&&typeof ot=="object"&&W&&ot?(pt=ut(W))!==ut(ot)?j[I+q]=T[q]:pt==="Object"?Jo(W,ot,j,I+q+"."):W!==ot&&(j[I+q]=T[q]):W!==ot&&(j[I+q]=T[q])):j[I+q]=void 0}),l(T).forEach(function(q){y(_,q)||(j[I+q]=T[q])}),j}function ts(_,T){return T.type==="delete"?T.keys:T.keys||T.values.map(_.extractKey)}var Vl={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(_){return r(r({},_),{table:function(T){var j=_.table(T),I=j.schema.primaryKey;return r(r({},j),{mutate:function(q){var W=ue.trans,ot=W.table(T).hook,pt=ot.deleting,kt=ot.creating,Ct=ot.updating;switch(q.type){case"add":if(kt.fire===Tt)break;return W._promise("readwrite",function(){return Bt(q)},!0);case"put":if(kt.fire===Tt&&Ct.fire===Tt)break;return W._promise("readwrite",function(){return Bt(q)},!0);case"delete":if(pt.fire===Tt)break;return W._promise("readwrite",function(){return Bt(q)},!0);case"deleteRange":if(pt.fire===Tt)break;return W._promise("readwrite",function(){return(function xt(Ft,Lt,Pt){return j.query({trans:Ft,values:!1,query:{index:I,range:Lt},limit:Pt}).then(function(zt){var Rt=zt.result;return Bt({type:"delete",keys:Rt,trans:Ft}).then(function(Zt){return 0<Zt.numFailures?Promise.reject(Zt.failures[0]):Rt.length<Pt?{failures:[],numFailures:0,lastResult:void 0}:xt(Ft,r(r({},Lt),{lower:Rt[Rt.length-1],lowerOpen:!0}),Pt)})})})(q.trans,q.range,1e4)},!0)}return j.mutate(q);function Bt(xt){var Ft,Lt,Pt,zt=ue.trans,Rt=xt.keys||ts(I,xt);if(!Rt)throw new Error("Keys missing");return(xt=xt.type==="add"||xt.type==="put"?r(r({},xt),{keys:Rt}):r({},xt)).type!=="delete"&&(xt.values=o([],xt.values)),xt.keys&&(xt.keys=o([],xt.keys)),Ft=j,Pt=Rt,((Lt=xt).type==="add"?Promise.resolve([]):Ft.getMany({trans:Lt.trans,keys:Pt,cache:"immutable"})).then(function(Zt){var Gt=Rt.map(function(oe,ge){var Ae,Le,Se,Me=Zt[ge],Oe={onerror:null,onsuccess:null};return xt.type==="delete"?pt.fire.call(Oe,oe,Me,zt):xt.type==="add"||Me===void 0?(Ae=kt.fire.call(Oe,oe,xt.values[ge],zt),oe==null&&Ae!=null&&(xt.keys[ge]=oe=Ae,I.outbound||R(xt.values[ge],I.keyPath,oe))):(Ae=Jo(Me,xt.values[ge]),(Le=Ct.fire.call(Oe,Ae,oe,Me,zt))&&(Se=xt.values[ge],Object.keys(Le).forEach(function(Ee){y(Se,Ee)?Se[Ee]=Le[Ee]:R(Se,Ee,Le[Ee])}))),Oe});return j.mutate(xt).then(function(oe){for(var ge=oe.failures,Ae=oe.results,Le=oe.numFailures,oe=oe.lastResult,Se=0;Se<Rt.length;++Se){var Me=(Ae||Rt)[Se],Oe=Gt[Se];Me==null?Oe.onerror&&Oe.onerror(ge[Se]):Oe.onsuccess&&Oe.onsuccess(xt.type==="put"&&Zt[Se]?xt.values[Se]:Me)}return{failures:ge,results:Ae,numFailures:Le,lastResult:oe}}).catch(function(oe){return Gt.forEach(function(ge){return ge.onerror&&ge.onerror(oe)}),Promise.reject(oe)})})}}})}})}};function sl(_,T,j){try{if(!T||T.keys.length<_.length)return null;for(var I=[],q=0,W=0;q<T.keys.length&&W<_.length;++q)Re(T.keys[q],_[W])===0&&(I.push(j?mt(T.values[q]):T.values[q]),++W);return I.length===_.length?I:null}catch{return null}}var al={stack:"dbcore",level:-1,create:function(_){return{table:function(T){var j=_.table(T);return r(r({},j),{getMany:function(I){if(!I.cache)return j.getMany(I);var q=sl(I.keys,I.trans._cache,I.cache==="clone");return q?Te.resolve(q):j.getMany(I).then(function(W){return I.trans._cache={keys:I.keys,values:I.cache==="clone"?mt(W):W},W})},mutate:function(I){return I.type!=="add"&&(I.trans._cache=null),j.mutate(I)}})}}}};function Lo(_,T){return _.trans.mode==="readonly"&&!!_.subscr&&!_.trans.explicit&&_.trans.db._options.cache!=="disabled"&&!T.schema.primaryKey.outbound}function tr(_,T){switch(_){case"query":return T.values&&!T.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var es={stack:"dbcore",level:0,name:"Observability",create:function(_){var T=_.schema.name,j=new fi(_.MIN_KEY,_.MAX_KEY);return r(r({},_),{transaction:function(I,q,W){if(ue.subscr&&q!=="readonly")throw new vt.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ue.querier));return _.transaction(I,q,W)},table:function(I){var q=_.table(I),W=q.schema,ot=W.primaryKey,xt=W.indexes,pt=ot.extractKey,kt=ot.outbound,Ct=ot.autoIncrement&&xt.filter(function(Lt){return Lt.compound&&Lt.keyPath.includes(ot.keyPath)}),Bt=r(r({},q),{mutate:function(Lt){function Pt(Ee){return Ee="idb://".concat(T,"/").concat(I,"/").concat(Ee),oe[Ee]||(oe[Ee]=new fi)}var zt,Rt,Zt,Gt=Lt.trans,oe=Lt.mutatedParts||(Lt.mutatedParts={}),ge=Pt(""),Ae=Pt(":dels"),Le=Lt.type,Oe=Lt.type==="deleteRange"?[Lt.range]:Lt.type==="delete"?[Lt.keys]:Lt.values.length<50?[ts(ot,Lt).filter(function(Ee){return Ee}),Lt.values]:[],Se=Oe[0],Me=Oe[1],Oe=Lt.trans._cache;return c(Se)?(ge.addKeys(Se),(Oe=Le==="delete"||Se.length===Me.length?sl(Se,Oe):null)||Ae.addKeys(Se),(Oe||Me)&&(zt=Pt,Rt=Oe,Zt=Me,W.indexes.forEach(function(Ee){var Pe=zt(Ee.name||"");function He(Ge){return Ge!=null?Ee.extractKey(Ge):null}function qe(Ge){return Ee.multiEntry&&c(Ge)?Ge.forEach(function(di){return Pe.addKey(di)}):Pe.addKey(Ge)}(Rt||Zt).forEach(function(Ge,oi){var Ye=Rt&&He(Rt[oi]),oi=Zt&&He(Zt[oi]);Re(Ye,oi)!==0&&(Ye!=null&&qe(Ye),oi!=null&&qe(oi))})}))):Se?(Me={from:(Me=Se.lower)!==null&&Me!==void 0?Me:_.MIN_KEY,to:(Me=Se.upper)!==null&&Me!==void 0?Me:_.MAX_KEY},Ae.add(Me),ge.add(Me)):(ge.add(j),Ae.add(j),W.indexes.forEach(function(Ee){return Pt(Ee.name).add(j)})),q.mutate(Lt).then(function(Ee){return!Se||Lt.type!=="add"&&Lt.type!=="put"||(ge.addKeys(Ee.results),Ct&&Ct.forEach(function(Pe){for(var He=Lt.values.map(function(Ye){return Pe.extractKey(Ye)}),qe=Pe.keyPath.findIndex(function(Ye){return Ye===ot.keyPath}),Ge=0,di=Ee.results.length;Ge<di;++Ge)He[Ge][qe]=Ee.results[Ge];Pt(Pe.name).addKeys(He)})),Gt.mutatedParts=Xo(Gt.mutatedParts||{},oe),Ee})}}),xt=function(Pt){var zt=Pt.query,Pt=zt.index,zt=zt.range;return[Pt,new fi((Pt=zt.lower)!==null&&Pt!==void 0?Pt:_.MIN_KEY,(zt=zt.upper)!==null&&zt!==void 0?zt:_.MAX_KEY)]},Ft={get:function(Lt){return[ot,new fi(Lt.key)]},getMany:function(Lt){return[ot,new fi().addKeys(Lt.keys)]},count:xt,query:xt,openCursor:xt};return l(Ft).forEach(function(Lt){Bt[Lt]=function(Pt){var zt=ue.subscr,Rt=!!zt,Zt=Lo(ue,q)&&tr(Lt,Pt)?Pt.obsSet={}:zt;if(Rt){var Gt=function(Me){return Me="idb://".concat(T,"/").concat(I,"/").concat(Me),Zt[Me]||(Zt[Me]=new fi)},oe=Gt(""),ge=Gt(":dels"),zt=Ft[Lt](Pt),Rt=zt[0],zt=zt[1];if((Lt==="query"&&Rt.isPrimaryKey&&!Pt.values?ge:Gt(Rt.name||"")).add(zt),!Rt.isPrimaryKey){if(Lt!=="count"){var Ae=Lt==="query"&&kt&&Pt.values&&q.query(r(r({},Pt),{values:!1}));return q[Lt].apply(this,arguments).then(function(Me){if(Lt==="query"){if(kt&&Pt.values)return Ae.then(function(He){return He=He.result,oe.addKeys(He),Me});var Oe=Pt.values?Me.result.map(pt):Me.result;(Pt.values?oe:ge).addKeys(Oe)}else if(Lt==="openCursor"){var Ee=Me,Pe=Pt.values;return Ee&&Object.create(Ee,{key:{get:function(){return ge.addKey(Ee.primaryKey),Ee.key}},primaryKey:{get:function(){var He=Ee.primaryKey;return ge.addKey(He),He}},value:{get:function(){return Pe&&oe.addKey(Ee.primaryKey),Ee.value}}})}return Me})}ge.add(j)}}return q[Lt].apply(this,arguments)}}),Bt}})}};function Yl(_,T,j){if(j.numFailures===0)return T;if(T.type==="deleteRange")return null;var I=T.keys?T.keys.length:"values"in T&&T.values?T.values.length:1;return j.numFailures===I?null:(T=r({},T),c(T.keys)&&(T.keys=T.keys.filter(function(q,W){return!(W in j.failures)})),"values"in T&&c(T.values)&&(T.values=T.values.filter(function(q,W){return!(W in j.failures)})),T)}function er(_,T){return j=_,((I=T).lower===void 0||(I.lowerOpen?0<Re(j,I.lower):0<=Re(j,I.lower)))&&(_=_,(T=T).upper===void 0||(T.upperOpen?Re(_,T.upper)<0:Re(_,T.upper)<=0));var j,I}function ll(_,T,Ft,I,q,W){if(!Ft||Ft.length===0)return _;var ot=T.query.index,pt=ot.multiEntry,kt=T.query.range,Ct=I.schema.primaryKey.extractKey,Bt=ot.extractKey,xt=(ot.lowLevelIndex||ot).extractKey,Ft=Ft.reduce(function(Lt,Pt){var zt=Lt,Rt=[];if(Pt.type==="add"||Pt.type==="put")for(var Zt=new fi,Gt=Pt.values.length-1;0<=Gt;--Gt){var oe,ge=Pt.values[Gt],Ae=Ct(ge);Zt.hasKey(Ae)||(oe=Bt(ge),(pt&&c(oe)?oe.some(function(Ee){return er(Ee,kt)}):er(oe,kt))&&(Zt.addKey(Ae),Rt.push(ge)))}switch(Pt.type){case"add":var Le=new fi().addKeys(T.values?Lt.map(function(Pe){return Ct(Pe)}):Lt),zt=Lt.concat(T.values?Rt.filter(function(Pe){return Pe=Ct(Pe),!Le.hasKey(Pe)&&(Le.addKey(Pe),!0)}):Rt.map(function(Pe){return Ct(Pe)}).filter(function(Pe){return!Le.hasKey(Pe)&&(Le.addKey(Pe),!0)}));break;case"put":var Se=new fi().addKeys(Pt.values.map(function(Pe){return Ct(Pe)}));zt=Lt.filter(function(Pe){return!Se.hasKey(T.values?Ct(Pe):Pe)}).concat(T.values?Rt:Rt.map(function(Pe){return Ct(Pe)}));break;case"delete":var Me=new fi().addKeys(Pt.keys);zt=Lt.filter(function(Pe){return!Me.hasKey(T.values?Ct(Pe):Pe)});break;case"deleteRange":var Oe=Pt.range;zt=Lt.filter(function(Pe){return!er(Ct(Pe),Oe)})}return zt},_);return Ft===_?_:(Ft.sort(function(Lt,Pt){return Re(xt(Lt),xt(Pt))||Re(Ct(Lt),Ct(Pt))}),T.limit&&T.limit<1/0&&(Ft.length>T.limit?Ft.length=T.limit:_.length===T.limit&&Ft.length<T.limit&&(q.dirty=!0)),W?Object.freeze(Ft):Ft)}function _r(_,T){return Re(_.lower,T.lower)===0&&Re(_.upper,T.upper)===0&&!!_.lowerOpen==!!T.lowerOpen&&!!_.upperOpen==!!T.upperOpen}function Cs(_,T){return(function(j,I,q,W){if(j===void 0)return I!==void 0?-1:0;if(I===void 0)return 1;if((I=Re(j,I))===0){if(q&&W)return 0;if(q)return 1;if(W)return-1}return I})(_.lower,T.lower,_.lowerOpen,T.lowerOpen)<=0&&0<=(function(j,I,q,W){if(j===void 0)return I!==void 0?1:0;if(I===void 0)return-1;if((I=Re(j,I))===0){if(q&&W)return 0;if(q)return-1;if(W)return 1}return I})(_.upper,T.upper,_.upperOpen,T.upperOpen)}function Ls(_,T,j,I){_.subscribers.add(j),I.addEventListener("abort",function(){var q,W;_.subscribers.delete(j),_.subscribers.size===0&&(q=_,W=T,setTimeout(function(){q.subscribers.size===0&&et(W,q)},3e3))})}var Ns={stack:"dbcore",level:0,name:"Cache",create:function(_){var T=_.schema.name;return r(r({},_),{transaction:function(j,I,q){var W,ot,pt=_.transaction(j,I,q);return I==="readwrite"&&(ot=(W=new AbortController).signal,q=function(kt){return function(){if(W.abort(),I==="readwrite"){for(var Ct=new Set,Bt=0,xt=j;Bt<xt.length;Bt++){var Ft=xt[Bt],Lt=ho["idb://".concat(T,"/").concat(Ft)];if(Lt){var Pt=_.table(Ft),zt=Lt.optimisticOps.filter(function(Pe){return Pe.trans===pt});if(pt._explicit&&kt&&pt.mutatedParts)for(var Rt=0,Zt=Object.values(Lt.queries.query);Rt<Zt.length;Rt++)for(var Gt=0,oe=(Le=Zt[Rt]).slice();Gt<oe.length;Gt++)rl((Se=oe[Gt]).obsSet,pt.mutatedParts)&&(et(Le,Se),Se.subscribers.forEach(function(Pe){return Ct.add(Pe)}));else if(0<zt.length){Lt.optimisticOps=Lt.optimisticOps.filter(function(Pe){return Pe.trans!==pt});for(var ge=0,Ae=Object.values(Lt.queries.query);ge<Ae.length;ge++)for(var Le,Se,Me,Oe=0,Ee=(Le=Ae[ge]).slice();Oe<Ee.length;Oe++)(Se=Ee[Oe]).res!=null&&pt.mutatedParts&&(kt&&!Se.dirty?(Me=Object.isFrozen(Se.res),Me=ll(Se.res,Se.req,zt,Pt,Se,Me),Se.dirty?(et(Le,Se),Se.subscribers.forEach(function(Pe){return Ct.add(Pe)})):Me!==Se.res&&(Se.res=Me,Se.promise=Te.resolve({result:Me}))):(Se.dirty&&et(Le,Se),Se.subscribers.forEach(function(Pe){return Ct.add(Pe)})))}}}Ct.forEach(function(Pe){return Pe()})}}},pt.addEventListener("abort",q(!1),{signal:ot}),pt.addEventListener("error",q(!1),{signal:ot}),pt.addEventListener("complete",q(!0),{signal:ot})),pt},table:function(j){var I=_.table(j),q=I.schema.primaryKey;return r(r({},I),{mutate:function(W){var ot=ue.trans;if(q.outbound||ot.db._options.cache==="disabled"||ot.explicit||ot.idbtrans.mode!=="readwrite")return I.mutate(W);var pt=ho["idb://".concat(T,"/").concat(j)];return pt?(ot=I.mutate(W),W.type!=="add"&&W.type!=="put"||!(50<=W.values.length||ts(q,W).some(function(kt){return kt==null}))?(pt.optimisticOps.push(W),W.mutatedParts&&kr(W.mutatedParts),ot.then(function(kt){0<kt.numFailures&&(et(pt.optimisticOps,W),(kt=Yl(0,W,kt))&&pt.optimisticOps.push(kt),W.mutatedParts&&kr(W.mutatedParts))}),ot.catch(function(){et(pt.optimisticOps,W),W.mutatedParts&&kr(W.mutatedParts)})):ot.then(function(kt){var Ct=Yl(0,r(r({},W),{values:W.values.map(function(Bt,xt){var Ft;return kt.failures[xt]?Bt:(Bt=(Ft=q.keyPath)!==null&&Ft!==void 0&&Ft.includes(".")?mt(Bt):r({},Bt),R(Bt,q.keyPath,kt.results[xt]),Bt)})}),kt);pt.optimisticOps.push(Ct),queueMicrotask(function(){return W.mutatedParts&&kr(W.mutatedParts)})}),ot):I.mutate(W)},query:function(W){if(!Lo(ue,I)||!tr("query",W))return I.query(W);var ot=((Ct=ue.trans)===null||Ct===void 0?void 0:Ct.db._options.cache)==="immutable",xt=ue,pt=xt.requery,kt=xt.signal,Ct=(function(Pt,zt,Rt,Zt){var Gt=ho["idb://".concat(Pt,"/").concat(zt)];if(!Gt)return[];if(!(zt=Gt.queries[Rt]))return[null,!1,Gt,null];var oe=zt[(Zt.query?Zt.query.index.name:null)||""];if(!oe)return[null,!1,Gt,null];switch(Rt){case"query":var ge=oe.find(function(Ae){return Ae.req.limit===Zt.limit&&Ae.req.values===Zt.values&&_r(Ae.req.query.range,Zt.query.range)});return ge?[ge,!0,Gt,oe]:[oe.find(function(Ae){return("limit"in Ae.req?Ae.req.limit:1/0)>=Zt.limit&&(!Zt.values||Ae.req.values)&&Cs(Ae.req.query.range,Zt.query.range)}),!1,Gt,oe];case"count":return ge=oe.find(function(Ae){return _r(Ae.req.query.range,Zt.query.range)}),[ge,!!ge,Gt,oe]}})(T,j,"query",W),Bt=Ct[0],xt=Ct[1],Ft=Ct[2],Lt=Ct[3];return Bt&&xt?Bt.obsSet=W.obsSet:(xt=I.query(W).then(function(Pt){var zt=Pt.result;if(Bt&&(Bt.res=zt),ot){for(var Rt=0,Zt=zt.length;Rt<Zt;++Rt)Object.freeze(zt[Rt]);Object.freeze(zt)}else Pt.result=mt(zt);return Pt}).catch(function(Pt){return Lt&&Bt&&et(Lt,Bt),Promise.reject(Pt)}),Bt={obsSet:W.obsSet,promise:xt,subscribers:new Set,type:"query",req:W,dirty:!1},Lt?Lt.push(Bt):(Lt=[Bt],(Ft=Ft||(ho["idb://".concat(T,"/").concat(j)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[W.query.index.name||""]=Lt)),Ls(Bt,Lt,pt,kt),Bt.promise.then(function(Pt){return{result:ll(Pt.result,W,Ft?.optimisticOps,I,Bt,ot)}})}})}})}};function po(_,T){return new Proxy(_,{get:function(j,I,q){return I==="db"?T:Reflect.get(j,I,q)}})}var Mr=(pn.prototype.version=function(_){if(isNaN(_)||_<.1)throw new vt.Type("Given version is not a positive number");if(_=Math.round(10*_)/10,this.idbdb||this._state.isBeingOpened)throw new vt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,_);var T=this._versions,j=T.filter(function(I){return I._cfg.version===_})[0];return j||(j=new this.Version(_),T.push(j),T.sort(Vi),j.stores({}),this._state.autoSchema=!1,j)},pn.prototype._whenReady=function(_){var T=this;return this.idbdb&&(this._state.openComplete||ue.letThrough||this._vip)?_():new Te(function(j,I){if(T._state.openComplete)return I(new vt.DatabaseClosed(T._state.dbOpenError));if(!T._state.isBeingOpened){if(!T._state.autoOpen)return void I(new vt.DatabaseClosed);T.open().catch(Tt)}T._state.dbReadyPromise.then(j,I)}).then(_)},pn.prototype.use=function(_){var T=_.stack,j=_.create,I=_.level,q=_.name;return q&&this.unuse({stack:T,name:q}),_=this._middlewares[T]||(this._middlewares[T]=[]),_.push({stack:T,create:j,level:I??10,name:q}),_.sort(function(W,ot){return W.level-ot.level}),this},pn.prototype.unuse=function(_){var T=_.stack,j=_.name,I=_.create;return T&&this._middlewares[T]&&(this._middlewares[T]=this._middlewares[T].filter(function(q){return I?q.create!==I:!!j&&q.name!==j})),this},pn.prototype.open=function(){var _=this;return Yn(je,function(){return Ji(_)})},pn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var _=this._state,T=Eo.indexOf(this);if(0<=T&&Eo.splice(T,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}_.isBeingOpened||(_.dbReadyPromise=new Te(function(j){_.dbReadyResolve=j}),_.openCanceller=new Te(function(j,I){_.cancelOpen=I}))},pn.prototype.close=function(j){var T=(j===void 0?{disableAutoOpen:!0}:j).disableAutoOpen,j=this._state;T?(j.isBeingOpened&&j.cancelOpen(new vt.DatabaseClosed),this._close(),j.autoOpen=!1,j.dbOpenError=new vt.DatabaseClosed):(this._close(),j.autoOpen=this._options.autoOpen||j.isBeingOpened,j.openComplete=!1,j.dbOpenError=null)},pn.prototype.delete=function(_){var T=this;_===void 0&&(_={disableAutoOpen:!0});var j=0<arguments.length&&typeof arguments[0]!="object",I=this._state;return new Te(function(q,W){function ot(){T.close(_);var pt=T._deps.indexedDB.deleteDatabase(T.name);pt.onsuccess=be(function(){var kt,Ct,Bt;kt=T._deps,Ct=T.name,Bt=kt.indexedDB,kt=kt.IDBKeyRange,Ms(Bt)||Ct===vs||el(Bt,kt).delete(Ct).catch(Tt),q()}),pt.onerror=Wn(W),pt.onblocked=T._fireOnBlocked}if(j)throw new vt.InvalidArgument("Invalid closeOptions argument to db.delete()");I.isBeingOpened?I.dbReadyPromise.then(ot):ot()})},pn.prototype.backendDB=function(){return this.idbdb},pn.prototype.isOpen=function(){return this.idbdb!==null},pn.prototype.hasBeenClosed=function(){var _=this._state.dbOpenError;return _&&_.name==="DatabaseClosed"},pn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},pn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(pn.prototype,"tables",{get:function(){var _=this;return l(this._allTables).map(function(T){return _._allTables[T]})},enumerable:!1,configurable:!0}),pn.prototype.transaction=function(){var _=(function(T,j,I){var q=arguments.length;if(q<2)throw new vt.InvalidArgument("Too few arguments");for(var W=new Array(q-1);--q;)W[q-1]=arguments[q];return I=W.pop(),[T,tt(W),I]}).apply(this,arguments);return this._transaction.apply(this,_)},pn.prototype._transaction=function(_,T,j){var I=this,q=ue.trans;q&&q.db===this&&_.indexOf("!")===-1||(q=null);var W,ot,pt=_.indexOf("?")!==-1;_=_.replace("!","").replace("?","");try{if(ot=T.map(function(Ct){if(Ct=Ct instanceof I.Table?Ct.name:Ct,typeof Ct!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Ct}),_=="r"||_===Zr)W=Zr;else{if(_!="rw"&&_!=Tr)throw new vt.InvalidArgument("Invalid transaction mode: "+_);W=Tr}if(q){if(q.mode===Zr&&W===Tr){if(!pt)throw new vt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");q=null}q&&ot.forEach(function(Ct){if(q&&q.storeNames.indexOf(Ct)===-1){if(!pt)throw new vt.SubTransaction("Table "+Ct+" not included in parent transaction.");q=null}}),pt&&q&&!q.active&&(q=null)}}catch(Ct){return q?q._promise(null,function(Bt,xt){xt(Ct)}):An(Ct)}var kt=(function Ct(Bt,xt,Ft,Lt,Pt){return Te.resolve().then(function(){var zt=ue.transless||ue,Rt=Bt._createTransaction(xt,Ft,Bt._dbSchema,Lt);if(Rt.explicit=!0,zt={trans:Rt,transless:zt},Lt)Rt.idbtrans=Lt.idbtrans;else try{Rt.create(),Rt.idbtrans._explicit=!0,Bt._state.PR1398_maxLoop=3}catch(oe){return oe.name===_t.InvalidState&&Bt.isOpen()&&0<--Bt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Bt.close({disableAutoOpen:!1}),Bt.open().then(function(){return Ct(Bt,xt,Ft,null,Pt)})):An(oe)}var Zt,Gt=Z(Pt);return Gt&&Tn(),zt=Te.follow(function(){var oe;(Zt=Pt.call(Rt,Rt))&&(Gt?(oe=Un.bind(null,null),Zt.then(oe,oe)):typeof Zt.next=="function"&&typeof Zt.throw=="function"&&(Zt=Qo(Zt)))},zt),(Zt&&typeof Zt.then=="function"?Te.resolve(Zt).then(function(oe){return Rt.active?oe:An(new vt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):zt.then(function(){return Zt})).then(function(oe){return Lt&&Rt._resolve(),Rt._completion.then(function(){return oe})}).catch(function(oe){return Rt._reject(oe),An(oe)})})}).bind(null,this,W,ot,q,j);return q?q._promise(W,kt,"lock"):ue.trans?Yn(ue.transless,function(){return I._whenReady(kt)}):this._whenReady(kt)},pn.prototype.table=function(_){if(!y(this._allTables,_))throw new vt.InvalidTable("Table ".concat(_," does not exist"));return this._allTables[_]},pn);function pn(_,T){var j=this;this._middlewares={},this.verno=0;var I=pn.dependencies;this._options=T=r({addons:pn.addons,autoOpen:!0,indexedDB:I.indexedDB,IDBKeyRange:I.IDBKeyRange,cache:"cloned"},T),this._deps={indexedDB:T.indexedDB,IDBKeyRange:T.IDBKeyRange},I=T.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var q,W,ot,pt,kt,Ct={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Tt,dbReadyPromise:null,cancelOpen:Tt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:T.autoOpen};Ct.dbReadyPromise=new Te(function(xt){Ct.dbReadyResolve=xt}),Ct.openCanceller=new Te(function(xt,Ft){Ct.cancelOpen=Ft}),this._state=Ct,this.name=_,this.on=uo(this,"populate","blocked","versionchange","close",{ready:[he,Tt]}),this.once=function(xt,Ft){var Lt=function(){for(var Pt=[],zt=0;zt<arguments.length;zt++)Pt[zt]=arguments[zt];j.on(xt).unsubscribe(Lt),Ft.apply(j,Pt)};return j.on(xt,Lt)},this.on.ready.subscribe=P(this.on.ready.subscribe,function(xt){return function(Ft,Lt){pn.vip(function(){var Pt,zt=j._state;zt.openComplete?(zt.dbOpenError||Te.resolve().then(Ft),Lt&&xt(Ft)):zt.onReadyBeingFired?(zt.onReadyBeingFired.push(Ft),Lt&&xt(Ft)):(xt(Ft),Pt=j,Lt||xt(function Rt(){Pt.on.ready.unsubscribe(Ft),Pt.on.ready.unsubscribe(Rt)}))})}}),this.Collection=(q=this,xn(tl.prototype,function(Zt,Rt){this.db=q;var Lt=fa,Pt=null;if(Rt)try{Lt=Rt()}catch(Gt){Pt=Gt}var zt=Zt._ctx,Rt=zt.table,Zt=Rt.hook.reading.fire;this._ctx={table:Rt,index:zt.index,isPrimKey:!zt.index||Rt.schema.primKey.keyPath&&zt.index===Rt.schema.primKey.name,range:Lt,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Pt,or:zt.or,valueMapper:Zt!==ce?Zt:null}})),this.Table=(W=this,xn(Bn.prototype,function(xt,Ft,Lt){this.db=W,this._tx=Lt,this.name=xt,this.schema=Ft,this.hook=W._allTables[xt]?W._allTables[xt].hook:uo(null,{creating:[Et,Tt],reading:[Jt,ce],updating:[ie,Tt],deleting:[Vt,Tt]})})),this.Transaction=(ot=this,xn(Ss.prototype,function(xt,Ft,Lt,Pt,zt){var Rt=this;xt!=="readonly"&&Ft.forEach(function(Zt){Zt=(Zt=Lt[Zt])===null||Zt===void 0?void 0:Zt.yProps,Zt&&(Ft=Ft.concat(Zt.map(function(Gt){return Gt.updatesTable})))}),this.db=ot,this.mode=xt,this.storeNames=Ft,this.schema=Lt,this.chromeTransactionDurability=Pt,this.idbtrans=null,this.on=uo(this,"complete","error","abort"),this.parent=zt||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Te(function(Zt,Gt){Rt._resolve=Zt,Rt._reject=Gt}),this._completion.then(function(){Rt.active=!1,Rt.on.complete.fire()},function(Zt){var Gt=Rt.active;return Rt.active=!1,Rt.on.error.fire(Zt),Rt.parent?Rt.parent._reject(Zt):Gt&&Rt.idbtrans&&Rt.idbtrans.abort(),An(Zt)})})),this.Version=(pt=this,xn(Pu.prototype,function(xt){this.db=pt,this._cfg={version:xt,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(kt=this,xn(Ao.prototype,function(xt,Ft,Lt){if(this.db=kt,this._ctx={table:xt,index:Ft===":id"?null:Ft,or:Lt},this._cmp=this._ascending=Re,this._descending=function(Pt,zt){return Re(zt,Pt)},this._max=function(Pt,zt){return 0<Re(Pt,zt)?Pt:zt},this._min=function(Pt,zt){return Re(Pt,zt)<0?Pt:zt},this._IDBKeyRange=kt._deps.IDBKeyRange,!this._IDBKeyRange)throw new vt.MissingAPI})),this.on("versionchange",function(xt){0<xt.newVersion?console.warn("Another connection wants to upgrade database '".concat(j.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(j.name,"'. Closing db now to resume the delete request.")),j.close({disableAutoOpen:!1})}),this.on("blocked",function(xt){!xt.newVersion||xt.newVersion<xt.oldVersion?console.warn("Dexie.delete('".concat(j.name,"') was blocked")):console.warn("Upgrade '".concat(j.name,"' blocked by other connection holding version ").concat(xt.oldVersion/10))}),this._maxKey=Qi(T.IDBKeyRange),this._createTransaction=function(xt,Ft,Lt,Pt){return new j.Transaction(xt,Ft,Lt,j._options.chromeTransactionDurability,Pt)},this._fireOnBlocked=function(xt){j.on("blocked").fire(xt),Eo.filter(function(Ft){return Ft.name===j.name&&Ft!==j&&!Ft._state.vcFired}).map(function(Ft){return Ft.on("versionchange").fire(xt)})},this.use(al),this.use(Ns),this.use(es),this.use(Ru),this.use(Vl);var Bt=new Proxy(this,{get:function(xt,Ft,Lt){if(Ft==="_vip")return!0;if(Ft==="table")return function(zt){return po(j.table(zt),Bt)};var Pt=Reflect.get(xt,Ft,Lt);return Pt instanceof Bn?po(Pt,Bt):Ft==="tables"?Pt.map(function(zt){return po(zt,Bt)}):Ft==="_createTransaction"?function(){return po(Pt.apply(this,arguments),Bt)}:Pt}});this.vip=Bt,I.forEach(function(xt){return xt(j)})}var to,Yi=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",va=(wa.prototype.subscribe=function(_,T,j){return this._subscribe(_&&typeof _!="function"?_:{next:_,error:T,complete:j})},wa.prototype[Yi]=function(){return this},wa);function wa(_){this._subscribe=_}try{to={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{to={indexedDB:null,IDBKeyRange:null}}function Or(_){var T,j=!1,I=new va(function(q){var W=Z(_),ot,pt=!1,kt={},Ct={},Bt={get closed(){return pt},unsubscribe:function(){pt||(pt=!0,ot&&ot.abort(),xt&&ri.storagemutated.unsubscribe(Lt))}};q.start&&q.start(Bt);var xt=!1,Ft=function(){return Yr(Pt)},Lt=function(zt){Xo(kt,zt),rl(Ct,kt)&&Ft()},Pt=function(){var zt,Rt,Zt;!pt&&to.indexedDB&&(kt={},zt={},ot&&ot.abort(),ot=new AbortController,Zt=(function(Gt){var oe=Pi();try{W&&Tn();var ge=hn(_,Gt);return ge=W?ge.finally(Un):ge}finally{oe&&it()}})(Rt={subscr:zt,signal:ot.signal,requery:Ft,querier:_,trans:null}),Promise.resolve(Zt).then(function(Gt){j=!0,T=Gt,pt||Rt.signal.aborted||(kt={},(function(oe){for(var ge in oe)if(y(oe,ge))return;return 1})(Ct=zt)||xt||(ri(ko,Lt),xt=!0),Yr(function(){return!pt&&q.next&&q.next(Gt)}))},function(Gt){j=!1,["DatabaseClosedError","AbortError"].includes(Gt?.name)||pt||Yr(function(){pt||q.error&&q.error(Gt)})}))};return setTimeout(Ft,0),Bt});return I.hasValue=function(){return j},I.getValue=function(){return T},I}var No=Mr;function mo(_){var T=vi;try{vi=!0,ri.storagemutated.fire(_),ol(_,!0)}finally{vi=T}}b(No,r(r({},Nt),{delete:function(_){return new No(_,{addons:[]}).delete()},exists:function(_){return new No(_,{addons:[]}).open().then(function(T){return T.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(_){try{return T=No.dependencies,j=T.indexedDB,T=T.IDBKeyRange,(Ms(j)?Promise.resolve(j.databases()).then(function(I){return I.map(function(q){return q.name}).filter(function(q){return q!==vs})}):el(j,T).toCollection().primaryKeys()).then(_)}catch{return An(new vt.MissingAPI)}var T,j},defineClass:function(){return function(_){h(this,_)}},ignoreTransaction:function(_){return ue.trans?Yn(ue.transless,_):_()},vip:Ar,async:function(_){return function(){try{var T=Qo(_.apply(this,arguments));return T&&typeof T.then=="function"?T:Te.resolve(T)}catch(j){return An(j)}}},spawn:function(_,T,j){try{var I=Qo(_.apply(j,T||[]));return I&&typeof I.then=="function"?I:Te.resolve(I)}catch(q){return An(q)}},currentTransaction:{get:function(){return ue.trans||null}},waitFor:function(_,T){return T=Te.resolve(typeof _=="function"?No.ignoreTransaction(_):_).timeout(T||6e4),ue.trans?ue.trans.waitFor(T):T},Promise:Te,debug:{get:function(){return wt},set:function(_){fe(_)}},derive:E,extend:h,props:b,override:P,Events:uo,on:ri,liveQuery:Or,extendObservabilitySet:Xo,getByKeyPath:B,setByKeyPath:R,delByKeyPath:function(_,T){typeof T=="string"?R(_,T,void 0):"length"in T&&[].map.call(T,function(j){R(_,j,void 0)})},shallowClone:V,deepClone:mt,getObjectDiff:Jo,cmp:Re,asap:D,minKey:-1/0,addons:[],connections:Eo,errnames:_t,dependencies:to,cache:ho,semVer:"4.2.1",version:"4.2.1".split(".").map(function(_){return parseInt(_)}).reduce(function(_,T,j){return _+T/Math.pow(10,2*j)})})),No.maxKey=Qi(No.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ri(ko,function(_){vi||(_=new CustomEvent(Xr,{detail:_}),vi=!0,dispatchEvent(_),vi=!1)}),addEventListener(Xr,function(_){_=_.detail,vi||mo(_)}));var ns,vi=!1,hi=function(){};return typeof BroadcastChannel<"u"&&((hi=function(){(ns=new BroadcastChannel(Xr)).onmessage=function(_){return _.data&&mo(_.data)}})(),typeof ns.unref=="function"&&ns.unref(),ri(ko,function(_){vi||ns.postMessage(_)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(_){if(!Mr.disableBfCache&&_.persisted){wt&&console.debug("Dexie: handling persisted pagehide"),ns?.close();for(var T=0,j=Eo;T<j.length;T++)j[T].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(_){!Mr.disableBfCache&&_.persisted&&(wt&&console.debug("Dexie: handling persisted pageshow"),hi(),mo({all:new fi(-1/0,[[]])}))})),Te.rejectionMapper=function(_,T){return!_||_ instanceof at||_ instanceof TypeError||_ instanceof SyntaxError||!_.name||!Mt[_.name]?_:(T=new Mt[_.name](T||_.message,_),"stack"in _&&x(T,"stack",{get:function(){return this.inner.stack}}),T)},fe(wt),r(Mr,Object.freeze({__proto__:null,Dexie:Mr,liveQuery:Or,Entity:Yo,cmp:Re,PropModification:dr,replacePrefix:function(_,T){return new dr({replacePrefix:[_,T]})},add:function(_){return new dr({add:_})},remove:function(_){return new dr({remove:_})},default:Mr,RangeSet:fi,mergeRanges:Co,rangesOverlap:nl}),{default:Mr}),Mr})})(ld)),ld.exports}var RO=PO();const Wy=f_(RO),mw=Symbol.for("Dexie"),pd=globalThis[mw]||(globalThis[mw]=Wy);if(Wy.semVer!==pd.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Wy.semVer} and ${pd.semVer}`);const{liveQuery:Uz,mergeRanges:Fz,rangesOverlap:Hz,RangeSet:qz,cmp:Vz,Entity:Yz,PropModification:Zz,replacePrefix:Kz,add:Wz,remove:Xz,DexieYProvider:Gz}=pd,jl=new pd("DeviceDB");jl.version(1).stores({devices:"++id, &serial, model, latitude, longitude, registeredAt"});const km=new Map,zO=3e4,gw=new Map;async function BO(n){if(!n)return!1;const t=Date.now(),e=gw.get(n);if(e&&t-e<zO&&km.has(n))return km.get(n);const o=!!await jl.devices.where("serial").equals(n).first();return km.set(n,o),gw.set(n,t),o}const IO=180;function Mm(n,t,e=IO){if(t==null||!isFinite(t))return n;const r=n.length>=e?n.slice(n.length-e+1):n.slice();return r.push(Number(t)),r}const Ya=Ad((n,t)=>({selectedId:null,seriesById:Object.create(null),latestById:Object.create(null),warningById:{},setSelected:e=>n({selectedId:e}),setWarning:(e,r)=>n(o=>{const a=!!o.warningById[e],l=!!r;return a===l?{}:{warningById:{...o.warningById,[e]:l}}}),pushFromItem:e=>{const r=e?.id;if(!r)return;const{cpuTotalPct:o,diskUsedPct:a,memUsedPct:l}=e,c={...t().seriesById},h=c[r]||{cpu:[],emmc:[],ram:[]};c[r]={cpu:Mm(h.cpu,o),emmc:Mm(h.emmc,a),ram:Mm(h.ram,l)};const d={...t().latestById};d[r]={cpu:Number.isFinite(o)?o:null,emmc:Number.isFinite(a)?a:null,ram:Number.isFinite(l)?l:null,updatedAt:Date.now()},n({seriesById:c,latestById:d})}})),Zc=Ad((n,t)=>({raw:null,parsed:{v2xReady:null,freqMHz:void 0,bwMHz:void 0,txCount:void 0,rxCount:void 0,gnss:{fix:void 0,lat:void 0,lon:void 0}},setFromVmStatus(e){const r=UO(e);n({raw:e,parsed:r})}}));function UO(n){if(!n||typeof n!="object")return{v2xReady:null,freqMHz:void 0,bwMHz:void 0,txCount:void 0,rxCount:void 0,gnss:{mode:void 0,lat:void 0,lon:void 0}};const t=!!n.cv2x_tx_ready,e=ph(n.frequency_mhz),r=ph(n.channel_bandwidth_mhz),o=ph(n.ltev2x_tx_total_count),a=ph(n.ltev2x_rx_total_count),l=n.gnss_data||{},c=FO(l.latitude),h=HO(l.longitude),d=qO(l.mode,l.status);return{v2xReady:t,freqMHz:e,bwMHz:r,txCount:o,rxCount:a,gnss:{mode:d,lat:c,lon:h}}}const ph=n=>typeof n=="number"&&!Number.isNaN(n)?n:void 0;function FO(n){if(typeof n=="number")return Math.abs(n)>90?n/1e7:n}function HO(n){if(typeof n=="number")return Math.abs(n)>180?n/1e7:n}function qO(n,t){return["No Fix","Fixing","2D Fix","3D Fix"][n]}function VO(n){return n==null?1:n>=-55?4:n>=-65?3:n>=-75?2:1}function YO(n){const t={cpuMax:85,memMax:85,diskMax:85,tempMax:80},e={gnssAntenna:!!n?.gnss_antenna_status,lteAntenna1:!!n?.ltev2x_antenna1_status,lteAntenna2:!!n?.ltev2x_antenna2_status,v2xUsb:!!n?.v2x_usb_status,v2xSpi:!!n?.v2x_spi_status,sramVbat:!!n?.sram_vbat_status,ppsSync:!!n?.secton_1pps_status},r=Number(n?.cpu_usage_status?.cpu_usage_total_percent),o=Number(n?.memory_usage_status?.memory_usage_percent),a=Number(n?.storage_usage_status?.storage_usage_percent),l=Number(n?.temperature_status?.temperature_celsius);e.cpuOk=Number.isFinite(r)?r<=t.cpuMax:!1,e.memOk=Number.isFinite(o)?o<=t.memMax:!1,e.diskOk=Number.isFinite(a)?a<=t.diskMax:!1,e.tempOk=Number.isFinite(l)?l<=t.tempMax:!1;const c=Object.keys(e),h=c.reduce((b,S)=>b+(e[S]?1:0),0),d=Math.round(h/c.length*100),g={gnssAntenna:"GNSS 안테나",lteAntenna1:"LTE-V2X 안테나1",lteAntenna2:"LTE-V2X 안테나2",v2xUsb:"V2X USB",v2xSpi:"V2X SPI",sramVbat:"SRAM VBAT",ppsSync:"1PPS 동기",cpuOk:"CPU 사용률",memOk:"메모리 사용률",diskOk:"스토리지 사용률",tempOk:"온도"},y=c.filter(b=>!e[b]).map(b=>g[b]||b);return{pct:d,flags:e,issues:y}}function ZO(n){const t=Number(n);if(!Number.isFinite(t))return null;const e=Date.UTC(2004,0,1);return Math.ceil((e+t*1e3-Date.now())/864e5)}function KO(n){const t=Number(n?.gnss_data?.latitude),e=Number(n?.gnss_data?.longitude);return Number.isFinite(t)&&Number.isFinite(e)?{lat:t/1e7,lon:e/1e7}:null}function WO(n){const t=String(n?.serial_number??""),e=Number(n?.lte?.rssi_dbm),r=Number.isFinite(e)?VO(e):0;return{id:t,serial:t,active:!!(n?.ltev2x_tx_ready_status||n?.gnss_antenna_status),health:YO(n),bars:r,rssiDbm:e,securityEnabled:!!n?.certificate?.ltev2x_cert_status_security_enable,certDaysLeft:ZO(n?.certificate?.ltev2x_cert_valid_end),coords:KO(n),temperatureC:Number(n?.temperature_status?.temperature_celsius)||null,cpuTotalPct:Number(n?.cpu_usage_status?.cpu_usage_total_percent)||null,memUsedPct:Number(n?.memory_usage_status?.memory_usage_percent)||null,diskUsedPct:Number(n?.storage_usage_status?.storage_usage_percent)||null,updatedAt:Date.now(),__raw:n}}function wr(n){if(n==null)return;const t=typeof n=="number"?n:Number(n);return isFinite(t)?t:void 0}function XO(n){if(!n||typeof n!="object")return null;const t=n,e={txReady:!!t.cv2x_tx_ready,freqMHz:wr(t.frequency_mhz)??0,bwMHz:wr(t.channel_bandwidth_mhz)??0,txTotal:wr(t.ltev2x_tx_total_count)??0,rxTotal:wr(t.ltev2x_rx_total_count)??0},r=t.gnss_data||{},o=wr(r.latitude),a=wr(r.longitude),l=o==null?null:Math.abs(o)>1e3?o/1e7:o,c=a==null?null:Math.abs(a)>1e3?a/1e7:a,h=r.speed==null?null:r.speed/10,d=r.heading==null?null:r.heading/10,g=new Date(Date.UTC(r.year??1970,(r.month??1)-1,r.day??1,r.hour??0,r.min??0,r.sec??0,Math.floor((r.nanosec??0)/1e6))).toISOString(),y={lat:l,lon:c,altHAE_m:wr(r.altHAE)??null,altMSL_m:wr(r.altMSL)??null,speed_mps:h,heading_deg:d,satsTracked:wr(r.numSatellites)??0,satsUsed:wr(r.numUsedSatellites)??0,pdop:wr(r.pdop),hdop:wr(r.hdop),vdop:wr(r.vdop),hacc_m:wr(r.hacc),vacc_m:wr(r.vacc),timestamp:g};return{rseStatus:e,gnss:y}}const yw=n=>typeof n=="number"&&Number.isFinite(n),_w=n=>yw(n?.lat)&&yw(n?.lon),H2=Ad((n,t)=>({byId:{},warningById:{},selectAll:()=>Object.values(t().byId),selectAllWithFix:()=>Object.values(t().byId).filter(e=>_w(e?.gnss)),selectBounds:()=>{const e=Object.values(t().byId).map(c=>c?.gnss).filter(c=>_w(c)).map(c=>[c.lat,c.lon]);if(e.length===0)return null;let r=e[0][0],o=e[0][0],a=e[0][1],l=e[0][1];for(let c=1;c<e.length;c++){const[h,d]=e[c];h<r&&(r=h),h>o&&(o=h),d<a&&(a=d),d>l&&(l=d)}return[[r,a],[o,l]]},removeById:e=>n(r=>{const o={...r.byId},a={...r.warningById};return delete o[e],delete a[e],{byId:o,warningById:a}}),clear:()=>n({byId:{},warningById:{}}),setWarning:(e,r)=>n(o=>{const a=!!o.warningById[e],l=!!r;return a===l?{}:{warningById:{...o.warningById,[e]:l}}}),upsertRseStatus:(e,r,o)=>{const a=XO(o);if(!a)return;const l=t().byId[e],c=Date.now(),h=Number(a?.rseStatus?.rxTotal??0),d=Number(l?.rseStatus?.rxTotal??0),g=l?Math.max(1,(c-l._ts)/1e3):1,y=h-d,b=y>=0?y/g:0,S={id:e,serial:r,...a,msgPerSec:Number(b.toFixed(1)),_ts:c};!!l&&l.rseStatus?.rxTotal===S.rseStatus?.rxTotal&&l.rseStatus?.txTotal===S.rseStatus?.txTotal&&l.rseStatus?.txReady===S.rseStatus?.txReady&&l.gnss?.lat===S.gnss?.lat&&l.gnss?.lon===S.gnss?.lon&&l.gnss?.headingDeg===S.gnss?.headingDeg||n(E=>({byId:{...E.byId,[e]:S}}))}})),xr={startReq:"fac/V2X_MAINTENANCE_HUB_CLIENT_PA/V2X_MAINTENANCE_HUB_PA/startSystemCheck/req",startResp:"fac/V2X_MAINTENANCE_HUB_PA/V2X_MAINTENANCE_HUB_CLIENT_PA/startSystemCheck/resp",stopReq:"fac/V2X_MAINTENANCE_HUB_CLIENT_PA/V2X_MAINTENANCE_HUB_PA/stopSystemCheck/req",stopResp:"fac/V2X_MAINTENANCE_HUB_PA/V2X_MAINTENANCE_HUB_CLIENT_PA/stopSystemCheck/resp",vmStatus:"fac/V2X_MAINTENANCE_HUB_PA/V2X_MAINTENANCE_HUB_CLIENT_PA/vmStatus/jsonMsg",rseStatus:"fac/SYS_MON_PA/V2X_MAINTENANCE_HUB_PA/systemSnapshot/jsonMsg"};let md=!1,Xy=null,Dd=!1,Au=!1,gd=!1,ms=null,gs=null;const GO=[{match:n=>n===xr.startResp&&!!ms,handle:(n,t)=>{const{resolve:e,timer:r}=ms;clearTimeout(r),ms=null,e(yd(t))}},{match:n=>n===xr.stopResp&&!!gs,handle:(n,t)=>{const{resolve:e,timer:r}=gs;clearTimeout(r),gs=null,e(yd(t))}},{match:n=>n===xr.vmStatus,handle:(n,t)=>tC(t)},{match:n=>n===xr.rseStatus&&Dd,handle:(n,t)=>eC(t)}];function $O(){if(md)return bw;const n=sa.getState();return gd||(n.subscribeTopics([xr.startResp,xr.stopResp,xr.vmStatus],{qos:1}),gd=!0),Xy=n.addMessageHandler((t,e)=>{for(const r of GO)if(r.match(t)){r.handle(t,e);return}}),md=!0,bw}function bw(){if(md){if(Xy?.(),Xy=null,ms&&(clearTimeout(ms.timer),ms.reject?.(new Error("startSystemCheck: disposed")),ms=null),gs&&(clearTimeout(gs.timer),gs.reject?.(new Error("stopSystemCheck: disposed")),gs=null),gd){try{sa.getState().unsubscribeTopics([xr.startResp,xr.stopResp,xr.vmStatus])}catch{}gd=!1}if(Au){try{sa.getState().unsubscribeTopics([xr.rseStatus])}catch{}Au=!1}Dd=!1,md=!1}}function vw(n,t={},{timeoutMs:e=1e4,qos:r=1,retain:o=!1}={}){return n==="startSystemCheck"?ww(xr.startReq,"start",t,{timeoutMs:e,qos:r,retain:o}):n==="stopSystemCheck"?ww(xr.stopReq,"stop",t,{timeoutMs:e,qos:r,retain:o}):Promise.reject(new Error(`Unknown command: ${n}`))}function ww(n,t,e,{timeoutMs:r,qos:o,retain:a}){const l=sa.getState();if(t==="start"&&ms)return Promise.reject(new Error("startSystemCheck: already pending"));if(t==="stop"&&gs)return Promise.reject(new Error("stopSystemCheck: already pending"));const c=new Promise((d,g)=>{const y=setTimeout(()=>{t==="start"&&(ms=null),t==="stop"&&(gs=null),g(new Error(`${t}SystemCheck: response timeout (${r}ms)`))},r),b={resolve:d,reject:g,timer:y};t==="start"&&(ms=b),t==="stop"&&(gs=b)}),h=typeof e=="string"?e:JSON.stringify(e);return l.publish(n,h,{qos:o,retain:a}),c}function QO(){Dd=!0,Au||(sa.getState().subscribeTopics([xr.rseStatus],{qos:1}),Au=!0)}function JO(){Dd=!1,Au&&(sa.getState().unsubscribeTopics([xr.rseStatus]),Au=!1)}function tC(n){const t=yd(n);try{Zc.getState().setFromVmStatus(t)}catch(e){console.warn("vmStatus parse failed:",e)}}async function eC(n){const t=yd(n),e=typeof t=="string"?JSON.parse(t):t,r=e?.serial_number;if(!await BO(r)){console.debug("[rseStatus] ignored (unregistered):",r);return}const o=WO(e);try{H2.getState().upsertRseStatus(o.id,r,e)}catch(a){console.warn("RseStore ingest failed:",a)}typeof window<"u"&&typeof window.__pushRseItem=="function"&&window.__pushRseItem(o),Ya.getState().pushFromItem(o),console.log("[rseStatus] upsert (registered):",o.id)}function yd(n){const t=nC(n);try{return JSON.parse(t)}catch{return t}}function nC(n){try{return new TextDecoder().decode(n)}catch{return""}}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rC=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,r)=>r?r.toUpperCase():e.toLowerCase()),xw=n=>{const t=rC(n);return t.charAt(0).toUpperCase()+t.slice(1)},q2=(...n)=>n.filter((t,e,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===e).join(" ").trim(),oC=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=Ce.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:l,...c},h)=>Ce.createElement("svg",{ref:h,...sC,width:t,height:t,stroke:n,strokeWidth:r?Number(e)*24/Number(t):e,className:q2("lucide",o),...!a&&!oC(c)&&{"aria-hidden":"true"},...c},[...l.map(([d,g])=>Ce.createElement(d,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=(n,t)=>{const e=Ce.forwardRef(({className:r,...o},a)=>Ce.createElement(aC,{ref:a,iconNode:t,className:q2(`lucide-${iC(xw(n))}`,`lucide-${n}`,r),...o}));return e.displayName=xw(n),e};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],uC=ji("activity",lC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9 9.5 2 2 4-4",key:"1dth82"}]],fC=ji("book-check",cC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],dC=ji("chevron-down",hC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],mC=ji("chevron-left",pC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],V2=ji("chevron-right",gC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Om=ji("circle-x",yC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],bC=ji("file-down",_C);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],wC=ji("layout-dashboard",vC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],SC=ji("pencil",xC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],TC=ji("refresh-ccw",EC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],kC=ji("server",AC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],OC=ji("settings",MC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Y2=ji("shield-check",CC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],NC=ji("shield-off",LC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],jC=ji("trash-2",DC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],RC=ji("triangle-alert",PC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],BC=ji("wifi",zC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],k_=ji("x",IC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],FC=ji("zoom-in",UC),Sw=({ok:n,lte:t=!1})=>X.jsx("span",{className:`inline-block h-3 w-7 rounded-full shadow 
      ${n?"bg-[#32E36C] animate-pulse":"bg-slate-600/60"}
      ${t?"mr-1":""}`}),xl=({label:n,value:t,mono:e=!1})=>X.jsxs("div",{className:"flex items-center justify-between",children:[X.jsx("span",{className:"text-slate-300",children:n}),X.jsx("span",{className:`text-slate-50 ${e?"font-mono tabular-nums":""}`,children:t??"-"})]}),Sl=()=>X.jsx("span",{className:"inline-block h-3 w-10 rounded-full shadow bg-slate-600/60"});function HC({isCollapsed:n=!1,v2xReady:t=null,freqMHz:e,bwMHz:r,txCount:o,rxCount:a,gnss:l={mode:void 0,lat:void 0,lon:void 0},className:c=""}){return X.jsx("div",{className:`
        mt-auto p-3
        ${c}
      `,children:X.jsxs("div",{className:`\r
          rounded-xl border border-slate-600/70 bg-slate-800/80\r
          shadow-sm px-2 py-2\r
        `,children:[X.jsxs("div",{className:"flex items-center justify-between mt-1 mb-2 mx-2",children:[X.jsxs("div",{className:"flex items-center gap-2 text-slate-200",children:[X.jsx(uC,{size:20,className:"opacity-80"}),!n&&X.jsx("span",{className:"text-sm font-semibold",children:"V2X-FMS"})]}),!n&&t?"":X.jsx(Sw,{ok:t})]}),n?X.jsx(X.Fragment,{}):X.jsxs("div",{className:"grid gap-2",children:[X.jsx("div",{className:"rounded-lg border border-slate-600/60 bg-slate-700/60 px-2 py-1",children:X.jsxs("div",{className:"flex items-center justify-between side-status-title font-semibold",children:[X.jsx("span",{children:"LTE-V2X"}),X.jsx(Sw,{ok:!!t,lte:!0})]})}),X.jsxs("div",{className:"rounded-lg border border-slate-600/60 bg-slate-700/60 px-2 py-1",children:[X.jsx("div",{className:"flex items-center gap-1 side-status-title font-semibold border-b-indigo-500 fms-bt",children:X.jsx("span",{children:"채널"})}),X.jsxs("div",{className:"mt-1 space-y-0.5 side-status-title",children:[X.jsx(xl,{label:"Frequency",value:e!=null?`${e} MHz`:X.jsx(Sl,{}),mono:!0}),X.jsx(xl,{label:"Band Width",value:r!=null?`${r} MHz`:X.jsx(Sl,{}),mono:!0})]})]}),X.jsxs("div",{className:"rounded-lg border border-slate-600/60 bg-slate-700/60 px-2 py-1",children:[X.jsx("div",{className:"side-status-title font-semibold fms-bt",children:"Packet TX/RX"}),X.jsxs("div",{className:"mt-1 space-y-0.5 side-status-title",children:[X.jsx(xl,{label:"TX",value:o!=null?o.toLocaleString():X.jsx(Sl,{}),mono:!0}),X.jsx(xl,{label:"RX",value:a!=null?a.toLocaleString():X.jsx(Sl,{}),mono:!0})]})]}),X.jsxs("div",{className:"rounded-xl border border-slate-600/70 bg-slate-700/50 px-3 py-1",children:[X.jsx("div",{className:"flex items-center gap-2 text-slate-200 mb-1.5 fms-bt",children:X.jsx("span",{className:"side-status-title font-semibold ",children:"GNSS"})}),X.jsxs("div",{className:"grid grid-cols-1 gap-x-3 gap-y-1 side-status-title",children:[X.jsx(xl,{label:"mode",value:l.mode??X.jsx(Sl,{})}),X.jsx(xl,{label:"위도",value:l.lat!=null?l.lat:X.jsx(Sl,{}),mono:!0}),X.jsx(xl,{label:"경도",value:l.lon!=null?l.lon:X.jsx(Sl,{}),mono:!0})]})]})]})]})})}function qC({isCollapsed:n=!1,className:t=""}){const e=Zc(r=>r.parsed);return X.jsx(HC,{isCollapsed:n,v2xReady:e.v2xReady,freqMHz:e.freqMHz,bwMHz:e.bwMHz,txCount:e.txCount,rxCount:e.rxCount,gnss:e.gnss,className:t})}function mh({icon:n,label:t,active:e=!1,collapsed:r=!1,onClick:o,children:a=[],className:l="",iconSizeCollapsed:c=24,iconSizeExpanded:h=24,labelClassName:d=""}){const g=a&&a.length>0;return r?X.jsxs("div",{className:`group relative ${l}`,children:[X.jsxs("button",{type:"button",onClick:o,title:t,className:["w-full rounded-lg transition","flex flex-col items-center justify-center py-4",e?"bg-white/10":""].join(" "),children:[X.jsx(n,{size:c,className:e?"text-white":"text-slate-200"}),X.jsx("span",{className:["mt-1 h-1.5 w-1.5 rounded-full",e?"bg-sky-400":"bg-slate-400/50"].join(" ")})]}),g&&X.jsxs("div",{className:["absolute left-full top-0 ml-2 z-40","min-w-44 rounded-xl bg-slate-800/95 shadow-lg p-2"].join(" "),role:"menu",children:[X.jsx("p",{className:"px-2 pb-2 text-xl font-semibold text-slate-300",children:t}),X.jsx("ul",{className:"space-y-1",children:a.map((y,b)=>X.jsx("li",{children:X.jsxs("button",{type:"button",onClick:y.onClick,className:"w-full grid grid-cols-[48px_1fr] items-center rounded-lg px-2 py-2 text-left",role:"menuitem",children:[X.jsx(y.icon,{size:20,className:"justify-self-center text-slate-200"}),X.jsx("span",{className:"text-slate-100 text-xl",children:y.label})]})},b))})]})]}):X.jsxs("div",{className:`w-full ${l}`,children:[X.jsxs("button",{type:"button",onClick:o,className:["group w-full rounded-lg px-5 py-2 text-left","grid grid-cols-[48px_1fr] items-center gap-3","transition",e?"bg-white/10":""].join(" "),children:[X.jsx(n,{size:h,className:e?"text-white justify-self-center":"text-slate-200 justify-self-center"}),X.jsx("span",{className:[e?"text-white":"text-slate-100",d].join(" "),children:t})]}),g&&X.jsx("div",{className:"mt-1 pl-2 space-y-1",children:a.map((y,b)=>X.jsxs("button",{type:"button",onClick:y.onClick,className:"w-full grid grid-cols-[48px_1fr] items-center gap-3 rounded-lg px-2 py-2",children:[X.jsx(y.icon,{size:5,className:"justify-self-center text-slate-200"}),X.jsx("span",{className:"text-slate-100 text-xl",children:y.label})]},b))})]})}function VC({activePage:n,setActivePage:t,isCollapsed:e,setIsCollapsed:r}){const[o,a]=Ce.useState({monitoring:!0}),l=c=>t(c);return X.jsxs("aside",{className:`${e?"w-1/8":"w-1/6"} h-full bg-slate-700 text-slate-100 transition-all duration-300 flex flex-col`,children:[X.jsxs("div",{className:"relative border-b border-slate-600/40",children:[X.jsx("button",{type:"button",onClick:()=>r(!e),className:"absolute inset-y-0 right-0 inline-flex items-center justify-center","aria-label":e?"Expand sidebar":"Collapse sidebar",children:X.jsx("div",{className:"pl-4",children:e?X.jsx(V2,{size:36}):X.jsx(mC,{size:36})})}),X.jsx("div",{className:"h-24 flex items-center justify-center px-4",children:X.jsx("img",{src:"/logo_white.png",alt:"DYNAVISTA",className:e?"w-20 p-2":"w-32"})})]}),X.jsxs("nav",{className:"flex-1 px-2 space-y-1.5 text-lg",children:[X.jsx(mh,{icon:wC,label:"Home",active:n==="Home",collapsed:e,onClick:()=>l("Home")}),X.jsx(mh,{icon:kC,label:"장치 관리",active:n==="DeviceList",collapsed:e,onClick:()=>l("DeviceList")}),X.jsx(mh,{icon:BC,label:"장치 모니터링",active:n==="DeviceMonitoring",collapsed:e,onClick:()=>l("DeviceMonitoring")}),X.jsx(mh,{icon:OC,label:"설정",active:n==="Settings",collapsed:e,onClick:()=>l("Settings")})]}),X.jsx("div",{className:"pb-2 bg-gradient-to-t from-slate-700 via-slate-700/95 to-transparent",children:X.jsx(qC,{isCollapsed:e,v2xReady:!1,freqMHz:5850,bwMHz:10,txCount:123456,rxCount:987654,gnss:{fix:"3D-FIX",lat:35.905806,lon:126.520896}})})]})}function YC({onStart:n,className:t="",disabled:e=!1,onBegan:r}){const o=()=>{e||(n?.(),r?.())};return X.jsx(X.Fragment,{children:X.jsx("div",{className:"relative inline-block",children:X.jsxs("button",{type:"button",onClick:o,className:["relative inline-flex items-center btn justify-center select-none font-semibold transition","btn-text",e?"bg-slate-600 text-white/90 cursor-not-allowed opacity-70":"bg-[#28B555] text-white","shadow-sm ring-1 ring-emerald-700/40 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/70",t].join(" "),"aria-disabled":e,children:[X.jsx("span",{className:["absolute left-5 top-1/2 -translate-y-1/2 rounded-full w-3.5 h-3.5",e?"bg-white/50":"bg-white/90"].join(" ")}),X.jsx("span",{className:"ml-3 pointer-events-none mx-auto whitespace-nowrap tracking-tight",children:"점검 시작"})]})})})}function ZC({onStop:n,className:t="",disabled:e=!1,onEnded:r}){Ce.useRef(null);const o=()=>{window.confirm("점검을 중단하시겠습니까?")&&(n?.(),r?.())},a=()=>{e||o()};return X.jsx(X.Fragment,{children:X.jsx("div",{className:"relative inline-block",children:X.jsxs("button",{type:"button",onClick:a,className:["relative inline-flex btn items-center justify-center select-none rounded-xl font-semibold transition","btn-text",e?"bg-slate-600 text-white/90 cursor-not-allowed opacity-70":"bg-rose-600 text-white","shadow-sm ring-1 ring-rose-700/40 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/70",t].join(" "),"aria-disabled":e,children:[X.jsx("span",{className:["absolute left-5 top-1/2 -translate-y-1/2 rounded-full w-3.5 h-3.5 bg-white/90",e?"":"animate-pulse"].join(" ")}),X.jsx("span",{className:"ml-3 pointer-events-none mx-auto whitespace-nowrap tracking-tight",children:"점검 중단"})]})})})}const KC=123456789,WC=123456790;function XC({activePage:n}){const[t,e]=Ce.useState(!1),r=sa(h=>h.connected),a={Main:["Main"],DeviceList:["장치 관리"],WirelessDevices:["장치 모니터링"],Settings:["설정"]}[n]||[n],l=async()=>{if(!r){alert("MQTT가 연결되지 않았습니다.");return}try{const h={VER:"1.0",TS:new Date().toISOString(),TRANSACTION_ID:KC},d=await vw("startSystemCheck",h,{timeoutMs:1e4}),g=d?.data?.CODE??d?.CODE??200,y=d?.data?.MSG??d?.MSG??"점검 시작 응답 수신";if(console.log("[resp]",d),Number(g)!==200){console.warn("시작 실패:",g,y),alert(`점검 시작 실패${g?` (CODE ${g})`:""}: ${y}`);return}QO(),console.log("✅ 점검 시작:",y)}catch(h){console.error("startSystemCheck 실패:",h),alert(`점검 시작 실패: ${h.message||h}`)}},c=async()=>{try{const h={VER:"1.0",TS:new Date().toISOString(),TRANSACTION_ID:WC},d=await vw("stopSystemCheck",h,{timeoutMs:1e4}),g=d?.data?.CODE??d?.CODE??200,y=d?.data?.MSG??d?.MSG??"점검 종료 응답 수신";if(Number(g)!==200){console.warn("중단 실패:",g,y),alert(`점검 중단 실패 ${g?` (CODE ${g})`:""}: ${y}`);return}JO(),console.log("🛑 점검 종료:",y)}catch(h){console.error("stopSystemCheck 실패:",h),alert(`점검 중단 실패: ${h.message||h}`)}};return X.jsxs("header",{className:"flex h-20 items-center justify-between px-10 py-3 bg-[#121d2d]",children:[X.jsxs("div",{className:"flex items-center space-x-1 text-slate-400 text-lg",children:[X.jsx("span",{children:"Home"}),a.map((h,d)=>X.jsxs("span",{className:"flex items-center space-x-2",children:[X.jsx("span",{children:">"}),X.jsx("span",{className:d===a.length-1?"text-gray-100 ":"",children:h})]},d))]}),X.jsxs("div",{className:"flex items-center space-x-3 text-2xl text-slate-100",children:[X.jsx(YC,{onStart:l,className:"shadow-sm",disabled:!r||t,onBegan:()=>e(!0)}),X.jsx(ZC,{onStop:c,className:"shadow-sm",disabled:!r||!t,onEnded:()=>e(!1)}),X.jsx("div",{className:"text-lg",children:"TEST_USER1"}),X.jsx("button",{className:"btn btn-text",children:"Logout"})]})]})}function GC({className:n="",children:t}){return X.jsx("section",{className:["flex flex-col","bg-[#121D2D] text-slate-100","relative rounded-2xl shadow-sm","ring-1 ring-[#576476] p-5",n].join(" "),children:t})}const ff=Ce.memo(GC);function Z2(n,t={ok:"#22c55e",warn:"#f59e0b",bad:"#ef4444"},e={warn:99,bad:50}){const r=Math.max(0,Math.min(100,Number.isFinite(n)?n:0));return r>=e.warn?t.ok:r>=e.bad?t.warn:t.bad}const $C=({value:n=0,color:t,palette:e,thresholds:r,bgTrack:o="rgba(148,163,184,0.25)",size:a=150,stroke:l=20,variant:c="svg",className:h="",style:d,showValue:g=!0,formatValue:y=E=>`${E}%`,children:b,title:S,"aria-label":x})=>{const E=Ce.useMemo(()=>Math.max(0,Math.min(100,Number(n)||0)),[n]),k=Ce.useMemo(()=>t||Z2(E,e,r),[t,E,e,r]);if(c==="conic")return X.jsxs("span",{className:`relative inline-block rotate-180 ${h}`,style:{"--pct":E,"--color":k,"--ring-bg":"#1f2a3b",width:a,height:a,borderRadius:"9999px",background:"conic-gradient(var(--color) calc(var(--pct) * 1%), var(--ring-bg) 0)",transition:"background 300ms linear",...d},"aria-label":x??`도넛 ${E}%`,title:S??`${E}%`,role:"img",children:[X.jsx("span",{className:"absolute inset-[3px]  rounded-full",style:{background:"#0f172a"}}),X.jsx("span",{className:"absolute inset-0 rotate-180 grid place-items-center",children:b??(g?X.jsx("span",{className:"text-2xl font-semibold",style:{color:k},children:y(E)}):null)})]});const C=(a-l)/2,M=2*Math.PI*C,P=E/100*M;return X.jsxs("div",{className:`relative grid place-items-center ${h}`,style:d,"aria-label":x??`도넛 ${E}%`,title:S??`${E}%`,role:"img",children:[X.jsxs("svg",{width:a,height:a,viewBox:`0 0 ${a} ${a}`,className:"drop-shadow-sm",children:[X.jsx("circle",{cx:a/2,cy:a/2,r:C,fill:"none",stroke:o,strokeWidth:l}),X.jsx("circle",{cx:a/2,cy:a/2,r:C,fill:"none",stroke:k,strokeWidth:l,strokeDasharray:`${P} ${M-P}`,transform:`rotate(90 ${a/2} ${a/2})`,style:{transition:"stroke-dasharray 300ms ease"}})]}),X.jsx("div",{className:"absolute inset-0 grid place-items-center",children:b??(g?X.jsx("span",{className:"text-2xl font-semibold",style:{color:k},children:y(E)}):null)})]})},M_=Ce.memo($C);function QC(){const t=Object.fromEntries([{key:"unknown",label:"미확인",value:5,color:"#DAE1EB"},{key:"ok",label:"정상",value:65,color:"#28B555"},{key:"fault",label:"장애",value:25,color:"#FF4D4D"},{key:"etc",label:"기타",value:5,color:"#FFA041"}].map(o=>[o.key,o])),r=["ok","fault","etc","unknown"].map(o=>t[o]).filter(Boolean);return X.jsxs(ff,{children:[X.jsxs("div",{className:"flex flex-row justify-between",children:[X.jsx("h2",{className:"main-card-title",children:"시스템 통계"}),X.jsxs("div",{className:"flex flex-row text-md",children:[X.jsx(gh,{dot:"bg-emerald-500",label:"정상"}),X.jsx(gh,{dot:"bg-rose-500",label:"장애"}),X.jsx(gh,{dot:"bg-amber-500",label:"기타"}),X.jsx(gh,{dot:"bg-slate-300",label:"미확인"})]})]}),X.jsx("div",{className:"grid grid-cols-2 grid-rows-2 w-full h-full mt-6 place-items-center gap-6",children:r.map(o=>X.jsxs("div",{className:"flex flex-col items-center justify-center",children:[X.jsx(M_,{size:150,value:o.value,color:o.color}),X.jsx("span",{className:"mt-3 text-lg",children:o.label})]},o.key))})]})}function gh({dot:n,label:t}){return X.jsxs("div",{className:"flex items-center ml-7",children:[X.jsx("span",{className:`h-1.5 w-1.5 rounded-full ring-1 ring-black/10 ${n} mr-2`}),X.jsx("span",{children:t})]})}function JC(){return X.jsx("div",{className:`\r
        h-full\r
        grid\r
      `,children:X.jsxs("div",{className:"grid gap-7 grid-cols-2",children:[X.jsx(QC,{}),X.jsxs(ff,{children:[X.jsx("div",{className:"flex items-center justify-between mb-5",children:X.jsx("div",{children:X.jsx("h2",{className:"main-card-title",children:"이벤트 리스트 로그"})})}),X.jsx("div",{className:"h-full bg-[#2E3A4E] rounded-xl border border-slate-200 p-6 text-[#9FA9B5] text-sm",children:"[250925.094435.304][Warning][TEST_RSE] there's nothing to add!"})]})]})})}function t3({setActivePage:n,embed:t=!1}){const[e,r]=Ce.useState(!1),[o,a]=Ce.useState([]),[l,c]=Ce.useState(()=>new Set);async function h(){r(!0);try{const C=await jl.devices.toArray();a(C),c(new Set)}finally{r(!1)}}Ce.useEffect(()=>{h()},[]);async function d(C){window.confirm("정말로 디바이스를 삭제하시겠습니까?")&&(await jl.devices.delete(C),await h())}function g(C){sessionStorage.setItem("editDeviceId",C),n("EditDevice")}function y(C){const M=C.serial??C.model??C.id;alert(`위치 보기: ${M}`)}function b(C){const M=C.serial??C.model??C.id;alert(`상태 동기화: ${M}`)}function S(C){c(M=>{const P=new Set(M);return P.has(C)?P.delete(C):P.add(C),P})}function x(){c(C=>C.size===o.length?new Set:new Set(o.map(M=>M.id)))}const E=o.length>0&&l.size===o.length,k=l.size>0&&!E;return X.jsxs(ff,{className:"h-full",children:[X.jsxs("div",{className:"flex justify-between items-center mb-6",children:[X.jsx("h2",{className:"main-card-title tracking-tight",children:"등록 기기"}),X.jsxs("div",{className:"flex items-center gap-2",children:[l.size>0&&X.jsxs("button",{className:"bg-rose-800/80 btn-sm btn-text-sm",onClick:async()=>{window.confirm(`${l.size}개 삭제할까요?`)&&(await Promise.all([...l].map(M=>jl.devices.delete(M))),await h())},title:"선택 삭제",children:["선택 삭제 (",l.size,")"]}),X.jsx("button",{className:"btn-sm btn-text-sm",onClick:()=>n("RegisterDevice"),children:"신규 장치 등록"}),X.jsx("button",{className:"btn-sm btn-text-sm",onClick:()=>alert("엑셀 등록 기능은 아직 준비 중입니다."),children:"엑셀 등록"})]})]}),X.jsx("div",{className:"relative rounded-xl ring-1 ring-white/10 overflow-hidden bg-[#0f172a]",children:X.jsxs("table",{className:"w-full border-collapse",children:[X.jsx("thead",{className:"bg-[#1a273a] text-slate-200",children:X.jsxs("tr",{className:"text-left",children:[X.jsx(vc,{className:"w-14",children:X.jsxs("label",{className:"inline-flex items-center gap-2 select-none",children:[X.jsx("input",{type:"checkbox",checked:E,ref:C=>{C&&(C.indeterminate=k)},onChange:x,className:"h-5 w-5 mt-1 accent-emerald-500"}),X.jsx("span",{className:"hidden md:inline"})]})}),X.jsx(vc,{children:"Serial"}),X.jsx(vc,{children:"모델명"}),X.jsx(vc,{children:"등록일시"}),X.jsx(vc,{className:"w-[180px]",children:"작업"})]})}),X.jsxs("tbody",{className:"text-slate-200/90",children:[o.length===0&&X.jsx("tr",{children:X.jsx("td",{colSpan:7,className:"px-4 py-10 text-center text-slate-400",children:e?"불러오는 중...":"등록된 장치가 없습니다."})}),o.map(C=>X.jsxs("tr",{className:"odd:bg-slate-800/20 even:bg-transparent hover:bg-slate-700/20 transition-colors border-t border-white/5",children:[X.jsx(wc,{children:X.jsx("input",{type:"checkbox",checked:l.has(C.id),onChange:()=>S(C.id),className:"h-5 w-5 accent-emerald-500","aria-label":`${C.serial??C.model??C.id} 선택`})}),X.jsx(wc,{className:"font-mono",children:C.serial??"-"}),X.jsx(wc,{children:C.model??"-"}),X.jsx(wc,{children:C.registeredAt?new Date(C.registeredAt).toLocaleString():"-"}),X.jsx(wc,{className:"text-right",children:X.jsxs("div",{className:"inline-flex items-center gap-1.5",children:[X.jsx(yh,{title:"상세보기",onClick:()=>y(C),children:X.jsx(FC,{size:18})}),X.jsx(yh,{title:"상태 동기화",onClick:()=>b(C),children:X.jsx(TC,{size:18})}),X.jsx(yh,{title:"수정",onClick:()=>g(C.id),children:X.jsx(SC,{size:18})}),X.jsx(yh,{title:"삭제",onClick:()=>d(C.id),children:X.jsx(jC,{size:18})})]})})]},C.id))]})]})})]})}function vc({className:n="",children:t}){return X.jsx("th",{className:["px-4 py-3 text-sm tracking-wide font-semibold",n].join(" "),children:t})}function wc({className:n="",children:t}){return X.jsx("td",{className:["px-4 py-3 align-middle",n].join(" "),children:t})}function yh({className:n="",title:t,onClick:e,children:r}){return X.jsx("button",{type:"button",className:["inline-flex items-center justify-center px-2.5 py-1.5 rounded-md","bg-slate-600/70 text-white","ring-1 ring-white/10 transition-colors",n].join(" "),onClick:e,title:t,"aria-label":t,children:r})}async function e3({serial:n,id:t=null}){if(!n)return{allow:!0};const e=await jl.devices.get({serial:n});return e&&e.id!==t?(alert(`❌ 이미 등록된 장비입니다.
(${e.serial})`),{allow:!1}):{allow:!0}}function n3({setActivePage:n}){const[t,e]=Ce.useState(""),[r,o]=Ce.useState(""),a=async l=>{l.preventDefault();const c=t.trim(),h=r.trim();if(!c){alert("serial 번호를 입력해주세요.");return}const{allow:d}=await e3({serial:c});if(!d)return;const g=new Date().toISOString();try{await jl.devices.add({serial:c,model:h||null,registeredAt:g}),alert("디바이스 등록 완료"),n("DeviceList")}catch(y){if(y?.name==="ConstraintError"){alert("❌ 이미 등록된 장비입니다. 동일한 Serial 이 존재합니다.");return}console.error("등록 실패:",y),alert("디바이스 등록 실패")}};return X.jsxs("div",{className:"max-w-md mx-auto bg-white dark:bg-gray-700 p-6 rounded shadow",children:[X.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-white",children:"모니터링 관리 대상 장치 등록"}),X.jsxs("form",{onSubmit:a,className:"space-y-4",children:[X.jsxs("div",{children:[X.jsx("label",{className:"block text-sm font-medium",children:"Serial Number"}),X.jsx("input",{type:"text",value:t,onChange:l=>e(l.target.value),placeholder:"예: K8QR2A2V10001",className:"w-full px-3 py-2 border rounded",required:!0})]}),X.jsxs("div",{children:[X.jsx("label",{className:"block text-sm font-medium",children:"모델"}),X.jsx("input",{type:"text",value:r,onChange:l=>o(l.target.value),className:"w-full px-3 py-2 border rounded",placeholder:"예: Smart-RSU"})]}),X.jsxs("div",{className:"flex justify-end space-x-2",children:[X.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-400 text-white rounded",onClick:()=>n("DeviceList"),children:"취소"}),X.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded",children:"등록"})]})]})]})}function i3({on:n}){return X.jsx("span",{className:`inline-block h-3.5 w-3.5 rounded-full shadow-inner ring-1 ${n?"bg-emerald-500 ring-emerald-300/40 animate-pulse":"bg-slate-500 ring-slate-300/30"}`,"aria-label":n?"활성":"비활성"})}const K2=Ce.memo(i3);function r3({bars:n=1,className:t=""}){return X.jsx("div",{className:["flex items-end gap-1",t].join(" "),"aria-label":`신호 ${n}/4`,children:[0,1,2,3].map(e=>X.jsx("span",{className:`w-1.5 rounded-sm ${e<n?"bg-[#28B555]":"bg-slate-600"}`,style:{height:`${8+e*6}px`}},e))})}const W2=Ce.memo(r3);function o3({onStatusUpdate:n,onSelect:t,selectedId:e,className:r=""}){const[o,a]=Ce.useState([]);Ce.useRef(null);const l=Ce.useCallback(c=>{a(h=>{const d=h.findIndex(y=>y.id===c.id);if(d===-1)return[c,...h];const g=h.slice();return g[d]={...g[d],...c},g})},[]);return Ce.useEffect(()=>(window.__pushRseItem=l,()=>{window.__pushRseItem===l&&delete window.__pushRseItem}),[l]),X.jsx("div",{className:["transition-colors h-full min-h-0",r].join(" "),children:o.length===0?X.jsx(ff,{className:"h-full grid place-items-center text-slate-400",children:X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsxs("svg",{className:"animate-spin h-5 w-5 text-slate-500",viewBox:"0 0 24 24",children:[X.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),X.jsx("path",{className:"opacity-75",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor"})]}),X.jsx("span",{children:"Scanning stations…"})]})}):X.jsx("div",{className:"overflow-y-auto p-2 rounded-xl ring-2 ring-white/10 space-y-2 bg-[#122033]/80",children:o.map(c=>{const h=e===c.id;return X.jsxs("button",{type:"button",onClick:()=>t?.(c),className:["w-full grid grid-cols-3 items-center justify-items-stretch rounded-2xl px-2 py-2.5 text-left","ring-1 ring-white/10 transition-colors",h?"bg-slate-700/40":"bg-[#0f172a]"].join(" "),"aria-pressed":h,"aria-label":`${c.serial}`,children:[X.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[X.jsx(K2,{on:c.active}),X.jsx("div",{className:"truncate",children:X.jsx("div",{className:"font-semibold tracking-tight truncate",children:c.serial})})]}),X.jsxs("div",{className:"flex justify-center items-center",children:[X.jsx(M_,{value:c.health.pct,color:Z2(c.health.pct),showValue:!1,size:30,stroke:6,variant:"conic"}),X.jsxs("span",{className:"text-slate-300 text-sm w-14 text-right",children:[c.health.pct,"%"]})]}),X.jsx("div",{className:"flex justify-end gap-3 shrink-0",children:X.jsx(W2,{bars:c.bars})})]},c.id)})})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function hf(n){return n+.5|0}const Za=(n,t,e)=>Math.max(Math.min(n,e),t);function Rc(n){return Za(hf(n*2.55),0,255)}function Wa(n){return Za(hf(n*255),0,255)}function ea(n){return Za(hf(n/2.55)/100,0,1)}function Ew(n){return Za(hf(n*100),0,100)}const vo={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Gy=[..."0123456789ABCDEF"],s3=n=>Gy[n&15],a3=n=>Gy[(n&240)>>4]+Gy[n&15],_h=n=>(n&240)>>4===(n&15),l3=n=>_h(n.r)&&_h(n.g)&&_h(n.b)&&_h(n.a);function u3(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&vo[n[1]]*17,g:255&vo[n[2]]*17,b:255&vo[n[3]]*17,a:t===5?vo[n[4]]*17:255}:(t===7||t===9)&&(e={r:vo[n[1]]<<4|vo[n[2]],g:vo[n[3]]<<4|vo[n[4]],b:vo[n[5]]<<4|vo[n[6]],a:t===9?vo[n[7]]<<4|vo[n[8]]:255})),e}const c3=(n,t)=>n<255?t(n):"";function f3(n){var t=l3(n)?s3:a3;return n?"#"+t(n.r)+t(n.g)+t(n.b)+c3(n.a,t):void 0}const h3=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function X2(n,t,e){const r=t*Math.min(e,1-e),o=(a,l=(a+n/30)%12)=>e-r*Math.max(Math.min(l-3,9-l,1),-1);return[o(0),o(8),o(4)]}function d3(n,t,e){const r=(o,a=(o+n/60)%6)=>e-e*t*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function p3(n,t,e){const r=X2(n,1,.5);let o;for(t+e>1&&(o=1/(t+e),t*=o,e*=o),o=0;o<3;o++)r[o]*=1-t-e,r[o]+=t;return r}function m3(n,t,e,r,o){return n===o?(t-e)/r+(t<e?6:0):t===o?(e-n)/r+2:(n-t)/r+4}function O_(n){const e=n.r/255,r=n.g/255,o=n.b/255,a=Math.max(e,r,o),l=Math.min(e,r,o),c=(a+l)/2;let h,d,g;return a!==l&&(g=a-l,d=c>.5?g/(2-a-l):g/(a+l),h=m3(e,r,o,g,a),h=h*60+.5),[h|0,d||0,c]}function C_(n,t,e,r){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,r)).map(Wa)}function L_(n,t,e){return C_(X2,n,t,e)}function g3(n,t,e){return C_(p3,n,t,e)}function y3(n,t,e){return C_(d3,n,t,e)}function G2(n){return(n%360+360)%360}function _3(n){const t=h3.exec(n);let e=255,r;if(!t)return;t[5]!==r&&(e=t[6]?Rc(+t[5]):Wa(+t[5]));const o=G2(+t[2]),a=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?r=g3(o,a,l):t[1]==="hsv"?r=y3(o,a,l):r=L_(o,a,l),{r:r[0],g:r[1],b:r[2],a:e}}function b3(n,t){var e=O_(n);e[0]=G2(e[0]+t),e=L_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function v3(n){if(!n)return;const t=O_(n),e=t[0],r=Ew(t[1]),o=Ew(t[2]);return n.a<255?`hsla(${e}, ${r}%, ${o}%, ${ea(n.a)})`:`hsl(${e}, ${r}%, ${o}%)`}const Tw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Aw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function w3(){const n={},t=Object.keys(Aw),e=Object.keys(Tw);let r,o,a,l,c;for(r=0;r<t.length;r++){for(l=c=t[r],o=0;o<e.length;o++)a=e[o],c=c.replace(a,Tw[a]);a=parseInt(Aw[l],16),n[c]=[a>>16&255,a>>8&255,a&255]}return n}let bh;function x3(n){bh||(bh=w3(),bh.transparent=[0,0,0,0]);const t=bh[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const S3=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function E3(n){const t=S3.exec(n);let e=255,r,o,a;if(t){if(t[7]!==r){const l=+t[7];e=t[8]?Rc(l):Za(l*255,0,255)}return r=+t[1],o=+t[3],a=+t[5],r=255&(t[2]?Rc(r):Za(r,0,255)),o=255&(t[4]?Rc(o):Za(o,0,255)),a=255&(t[6]?Rc(a):Za(a,0,255)),{r,g:o,b:a,a:e}}}function T3(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ea(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Cm=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,gu=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function A3(n,t,e){const r=gu(ea(n.r)),o=gu(ea(n.g)),a=gu(ea(n.b));return{r:Wa(Cm(r+e*(gu(ea(t.r))-r))),g:Wa(Cm(o+e*(gu(ea(t.g))-o))),b:Wa(Cm(a+e*(gu(ea(t.b))-a))),a:n.a+e*(t.a-n.a)}}function vh(n,t,e){if(n){let r=O_(n);r[t]=Math.max(0,Math.min(r[t]+r[t]*e,t===0?360:1)),r=L_(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function $2(n,t){return n&&Object.assign(t||{},n)}function kw(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Wa(n[3]))):(t=$2(n,{r:0,g:0,b:0,a:1}),t.a=Wa(t.a)),t}function k3(n){return n.charAt(0)==="r"?E3(n):_3(n)}class ef{constructor(t){if(t instanceof ef)return t;const e=typeof t;let r;e==="object"?r=kw(t):e==="string"&&(r=u3(t)||x3(t)||k3(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=$2(this._rgb);return t&&(t.a=ea(t.a)),t}set rgb(t){this._rgb=kw(t)}rgbString(){return this._valid?T3(this._rgb):void 0}hexString(){return this._valid?f3(this._rgb):void 0}hslString(){return this._valid?v3(this._rgb):void 0}mix(t,e){if(t){const r=this.rgb,o=t.rgb;let a;const l=e===a?.5:e,c=2*l-1,h=r.a-o.a,d=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;a=1-d,r.r=255&d*r.r+a*o.r+.5,r.g=255&d*r.g+a*o.g+.5,r.b=255&d*r.b+a*o.b+.5,r.a=l*r.a+(1-l)*o.a,this.rgb=r}return this}interpolate(t,e){return t&&(this._rgb=A3(this._rgb,t._rgb,e)),this}clone(){return new ef(this.rgb)}alpha(t){return this._rgb.a=Wa(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=hf(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return vh(this._rgb,2,t),this}darken(t){return vh(this._rgb,2,-t),this}saturate(t){return vh(this._rgb,1,t),this}desaturate(t){return vh(this._rgb,1,-t),this}rotate(t){return b3(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ks(){}const M3=(()=>{let n=0;return()=>n++})();function Ln(n){return n==null}function Ui(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function mn(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function cr(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ls(n,t){return cr(n)?n:t}function Rn(n,t){return typeof n>"u"?t:n}const O3=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function gi(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Cn(n,t,e,r){let o,a,l;if(Ui(n))for(a=n.length,o=0;o<a;o++)t.call(e,n[o],o);else if(mn(n))for(l=Object.keys(n),a=l.length,o=0;o<a;o++)t.call(e,n[l[o]],l[o])}function _d(n,t){let e,r,o,a;if(!n||!t||n.length!==t.length)return!1;for(e=0,r=n.length;e<r;++e)if(o=n[e],a=t[e],o.datasetIndex!==a.datasetIndex||o.index!==a.index)return!1;return!0}function bd(n){if(Ui(n))return n.map(bd);if(mn(n)){const t=Object.create(null),e=Object.keys(n),r=e.length;let o=0;for(;o<r;++o)t[e[o]]=bd(n[e[o]]);return t}return n}function Q2(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function C3(n,t,e,r){if(!Q2(n))return;const o=t[n],a=e[n];mn(o)&&mn(a)?nf(o,a,r):t[n]=bd(a)}function nf(n,t,e){const r=Ui(t)?t:[t],o=r.length;if(!mn(n))return n;e=e||{};const a=e.merger||C3;let l;for(let c=0;c<o;++c){if(l=r[c],!mn(l))continue;const h=Object.keys(l);for(let d=0,g=h.length;d<g;++d)a(h[d],n,l,e)}return n}function Kc(n,t){return nf(n,t,{merger:L3})}function L3(n,t,e){if(!Q2(n))return;const r=t[n],o=e[n];mn(r)&&mn(o)?Kc(r,o):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=bd(o))}const Mw={"":n=>n,x:n=>n.x,y:n=>n.y};function N3(n){const t=n.split("."),e=[];let r="";for(const o of t)r+=o,r.endsWith("\\")?r=r.slice(0,-1)+".":(e.push(r),r="");return e}function D3(n){const t=N3(n);return e=>{for(const r of t){if(r==="")break;e=e&&e[r]}return e}}function vd(n,t){return(Mw[t]||(Mw[t]=D3(t)))(n)}function N_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const wd=n=>typeof n<"u",Ga=n=>typeof n=="function",Ow=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function j3(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ur=Math.PI,_s=2*ur,P3=_s+ur,xd=Number.POSITIVE_INFINITY,R3=ur/180,Ho=ur/2,El=ur/4,Cw=ur*2/3,J2=Math.log10,ku=Math.sign;function Wc(n,t,e){return Math.abs(n-t)<e}function Lw(n){const t=Math.round(n);n=Wc(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(J2(n))),r=n/e;return(r<=1?1:r<=2?2:r<=5?5:10)*e}function z3(n){const t=[],e=Math.sqrt(n);let r;for(r=1;r<e;r++)n%r===0&&(t.push(r),t.push(n/r));return e===(e|0)&&t.push(e),t.sort((o,a)=>o-a).pop(),t}function B3(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function rf(n){return!B3(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function I3(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function U3(n,t,e){let r,o,a;for(r=0,o=n.length;r<o;r++)a=n[r][e],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function Ll(n){return n*(ur/180)}function F3(n){return n*(180/ur)}function Nw(n){if(!cr(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function H3(n,t){const e=t.x-n.x,r=t.y-n.y,o=Math.sqrt(e*e+r*r);let a=Math.atan2(r,e);return a<-.5*ur&&(a+=_s),{angle:a,distance:o}}function $y(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function q3(n,t){return(n-t+P3)%_s-ur}function hs(n){return(n%_s+_s)%_s}function tE(n,t,e,r){const o=hs(n),a=hs(t),l=hs(e),c=hs(a-o),h=hs(l-o),d=hs(o-a),g=hs(o-l);return o===a||o===l||r&&a===l||c>h&&d<g}function Ur(n,t,e){return Math.max(t,Math.min(e,n))}function V3(n){return Ur(n,-32768,32767)}function eE(n,t,e,r=1e-6){return n>=Math.min(t,e)-r&&n<=Math.max(t,e)+r}function D_(n,t,e){e=e||(l=>n[l]<t);let r=n.length-1,o=0,a;for(;r-o>1;)a=o+r>>1,e(a)?o=a:r=a;return{lo:o,hi:r}}const ia=(n,t,e,r)=>D_(n,e,r?o=>{const a=n[o][t];return a<e||a===e&&n[o+1][t]===e}:o=>n[o][t]<e),Y3=(n,t,e)=>D_(n,e,r=>n[r][t]>=e);function Z3(n,t,e){let r=0,o=n.length;for(;r<o&&n[r]<t;)r++;for(;o>r&&n[o-1]>e;)o--;return r>0||o<n.length?n.slice(r,o):n}const nE=["push","pop","shift","splice","unshift"];function K3(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),nE.forEach(e=>{const r="_onData"+N_(e),o=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...a){const l=o.apply(this,a);return n._chartjs.listeners.forEach(c=>{typeof c[r]=="function"&&c[r](...a)}),l}})})}function Dw(n,t){const e=n._chartjs;if(!e)return;const r=e.listeners,o=r.indexOf(t);o!==-1&&r.splice(o,1),!(r.length>0)&&(nE.forEach(a=>{delete n[a]}),delete n._chartjs)}function W3(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const iE=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function rE(n,t){let e=[],r=!1;return function(...o){e=o,r||(r=!0,iE.call(window,()=>{r=!1,n.apply(t,e)}))}}function X3(n,t){let e;return function(...r){return t?(clearTimeout(e),e=setTimeout(n,t,r)):n.apply(this,r),t}}const G3=n=>n==="start"?"left":n==="end"?"right":"center",jw=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2;function $3(n,t,e){const r=t.length;let o=0,a=r;if(n._sorted){const{iScale:l,vScale:c,_parsed:h}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,g=l.axis,{min:y,max:b,minDefined:S,maxDefined:x}=l.getUserBounds();if(S){if(o=Math.min(ia(h,g,y).lo,e?r:ia(t,g,l.getPixelForValue(y)).lo),d){const E=h.slice(0,o+1).reverse().findIndex(k=>!Ln(k[c.axis]));o-=Math.max(0,E)}o=Ur(o,0,r-1)}if(x){let E=Math.max(ia(h,l.axis,b,!0).hi+1,e?0:ia(t,g,l.getPixelForValue(b),!0).hi+1);if(d){const k=h.slice(E-1).findIndex(C=>!Ln(C[c.axis]));E+=Math.max(0,k)}a=Ur(E,o,r)-o}else a=r-o}return{start:o,count:a}}function Q3(n){const{xScale:t,yScale:e,_scaleRanges:r}=n,o={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!r)return n._scaleRanges=o,!0;const a=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==e.min||r.ymax!==e.max;return Object.assign(r,o),a}const wh=n=>n===0||n===1,Pw=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*_s/e)),Rw=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*_s/e)+1,Xc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ho)+1,easeOutSine:n=>Math.sin(n*Ho),easeInOutSine:n=>-.5*(Math.cos(ur*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>wh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>wh(n)?n:Pw(n,.075,.3),easeOutElastic:n=>wh(n)?n:Rw(n,.075,.3),easeInOutElastic(n){return wh(n)?n:n<.5?.5*Pw(n*2,.1125,.45):.5+.5*Rw(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Xc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Xc.easeInBounce(n*2)*.5:Xc.easeOutBounce(n*2-1)*.5+.5};function j_(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function zw(n){return j_(n)?n:new ef(n)}function Lm(n){return j_(n)?n:new ef(n).saturate(.5).darken(.1).hexString()}const J3=["x","y","borderWidth","radius","tension"],tL=["color","borderColor","backgroundColor"];function eL(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:tL},numbers:{type:"number",properties:J3}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function nL(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Bw=new Map;function iL(n,t){t=t||{};const e=n+JSON.stringify(t);let r=Bw.get(e);return r||(r=new Intl.NumberFormat(n,t),Bw.set(e,r)),r}function oE(n,t,e){return iL(t,e).format(n)}const rL={values(n){return Ui(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const r=this.chart.options.locale;let o,a=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(o="scientific"),a=oL(n,e)}const l=J2(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:o,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),oE(n,r,h)}};function oL(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var sE={formatters:rL};function sL(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:sE.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Rl=Object.create(null),Qy=Object.create(null);function Gc(n,t){if(!t)return n;const e=t.split(".");for(let r=0,o=e.length;r<o;++r){const a=e[r];n=n[a]||(n[a]=Object.create(null))}return n}function Nm(n,t,e){return typeof t=="string"?nf(Gc(n,t),e):nf(Gc(n,""),t)}class aL{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,o)=>Lm(o.backgroundColor),this.hoverBorderColor=(r,o)=>Lm(o.borderColor),this.hoverColor=(r,o)=>Lm(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Nm(this,t,e)}get(t){return Gc(this,t)}describe(t,e){return Nm(Qy,t,e)}override(t,e){return Nm(Rl,t,e)}route(t,e,r,o){const a=Gc(this,t),l=Gc(this,r),c="_"+e;Object.defineProperties(a,{[c]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){const h=this[c],d=l[o];return mn(h)?Object.assign({},d,h):Rn(h,d)},set(h){this[c]=h}}})}apply(t){t.forEach(e=>e(this))}}var Ai=new aL({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[eL,nL,sL]);function lL(n){return!n||Ln(n.size)||Ln(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Iw(n,t,e,r,o){let a=t[o];return a||(a=t[o]=n.measureText(o).width,e.push(o)),a>r&&(r=a),r}function Tl(n,t,e){const r=n.currentDevicePixelRatio,o=e!==0?Math.max(e/2,.5):0;return Math.round((t-o)*r)/r+o}function Uw(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Jy(n,t,e,r){uL(n,t,e,r)}function uL(n,t,e,r,o){let a,l,c,h,d,g,y,b;const S=t.pointStyle,x=t.rotation,E=t.radius;let k=(x||0)*R3;if(S&&typeof S=="object"&&(a=S.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(e,r),n.rotate(k),n.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),n.restore();return}if(!(isNaN(E)||E<=0)){switch(n.beginPath(),S){default:n.arc(e,r,E,0,_s),n.closePath();break;case"triangle":g=E,n.moveTo(e+Math.sin(k)*g,r-Math.cos(k)*E),k+=Cw,n.lineTo(e+Math.sin(k)*g,r-Math.cos(k)*E),k+=Cw,n.lineTo(e+Math.sin(k)*g,r-Math.cos(k)*E),n.closePath();break;case"rectRounded":d=E*.516,h=E-d,l=Math.cos(k+El)*h,y=Math.cos(k+El)*h,c=Math.sin(k+El)*h,b=Math.sin(k+El)*h,n.arc(e-y,r-c,d,k-ur,k-Ho),n.arc(e+b,r-l,d,k-Ho,k),n.arc(e+y,r+c,d,k,k+Ho),n.arc(e-b,r+l,d,k+Ho,k+ur),n.closePath();break;case"rect":if(!x){h=Math.SQRT1_2*E,g=h,n.rect(e-g,r-h,2*g,2*h);break}k+=El;case"rectRot":y=Math.cos(k)*E,l=Math.cos(k)*E,c=Math.sin(k)*E,b=Math.sin(k)*E,n.moveTo(e-y,r-c),n.lineTo(e+b,r-l),n.lineTo(e+y,r+c),n.lineTo(e-b,r+l),n.closePath();break;case"crossRot":k+=El;case"cross":y=Math.cos(k)*E,l=Math.cos(k)*E,c=Math.sin(k)*E,b=Math.sin(k)*E,n.moveTo(e-y,r-c),n.lineTo(e+y,r+c),n.moveTo(e+b,r-l),n.lineTo(e-b,r+l);break;case"star":y=Math.cos(k)*E,l=Math.cos(k)*E,c=Math.sin(k)*E,b=Math.sin(k)*E,n.moveTo(e-y,r-c),n.lineTo(e+y,r+c),n.moveTo(e+b,r-l),n.lineTo(e-b,r+l),k+=El,y=Math.cos(k)*E,l=Math.cos(k)*E,c=Math.sin(k)*E,b=Math.sin(k)*E,n.moveTo(e-y,r-c),n.lineTo(e+y,r+c),n.moveTo(e+b,r-l),n.lineTo(e-b,r+l);break;case"line":l=Math.cos(k)*E,c=Math.sin(k)*E,n.moveTo(e-l,r-c),n.lineTo(e+l,r+c);break;case"dash":n.moveTo(e,r),n.lineTo(e+Math.cos(k)*E,r+Math.sin(k)*E);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function of(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function P_(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function R_(n){n.restore()}function cL(n,t,e,r,o){if(!t)return n.lineTo(e.x,e.y);if(o==="middle"){const a=(t.x+e.x)/2;n.lineTo(a,t.y),n.lineTo(a,e.y)}else o==="after"!=!!r?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function fL(n,t,e,r){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?e.cp2x:e.cp1x,r?e.cp2y:e.cp1y,e.x,e.y)}function hL(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Ln(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function dL(n,t,e,r,o){if(o.strikethrough||o.underline){const a=n.measureText(r),l=t-a.actualBoundingBoxLeft,c=t+a.actualBoundingBoxRight,h=e-a.actualBoundingBoxAscent,d=e+a.actualBoundingBoxDescent,g=o.strikethrough?(h+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=o.decorationWidth||2,n.moveTo(l,g),n.lineTo(c,g),n.stroke()}}function pL(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Fw(n,t,e,r,o,a={}){const l=Ui(t)?t:[t],c=a.strokeWidth>0&&a.strokeColor!=="";let h,d;for(n.save(),n.font=o.string,hL(n,a),h=0;h<l.length;++h)d=l[h],a.backdrop&&pL(n,a.backdrop),c&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),Ln(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(d,e,r,a.maxWidth)),n.fillText(d,e,r,a.maxWidth),dL(n,e,r,d,a),r+=Number(o.lineHeight);n.restore()}function Hw(n,t){const{x:e,y:r,w:o,h:a,radius:l}=t;n.arc(e+l.topLeft,r+l.topLeft,l.topLeft,1.5*ur,ur,!0),n.lineTo(e,r+a-l.bottomLeft),n.arc(e+l.bottomLeft,r+a-l.bottomLeft,l.bottomLeft,ur,Ho,!0),n.lineTo(e+o-l.bottomRight,r+a),n.arc(e+o-l.bottomRight,r+a-l.bottomRight,l.bottomRight,Ho,0,!0),n.lineTo(e+o,r+l.topRight),n.arc(e+o-l.topRight,r+l.topRight,l.topRight,0,-Ho,!0),n.lineTo(e+l.topLeft,r)}const mL=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,gL=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function yL(n,t){const e=(""+n).match(mL);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const _L=n=>+n||0;function aE(n,t){const e={},r=mn(t),o=r?Object.keys(t):t,a=mn(n)?r?l=>Rn(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of o)e[l]=_L(a(l));return e}function bL(n){return aE(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ud(n){return aE(n,["topLeft","topRight","bottomLeft","bottomRight"])}function $a(n){const t=bL(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ys(n,t){n=n||{},t=t||Ai.font;let e=Rn(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let r=Rn(n.style,t.style);r&&!(""+r).match(gL)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const o={family:Rn(n.family,t.family),lineHeight:yL(Rn(n.lineHeight,t.lineHeight),e),size:e,style:r,weight:Rn(n.weight,t.weight),string:""};return o.string=lL(o),o}function zc(n,t,e,r){let o,a,l;for(o=0,a=n.length;o<a;++o)if(l=n[o],l!==void 0&&l!==void 0)return l}function vL(n,t,e){const{min:r,max:o}=n,a=O3(t,(o-r)/2),l=(c,h)=>e&&c===0?0:c+h;return{min:l(r,-Math.abs(a)),max:l(o,a)}}function Ul(n,t){return Object.assign(Object.create(n),t)}function z_(n,t=[""],e,r,o=()=>n[0]){const a=e||n;typeof r>"u"&&(r=fE("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:r,_getTarget:o,override:c=>z_([c,...n],t,a,r)};return new Proxy(l,{deleteProperty(c,h){return delete c[h],delete c._keys,delete n[0][h],!0},get(c,h){return uE(c,h,()=>ML(h,t,n,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,h){return Vw(c).includes(h)},ownKeys(c){return Vw(c)},set(c,h,d){const g=c._storage||(c._storage=o());return c[h]=g[h]=d,delete c._keys,!0}})}function Mu(n,t,e,r){const o={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:lE(n,r),setContext:a=>Mu(n,a,e,r),override:a=>Mu(n.override(a),t,e,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,c){return uE(a,l,()=>xL(a,l,c))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,c){return n[l]=c,delete a[l],!0}})}function lE(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:r=t.indexable,_allKeys:o=t.allKeys}=n;return{allKeys:o,scriptable:e,indexable:r,isScriptable:Ga(e)?e:()=>e,isIndexable:Ga(r)?r:()=>r}}const wL=(n,t)=>n?n+N_(t):t,B_=(n,t)=>mn(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function uE(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const r=e();return n[t]=r,r}function xL(n,t,e){const{_proxy:r,_context:o,_subProxy:a,_descriptors:l}=n;let c=r[t];return Ga(c)&&l.isScriptable(t)&&(c=SL(t,c,n,e)),Ui(c)&&c.length&&(c=EL(t,c,n,l.isIndexable)),B_(t,c)&&(c=Mu(c,o,a&&a[t],l)),c}function SL(n,t,e,r){const{_proxy:o,_context:a,_subProxy:l,_stack:c}=e;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let h=t(a,l||r);return c.delete(n),B_(n,h)&&(h=I_(o._scopes,o,n,h)),h}function EL(n,t,e,r){const{_proxy:o,_context:a,_subProxy:l,_descriptors:c}=e;if(typeof a.index<"u"&&r(n))return t[a.index%t.length];if(mn(t[0])){const h=t,d=o._scopes.filter(g=>g!==h);t=[];for(const g of h){const y=I_(d,o,n,g);t.push(Mu(y,a,l&&l[n],c))}}return t}function cE(n,t,e){return Ga(n)?n(t,e):n}const TL=(n,t)=>n===!0?t:typeof n=="string"?vd(t,n):void 0;function AL(n,t,e,r,o){for(const a of t){const l=TL(e,a);if(l){n.add(l);const c=cE(l._fallback,e,o);if(typeof c<"u"&&c!==e&&c!==r)return c}else if(l===!1&&typeof r<"u"&&e!==r)return null}return!1}function I_(n,t,e,r){const o=t._rootScopes,a=cE(t._fallback,e,r),l=[...n,...o],c=new Set;c.add(r);let h=qw(c,l,e,a||e,r);return h===null||typeof a<"u"&&a!==e&&(h=qw(c,l,a,h,r),h===null)?!1:z_(Array.from(c),[""],o,a,()=>kL(t,e,r))}function qw(n,t,e,r,o){for(;e;)e=AL(n,t,e,r,o);return e}function kL(n,t,e){const r=n._getTarget();t in r||(r[t]={});const o=r[t];return Ui(o)&&mn(e)?e:o||{}}function ML(n,t,e,r){let o;for(const a of t)if(o=fE(wL(a,n),e),typeof o<"u")return B_(n,o)?I_(e,r,n,o):o}function fE(n,t){for(const e of t){if(!e)continue;const r=e[n];if(typeof r<"u")return r}}function Vw(n){let t=n._keys;return t||(t=n._keys=OL(n._scopes)),t}function OL(n){const t=new Set;for(const e of n)for(const r of Object.keys(e).filter(o=>!o.startsWith("_")))t.add(r);return Array.from(t)}const CL=Number.EPSILON||1e-14,Ou=(n,t)=>t<n.length&&!n[t].skip&&n[t],hE=n=>n==="x"?"y":"x";function LL(n,t,e,r){const o=n.skip?t:n,a=t,l=e.skip?t:e,c=$y(a,o),h=$y(l,a);let d=c/(c+h),g=h/(c+h);d=isNaN(d)?0:d,g=isNaN(g)?0:g;const y=r*d,b=r*g;return{previous:{x:a.x-y*(l.x-o.x),y:a.y-y*(l.y-o.y)},next:{x:a.x+b*(l.x-o.x),y:a.y+b*(l.y-o.y)}}}function NL(n,t,e){const r=n.length;let o,a,l,c,h,d=Ou(n,0);for(let g=0;g<r-1;++g)if(h=d,d=Ou(n,g+1),!(!h||!d)){if(Wc(t[g],0,CL)){e[g]=e[g+1]=0;continue}o=e[g]/t[g],a=e[g+1]/t[g],c=Math.pow(o,2)+Math.pow(a,2),!(c<=9)&&(l=3/Math.sqrt(c),e[g]=o*l*t[g],e[g+1]=a*l*t[g])}}function DL(n,t,e="x"){const r=hE(e),o=n.length;let a,l,c,h=Ou(n,0);for(let d=0;d<o;++d){if(l=c,c=h,h=Ou(n,d+1),!c)continue;const g=c[e],y=c[r];l&&(a=(g-l[e])/3,c[`cp1${e}`]=g-a,c[`cp1${r}`]=y-a*t[d]),h&&(a=(h[e]-g)/3,c[`cp2${e}`]=g+a,c[`cp2${r}`]=y+a*t[d])}}function jL(n,t="x"){const e=hE(t),r=n.length,o=Array(r).fill(0),a=Array(r);let l,c,h,d=Ou(n,0);for(l=0;l<r;++l)if(c=h,h=d,d=Ou(n,l+1),!!h){if(d){const g=d[t]-h[t];o[l]=g!==0?(d[e]-h[e])/g:0}a[l]=c?d?ku(o[l-1])!==ku(o[l])?0:(o[l-1]+o[l])/2:o[l-1]:o[l]}NL(n,o,a),DL(n,a,t)}function xh(n,t,e){return Math.max(Math.min(n,e),t)}function PL(n,t){let e,r,o,a,l,c=of(n[0],t);for(e=0,r=n.length;e<r;++e)l=a,a=c,c=e<r-1&&of(n[e+1],t),a&&(o=n[e],l&&(o.cp1x=xh(o.cp1x,t.left,t.right),o.cp1y=xh(o.cp1y,t.top,t.bottom)),c&&(o.cp2x=xh(o.cp2x,t.left,t.right),o.cp2y=xh(o.cp2y,t.top,t.bottom)))}function RL(n,t,e,r,o){let a,l,c,h;if(t.spanGaps&&(n=n.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")jL(n,o);else{let d=r?n[n.length-1]:n[0];for(a=0,l=n.length;a<l;++a)c=n[a],h=LL(d,c,n[Math.min(a+1,l-(r?0:1))%l],t.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,d=c}t.capBezierPoints&&PL(n,e)}function U_(){return typeof window<"u"&&typeof document<"u"}function F_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Sd(n,t,e){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*t.parentNode[e])):r=n,r}const jd=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function zL(n,t){return jd(n).getPropertyValue(t)}const BL=["top","right","bottom","left"];function Pl(n,t,e){const r={};e=e?"-"+e:"";for(let o=0;o<4;o++){const a=BL[o];r[a]=parseFloat(n[t+"-"+a+e])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const IL=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function UL(n,t){const e=n.touches,r=e&&e.length?e[0]:n,{offsetX:o,offsetY:a}=r;let l=!1,c,h;if(IL(o,a,n.target))c=o,h=a;else{const d=t.getBoundingClientRect();c=r.clientX-d.left,h=r.clientY-d.top,l=!0}return{x:c,y:h,box:l}}function kl(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:r}=t,o=jd(e),a=o.boxSizing==="border-box",l=Pl(o,"padding"),c=Pl(o,"border","width"),{x:h,y:d,box:g}=UL(n,e),y=l.left+(g&&c.left),b=l.top+(g&&c.top);let{width:S,height:x}=t;return a&&(S-=l.width+c.width,x-=l.height+c.height),{x:Math.round((h-y)/S*e.width/r),y:Math.round((d-b)/x*e.height/r)}}function FL(n,t,e){let r,o;if(t===void 0||e===void 0){const a=n&&F_(n);if(!a)t=n.clientWidth,e=n.clientHeight;else{const l=a.getBoundingClientRect(),c=jd(a),h=Pl(c,"border","width"),d=Pl(c,"padding");t=l.width-d.width-h.width,e=l.height-d.height-h.height,r=Sd(c.maxWidth,a,"clientWidth"),o=Sd(c.maxHeight,a,"clientHeight")}}return{width:t,height:e,maxWidth:r||xd,maxHeight:o||xd}}const Ka=n=>Math.round(n*10)/10;function HL(n,t,e,r){const o=jd(n),a=Pl(o,"margin"),l=Sd(o.maxWidth,n,"clientWidth")||xd,c=Sd(o.maxHeight,n,"clientHeight")||xd,h=FL(n,t,e);let{width:d,height:g}=h;if(o.boxSizing==="content-box"){const b=Pl(o,"border","width"),S=Pl(o,"padding");d-=S.width+b.width,g-=S.height+b.height}return d=Math.max(0,d-a.width),g=Math.max(0,r?d/r:g-a.height),d=Ka(Math.min(d,l,h.maxWidth)),g=Ka(Math.min(g,c,h.maxHeight)),d&&!g&&(g=Ka(d/2)),(t!==void 0||e!==void 0)&&r&&h.height&&g>h.height&&(g=h.height,d=Ka(Math.floor(g*r))),{width:d,height:g}}function Yw(n,t,e){const r=t||1,o=Ka(n.height*r),a=Ka(n.width*r);n.height=Ka(n.height),n.width=Ka(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||l.height!==o||l.width!==a?(n.currentDevicePixelRatio=r,l.height=o,l.width=a,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const qL=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};U_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function Zw(n,t){const e=zL(n,t),r=e&&e.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Ml(n,t,e,r){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function VL(n,t,e,r){return{x:n.x+e*(t.x-n.x),y:r==="middle"?e<.5?n.y:t.y:r==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function YL(n,t,e,r){const o={x:n.cp2x,y:n.cp2y},a={x:t.cp1x,y:t.cp1y},l=Ml(n,o,e),c=Ml(o,a,e),h=Ml(a,t,e),d=Ml(l,c,e),g=Ml(c,h,e);return Ml(d,g,e)}const ZL=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,r){return e-r},leftForLtr(e,r){return e-r}}},KL=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Dm(n,t,e){return n?ZL(t,e):KL()}function WL(n,t){let e,r;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,r=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=r)}function XL(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function dE(n){return n==="angle"?{between:tE,compare:q3,normalize:hs}:{between:eE,compare:(t,e)=>t-e,normalize:t=>t}}function Kw({start:n,end:t,count:e,loop:r,style:o}){return{start:n%e,end:t%e,loop:r&&(t-n+1)%e===0,style:o}}function GL(n,t,e){const{property:r,start:o,end:a}=e,{between:l,normalize:c}=dE(r),h=t.length;let{start:d,end:g,loop:y}=n,b,S;if(y){for(d+=h,g+=h,b=0,S=h;b<S&&l(c(t[d%h][r]),o,a);++b)d--,g--;d%=h,g%=h}return g<d&&(g+=h),{start:d,end:g,loop:y,style:n.style}}function pE(n,t,e){if(!e)return[n];const{property:r,start:o,end:a}=e,l=t.length,{compare:c,between:h,normalize:d}=dE(r),{start:g,end:y,loop:b,style:S}=GL(n,t,e),x=[];let E=!1,k=null,C,M,P;const z=()=>h(o,P,C)&&c(o,P)!==0,D=()=>c(a,C)===0||h(a,P,C),B=()=>E||z(),R=()=>!E||D();for(let V=g,J=g;V<=y;++V)M=t[V%l],!M.skip&&(C=d(M[r]),C!==P&&(E=h(C,o,a),k===null&&B()&&(k=c(C,o)===0?V:J),k!==null&&R()&&(x.push(Kw({start:k,end:V,loop:b,count:l,style:S})),k=null),J=V,P=C));return k!==null&&x.push(Kw({start:k,end:y,loop:b,count:l,style:S})),x}function mE(n,t){const e=[],r=n.segments;for(let o=0;o<r.length;o++){const a=pE(r[o],n.points,t);a.length&&e.push(...a)}return e}function $L(n,t,e,r){let o=0,a=t-1;if(e&&!r)for(;o<t&&!n[o].skip;)o++;for(;o<t&&n[o].skip;)o++;for(o%=t,e&&(a+=o);a>o&&n[a%t].skip;)a--;return a%=t,{start:o,end:a}}function QL(n,t,e,r){const o=n.length,a=[];let l=t,c=n[t],h;for(h=t+1;h<=e;++h){const d=n[h%o];d.skip||d.stop?c.skip||(r=!1,a.push({start:t%o,end:(h-1)%o,loop:r}),t=l=d.stop?h:null):(l=h,c.skip&&(t=h)),c=d}return l!==null&&a.push({start:t%o,end:l%o,loop:r}),a}function JL(n,t){const e=n.points,r=n.options.spanGaps,o=e.length;if(!o)return[];const a=!!n._loop,{start:l,end:c}=$L(e,o,a,r);if(r===!0)return Ww(n,[{start:l,end:c,loop:a}],e,t);const h=c<l?c+o:c,d=!!n._fullLoop&&l===0&&c===o-1;return Ww(n,QL(e,l,h,d),e,t)}function Ww(n,t,e,r){return!r||!r.setContext||!e?t:tN(n,t,e,r)}function tN(n,t,e,r){const o=n._chart.getContext(),a=Xw(n.options),{_datasetIndex:l,options:{spanGaps:c}}=n,h=e.length,d=[];let g=a,y=t[0].start,b=y;function S(x,E,k,C){const M=c?-1:1;if(x!==E){for(x+=h;e[x%h].skip;)x-=M;for(;e[E%h].skip;)E+=M;x%h!==E%h&&(d.push({start:x%h,end:E%h,loop:k,style:C}),g=C,y=E%h)}}for(const x of t){y=c?y:x.start;let E=e[y%h],k;for(b=y+1;b<=x.end;b++){const C=e[b%h];k=Xw(r.setContext(Ul(o,{type:"segment",p0:E,p1:C,p0DataIndex:(b-1)%h,p1DataIndex:b%h,datasetIndex:l}))),eN(k,g)&&S(y,b-1,x.loop,g),E=C,g=k}y<b-1&&S(y,b-1,x.loop,g)}return d}function Xw(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function eN(n,t){if(!t)return!1;const e=[],r=function(o,a){return j_(a)?(e.includes(a)||e.push(a),e.indexOf(a)):a};return JSON.stringify(n,r)!==JSON.stringify(t,r)}function Sh(n,t,e){return n.options.clip?n[e]:t[e]}function nN(n,t){const{xScale:e,yScale:r}=n;return e&&r?{left:Sh(e,t,"left"),right:Sh(e,t,"right"),top:Sh(r,t,"top"),bottom:Sh(r,t,"bottom")}:t}function gE(n,t){const e=t._clip;if(e.disabled)return!1;const r=nN(t,n.chartArea);return{left:e.left===!1?0:r.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:r.right+(e.right===!0?0:e.right),top:e.top===!1?0:r.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:r.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class iN{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,r,o){const a=e.listeners[o],l=e.duration;a.forEach(c=>c({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(r-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=iE.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((r,o)=>{if(!r.running||!r.items.length)return;const a=r.items;let l=a.length-1,c=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>r.duration&&(r.duration=h._total),h.tick(t),c=!0):(a[l]=a[a.length-1],a.pop());c&&(o.draw(),this._notify(o,r,t,"progress")),a.length||(r.running=!1,this._notify(o,r,t,"complete"),r.initial=!1),e+=a.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let r=e.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,r)),r}listen(t,e,r){this._getAnims(t).listeners[e].push(r)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((r,o)=>Math.max(r,o._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const r=e.items;let o=r.length-1;for(;o>=0;--o)r[o].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var $s=new iN;const Gw="transparent",rN={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const r=zw(n||Gw),o=r.valid&&zw(t||Gw);return o&&o.valid?o.mix(r,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class oN{constructor(t,e,r,o){const a=e[r];o=zc([t.to,o,a,t.from]);const l=zc([t.from,a,o]);this._active=!0,this._fn=t.fn||rN[t.type||typeof l],this._easing=Xc[t.easing]||Xc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=r,this._from=l,this._to=o,this._promises=void 0}active(){return this._active}update(t,e,r){if(this._active){this._notify(!1);const o=this._target[this._prop],a=r-this._start,l=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=zc([t.to,e,o,t.from]),this._from=zc([t.from,o,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,r=this._duration,o=this._prop,a=this._from,l=this._loop,c=this._to;let h;if(this._active=a!==c&&(l||e<r),!this._active){this._target[o]=c,this._notify(!0);return}if(e<0){this._target[o]=a;return}h=e/r%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[o]=this._fn(a,c,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,r)=>{t.push({res:e,rej:r})})}_notify(t){const e=t?"res":"rej",r=this._promises||[];for(let o=0;o<r.length;o++)r[o][e]()}}class yE{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!mn(t))return;const e=Object.keys(Ai.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(o=>{const a=t[o];if(!mn(a))return;const l={};for(const c of e)l[c]=a[c];(Ui(a.properties)&&a.properties||[o]).forEach(c=>{(c===o||!r.has(c))&&r.set(c,l)})})}_animateOptions(t,e){const r=e.options,o=aN(t,r);if(!o)return[];const a=this._createAnimations(o,r);return r.$shared&&sN(t.options.$animations,r).then(()=>{t.options=r},()=>{}),a}_createAnimations(t,e){const r=this._properties,o=[],a=t.$animations||(t.$animations={}),l=Object.keys(e),c=Date.now();let h;for(h=l.length-1;h>=0;--h){const d=l[h];if(d.charAt(0)==="$")continue;if(d==="options"){o.push(...this._animateOptions(t,e));continue}const g=e[d];let y=a[d];const b=r.get(d);if(y)if(b&&y.active()){y.update(b,g,c);continue}else y.cancel();if(!b||!b.duration){t[d]=g;continue}a[d]=y=new oN(b,t,d,g),o.push(y)}return o}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const r=this._createAnimations(t,e);if(r.length)return $s.add(this._chart,r),!0}}function sN(n,t){const e=[],r=Object.keys(t);for(let o=0;o<r.length;o++){const a=n[r[o]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function aN(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function $w(n,t){const e=n&&n.options||{},r=e.reverse,o=e.min===void 0?t:0,a=e.max===void 0?t:0;return{start:r?a:o,end:r?o:a}}function lN(n,t,e){if(e===!1)return!1;const r=$w(n,e),o=$w(t,e);return{top:o.end,right:r.end,bottom:o.start,left:r.start}}function uN(n){let t,e,r,o;return mn(n)?(t=n.top,e=n.right,r=n.bottom,o=n.left):t=e=r=o=n,{top:t,right:e,bottom:r,left:o,disabled:n===!1}}function _E(n,t){const e=[],r=n._getSortedDatasetMetas(t);let o,a;for(o=0,a=r.length;o<a;++o)e.push(r[o].index);return e}function Qw(n,t,e,r={}){const o=n.keys,a=r.mode==="single";let l,c,h,d;if(t===null)return;let g=!1;for(l=0,c=o.length;l<c;++l){if(h=+o[l],h===e){if(g=!0,r.all)continue;break}d=n.values[h],cr(d)&&(a||t===0||ku(t)===ku(d))&&(t+=d)}return!g&&!r.all?0:t}function cN(n,t){const{iScale:e,vScale:r}=t,o=e.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",l=Object.keys(n),c=new Array(l.length);let h,d,g;for(h=0,d=l.length;h<d;++h)g=l[h],c[h]={[o]:g,[a]:n[g]};return c}function jm(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function fN(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function hN(n){const{min:t,max:e,minDefined:r,maxDefined:o}=n.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:o?e:Number.POSITIVE_INFINITY}}function dN(n,t,e){const r=n[t]||(n[t]={});return r[e]||(r[e]={})}function Jw(n,t,e,r){for(const o of t.getMatchingVisibleMetas(r).reverse()){const a=n[o.index];if(e&&a>0||!e&&a<0)return o.index}return null}function tx(n,t){const{chart:e,_cachedMeta:r}=n,o=e._stacks||(e._stacks={}),{iScale:a,vScale:l,index:c}=r,h=a.axis,d=l.axis,g=fN(a,l,r),y=t.length;let b;for(let S=0;S<y;++S){const x=t[S],{[h]:E,[d]:k}=x,C=x._stacks||(x._stacks={});b=C[d]=dN(o,g,E),b[c]=k,b._top=Jw(b,l,!0,r.type),b._bottom=Jw(b,l,!1,r.type);const M=b._visualValues||(b._visualValues={});M[c]=k}}function Pm(n,t){const e=n.scales;return Object.keys(e).filter(r=>e[r].axis===t).shift()}function pN(n,t){return Ul(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function mN(n,t,e){return Ul(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function xc(n,t){const e=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){t=t||n._parsed;for(const o of t){const a=o._stacks;if(!a||a[r]===void 0||a[r][e]===void 0)return;delete a[r][e],a[r]._visualValues!==void 0&&a[r]._visualValues[e]!==void 0&&delete a[r]._visualValues[e]}}}const Rm=n=>n==="reset"||n==="none",ex=(n,t)=>t?n:Object.assign({},n),gN=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:_E(e,!0),values:null};class bE{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=jm(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&xc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,r=this.getDataset(),o=(y,b,S,x)=>y==="x"?b:y==="r"?x:S,a=e.xAxisID=Rn(r.xAxisID,Pm(t,"x")),l=e.yAxisID=Rn(r.yAxisID,Pm(t,"y")),c=e.rAxisID=Rn(r.rAxisID,Pm(t,"r")),h=e.indexAxis,d=e.iAxisID=o(h,a,l,c),g=e.vAxisID=o(h,l,a,c);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(c),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Dw(this._data,this),t._stacked&&xc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),r=this._data;if(mn(e)){const o=this._cachedMeta;this._data=cN(e,o)}else if(r!==e){if(r){Dw(r,this);const o=this._cachedMeta;xc(o),o._parsed=[]}e&&Object.isExtensible(e)&&K3(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,r=this.getDataset();let o=!1;this._dataCheck();const a=e._stacked;e._stacked=jm(e.vScale,e),e.stack!==r.stack&&(o=!0,xc(e),e.stack=r.stack),this._resyncElements(t),(o||a!==e._stacked)&&(tx(this,e._parsed),e._stacked=jm(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:r,_data:o}=this,{iScale:a,_stacked:l}=r,c=a.axis;let h=t===0&&e===o.length?!0:r._sorted,d=t>0&&r._parsed[t-1],g,y,b;if(this._parsing===!1)r._parsed=o,r._sorted=!0,b=o;else{Ui(o[t])?b=this.parseArrayData(r,o,t,e):mn(o[t])?b=this.parseObjectData(r,o,t,e):b=this.parsePrimitiveData(r,o,t,e);const S=()=>y[c]===null||d&&y[c]<d[c];for(g=0;g<e;++g)r._parsed[g+t]=y=b[g],h&&(S()&&(h=!1),d=y);r._sorted=h}l&&tx(this,b)}parsePrimitiveData(t,e,r,o){const{iScale:a,vScale:l}=t,c=a.axis,h=l.axis,d=a.getLabels(),g=a===l,y=new Array(o);let b,S,x;for(b=0,S=o;b<S;++b)x=b+r,y[b]={[c]:g||a.parse(d[x],x),[h]:l.parse(e[x],x)};return y}parseArrayData(t,e,r,o){const{xScale:a,yScale:l}=t,c=new Array(o);let h,d,g,y;for(h=0,d=o;h<d;++h)g=h+r,y=e[g],c[h]={x:a.parse(y[0],g),y:l.parse(y[1],g)};return c}parseObjectData(t,e,r,o){const{xScale:a,yScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,d=new Array(o);let g,y,b,S;for(g=0,y=o;g<y;++g)b=g+r,S=e[b],d[g]={x:a.parse(vd(S,c),b),y:l.parse(vd(S,h),b)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,r){const o=this.chart,a=this._cachedMeta,l=e[t.axis],c={keys:_E(o,!0),values:e._stacks[t.axis]._visualValues};return Qw(c,l,a.index,{mode:r})}updateRangeFromParsed(t,e,r,o){const a=r[e.axis];let l=a===null?NaN:a;const c=o&&r._stacks[e.axis];o&&c&&(o.values=c,l=Qw(o,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const r=this._cachedMeta,o=r._parsed,a=r._sorted&&t===r.iScale,l=o.length,c=this._getOtherScale(t),h=gN(e,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:y}=hN(c);let b,S;function x(){S=o[b];const E=S[c.axis];return!cr(S[t.axis])||g>E||y<E}for(b=0;b<l&&!(!x()&&(this.updateRangeFromParsed(d,t,S,h),a));++b);if(a){for(b=l-1;b>=0;--b)if(!x()){this.updateRangeFromParsed(d,t,S,h);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,r=[];let o,a,l;for(o=0,a=e.length;o<a;++o)l=e[o][t.axis],cr(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,r=e.iScale,o=e.vScale,a=this.getParsed(t);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:o?""+o.getLabelForValue(a[o.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=uN(Rn(this.options.clip,lN(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,r=this._cachedMeta,o=r.data||[],a=e.chartArea,l=[],c=this._drawStart||0,h=this._drawCount||o.length-c,d=this.options.drawActiveElementsOnTop;let g;for(r.dataset&&r.dataset.draw(t,a,c,h),g=c;g<c+h;++g){const y=o[g];y.hidden||(y.active&&d?l.push(y):y.draw(t,a))}for(g=0;g<l.length;++g)l[g].draw(t,a)}getStyle(t,e){const r=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,e,r){const o=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=mN(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=o.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=pN(this.chart.getContext(),this.index)),a.dataset=o,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=r,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",r){const o=e==="active",a=this._cachedDataOpts,l=t+"-"+e,c=a[l],h=this.enableOptionSharing&&wd(r);if(c)return ex(c,h);const d=this.chart.config,g=d.datasetElementScopeKeys(this._type,t),y=o?[`${t}Hover`,"hover",t,""]:[t,""],b=d.getOptionScopes(this.getDataset(),g),S=Object.keys(Ai.elements[t]),x=()=>this.getContext(r,o,e),E=d.resolveNamedOptions(b,S,x,y);return E.$shared&&(E.$shared=h,a[l]=Object.freeze(ex(E,h))),E}_resolveAnimations(t,e,r){const o=this.chart,a=this._cachedDataOpts,l=`animation-${e}`,c=a[l];if(c)return c;let h;if(o.options.animation!==!1){const g=this.chart.config,y=g.datasetAnimationScopeKeys(this._type,e),b=g.getOptionScopes(this.getDataset(),y);h=g.createResolver(b,this.getContext(t,r,e))}const d=new yE(o,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Rm(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const r=this.resolveDataElementOptions(t,e),o=this._sharedOptions,a=this.getSharedOptions(r),l=this.includeOptions(e,a)||a!==o;return this.updateSharedOptions(a,e,r),{sharedOptions:a,includeOptions:l}}updateElement(t,e,r,o){Rm(o)?Object.assign(t,r):this._resolveAnimations(e,o).update(t,r)}updateSharedOptions(t,e,r){t&&!Rm(e)&&this._resolveAnimations(void 0,e).update(t,r)}_setStyle(t,e,r,o){t.active=o;const a=this.getStyle(e,o);this._resolveAnimations(e,r,o).update(t,{options:!o&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,e,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,r=this._cachedMeta.data;for(const[c,h,d]of this._syncList)this[c](h,d);this._syncList=[];const o=r.length,a=e.length,l=Math.min(a,o);l&&this.parse(0,l),a>o?this._insertElements(o,a-o,t):a<o&&this._removeElements(a,o-a)}_insertElements(t,e,r=!0){const o=this._cachedMeta,a=o.data,l=t+e;let c;const h=d=>{for(d.length+=e,c=d.length-1;c>=l;c--)d[c]=d[c-e]};for(h(a),c=t;c<l;++c)a[c]=new this.dataElementType;this._parsing&&h(o._parsed),this.parse(t,e),r&&this.updateElements(a,t,e,"reset")}updateElements(t,e,r,o){}_removeElements(t,e){const r=this._cachedMeta;if(this._parsing){const o=r._parsed.splice(t,e);r._stacked&&xc(r,o)}r.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,r,o]=t;this[e](r,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class yN extends bE{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:r,data:o=[],_dataset:a}=e,l=this.chart._animationsDisabled;let{start:c,count:h}=$3(e,o,l);this._drawStart=c,this._drawCount=h,Q3(e)&&(c=0,h=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=o;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!l,options:d},t),this.updateElements(o,c,h,t)}updateElements(t,e,r,o){const a=o==="reset",{iScale:l,vScale:c,_stacked:h,_dataset:d}=this._cachedMeta,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(e,o),b=l.axis,S=c.axis,{spanGaps:x,segment:E}=this.options,k=rf(x)?x:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||a||o==="none",M=e+r,P=t.length;let z=e>0&&this.getParsed(e-1);for(let D=0;D<P;++D){const B=t[D],R=C?B:{};if(D<e||D>=M){R.skip=!0;continue}const V=this.getParsed(D),J=Ln(V[S]),tt=R[b]=l.getPixelForValue(V[b],D),st=R[S]=a||J?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,V,h):V[S],D);R.skip=isNaN(tt)||isNaN(st)||J,R.stop=D>0&&Math.abs(V[b]-z[b])>k,E&&(R.parsed=V,R.raw=d.data[D]),y&&(R.options=g||this.resolveDataElementOptions(D,B.active?"active":o)),C||this.updateElement(B,D,R,o),z=V}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,r=e.options&&e.options.borderWidth||0,o=t.data||[];if(!o.length)return r;const a=o[0].size(this.resolveDataElementOptions(0)),l=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function Al(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class H_{static override(t){Object.assign(H_.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Al()}parse(){return Al()}format(){return Al()}add(){return Al()}diff(){return Al()}startOf(){return Al()}endOf(){return Al()}}var _N={_date:H_};function bN(n,t,e,r){const{controller:o,data:a,_sorted:l}=n,c=o._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&l&&a.length){const d=c._reversePixels?Y3:ia;if(r){if(o._sharedOptions){const g=a[0],y=typeof g.getRange=="function"&&g.getRange(t);if(y){const b=d(a,t,e-y),S=d(a,t,e+y);return{lo:b.lo,hi:S.hi}}}}else{const g=d(a,t,e);if(h){const{vScale:y}=o._cachedMeta,{_parsed:b}=n,S=b.slice(0,g.lo+1).reverse().findIndex(E=>!Ln(E[y.axis]));g.lo-=Math.max(0,S);const x=b.slice(g.hi).findIndex(E=>!Ln(E[y.axis]));g.hi+=Math.max(0,x)}return g}}return{lo:0,hi:a.length-1}}function Pd(n,t,e,r,o){const a=n.getSortedVisibleDatasetMetas(),l=e[t];for(let c=0,h=a.length;c<h;++c){const{index:d,data:g}=a[c],{lo:y,hi:b}=bN(a[c],t,l,o);for(let S=y;S<=b;++S){const x=g[S];x.skip||r(x,d,S)}}}function vN(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(r,o){const a=t?Math.abs(r.x-o.x):0,l=e?Math.abs(r.y-o.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function zm(n,t,e,r,o){const a=[];return!o&&!n.isPointInArea(t)||Pd(n,e,t,function(c,h,d){!o&&!of(c,n.chartArea,0)||c.inRange(t.x,t.y,r)&&a.push({element:c,datasetIndex:h,index:d})},!0),a}function wN(n,t,e,r){let o=[];function a(l,c,h){const{startAngle:d,endAngle:g}=l.getProps(["startAngle","endAngle"],r),{angle:y}=H3(l,{x:t.x,y:t.y});tE(y,d,g)&&o.push({element:l,datasetIndex:c,index:h})}return Pd(n,e,t,a),o}function xN(n,t,e,r,o,a){let l=[];const c=vN(e);let h=Number.POSITIVE_INFINITY;function d(g,y,b){const S=g.inRange(t.x,t.y,o);if(r&&!S)return;const x=g.getCenterPoint(o);if(!(!!a||n.isPointInArea(x))&&!S)return;const k=c(t,x);k<h?(l=[{element:g,datasetIndex:y,index:b}],h=k):k===h&&l.push({element:g,datasetIndex:y,index:b})}return Pd(n,e,t,d),l}function Bm(n,t,e,r,o,a){return!a&&!n.isPointInArea(t)?[]:e==="r"&&!r?wN(n,t,e,o):xN(n,t,e,r,o,a)}function nx(n,t,e,r,o){const a=[],l=e==="x"?"inXRange":"inYRange";let c=!1;return Pd(n,e,t,(h,d,g)=>{h[l]&&h[l](t[e],o)&&(a.push({element:h,datasetIndex:d,index:g}),c=c||h.inRange(t.x,t.y,o))}),r&&!c?[]:a}var SN={modes:{index(n,t,e,r){const o=kl(t,n),a=e.axis||"x",l=e.includeInvisible||!1,c=e.intersect?zm(n,o,a,r,l):Bm(n,o,a,!1,r,l),h=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const g=c[0].index,y=d.data[g];y&&!y.skip&&h.push({element:y,datasetIndex:d.index,index:g})}),h):[]},dataset(n,t,e,r){const o=kl(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;let c=e.intersect?zm(n,o,a,r,l):Bm(n,o,a,!1,r,l);if(c.length>0){const h=c[0].datasetIndex,d=n.getDatasetMeta(h).data;c=[];for(let g=0;g<d.length;++g)c.push({element:d[g],datasetIndex:h,index:g})}return c},point(n,t,e,r){const o=kl(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return zm(n,o,a,r,l)},nearest(n,t,e,r){const o=kl(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return Bm(n,o,a,e.intersect,r,l)},x(n,t,e,r){const o=kl(t,n);return nx(n,o,"x",e.intersect,r)},y(n,t,e,r){const o=kl(t,n);return nx(n,o,"y",e.intersect,r)}}};const vE=["left","top","right","bottom"];function Sc(n,t){return n.filter(e=>e.pos===t)}function ix(n,t){return n.filter(e=>vE.indexOf(e.pos)===-1&&e.box.axis===t)}function Ec(n,t){return n.sort((e,r)=>{const o=t?r:e,a=t?e:r;return o.weight===a.weight?o.index-a.index:o.weight-a.weight})}function EN(n){const t=[];let e,r,o,a,l,c;for(e=0,r=(n||[]).length;e<r;++e)o=n[e],{position:a,options:{stack:l,stackWeight:c=1}}=o,t.push({index:e,box:o,pos:a,horizontal:o.isHorizontal(),weight:o.weight,stack:l&&a+l,stackWeight:c});return t}function TN(n){const t={};for(const e of n){const{stack:r,pos:o,stackWeight:a}=e;if(!r||!vE.includes(o))continue;const l=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}function AN(n,t){const e=TN(n),{vBoxMaxWidth:r,hBoxMaxHeight:o}=t;let a,l,c;for(a=0,l=n.length;a<l;++a){c=n[a];const{fullSize:h}=c.box,d=e[c.stack],g=d&&c.stackWeight/d.weight;c.horizontal?(c.width=g?g*r:h&&t.availableWidth,c.height=o):(c.width=r,c.height=g?g*o:h&&t.availableHeight)}return e}function kN(n){const t=EN(n),e=Ec(t.filter(d=>d.box.fullSize),!0),r=Ec(Sc(t,"left"),!0),o=Ec(Sc(t,"right")),a=Ec(Sc(t,"top"),!0),l=Ec(Sc(t,"bottom")),c=ix(t,"x"),h=ix(t,"y");return{fullSize:e,leftAndTop:r.concat(a),rightAndBottom:o.concat(h).concat(l).concat(c),chartArea:Sc(t,"chartArea"),vertical:r.concat(o).concat(h),horizontal:a.concat(l).concat(c)}}function rx(n,t,e,r){return Math.max(n[e],t[e])+Math.max(n[r],t[r])}function wE(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function MN(n,t,e,r){const{pos:o,box:a}=e,l=n.maxPadding;if(!mn(o)){e.size&&(n[o]-=e.size);const y=r[e.stack]||{size:0,count:1};y.size=Math.max(y.size,e.horizontal?a.height:a.width),e.size=y.size/y.count,n[o]+=e.size}a.getPadding&&wE(l,a.getPadding());const c=Math.max(0,t.outerWidth-rx(l,n,"left","right")),h=Math.max(0,t.outerHeight-rx(l,n,"top","bottom")),d=c!==n.w,g=h!==n.h;return n.w=c,n.h=h,e.horizontal?{same:d,other:g}:{same:g,other:d}}function ON(n){const t=n.maxPadding;function e(r){const o=Math.max(t[r]-n[r],0);return n[r]+=o,o}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function CN(n,t){const e=t.maxPadding;function r(o){const a={left:0,top:0,right:0,bottom:0};return o.forEach(l=>{a[l]=Math.max(t[l],e[l])}),a}return r(n?["left","right"]:["top","bottom"])}function Bc(n,t,e,r){const o=[];let a,l,c,h,d,g;for(a=0,l=n.length,d=0;a<l;++a){c=n[a],h=c.box,h.update(c.width||t.w,c.height||t.h,CN(c.horizontal,t));const{same:y,other:b}=MN(t,e,c,r);d|=y&&o.length,g=g||b,h.fullSize||o.push(c)}return d&&Bc(o,t,e,r)||g}function Eh(n,t,e,r,o){n.top=e,n.left=t,n.right=t+r,n.bottom=e+o,n.width=r,n.height=o}function ox(n,t,e,r){const o=e.padding;let{x:a,y:l}=t;for(const c of n){const h=c.box,d=r[c.stack]||{placed:0,weight:1},g=c.stackWeight/d.weight||1;if(c.horizontal){const y=t.w*g,b=d.size||h.height;wd(d.start)&&(l=d.start),h.fullSize?Eh(h,o.left,l,e.outerWidth-o.right-o.left,b):Eh(h,t.left+d.placed,l,y,b),d.start=l,d.placed+=y,l=h.bottom}else{const y=t.h*g,b=d.size||h.width;wd(d.start)&&(a=d.start),h.fullSize?Eh(h,a,o.top,b,e.outerHeight-o.bottom-o.top):Eh(h,a,t.top+d.placed,b,y),d.start=a,d.placed+=y,a=h.right}}t.x=a,t.y=l}var Th={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,r){if(!n)return;const o=$a(n.options.layout.padding),a=Math.max(t-o.width,0),l=Math.max(e-o.height,0),c=kN(n.boxes),h=c.vertical,d=c.horizontal;Cn(n.boxes,E=>{typeof E.beforeLayout=="function"&&E.beforeLayout()});const g=h.reduce((E,k)=>k.box.options&&k.box.options.display===!1?E:E+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:e,padding:o,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/g,hBoxMaxHeight:l/2}),b=Object.assign({},o);wE(b,$a(r));const S=Object.assign({maxPadding:b,w:a,h:l,x:o.left,y:o.top},o),x=AN(h.concat(d),y);Bc(c.fullSize,S,y,x),Bc(h,S,y,x),Bc(d,S,y,x)&&Bc(h,S,y,x),ON(S),ox(c.leftAndTop,S,y,x),S.x+=S.w,S.y+=S.h,ox(c.rightAndBottom,S,y,x),n.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},Cn(c.chartArea,E=>{const k=E.box;Object.assign(k,n.chartArea),k.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class xE{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,r){}removeEventListener(t,e,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,r,o){return e=Math.max(0,e||t.width),r=r||t.height,{width:e,height:Math.max(0,o?Math.floor(e/o):r)}}isAttached(t){return!0}updateConfig(t){}}class LN extends xE{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const cd="$chartjs",NN={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},sx=n=>n===null||n==="";function DN(n,t){const e=n.style,r=n.getAttribute("height"),o=n.getAttribute("width");if(n[cd]={initial:{height:r,width:o,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",sx(o)){const a=Zw(n,"width");a!==void 0&&(n.width=a)}if(sx(r))if(n.style.height==="")n.height=n.width/(t||2);else{const a=Zw(n,"height");a!==void 0&&(n.height=a)}return n}const SE=qL?{passive:!0}:!1;function jN(n,t,e){n&&n.addEventListener(t,e,SE)}function PN(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,SE)}function RN(n,t){const e=NN[n.type]||n.type,{x:r,y:o}=kl(n,t);return{type:e,chart:t,native:n,x:r!==void 0?r:null,y:o!==void 0?o:null}}function Ed(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function zN(n,t,e){const r=n.canvas,o=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Ed(c.addedNodes,r),l=l&&!Ed(c.removedNodes,r);l&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}function BN(n,t,e){const r=n.canvas,o=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Ed(c.removedNodes,r),l=l&&!Ed(c.addedNodes,r);l&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}const sf=new Map;let ax=0;function EE(){const n=window.devicePixelRatio;n!==ax&&(ax=n,sf.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function IN(n,t){sf.size||window.addEventListener("resize",EE),sf.set(n,t)}function UN(n){sf.delete(n),sf.size||window.removeEventListener("resize",EE)}function FN(n,t,e){const r=n.canvas,o=r&&F_(r);if(!o)return;const a=rE((c,h)=>{const d=o.clientWidth;e(c,h),d<o.clientWidth&&e()},window),l=new ResizeObserver(c=>{const h=c[0],d=h.contentRect.width,g=h.contentRect.height;d===0&&g===0||a(d,g)});return l.observe(o),IN(n,a),l}function Im(n,t,e){e&&e.disconnect(),t==="resize"&&UN(n)}function HN(n,t,e){const r=n.canvas,o=rE(a=>{n.ctx!==null&&e(RN(a,n))},n);return jN(r,t,o),o}class qN extends xE{acquireContext(t,e){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(DN(t,e),r):null}releaseContext(t){const e=t.canvas;if(!e[cd])return!1;const r=e[cd].initial;["height","width"].forEach(a=>{const l=r[a];Ln(l)?e.removeAttribute(a):e.setAttribute(a,l)});const o=r.style||{};return Object.keys(o).forEach(a=>{e.style[a]=o[a]}),e.width=e.width,delete e[cd],!0}addEventListener(t,e,r){this.removeEventListener(t,e);const o=t.$proxies||(t.$proxies={}),l={attach:zN,detach:BN,resize:FN}[e]||HN;o[e]=l(t,e,r)}removeEventListener(t,e){const r=t.$proxies||(t.$proxies={}),o=r[e];if(!o)return;({attach:Im,detach:Im,resize:Im}[e]||PN)(t,e,o),r[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,r,o){return HL(t,e,r,o)}isAttached(t){const e=t&&F_(t);return!!(e&&e.isConnected)}}function VN(n){return!U_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?LN:qN}let df=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:r}=this.getProps(["x","y"],t);return{x:e,y:r}}hasValue(){return rf(this.x)&&rf(this.y)}getProps(t,e){const r=this.$animations;if(!e||!r)return this;const o={};return t.forEach(a=>{o[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),o}};function YN(n,t){const e=n.options.ticks,r=ZN(n),o=Math.min(e.maxTicksLimit||r,r),a=e.major.enabled?WN(t):[],l=a.length,c=a[0],h=a[l-1],d=[];if(l>o)return XN(t,d,a,l/o),d;const g=KN(a,t,o);if(l>0){let y,b;const S=l>1?Math.round((h-c)/(l-1)):null;for(Ah(t,d,g,Ln(S)?0:c-S,c),y=0,b=l-1;y<b;y++)Ah(t,d,g,a[y],a[y+1]);return Ah(t,d,g,h,Ln(S)?t.length:h+S),d}return Ah(t,d,g),d}function ZN(n){const t=n.options.offset,e=n._tickSize(),r=n._length/e+(t?0:1),o=n._maxLength/e;return Math.floor(Math.min(r,o))}function KN(n,t,e){const r=GN(n),o=t.length/e;if(!r)return Math.max(o,1);const a=z3(r);for(let l=0,c=a.length-1;l<c;l++){const h=a[l];if(h>o)return h}return Math.max(o,1)}function WN(n){const t=[];let e,r;for(e=0,r=n.length;e<r;e++)n[e].major&&t.push(e);return t}function XN(n,t,e,r){let o=0,a=e[0],l;for(r=Math.ceil(r),l=0;l<n.length;l++)l===a&&(t.push(n[l]),o++,a=e[o*r])}function Ah(n,t,e,r,o){const a=Rn(r,0),l=Math.min(Rn(o,n.length),n.length);let c=0,h,d,g;for(e=Math.ceil(e),o&&(h=o-r,e=h/Math.floor(h/e)),g=a;g<0;)c++,g=Math.round(a+c*e);for(d=Math.max(a,0);d<l;d++)d===g&&(t.push(n[d]),c++,g=Math.round(a+c*e))}function GN(n){const t=n.length;let e,r;if(t<2)return!1;for(r=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==r)return!1;return r}const $N=n=>n==="left"?"right":n==="right"?"left":n,lx=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,ux=(n,t)=>Math.min(t||n,n);function cx(n,t){const e=[],r=n.length/t,o=n.length;let a=0;for(;a<o;a+=r)e.push(n[Math.floor(a)]);return e}function QN(n,t,e){const r=n.ticks.length,o=Math.min(t,r-1),a=n._startPixel,l=n._endPixel,c=1e-6;let h=n.getPixelForTick(o),d;if(!(e&&(r===1?d=Math.max(h-a,l-h):t===0?d=(n.getPixelForTick(1)-h)/2:d=(h-n.getPixelForTick(o-1))/2,h+=o<t?d:-d,h<a-c||h>l+c)))return h}function JN(n,t){Cn(n,e=>{const r=e.gc,o=r.length/2;let a;if(o>t){for(a=0;a<o;++a)delete e.data[r[a]];r.splice(0,o)}})}function Tc(n){return n.drawTicks?n.tickLength:0}function fx(n,t){if(!n.display)return 0;const e=ys(n.font,t),r=$a(n.padding);return(Ui(n.text)?n.text.length:1)*e.lineHeight+r.height}function tD(n,t){return Ul(n,{scale:t,type:"scale"})}function eD(n,t,e){return Ul(n,{tick:e,index:t,type:"tick"})}function nD(n,t,e){let r=G3(n);return(e&&t!=="right"||!e&&t==="right")&&(r=$N(r)),r}function iD(n,t,e,r){const{top:o,left:a,bottom:l,right:c,chart:h}=n,{chartArea:d,scales:g}=h;let y=0,b,S,x;const E=l-o,k=c-a;if(n.isHorizontal()){if(S=jw(r,a,c),mn(e)){const C=Object.keys(e)[0],M=e[C];x=g[C].getPixelForValue(M)+E-t}else e==="center"?x=(d.bottom+d.top)/2+E-t:x=lx(n,e,t);b=c-a}else{if(mn(e)){const C=Object.keys(e)[0],M=e[C];S=g[C].getPixelForValue(M)-k+t}else e==="center"?S=(d.left+d.right)/2-k+t:S=lx(n,e,t);x=jw(r,l,o),y=e==="left"?-Ho:Ho}return{titleX:S,titleY:x,maxWidth:b,rotation:y}}class ju extends df{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:r,_suggestedMax:o}=this;return t=ls(t,Number.POSITIVE_INFINITY),e=ls(e,Number.NEGATIVE_INFINITY),r=ls(r,Number.POSITIVE_INFINITY),o=ls(o,Number.NEGATIVE_INFINITY),{min:ls(t,r),max:ls(e,o),minDefined:cr(t),maxDefined:cr(e)}}getMinMax(t){let{min:e,max:r,minDefined:o,maxDefined:a}=this.getUserBounds(),l;if(o&&a)return{min:e,max:r};const c=this.getMatchingVisibleMetas();for(let h=0,d=c.length;h<d;++h)l=c[h].controller.getMinMax(this,t),o||(e=Math.min(e,l.min)),a||(r=Math.max(r,l.max));return e=a&&e>r?r:e,r=o&&e>r?e:r,{min:ls(e,ls(r,e)),max:ls(r,ls(e,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){gi(this.options.beforeUpdate,[this])}update(t,e,r){const{beginAtZero:o,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=vL(this,a,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?cx(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=YN(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,r;this.isHorizontal()?(e=this.left,r=this.right):(e=this.top,r=this.bottom,t=!t),this._startPixel=e,this._endPixel=r,this._reversePixels=t,this._length=r-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){gi(this.options.afterUpdate,[this])}beforeSetDimensions(){gi(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){gi(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),gi(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){gi(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let r,o,a;for(r=0,o=t.length;r<o;r++)a=t[r],a.label=gi(e.callback,[a.value,r,t],this)}afterTickToLabelConversion(){gi(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){gi(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,r=ux(this.ticks.length,t.ticks.maxTicksLimit),o=e.minRotation||0,a=e.maxRotation;let l=o,c,h,d;if(!this._isVisible()||!e.display||o>=a||r<=1||!this.isHorizontal()){this.labelRotation=o;return}const g=this._getLabelSizes(),y=g.widest.width,b=g.highest.height,S=Ur(this.chart.width-y,0,this.maxWidth);c=t.offset?this.maxWidth/r:S/(r-1),y+6>c&&(c=S/(r-(t.offset?.5:1)),h=this.maxHeight-Tc(t.grid)-e.padding-fx(t.title,this.chart.options.font),d=Math.sqrt(y*y+b*b),l=F3(Math.min(Math.asin(Ur((g.highest.height+6)/c,-1,1)),Math.asin(Ur(h/d,-1,1))-Math.asin(Ur(b/d,-1,1)))),l=Math.max(o,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){gi(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){gi(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:r,title:o,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const h=fx(o,e.options.font);if(c?(t.width=this.maxWidth,t.height=Tc(a)+h):(t.height=this.maxHeight,t.width=Tc(a)+h),r.display&&this.ticks.length){const{first:d,last:g,widest:y,highest:b}=this._getLabelSizes(),S=r.padding*2,x=Ll(this.labelRotation),E=Math.cos(x),k=Math.sin(x);if(c){const C=r.mirror?0:k*y.width+E*b.height;t.height=Math.min(this.maxHeight,t.height+C+S)}else{const C=r.mirror?0:E*y.width+k*b.height;t.width=Math.min(this.maxWidth,t.width+C+S)}this._calculatePadding(d,g,k,E)}}this._handleMargins(),c?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,r,o){const{ticks:{align:a,padding:l},position:c}=this.options,h=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,S=0;h?d?(b=o*t.width,S=r*e.height):(b=r*t.height,S=o*e.width):a==="start"?S=e.width:a==="end"?b=t.width:a!=="inner"&&(b=t.width/2,S=e.width/2),this.paddingLeft=Math.max((b-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((S-y+l)*this.width/(this.width-y),0)}else{let g=e.height/2,y=t.height/2;a==="start"?(g=0,y=t.height):a==="end"&&(g=e.height,y=0),this.paddingTop=g+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){gi(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,r;for(e=0,r=t.length;e<r;e++)Ln(t[e].label)&&(t.splice(e,1),r--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let r=this.ticks;e<r.length&&(r=cx(r,e)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,r){const{ctx:o,_longestTextCache:a}=this,l=[],c=[],h=Math.floor(e/ux(e,r));let d=0,g=0,y,b,S,x,E,k,C,M,P,z,D;for(y=0;y<e;y+=h){if(x=t[y].label,E=this._resolveTickFontOptions(y),o.font=k=E.string,C=a[k]=a[k]||{data:{},gc:[]},M=E.lineHeight,P=z=0,!Ln(x)&&!Ui(x))P=Iw(o,C.data,C.gc,P,x),z=M;else if(Ui(x))for(b=0,S=x.length;b<S;++b)D=x[b],!Ln(D)&&!Ui(D)&&(P=Iw(o,C.data,C.gc,P,D),z+=M);l.push(P),c.push(z),d=Math.max(P,d),g=Math.max(z,g)}JN(a,e);const B=l.indexOf(d),R=c.indexOf(g),V=J=>({width:l[J]||0,height:c[J]||0});return{first:V(0),last:V(e-1),widest:V(B),highest:V(R),widths:l,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return V3(this._alignToPixels?Tl(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const r=e[t];return r.$context||(r.$context=eD(this.getContext(),t,r))}return this.$context||(this.$context=tD(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ll(this.labelRotation),r=Math.abs(Math.cos(e)),o=Math.abs(Math.sin(e)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,c=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*r>c*o?c/r:h/o:h*o<c*r?h/r:c/o}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,r=this.chart,o=this.options,{grid:a,position:l,border:c}=o,h=a.offset,d=this.isHorizontal(),y=this.ticks.length+(h?1:0),b=Tc(a),S=[],x=c.setContext(this.getContext()),E=x.display?x.width:0,k=E/2,C=function(rt){return Tl(r,rt,E)};let M,P,z,D,B,R,V,J,tt,st,G,mt;if(l==="top")M=C(this.bottom),R=this.bottom-b,J=M-k,st=C(t.top)+k,mt=t.bottom;else if(l==="bottom")M=C(this.top),st=t.top,mt=C(t.bottom)-k,R=M+k,J=this.top+b;else if(l==="left")M=C(this.right),B=this.right-b,V=M-k,tt=C(t.left)+k,G=t.right;else if(l==="right")M=C(this.left),tt=t.left,G=C(t.right)-k,B=M+k,V=this.left+b;else if(e==="x"){if(l==="center")M=C((t.top+t.bottom)/2+.5);else if(mn(l)){const rt=Object.keys(l)[0],lt=l[rt];M=C(this.chart.scales[rt].getPixelForValue(lt))}st=t.top,mt=t.bottom,R=M+k,J=R+b}else if(e==="y"){if(l==="center")M=C((t.left+t.right)/2);else if(mn(l)){const rt=Object.keys(l)[0],lt=l[rt];M=C(this.chart.scales[rt].getPixelForValue(lt))}B=M-k,V=B-b,tt=t.left,G=t.right}const ht=Rn(o.ticks.maxTicksLimit,y),ut=Math.max(1,Math.ceil(y/ht));for(P=0;P<y;P+=ut){const rt=this.getContext(P),lt=a.setContext(rt),et=c.setContext(rt),jt=lt.lineWidth,nt=lt.color,Z=et.dash||[],K=et.dashOffset,at=lt.tickWidth,At=lt.tickColor,gt=lt.tickBorderDash||[],Ut=lt.tickBorderDashOffset;z=QN(this,P,h),z!==void 0&&(D=Tl(r,z,jt),d?B=V=tt=G=D:R=J=st=mt=D,S.push({tx1:B,ty1:R,tx2:V,ty2:J,x1:tt,y1:st,x2:G,y2:mt,width:jt,color:nt,borderDash:Z,borderDashOffset:K,tickWidth:at,tickColor:At,tickBorderDash:gt,tickBorderDashOffset:Ut}))}return this._ticksLength=y,this._borderValue=M,S}_computeLabelItems(t){const e=this.axis,r=this.options,{position:o,ticks:a}=r,l=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:d,padding:g,mirror:y}=a,b=Tc(r.grid),S=b+g,x=y?-g:S,E=-Ll(this.labelRotation),k=[];let C,M,P,z,D,B,R,V,J,tt,st,G,mt="middle";if(o==="top")B=this.bottom-x,R=this._getXAxisLabelAlignment();else if(o==="bottom")B=this.top+x,R=this._getXAxisLabelAlignment();else if(o==="left"){const ut=this._getYAxisLabelAlignment(b);R=ut.textAlign,D=ut.x}else if(o==="right"){const ut=this._getYAxisLabelAlignment(b);R=ut.textAlign,D=ut.x}else if(e==="x"){if(o==="center")B=(t.top+t.bottom)/2+S;else if(mn(o)){const ut=Object.keys(o)[0],rt=o[ut];B=this.chart.scales[ut].getPixelForValue(rt)+S}R=this._getXAxisLabelAlignment()}else if(e==="y"){if(o==="center")D=(t.left+t.right)/2-S;else if(mn(o)){const ut=Object.keys(o)[0],rt=o[ut];D=this.chart.scales[ut].getPixelForValue(rt)}R=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(h==="start"?mt="top":h==="end"&&(mt="bottom"));const ht=this._getLabelSizes();for(C=0,M=c.length;C<M;++C){P=c[C],z=P.label;const ut=a.setContext(this.getContext(C));V=this.getPixelForTick(C)+a.labelOffset,J=this._resolveTickFontOptions(C),tt=J.lineHeight,st=Ui(z)?z.length:1;const rt=st/2,lt=ut.color,et=ut.textStrokeColor,jt=ut.textStrokeWidth;let nt=R;l?(D=V,R==="inner"&&(C===M-1?nt=this.options.reverse?"left":"right":C===0?nt=this.options.reverse?"right":"left":nt="center"),o==="top"?d==="near"||E!==0?G=-st*tt+tt/2:d==="center"?G=-ht.highest.height/2-rt*tt+tt:G=-ht.highest.height+tt/2:d==="near"||E!==0?G=tt/2:d==="center"?G=ht.highest.height/2-rt*tt:G=ht.highest.height-st*tt,y&&(G*=-1),E!==0&&!ut.showLabelBackdrop&&(D+=tt/2*Math.sin(E))):(B=V,G=(1-st)*tt/2);let Z;if(ut.showLabelBackdrop){const K=$a(ut.backdropPadding),at=ht.heights[C],At=ht.widths[C];let gt=G-K.top,Ut=0-K.left;switch(mt){case"middle":gt-=at/2;break;case"bottom":gt-=at;break}switch(R){case"center":Ut-=At/2;break;case"right":Ut-=At;break;case"inner":C===M-1?Ut-=At:C>0&&(Ut-=At/2);break}Z={left:Ut,top:gt,width:At+K.width,height:at+K.height,color:ut.backdropColor}}k.push({label:z,font:J,textOffset:G,options:{rotation:E,color:lt,strokeColor:et,strokeWidth:jt,textAlign:nt,textBaseline:mt,translation:[D,B],backdrop:Z}})}return k}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ll(this.labelRotation))return t==="top"?"left":"right";let o="center";return e.align==="start"?o="left":e.align==="end"?o="right":e.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:r,mirror:o,padding:a}}=this.options,l=this._getLabelSizes(),c=t+a,h=l.widest.width;let d,g;return e==="left"?o?(g=this.right+a,r==="near"?d="left":r==="center"?(d="center",g+=h/2):(d="right",g+=h)):(g=this.right-c,r==="near"?d="right":r==="center"?(d="center",g-=h/2):(d="left",g=this.left)):e==="right"?o?(g=this.left+a,r==="near"?d="right":r==="center"?(d="center",g-=h/2):(d="left",g-=h)):(g=this.left+c,r==="near"?d="left":r==="center"?(d="center",g+=h/2):(d="right",g=this.right)):d="right",{textAlign:d,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:r,top:o,width:a,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(r,o,a,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const o=this.ticks.findIndex(a=>a.value===t);return o>=0?e.setContext(this.getContext(o)).lineWidth:0}drawGrid(t){const e=this.options.grid,r=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const c=(h,d,g)=>{!g.width||!g.color||(r.save(),r.lineWidth=g.width,r.strokeStyle=g.color,r.setLineDash(g.borderDash||[]),r.lineDashOffset=g.borderDashOffset,r.beginPath(),r.moveTo(h.x,h.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(e.display)for(a=0,l=o.length;a<l;++a){const h=o[a];e.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),e.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:r,grid:o}}=this,a=r.setContext(this.getContext()),l=r.display?a.width:0;if(!l)return;const c=o.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let d,g,y,b;this.isHorizontal()?(d=Tl(t,this.left,l)-l/2,g=Tl(t,this.right,c)+c/2,y=b=h):(y=Tl(t,this.top,l)-l/2,b=Tl(t,this.bottom,c)+c/2,d=g=h),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(d,y),e.lineTo(g,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,o=this._computeLabelArea();o&&P_(r,o);const a=this.getLabelItems(t);for(const l of a){const c=l.options,h=l.font,d=l.label,g=l.textOffset;Fw(r,d,0,g,h,c)}o&&R_(r)}drawTitle(){const{ctx:t,options:{position:e,title:r,reverse:o}}=this;if(!r.display)return;const a=ys(r.font),l=$a(r.padding),c=r.align;let h=a.lineHeight/2;e==="bottom"||e==="center"||mn(e)?(h+=l.bottom,Ui(r.text)&&(h+=a.lineHeight*(r.text.length-1))):h+=l.top;const{titleX:d,titleY:g,maxWidth:y,rotation:b}=iD(this,h,e,c);Fw(t,r.text,0,0,a,{color:r.color,maxWidth:y,rotation:b,textAlign:nD(c,e,o),textBaseline:"middle",translation:[d,g]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,r=Rn(t.grid&&t.grid.z,-1),o=Rn(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ju.prototype.draw?[{z:e,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",o=[];let a,l;for(a=0,l=e.length;a<l;++a){const c=e[a];c[r]===this.id&&(!t||c.type===t)&&o.push(c)}return o}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return ys(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class kh{constructor(t,e,r){this.type=t,this.scope=e,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let r;sD(e)&&(r=this.register(e));const o=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in o||(o[a]=t,rD(t,l,r),this.override&&Ai.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,r=t.id,o=this.scope;r in e&&delete e[r],o&&r in Ai[o]&&(delete Ai[o][r],this.override&&delete Rl[r])}}function rD(n,t,e){const r=nf(Object.create(null),[e?Ai.get(e):{},Ai.get(t),n.defaults]);Ai.set(t,r),n.defaultRoutes&&oD(t,n.defaultRoutes),n.descriptors&&Ai.describe(t,n.descriptors)}function oD(n,t){Object.keys(t).forEach(e=>{const r=e.split("."),o=r.pop(),a=[n].concat(r).join("."),l=t[e].split("."),c=l.pop(),h=l.join(".");Ai.route(a,o,h,c)})}function sD(n){return"id"in n&&"defaults"in n}class aD{constructor(){this.controllers=new kh(bE,"datasets",!0),this.elements=new kh(df,"elements"),this.plugins=new kh(Object,"plugins"),this.scales=new kh(ju,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,r){[...e].forEach(o=>{const a=r||this._getRegistryForType(o);r||a.isForType(o)||a===this.plugins&&o.id?this._exec(t,a,o):Cn(o,l=>{const c=r||this._getRegistryForType(l);this._exec(t,c,l)})})}_exec(t,e,r){const o=N_(t);gi(r["before"+o],[],r),e[t](r),gi(r["after"+o],[],r)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const r=this._typedRegistries[e];if(r.isForType(t))return r}return this.plugins}_get(t,e,r){const o=e.get(t);if(o===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return o}}var fs=new aD;class lD{constructor(){this._init=void 0}notify(t,e,r,o){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const a=o?this._descriptors(t).filter(o):this._descriptors(t),l=this._notify(a,t,e,r);return e==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),l}_notify(t,e,r,o){o=o||{};for(const a of t){const l=a.plugin,c=l[r],h=[e,o,a.options];if(gi(c,h,l)===!1&&o.cancelable)return!1}return!0}invalidate(){Ln(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const r=t&&t.config,o=Rn(r.options&&r.options.plugins,{}),a=uD(r);return o===!1&&!e?[]:fD(t,a,o,e)}_notifyStateChanges(t){const e=this._oldCache||[],r=this._cache,o=(a,l)=>a.filter(c=>!l.some(h=>c.plugin.id===h.plugin.id));this._notify(o(e,r),t,"stop"),this._notify(o(r,e),t,"start")}}function uD(n){const t={},e=[],r=Object.keys(fs.plugins.items);for(let a=0;a<r.length;a++)e.push(fs.getPlugin(r[a]));const o=n.plugins||[];for(let a=0;a<o.length;a++){const l=o[a];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function cD(n,t){return!t&&n===!1?null:n===!0?{}:n}function fD(n,{plugins:t,localIds:e},r,o){const a=[],l=n.getContext();for(const c of t){const h=c.id,d=cD(r[h],o);d!==null&&a.push({plugin:c,options:hD(n.config,{plugin:c,local:e[h]},d,l)})}return a}function hD(n,{plugin:t,local:e},r,o){const a=n.pluginScopeKeys(t),l=n.getOptionScopes(r,a);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function t_(n,t){const e=Ai.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function dD(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function pD(n,t){return n===t?"_index_":"_value_"}function hx(n){if(n==="x"||n==="y"||n==="r")return n}function mD(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function e_(n,...t){if(hx(n))return n;for(const e of t){const r=e.axis||mD(e.position)||n.length>1&&hx(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function dx(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function gD(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(e.length)return dx(n,"x",e[0])||dx(n,"y",e[0])}return{}}function yD(n,t){const e=Rl[n.type]||{scales:{}},r=t.scales||{},o=t_(n.type,t),a=Object.create(null);return Object.keys(r).forEach(l=>{const c=r[l];if(!mn(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=e_(l,c,gD(l,n),Ai.scales[c.type]),d=pD(h,o),g=e.scales||{};a[l]=Kc(Object.create(null),[{axis:h},c,g[h],g[d]])}),n.data.datasets.forEach(l=>{const c=l.type||n.type,h=l.indexAxis||t_(c,t),g=(Rl[c]||{}).scales||{};Object.keys(g).forEach(y=>{const b=dD(y,h),S=l[b+"AxisID"]||b;a[S]=a[S]||Object.create(null),Kc(a[S],[{axis:b},r[S],g[y]])})}),Object.keys(a).forEach(l=>{const c=a[l];Kc(c,[Ai.scales[c.type],Ai.scale])}),a}function TE(n){const t=n.options||(n.options={});t.plugins=Rn(t.plugins,{}),t.scales=yD(n,t)}function AE(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function _D(n){return n=n||{},n.data=AE(n.data),TE(n),n}const px=new Map,kE=new Set;function Mh(n,t){let e=px.get(n);return e||(e=t(),px.set(n,e),kE.add(e)),e}const Ac=(n,t,e)=>{const r=vd(t,e);r!==void 0&&n.add(r)};class bD{constructor(t){this._config=_D(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=AE(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),TE(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Mh(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Mh(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Mh(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,r=this.type;return Mh(`${r}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const r=this._scopeCache;let o=r.get(t);return(!o||e)&&(o=new Map,r.set(t,o)),o}getOptionScopes(t,e,r){const{options:o,type:a}=this,l=this._cachedScopes(t,r),c=l.get(e);if(c)return c;const h=new Set;e.forEach(g=>{t&&(h.add(t),g.forEach(y=>Ac(h,t,y))),g.forEach(y=>Ac(h,o,y)),g.forEach(y=>Ac(h,Rl[a]||{},y)),g.forEach(y=>Ac(h,Ai,y)),g.forEach(y=>Ac(h,Qy,y))});const d=Array.from(h);return d.length===0&&d.push(Object.create(null)),kE.has(e)&&l.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,Rl[e]||{},Ai.datasets[e]||{},{type:e},Ai,Qy]}resolveNamedOptions(t,e,r,o=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=mx(this._resolverCache,t,o);let h=l;if(wD(l,e)){a.$shared=!1,r=Ga(r)?r():r;const d=this.createResolver(t,r,c);h=Mu(l,r,d)}for(const d of e)a[d]=h[d];return a}createResolver(t,e,r=[""],o){const{resolver:a}=mx(this._resolverCache,t,r);return mn(e)?Mu(a,e,void 0,o):a}}function mx(n,t,e){let r=n.get(t);r||(r=new Map,n.set(t,r));const o=e.join();let a=r.get(o);return a||(a={resolver:z_(t,e),subPrefixes:e.filter(c=>!c.toLowerCase().includes("hover"))},r.set(o,a)),a}const vD=n=>mn(n)&&Object.getOwnPropertyNames(n).some(t=>Ga(n[t]));function wD(n,t){const{isScriptable:e,isIndexable:r}=lE(n);for(const o of t){const a=e(o),l=r(o),c=(l||a)&&n[o];if(a&&(Ga(c)||vD(c))||l&&Ui(c))return!0}return!1}var xD="4.5.1";const SD=["top","bottom","left","right","chartArea"];function gx(n,t){return n==="top"||n==="bottom"||SD.indexOf(n)===-1&&t==="x"}function yx(n,t){return function(e,r){return e[n]===r[n]?e[t]-r[t]:e[n]-r[n]}}function _x(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),gi(e&&e.onComplete,[n],t)}function ED(n){const t=n.chart,e=t.options.animation;gi(e&&e.onProgress,[n],t)}function ME(n){return U_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const fd={},bx=n=>{const t=ME(n);return Object.values(fd).filter(e=>e.canvas===t).pop()};function TD(n,t,e){const r=Object.keys(n);for(const o of r){const a=+o;if(a>=t){const l=n[o];delete n[o],(e>0||a>t)&&(n[a+e]=l)}}}function AD(n,t,e,r){return!e||n.type==="mouseout"?null:r?t:n}let Rd=class{static defaults=Ai;static instances=fd;static overrides=Rl;static registry=fs;static version=xD;static getChart=bx;static register(...t){fs.add(...t),vx()}static unregister(...t){fs.remove(...t),vx()}constructor(t,e){const r=this.config=new bD(e),o=ME(t),a=bx(o);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||VN(o)),this.platform.updateConfig(r);const c=this.platform.acquireContext(o,l.aspectRatio),h=c&&c.canvas,d=h&&h.height,g=h&&h.width;if(this.id=M3(),this.ctx=c,this.canvas=h,this.width=g,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new lD,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=X3(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],fd[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}$s.listen(this,"complete",_x),$s.listen(this,"progress",ED),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:r,height:o,_aspectRatio:a}=this;return Ln(t)?e&&a?a:o?r/o:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return fs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Yw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Uw(this.canvas,this.ctx),this}stop(){return $s.stop(this),this}resize(t,e){$s.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const r=this.options,o=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(o,t,e,a),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Yw(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),gi(r.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Cn(e,(r,o)=>{r.id=o})}buildOrUpdateScales(){const t=this.options,e=t.scales,r=this.scales,o=Object.keys(r).reduce((l,c)=>(l[c]=!1,l),{});let a=[];e&&(a=a.concat(Object.keys(e).map(l=>{const c=e[l],h=e_(l,c),d=h==="r",g=h==="x";return{options:c,dposition:d?"chartArea":g?"bottom":"left",dtype:d?"radialLinear":g?"category":"linear"}}))),Cn(a,l=>{const c=l.options,h=c.id,d=e_(h,c),g=Rn(c.type,l.dtype);(c.position===void 0||gx(c.position,d)!==gx(l.dposition))&&(c.position=l.dposition),o[h]=!0;let y=null;if(h in r&&r[h].type===g)y=r[h];else{const b=fs.getScale(g);y=new b({id:h,type:g,ctx:this.ctx,chart:this}),r[y.id]=y}y.init(c,t)}),Cn(o,(l,c)=>{l||delete r[c]}),Cn(r,l=>{Th.configure(this,l,l.options),Th.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,r=t.length;if(t.sort((o,a)=>o.index-a.index),r>e){for(let o=e;o<r;++o)this._destroyDatasetMeta(o);t.splice(e,r-e)}this._sortedMetasets=t.slice(0).sort(yx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((r,o)=>{e.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let r,o;for(this._removeUnreferencedMetasets(),r=0,o=e.length;r<o;r++){const a=e[r];let l=this.getDatasetMeta(r);const c=a.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=c,l.indexAxis=a.indexAxis||t_(c,this.options),l.order=a.order||0,l.index=r,l.label=""+a.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const h=fs.getController(c),{datasetElementType:d,dataElementType:g}=Ai.datasets[c];Object.assign(h,{dataElementType:fs.getElement(g),datasetElementType:d&&fs.getElement(d)}),l.controller=new h(this,r),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Cn(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const r=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,g=this.data.datasets.length;d<g;d++){const{controller:y}=this.getDatasetMeta(d),b=!o&&a.indexOf(y)===-1;y.buildOrUpdateElements(b),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),o||Cn(a,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(yx("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Cn(this.scales,t=>{Th.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!Ow(e,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:r,start:o,count:a}of e){const l=r==="_removeElements"?-a:a;TD(t,o,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,r=a=>new Set(t.filter(l=>l[0]===a).map((l,c)=>c+","+l.splice(1).join(","))),o=r(0);for(let a=1;a<e;a++)if(!Ow(o,r(a)))return;return Array.from(o).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Th.update(this,this.width,this.height,t);const e=this.chartArea,r=e.width<=0||e.height<=0;this._layers=[],Cn(this.boxes,o=>{r&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,a)=>{o._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,r=this.data.datasets.length;e<r;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,r=this.data.datasets.length;e<r;++e)this._updateDataset(e,Ga(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const r=this.getDatasetMeta(t),o={meta:r,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(r.controller._update(e),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&($s.has(this)?this.attached&&!$s.running(this)&&$s.start(this):(this.draw(),_x({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,r=[];let o,a;for(o=0,a=e.length;o<a;++o){const l=e[o];(!t||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,r={meta:t,index:t.index,cancelable:!0},o=gE(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(o&&P_(e,o),t.controller.draw(),o&&R_(e),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return of(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,r,o){const a=SN.modes[e];return typeof a=="function"?a(this,t,r,o):[]}getDatasetMeta(t){const e=this.data.datasets[t],r=this._metasets;let o=r.filter(a=>a&&a._dataset===e).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=Ul(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!e.hidden}setDatasetVisibility(t,e){const r=this.getDatasetMeta(t);r.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,r){const o=r?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,o);wd(e)?(a.data[e].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),l.update(a,{visible:r}),this.update(c=>c.datasetIndex===t?o:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),$s.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Uw(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete fd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,r=(a,l)=>{e.addEventListener(this,a,l),t[a]=l},o=(a,l,c)=>{a.offsetX=l,a.offsetY=c,this._eventHandler(a)};Cn(this.options.events,a=>r(a,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,r=(h,d)=>{e.addEventListener(this,h,d),t[h]=d},o=(h,d)=>{t[h]&&(e.removeEventListener(this,h,d),delete t[h])},a=(h,d)=>{this.canvas&&this.resize(h,d)};let l;const c=()=>{o("attach",c),this.attached=!0,this.resize(),r("resize",a),r("detach",l)};l=()=>{this.attached=!1,o("resize",a),this._stop(),this._resize(0,0),r("attach",c)},e.isAttached(this.canvas)?c():l()}unbindEvents(){Cn(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Cn(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,r){const o=r?"set":"remove";let a,l,c,h;for(e==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+o+"DatasetHoverStyle"]()),c=0,h=t.length;c<h;++c){l=t[c];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[o+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],r=t.map(({datasetIndex:a,index:l})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[l],index:l}});!_d(r,e)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,e))}notifyPlugins(t,e,r){return this._plugins.notify(this,t,e,r)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,r){const o=this.options.hover,a=(h,d)=>h.filter(g=>!d.some(y=>g.datasetIndex===y.datasetIndex&&g.index===y.index)),l=a(e,t),c=r?t:a(t,e);l.length&&this.updateHoverStyle(l,o.mode,!1),c.length&&o.mode&&this.updateHoverStyle(c,o.mode,!0)}_eventHandler(t,e){const r={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},o=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,o)===!1)return;const a=this._handleEvent(t,e,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(a||r.changed)&&this.render(),this}_handleEvent(t,e,r){const{_active:o=[],options:a}=this,l=e,c=this._getActiveElements(t,o,r,l),h=j3(t),d=AD(t,this._lastEvent,r,h);r&&(this._lastEvent=null,gi(a.onHover,[t,c,this],this),h&&gi(a.onClick,[t,c,this],this));const g=!_d(c,o);return(g||e)&&(this._active=c,this._updateHoverStyles(c,o,e)),this._lastEvent=d,g}_getActiveElements(t,e,r,o){if(t.type==="mouseout")return[];if(!r)return e;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,o)}};function vx(){return Cn(Rd.instances,n=>n._plugins.invalidate())}function OE(n,t,e=t){n.lineCap=Rn(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Rn(e.borderDash,t.borderDash)),n.lineDashOffset=Rn(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Rn(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Rn(e.borderWidth,t.borderWidth),n.strokeStyle=Rn(e.borderColor,t.borderColor)}function kD(n,t,e){n.lineTo(e.x,e.y)}function MD(n){return n.stepped?cL:n.tension||n.cubicInterpolationMode==="monotone"?fL:kD}function CE(n,t,e={}){const r=n.length,{start:o=0,end:a=r-1}=e,{start:l,end:c}=t,h=Math.max(o,l),d=Math.min(a,c),g=o<l&&a<l||o>c&&a>c;return{count:r,start:h,loop:t.loop,ilen:d<h&&!g?r+d-h:d-h}}function OD(n,t,e,r){const{points:o,options:a}=t,{count:l,start:c,loop:h,ilen:d}=CE(o,e,r),g=MD(a);let{move:y=!0,reverse:b}=r||{},S,x,E;for(S=0;S<=d;++S)x=o[(c+(b?d-S:S))%l],!x.skip&&(y?(n.moveTo(x.x,x.y),y=!1):g(n,E,x,b,a.stepped),E=x);return h&&(x=o[(c+(b?d:0))%l],g(n,E,x,b,a.stepped)),!!h}function CD(n,t,e,r){const o=t.points,{count:a,start:l,ilen:c}=CE(o,e,r),{move:h=!0,reverse:d}=r||{};let g=0,y=0,b,S,x,E,k,C;const M=z=>(l+(d?c-z:z))%a,P=()=>{E!==k&&(n.lineTo(g,k),n.lineTo(g,E),n.lineTo(g,C))};for(h&&(S=o[M(0)],n.moveTo(S.x,S.y)),b=0;b<=c;++b){if(S=o[M(b)],S.skip)continue;const z=S.x,D=S.y,B=z|0;B===x?(D<E?E=D:D>k&&(k=D),g=(y*g+z)/++y):(P(),n.lineTo(z,D),x=B,y=0,E=k=D),C=D}P()}function n_(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?CD:OD}function LD(n){return n.stepped?VL:n.tension||n.cubicInterpolationMode==="monotone"?YL:Ml}function ND(n,t,e,r){let o=t._path;o||(o=t._path=new Path2D,t.path(o,e,r)&&o.closePath()),OE(n,t.options),n.stroke(o)}function DD(n,t,e,r){const{segments:o,options:a}=t,l=n_(t);for(const c of o)OE(n,a,c.style),n.beginPath(),l(n,t,c,{start:e,end:e+r-1})&&n.closePath(),n.stroke()}const jD=typeof Path2D=="function";function PD(n,t,e,r){jD&&!t.options.segment?ND(n,t,e,r):DD(n,t,e,r)}class zd extends df{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const o=r.spanGaps?this._loop:this._fullLoop;RL(this._points,r,t,o,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=JL(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,r=t.length;return r&&e[t[r-1].end]}interpolate(t,e){const r=this.options,o=t[e],a=this.points,l=mE(this,{property:e,start:o,end:o});if(!l.length)return;const c=[],h=LD(r);let d,g;for(d=0,g=l.length;d<g;++d){const{start:y,end:b}=l[d],S=a[y],x=a[b];if(S===x){c.push(S);continue}const E=Math.abs((o-S[e])/(x[e]-S[e])),k=h(S,x,E,r.stepped);k[e]=t[e],c.push(k)}return c.length===1?c[0]:c}pathSegment(t,e,r){return n_(this)(t,this,e,r)}path(t,e,r){const o=this.segments,a=n_(this);let l=this._loop;e=e||0,r=r||this.points.length-e;for(const c of o)l&=a(t,this,c,{start:e,end:e+r-1});return!!l}draw(t,e,r,o){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),PD(t,this,r,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function xx(n,t,e,r){const o=n.options,{[e]:a}=n.getProps([e],r);return Math.abs(t-a)<o.radius+o.hitRadius}class RD extends df{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,r){const o=this.options,{x:a,y:l}=this.getProps(["x","y"],r);return Math.pow(t-a,2)+Math.pow(e-l,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,e){return xx(this,t,"x",e)}inYRange(t,e){return xx(this,t,"y",e)}getCenterPoint(t){const{x:e,y:r}=this.getProps(["x","y"],t);return{x:e,y:r}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const r=e&&t.borderWidth||0;return(e+r)*2}draw(t,e){const r=this.options;this.skip||r.radius<.1||!of(this,e,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,Jy(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function zD(n,t,e,r,o){const a=o.samples||r;if(a>=e)return n.slice(t,t+e);const l=[],c=(e-2)/(a-2);let h=0;const d=t+e-1;let g=t,y,b,S,x,E;for(l[h++]=n[g],y=0;y<a-2;y++){let k=0,C=0,M;const P=Math.floor((y+1)*c)+1+t,z=Math.min(Math.floor((y+2)*c)+1,e)+t,D=z-P;for(M=P;M<z;M++)k+=n[M].x,C+=n[M].y;k/=D,C/=D;const B=Math.floor(y*c)+1+t,R=Math.min(Math.floor((y+1)*c)+1,e)+t,{x:V,y:J}=n[g];for(S=x=-1,M=B;M<R;M++)x=.5*Math.abs((V-k)*(n[M].y-J)-(V-n[M].x)*(C-J)),x>S&&(S=x,b=n[M],E=M);l[h++]=b,g=E}return l[h++]=n[d],l}function BD(n,t,e,r){let o=0,a=0,l,c,h,d,g,y,b,S,x,E;const k=[],C=t+e-1,M=n[t].x,z=n[C].x-M;for(l=t;l<t+e;++l){c=n[l],h=(c.x-M)/z*r,d=c.y;const D=h|0;if(D===g)d<x?(x=d,y=l):d>E&&(E=d,b=l),o=(a*o+c.x)/++a;else{const B=l-1;if(!Ln(y)&&!Ln(b)){const R=Math.min(y,b),V=Math.max(y,b);R!==S&&R!==B&&k.push({...n[R],x:o}),V!==S&&V!==B&&k.push({...n[V],x:o})}l>0&&B!==S&&k.push(n[B]),k.push(c),g=D,a=0,x=E=d,y=b=S=l}}return k}function LE(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Sx(n){n.data.datasets.forEach(t=>{LE(t)})}function ID(n,t){const e=t.length;let r=0,o;const{iScale:a}=n,{min:l,max:c,minDefined:h,maxDefined:d}=a.getUserBounds();return h&&(r=Ur(ia(t,a.axis,l).lo,0,e-1)),d?o=Ur(ia(t,a.axis,c).hi+1,r,e)-r:o=e-r,{start:r,count:o}}var UD={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){Sx(n);return}const r=n.width;n.data.datasets.forEach((o,a)=>{const{_data:l,indexAxis:c}=o,h=n.getDatasetMeta(a),d=l||o.data;if(zc([c,n.options.indexAxis])==="y"||!h.controller.supportsDecimation)return;const g=n.scales[h.xAxisID];if(g.type!=="linear"&&g.type!=="time"||n.options.parsing)return;let{start:y,count:b}=ID(h,d);const S=e.threshold||4*r;if(b<=S){LE(o);return}Ln(l)&&(o._data=d,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(E){this._data=E}}));let x;switch(e.algorithm){case"lttb":x=zD(d,y,b,r,e);break;case"min-max":x=BD(d,y,b,r);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}o._decimated=x})},destroy(n){Sx(n)}};function FD(n,t,e){const r=n.segments,o=n.points,a=t.points,l=[];for(const c of r){let{start:h,end:d}=c;d=Bd(h,d,o);const g=i_(e,o[h],o[d],c.loop);if(!t.segments){l.push({source:c,target:g,start:o[h],end:o[d]});continue}const y=mE(t,g);for(const b of y){const S=i_(e,a[b.start],a[b.end],b.loop),x=pE(c,o,S);for(const E of x)l.push({source:E,target:b,start:{[e]:Ex(g,S,"start",Math.max)},end:{[e]:Ex(g,S,"end",Math.min)}})}}return l}function i_(n,t,e,r){if(r)return;let o=t[n],a=e[n];return n==="angle"&&(o=hs(o),a=hs(a)),{property:n,start:o,end:a}}function HD(n,t){const{x:e=null,y:r=null}=n||{},o=t.points,a=[];return t.segments.forEach(({start:l,end:c})=>{c=Bd(l,c,o);const h=o[l],d=o[c];r!==null?(a.push({x:h.x,y:r}),a.push({x:d.x,y:r})):e!==null&&(a.push({x:e,y:h.y}),a.push({x:e,y:d.y}))}),a}function Bd(n,t,e){for(;t>n;t--){const r=e[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function Ex(n,t,e,r){return n&&t?r(n[e],t[e]):n?n[e]:t?t[e]:0}function NE(n,t){let e=[],r=!1;return Ui(n)?(r=!0,e=n):e=HD(n,t),e.length?new zd({points:e,options:{tension:0},_loop:r,_fullLoop:r}):null}function Tx(n){return n&&n.fill!==!1}function qD(n,t,e){let o=n[t].fill;const a=[t];let l;if(!e)return o;for(;o!==!1&&a.indexOf(o)===-1;){if(!cr(o))return o;if(l=n[o],!l)return!1;if(l.visible)return o;a.push(o),o=l.fill}return!1}function VD(n,t,e){const r=WD(n);if(mn(r))return isNaN(r.value)?!1:r;let o=parseFloat(r);return cr(o)&&Math.floor(o)===o?YD(r[0],t,o,e):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function YD(n,t,e,r){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=r?!1:e}function ZD(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:mn(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function KD(n,t,e){let r;return n==="start"?r=e:n==="end"?r=t.options.reverse?t.min:t.max:mn(n)?r=n.value:r=t.getBaseValue(),r}function WD(n){const t=n.options,e=t.fill;let r=Rn(e&&e.target,e);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function XD(n){const{scale:t,index:e,line:r}=n,o=[],a=r.segments,l=r.points,c=GD(t,e);c.push(NE({x:null,y:t.bottom},r));for(let h=0;h<a.length;h++){const d=a[h];for(let g=d.start;g<=d.end;g++)$D(o,l[g],c)}return new zd({points:o,options:{}})}function GD(n,t){const e=[],r=n.getMatchingVisibleMetas("line");for(let o=0;o<r.length;o++){const a=r[o];if(a.index===t)break;a.hidden||e.unshift(a.dataset)}return e}function $D(n,t,e){const r=[];for(let o=0;o<e.length;o++){const a=e[o],{first:l,last:c,point:h}=QD(a,t,"x");if(!(!h||l&&c)){if(l)r.unshift(h);else if(n.push(h),!c)break}}n.push(...r)}function QD(n,t,e){const r=n.interpolate(t,e);if(!r)return{};const o=r[e],a=n.segments,l=n.points;let c=!1,h=!1;for(let d=0;d<a.length;d++){const g=a[d],y=l[g.start][e],b=l[g.end][e];if(eE(o,y,b)){c=o===y,h=o===b;break}}return{first:c,last:h,point:r}}class DE{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,r){const{x:o,y:a,radius:l}=this;return e=e||{start:0,end:_s},t.arc(o,a,l,e.end,e.start,!0),!r.bounds}interpolate(t){const{x:e,y:r,radius:o}=this,a=t.angle;return{x:e+Math.cos(a)*o,y:r+Math.sin(a)*o,angle:a}}}function JD(n){const{chart:t,fill:e,line:r}=n;if(cr(e))return tj(t,e);if(e==="stack")return XD(n);if(e==="shape")return!0;const o=ej(n);return o instanceof DE?o:NE(o,r)}function tj(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function ej(n){return(n.scale||{}).getPointPositionForValue?ij(n):nj(n)}function nj(n){const{scale:t={},fill:e}=n,r=ZD(e,t);if(cr(r)){const o=t.isHorizontal();return{x:o?r:null,y:o?null:r}}return null}function ij(n){const{scale:t,fill:e}=n,r=t.options,o=t.getLabels().length,a=r.reverse?t.max:t.min,l=KD(e,t,a),c=[];if(r.grid.circular){const h=t.getPointPositionForValue(0,a);return new DE({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(l)})}for(let h=0;h<o;++h)c.push(t.getPointPositionForValue(h,l));return c}function Um(n,t,e){const r=JD(t),{chart:o,index:a,line:l,scale:c,axis:h}=t,d=l.options,g=d.fill,y=d.backgroundColor,{above:b=y,below:S=y}=g||{},x=o.getDatasetMeta(a),E=gE(o,x);r&&l.points.length&&(P_(n,e),rj(n,{line:l,target:r,above:b,below:S,area:e,scale:c,axis:h,clip:E}),R_(n))}function rj(n,t){const{line:e,target:r,above:o,below:a,area:l,scale:c,clip:h}=t,d=e._loop?"angle":t.axis;n.save();let g=a;a!==o&&(d==="x"?(Ax(n,r,l.top),Fm(n,{line:e,target:r,color:o,scale:c,property:d,clip:h}),n.restore(),n.save(),Ax(n,r,l.bottom)):d==="y"&&(kx(n,r,l.left),Fm(n,{line:e,target:r,color:a,scale:c,property:d,clip:h}),n.restore(),n.save(),kx(n,r,l.right),g=o)),Fm(n,{line:e,target:r,color:g,scale:c,property:d,clip:h}),n.restore()}function Ax(n,t,e){const{segments:r,points:o}=t;let a=!0,l=!1;n.beginPath();for(const c of r){const{start:h,end:d}=c,g=o[h],y=o[Bd(h,d,o)];a?(n.moveTo(g.x,g.y),a=!1):(n.lineTo(g.x,e),n.lineTo(g.x,g.y)),l=!!t.pathSegment(n,c,{move:l}),l?n.closePath():n.lineTo(y.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function kx(n,t,e){const{segments:r,points:o}=t;let a=!0,l=!1;n.beginPath();for(const c of r){const{start:h,end:d}=c,g=o[h],y=o[Bd(h,d,o)];a?(n.moveTo(g.x,g.y),a=!1):(n.lineTo(e,g.y),n.lineTo(g.x,g.y)),l=!!t.pathSegment(n,c,{move:l}),l?n.closePath():n.lineTo(e,y.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function Fm(n,t){const{line:e,target:r,property:o,color:a,scale:l,clip:c}=t,h=FD(e,r,o);for(const{source:d,target:g,start:y,end:b}of h){const{style:{backgroundColor:S=a}={}}=d,x=r!==!0;n.save(),n.fillStyle=S,oj(n,l,c,x&&i_(o,y,b)),n.beginPath();const E=!!e.pathSegment(n,d);let k;if(x){E?n.closePath():Mx(n,r,b,o);const C=!!r.pathSegment(n,g,{move:E,reverse:!0});k=E&&C,k||Mx(n,r,y,o)}n.closePath(),n.fill(k?"evenodd":"nonzero"),n.restore()}}function oj(n,t,e,r){const o=t.chart.chartArea,{property:a,start:l,end:c}=r||{};if(a==="x"||a==="y"){let h,d,g,y;a==="x"?(h=l,d=o.top,g=c,y=o.bottom):(h=o.left,d=l,g=o.right,y=c),n.beginPath(),e&&(h=Math.max(h,e.left),g=Math.min(g,e.right),d=Math.max(d,e.top),y=Math.min(y,e.bottom)),n.rect(h,d,g-h,y-d),n.clip()}}function Mx(n,t,e,r){const o=t.interpolate(e,r);o&&n.lineTo(o.x,o.y)}var sj={id:"filler",afterDatasetsUpdate(n,t,e){const r=(n.data.datasets||[]).length,o=[];let a,l,c,h;for(l=0;l<r;++l)a=n.getDatasetMeta(l),c=a.dataset,h=null,c&&c.options&&c instanceof zd&&(h={visible:n.isDatasetVisible(l),index:l,fill:VD(c,l,r),chart:n,axis:a.controller.options.indexAxis,scale:a.vScale,line:c}),a.$filler=h,o.push(h);for(l=0;l<r;++l)h=o[l],!(!h||h.fill===!1)&&(h.fill=qD(o,l,e.propagate))},beforeDraw(n,t,e){const r=e.drawTime==="beforeDraw",o=n.getSortedVisibleDatasetMetas(),a=n.chartArea;for(let l=o.length-1;l>=0;--l){const c=o[l].$filler;c&&(c.line.updateControlPoints(a,c.axis),r&&c.fill&&Um(n.ctx,c,a))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const r=n.getSortedVisibleDatasetMetas();for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;Tx(a)&&Um(n.ctx,a,n.chartArea)}},beforeDatasetDraw(n,t,e){const r=t.meta.$filler;!Tx(r)||e.drawTime!=="beforeDatasetDraw"||Um(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ic={average(n){if(!n.length)return!1;let t,e,r=new Set,o=0,a=0;for(t=0,e=n.length;t<e;++t){const c=n[t].element;if(c&&c.hasValue()){const h=c.tooltipPosition();r.add(h.x),o+=h.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((c,h)=>c+h)/r.size,y:o/a}},nearest(n,t){if(!n.length)return!1;let e=t.x,r=t.y,o=Number.POSITIVE_INFINITY,a,l,c;for(a=0,l=n.length;a<l;++a){const h=n[a].element;if(h&&h.hasValue()){const d=h.getCenterPoint(),g=$y(t,d);g<o&&(o=g,c=h)}}if(c){const h=c.tooltipPosition();e=h.x,r=h.y}return{x:e,y:r}}};function us(n,t){return t&&(Ui(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Qs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function aj(n,t){const{element:e,datasetIndex:r,index:o}=t,a=n.getDatasetMeta(r).controller,{label:l,value:c}=a.getLabelAndValue(o);return{chart:n,label:l,parsed:a.getParsed(o),raw:n.data.datasets[r].data[o],formattedValue:c,dataset:a.getDataset(),dataIndex:o,datasetIndex:r,element:e}}function Ox(n,t){const e=n.chart.ctx,{body:r,footer:o,title:a}=n,{boxWidth:l,boxHeight:c}=t,h=ys(t.bodyFont),d=ys(t.titleFont),g=ys(t.footerFont),y=a.length,b=o.length,S=r.length,x=$a(t.padding);let E=x.height,k=0,C=r.reduce((z,D)=>z+D.before.length+D.lines.length+D.after.length,0);if(C+=n.beforeBody.length+n.afterBody.length,y&&(E+=y*d.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),C){const z=t.displayColors?Math.max(c,h.lineHeight):h.lineHeight;E+=S*z+(C-S)*h.lineHeight+(C-1)*t.bodySpacing}b&&(E+=t.footerMarginTop+b*g.lineHeight+(b-1)*t.footerSpacing);let M=0;const P=function(z){k=Math.max(k,e.measureText(z).width+M)};return e.save(),e.font=d.string,Cn(n.title,P),e.font=h.string,Cn(n.beforeBody.concat(n.afterBody),P),M=t.displayColors?l+2+t.boxPadding:0,Cn(r,z=>{Cn(z.before,P),Cn(z.lines,P),Cn(z.after,P)}),M=0,e.font=g.string,Cn(n.footer,P),e.restore(),k+=x.width,{width:k,height:E}}function lj(n,t){const{y:e,height:r}=t;return e<r/2?"top":e>n.height-r/2?"bottom":"center"}function uj(n,t,e,r){const{x:o,width:a}=r,l=e.caretSize+e.caretPadding;if(n==="left"&&o+a+l>t.width||n==="right"&&o-a-l<0)return!0}function cj(n,t,e,r){const{x:o,width:a}=e,{width:l,chartArea:{left:c,right:h}}=n;let d="center";return r==="center"?d=o<=(c+h)/2?"left":"right":o<=a/2?d="left":o>=l-a/2&&(d="right"),uj(d,n,t,e)&&(d="center"),d}function Cx(n,t,e){const r=e.yAlign||t.yAlign||lj(n,e);return{xAlign:e.xAlign||t.xAlign||cj(n,t,e,r),yAlign:r}}function fj(n,t){let{x:e,width:r}=n;return t==="right"?e-=r:t==="center"&&(e-=r/2),e}function hj(n,t,e){let{y:r,height:o}=n;return t==="top"?r+=e:t==="bottom"?r-=o+e:r-=o/2,r}function Lx(n,t,e,r){const{caretSize:o,caretPadding:a,cornerRadius:l}=n,{xAlign:c,yAlign:h}=e,d=o+a,{topLeft:g,topRight:y,bottomLeft:b,bottomRight:S}=ud(l);let x=fj(t,c);const E=hj(t,h,d);return h==="center"?c==="left"?x+=d:c==="right"&&(x-=d):c==="left"?x-=Math.max(g,b)+o:c==="right"&&(x+=Math.max(y,S)+o),{x:Ur(x,0,r.width-t.width),y:Ur(E,0,r.height-t.height)}}function Oh(n,t,e){const r=$a(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-r.right:n.x+r.left}function Nx(n){return us([],Qs(n))}function dj(n,t,e){return Ul(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Dx(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const jE={beforeTitle:Ks,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,r=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return e[t.dataIndex]}return""},afterTitle:Ks,beforeBody:Ks,beforeLabel:Ks,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Ln(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ks,afterBody:Ks,beforeFooter:Ks,footer:Ks,afterFooter:Ks};function Rr(n,t,e,r){const o=n[t].call(e,r);return typeof o>"u"?jE[t].call(e,r):o}class jx extends df{static positioners=Ic;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&e.options.animation&&r.animations,a=new yE(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=dj(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:r}=e,o=Rr(r,"beforeTitle",this,t),a=Rr(r,"title",this,t),l=Rr(r,"afterTitle",this,t);let c=[];return c=us(c,Qs(o)),c=us(c,Qs(a)),c=us(c,Qs(l)),c}getBeforeBody(t,e){return Nx(Rr(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:r}=e,o=[];return Cn(t,a=>{const l={before:[],lines:[],after:[]},c=Dx(r,a);us(l.before,Qs(Rr(c,"beforeLabel",this,a))),us(l.lines,Rr(c,"label",this,a)),us(l.after,Qs(Rr(c,"afterLabel",this,a))),o.push(l)}),o}getAfterBody(t,e){return Nx(Rr(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:r}=e,o=Rr(r,"beforeFooter",this,t),a=Rr(r,"footer",this,t),l=Rr(r,"afterFooter",this,t);let c=[];return c=us(c,Qs(o)),c=us(c,Qs(a)),c=us(c,Qs(l)),c}_createItems(t){const e=this._active,r=this.chart.data,o=[],a=[],l=[];let c=[],h,d;for(h=0,d=e.length;h<d;++h)c.push(aj(this.chart,e[h]));return t.filter&&(c=c.filter((g,y,b)=>t.filter(g,y,b,r))),t.itemSort&&(c=c.sort((g,y)=>t.itemSort(g,y,r))),Cn(c,g=>{const y=Dx(t.callbacks,g);o.push(Rr(y,"labelColor",this,g)),a.push(Rr(y,"labelPointStyle",this,g)),l.push(Rr(y,"labelTextColor",this,g))}),this.labelColors=o,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(t,e){const r=this.options.setContext(this.getContext()),o=this._active;let a,l=[];if(!o.length)this.opacity!==0&&(a={opacity:0});else{const c=Ic[r.position].call(this,o,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const h=this._size=Ox(this,r),d=Object.assign({},c,h),g=Cx(this.chart,r,d),y=Lx(r,d,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,a={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,r,o){const a=this.getCaretPosition(t,r,o);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,r){const{xAlign:o,yAlign:a}=this,{caretSize:l,cornerRadius:c}=r,{topLeft:h,topRight:d,bottomLeft:g,bottomRight:y}=ud(c),{x:b,y:S}=t,{width:x,height:E}=e;let k,C,M,P,z,D;return a==="center"?(z=S+E/2,o==="left"?(k=b,C=k-l,P=z+l,D=z-l):(k=b+x,C=k+l,P=z-l,D=z+l),M=k):(o==="left"?C=b+Math.max(h,g)+l:o==="right"?C=b+x-Math.max(d,y)-l:C=this.caretX,a==="top"?(P=S,z=P-l,k=C-l,M=C+l):(P=S+E,z=P+l,k=C+l,M=C-l),D=P),{x1:k,x2:C,x3:M,y1:P,y2:z,y3:D}}drawTitle(t,e,r){const o=this.title,a=o.length;let l,c,h;if(a){const d=Dm(r.rtl,this.x,this.width);for(t.x=Oh(this,r.titleAlign,r),e.textAlign=d.textAlign(r.titleAlign),e.textBaseline="middle",l=ys(r.titleFont),c=r.titleSpacing,e.fillStyle=r.titleColor,e.font=l.string,h=0;h<a;++h)e.fillText(o[h],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+c,h+1===a&&(t.y+=r.titleMarginBottom-c)}}_drawColorBox(t,e,r,o,a){const l=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:h,boxWidth:d}=a,g=ys(a.bodyFont),y=Oh(this,"left",a),b=o.x(y),S=h<g.lineHeight?(g.lineHeight-h)/2:0,x=e.y+S;if(a.usePointStyle){const E={radius:Math.min(d,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},k=o.leftForLtr(b,d)+d/2,C=x+h/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,Jy(t,E,k,C),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,Jy(t,E,k,C)}else{t.lineWidth=mn(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const E=o.leftForLtr(b,d),k=o.leftForLtr(o.xPlus(b,1),d-2),C=ud(l.borderRadius);Object.values(C).some(M=>M!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,Hw(t,{x:E,y:x,w:d,h,radius:C}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Hw(t,{x:k,y:x+1,w:d-2,h:h-2,radius:C}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(E,x,d,h),t.strokeRect(E,x,d,h),t.fillStyle=l.backgroundColor,t.fillRect(k,x+1,d-2,h-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,e,r){const{body:o}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:h,boxWidth:d,boxPadding:g}=r,y=ys(r.bodyFont);let b=y.lineHeight,S=0;const x=Dm(r.rtl,this.x,this.width),E=function(V){e.fillText(V,x.x(t.x+S),t.y+b/2),t.y+=b+a},k=x.textAlign(l);let C,M,P,z,D,B,R;for(e.textAlign=l,e.textBaseline="middle",e.font=y.string,t.x=Oh(this,k,r),e.fillStyle=r.bodyColor,Cn(this.beforeBody,E),S=c&&k!=="right"?l==="center"?d/2+g:d+2+g:0,z=0,B=o.length;z<B;++z){for(C=o[z],M=this.labelTextColors[z],e.fillStyle=M,Cn(C.before,E),P=C.lines,c&&P.length&&(this._drawColorBox(e,t,z,x,r),b=Math.max(y.lineHeight,h)),D=0,R=P.length;D<R;++D)E(P[D]),b=y.lineHeight;Cn(C.after,E)}S=0,b=y.lineHeight,Cn(this.afterBody,E),t.y-=a}drawFooter(t,e,r){const o=this.footer,a=o.length;let l,c;if(a){const h=Dm(r.rtl,this.x,this.width);for(t.x=Oh(this,r.footerAlign,r),t.y+=r.footerMarginTop,e.textAlign=h.textAlign(r.footerAlign),e.textBaseline="middle",l=ys(r.footerFont),e.fillStyle=r.footerColor,e.font=l.string,c=0;c<a;++c)e.fillText(o[c],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+r.footerSpacing}}drawBackground(t,e,r,o){const{xAlign:a,yAlign:l}=this,{x:c,y:h}=t,{width:d,height:g}=r,{topLeft:y,topRight:b,bottomLeft:S,bottomRight:x}=ud(o.cornerRadius);e.fillStyle=o.backgroundColor,e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.beginPath(),e.moveTo(c+y,h),l==="top"&&this.drawCaret(t,e,r,o),e.lineTo(c+d-b,h),e.quadraticCurveTo(c+d,h,c+d,h+b),l==="center"&&a==="right"&&this.drawCaret(t,e,r,o),e.lineTo(c+d,h+g-x),e.quadraticCurveTo(c+d,h+g,c+d-x,h+g),l==="bottom"&&this.drawCaret(t,e,r,o),e.lineTo(c+S,h+g),e.quadraticCurveTo(c,h+g,c,h+g-S),l==="center"&&a==="left"&&this.drawCaret(t,e,r,o),e.lineTo(c,h+y),e.quadraticCurveTo(c,h,c+y,h),e.closePath(),e.fill(),o.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,r=this.$animations,o=r&&r.x,a=r&&r.y;if(o||a){const l=Ic[t.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=Ox(this,t),h=Object.assign({},l,this._size),d=Cx(e,t,h),g=Lx(t,h,d,e);(o._to!==g.x||a._to!==g.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(e);const o={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=$a(e.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&c&&(t.save(),t.globalAlpha=r,this.drawBackground(a,t,o,e),WL(t,e.textDirection),a.y+=l.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),XL(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const r=this._active,o=t.map(({datasetIndex:c,index:h})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[h],index:h}}),a=!_d(r,o),l=this._positionChanged(o,e);(a||l)&&(this._active=o,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,r=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,a=this._active||[],l=this._getActiveElements(t,a,e,r),c=this._positionChanged(l,t),h=e||!_d(l,a)||c;return h&&(this._active=l,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),h}_getActiveElements(t,e,r,o){const a=this.options;if(t.type==="mouseout")return[];if(!o)return e.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,a.mode,a,r);return a.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:r,caretY:o,options:a}=this,l=Ic[a.position].call(this,t,e);return l!==!1&&(r!==l.x||o!==l.y)}}var pj={id:"tooltip",_element:jx,positioners:Ic,afterInit(n,t,e){e&&(n.tooltip=new jx({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:jE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const mj=(n,t,e,r)=>(typeof t=="string"?(e=n.push(t)-1,r.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function gj(n,t,e,r){const o=n.indexOf(t);if(o===-1)return mj(n,t,e,r);const a=n.lastIndexOf(t);return o!==a?e:o}const yj=(n,t)=>n===null?null:Ur(Math.round(n),0,t);function Px(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class _j extends ju{static id="category";static defaults={ticks:{callback:Px}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const r=this.getLabels();for(const{index:o,label:a}of e)r[o]===a&&r.splice(o,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Ln(t))return null;const r=this.getLabels();return e=isFinite(e)&&r[e]===t?e:gj(r,t,Rn(e,t),this._addedLabels),yj(e,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:r,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),e||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){const t=this.min,e=this.max,r=this.options.offset,o=[];let a=this.getLabels();a=t===0&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=t;l<=e;l++)o.push({value:l});return o}getLabelForValue(t){return Px.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function bj(n,t){const e=[],{bounds:o,step:a,min:l,max:c,precision:h,count:d,maxTicks:g,maxDigits:y,includeBounds:b}=n,S=a||1,x=g-1,{min:E,max:k}=t,C=!Ln(l),M=!Ln(c),P=!Ln(d),z=(k-E)/(y+1);let D=Lw((k-E)/x/S)*S,B,R,V,J;if(D<1e-14&&!C&&!M)return[{value:E},{value:k}];J=Math.ceil(k/D)-Math.floor(E/D),J>x&&(D=Lw(J*D/x/S)*S),Ln(h)||(B=Math.pow(10,h),D=Math.ceil(D*B)/B),o==="ticks"?(R=Math.floor(E/D)*D,V=Math.ceil(k/D)*D):(R=E,V=k),C&&M&&a&&I3((c-l)/a,D/1e3)?(J=Math.round(Math.min((c-l)/D,g)),D=(c-l)/J,R=l,V=c):P?(R=C?l:R,V=M?c:V,J=d-1,D=(V-R)/J):(J=(V-R)/D,Wc(J,Math.round(J),D/1e3)?J=Math.round(J):J=Math.ceil(J));const tt=Math.max(Nw(D),Nw(R));B=Math.pow(10,Ln(h)?tt:h),R=Math.round(R*B)/B,V=Math.round(V*B)/B;let st=0;for(C&&(b&&R!==l?(e.push({value:l}),R<l&&st++,Wc(Math.round((R+st*D)*B)/B,l,Rx(l,z,n))&&st++):R<l&&st++);st<J;++st){const G=Math.round((R+st*D)*B)/B;if(M&&G>c)break;e.push({value:G})}return M&&b&&V!==c?e.length&&Wc(e[e.length-1].value,c,Rx(c,z,n))?e[e.length-1].value=c:e.push({value:c}):(!M||V===c)&&e.push({value:V}),e}function Rx(n,t,{horizontal:e,minRotation:r}){const o=Ll(r),a=(e?Math.sin(o):Math.cos(o))||.001,l=.75*t*(""+n).length;return Math.min(t/a,l)}class vj extends ju{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Ln(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:o,max:a}=this;const l=h=>o=e?o:h,c=h=>a=r?a:h;if(t){const h=ku(o),d=ku(a);h<0&&d<0?c(0):h>0&&d>0&&l(0)}if(o===a){let h=a===0?1:Math.abs(a*.05);c(a+h),t||l(o-h)}this.min=o,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:r}=t,o;return r?(o=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),e=e||11),e&&(o=Math.min(e,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const o={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,l=bj(o,a);return t.bounds==="ticks"&&U3(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const o=(r-e)/Math.max(t.length-1,1)/2;e-=o,r+=o}this._startValue=e,this._endValue=r,this._valueRange=r-e}getLabelForValue(t){return oE(t,this.chart.options.locale,this.options.ticks.format)}}class wj extends vj{static id="linear";static defaults={ticks:{callback:sE.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=cr(t)?t:0,this.max=cr(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,r=Ll(this.options.ticks.minRotation),o=(t?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/o))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Id={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ir=Object.keys(Id);function zx(n,t){return n-t}function Bx(n,t){if(Ln(t))return null;const e=n._adapter,{parser:r,round:o,isoWeekday:a}=n._parseOpts;let l=t;return typeof r=="function"&&(l=r(l)),cr(l)||(l=typeof r=="string"?e.parse(l,r):e.parse(l)),l===null?null:(o&&(l=o==="week"&&(rf(a)||a===!0)?e.startOf(l,"isoWeek",a):e.startOf(l,o)),+l)}function Ix(n,t,e,r){const o=Ir.length;for(let a=Ir.indexOf(n);a<o-1;++a){const l=Id[Ir[a]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(c*l.size))<=r)return Ir[a]}return Ir[o-1]}function xj(n,t,e,r,o){for(let a=Ir.length-1;a>=Ir.indexOf(e);a--){const l=Ir[a];if(Id[l].common&&n._adapter.diff(o,r,l)>=t-1)return l}return Ir[e?Ir.indexOf(e):0]}function Sj(n){for(let t=Ir.indexOf(n)+1,e=Ir.length;t<e;++t)if(Id[Ir[t]].common)return Ir[t]}function Ux(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:r,hi:o}=D_(e,t),a=e[r]>=t?e[r]:e[o];n[a]=!0}}function Ej(n,t,e,r){const o=n._adapter,a=+o.startOf(t[0].value,r),l=t[t.length-1].value;let c,h;for(c=a;c<=l;c=+o.add(c,1,r))h=e[c],h>=0&&(t[h].major=!0);return t}function Fx(n,t,e){const r=[],o={},a=t.length;let l,c;for(l=0;l<a;++l)c=t[l],o[c]=l,r.push({value:c,major:!1});return a===0||!e?r:Ej(n,r,o,e)}class Hx extends ju{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const r=t.time||(t.time={}),o=this._adapter=new _N._date(t.adapters.date);o.init(e),Kc(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Bx(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,r=t.time.unit||"day";let{min:o,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function h(d){!l&&!isNaN(d.min)&&(o=Math.min(o,d.min)),!c&&!isNaN(d.max)&&(a=Math.max(a,d.max))}(!l||!c)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),o=cr(o)&&!isNaN(o)?o:+e.startOf(Date.now(),r),a=cr(a)&&!isNaN(a)?a:+e.endOf(Date.now(),r)+1,this.min=Math.min(o,a-1),this.max=Math.max(o+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],r=t[t.length-1]),{min:e,max:r}}buildTicks(){const t=this.options,e=t.time,r=t.ticks,o=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const a=this.min,l=this.max,c=Z3(o,a,l);return this._unit=e.unit||(r.autoSkip?Ix(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):xj(this,c.length,e.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Sj(this._unit),this.initOffsets(o),t.reverse&&c.reverse(),Fx(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,r=0,o,a;this.options.offset&&t.length&&(o=this.getDecimalForValue(t[0]),t.length===1?e=1-o:e=(this.getDecimalForValue(t[1])-o)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?r=a:r=(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=Ur(e,0,l),r=Ur(r,0,l),this._offsets={start:e,end:r,factor:1/(e+1+r)}}_generate(){const t=this._adapter,e=this.min,r=this.max,o=this.options,a=o.time,l=a.unit||Ix(a.minUnit,e,r,this._getLabelCapacity(e)),c=Rn(o.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,d=rf(h)||h===!0,g={};let y=e,b,S;if(d&&(y=+t.startOf(y,"isoWeek",h)),y=+t.startOf(y,d?"day":l),t.diff(r,e,l)>1e5*c)throw new Error(e+" and "+r+" are too far apart with stepSize of "+c+" "+l);const x=o.ticks.source==="data"&&this.getDataTimestamps();for(b=y,S=0;b<r;b=+t.add(b,c,l),S++)Ux(g,b,x);return(b===r||o.bounds==="ticks"||S===1)&&Ux(g,b,x),Object.keys(g).sort(zx).map(E=>+E)}getLabelForValue(t){const e=this._adapter,r=this.options.time;return r.tooltipFormat?e.format(t,r.tooltipFormat):e.format(t,r.displayFormats.datetime)}format(t,e){const o=this.options.time.displayFormats,a=this._unit,l=e||o[a];return this._adapter.format(t,l)}_tickFormatFunction(t,e,r,o){const a=this.options,l=a.ticks.callback;if(l)return gi(l,[t,e,r],this);const c=a.time.displayFormats,h=this._unit,d=this._majorUnit,g=h&&c[h],y=d&&c[d],b=r[e],S=d&&y&&b&&b.major;return this._adapter.format(t,o||(S?y:g))}generateTickLabels(t){let e,r,o;for(e=0,r=t.length;e<r;++e)o=t[e],o.label=this._tickFormatFunction(o.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+r)*e.factor)}getValueForPixel(t){const e=this._offsets,r=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,r=this.ctx.measureText(t).width,o=Ll(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(o),l=Math.sin(o),c=this._resolveTickFontOptions(0).size;return{w:r*a+c*l,h:r*l+c*a}}_getLabelCapacity(t){const e=this.options.time,r=e.displayFormats,o=r[e.unit]||r.millisecond,a=this._tickFormatFunction(t,0,Fx(this,[t],this._majorUnit),o),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],e,r;if(t.length)return t;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(e=0,r=o.length;e<r;++e)t=t.concat(o[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,r;if(t.length)return t;const o=this.getLabels();for(e=0,r=o.length;e<r;++e)t.push(Bx(this,o[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return W3(t.sort(zx))}}function Ch(n,t,e){let r=0,o=n.length-1,a,l,c,h;e?(t>=n[r].pos&&t<=n[o].pos&&({lo:r,hi:o}=ia(n,"pos",t)),{pos:a,time:c}=n[r],{pos:l,time:h}=n[o]):(t>=n[r].time&&t<=n[o].time&&({lo:r,hi:o}=ia(n,"time",t)),{time:a,pos:c}=n[r],{time:l,pos:h}=n[o]);const d=l-a;return d?c+(h-c)*(t-a)/d:c}class Jz extends Hx{static id="timeseries";static defaults=Hx.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Ch(e,this.min),this._tableRange=Ch(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:r}=this,o=[],a=[];let l,c,h,d,g;for(l=0,c=t.length;l<c;++l)d=t[l],d>=e&&d<=r&&o.push(d);if(o.length<2)return[{time:e,pos:0},{time:r,pos:1}];for(l=0,c=o.length;l<c;++l)g=o[l+1],h=o[l-1],d=o[l],Math.round((g+h)/2)!==d&&a.push({time:d,pos:l/(c-1)});return a}_generate(){const t=this.min,e=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(e)||r.length===1)&&r.push(e),r.sort((o,a)=>o-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),r=this.getLabelTimestamps();return e.length&&r.length?t=this.normalize(e.concat(r)):t=e.length?e:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Ch(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,r=this.getDecimalForPixel(t)/e.factor-e.end;return Ch(this._table,r*this._tableRange+this._minPos,!0)}}const PE="label";function qx(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function Tj(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function RE(n,t){n.labels=t}function zE(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:PE;const r=[];n.datasets=t.map(o=>{const a=n.datasets.find(l=>l[e]===o[e]);return!a||!o.data||r.includes(a)?{...o}:(r.push(a),Object.assign(a,o),a)})}function Aj(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PE;const e={labels:[],datasets:[]};return RE(e,n.labels),zE(e,n.datasets,t),e}function kj(n,t){const{height:e=150,width:r=300,redraw:o=!1,datasetIdKey:a,type:l,data:c,options:h,plugins:d=[],fallbackContent:g,updateMode:y,...b}=n,S=Ce.useRef(null),x=Ce.useRef(null),E=()=>{S.current&&(x.current=new Rd(S.current,{type:l,data:Aj(c,a),options:h&&{...h},plugins:d}),qx(t,x.current))},k=()=>{qx(t,null),x.current&&(x.current.destroy(),x.current=null)};return Ce.useEffect(()=>{!o&&x.current&&h&&Tj(x.current,h)},[o,h]),Ce.useEffect(()=>{!o&&x.current&&RE(x.current.config.data,c.labels)},[o,c.labels]),Ce.useEffect(()=>{!o&&x.current&&c.datasets&&zE(x.current.config.data,c.datasets,a)},[o,c.datasets]),Ce.useEffect(()=>{x.current&&(o?(k(),setTimeout(E)):x.current.update(y))},[o,h,c.labels,c.datasets,y]),Ce.useEffect(()=>{x.current&&(k(),setTimeout(E))},[l]),Ce.useEffect(()=>(E(),()=>k()),[]),na.createElement("canvas",{ref:S,role:"img",height:e,width:r,...b},g)}const Mj=Ce.forwardRef(kj);function Oj(n,t){return Rd.register(t),Ce.forwardRef((e,r)=>na.createElement(Mj,{...e,ref:r,type:n}))}const Cj=Oj("line",yN);Rd.register(zd,wj,RD,_j,sj,pj,UD);function Hm({label:n,series:t=[],value:e,xWindow:r=10,yMin:o=0,yMax:a=100,decimateSamples:l}){const c=k=>Array.isArray(k)&&k.length?k[k.length-1]:null,h=Number.isFinite(e)?e:c(t)??0,d=Nj(h,o,a),g=Array.isArray(t)?typeof r=="number"&&r>0?t.slice(-r):t:[],y=g.map((k,C)=>C),b=jj(d),S=Pj(b).join(","),x={labels:y,datasets:[{data:g,borderColor:b,backgroundColor:`rgba(${S},0.16)`,fill:!0,tension:.35,pointRadius:0,borderWidth:1.5}]},E={responsive:!0,maintainAspectRatio:!1,scales:{x:{display:!1},y:{display:!1,min:o,max:a}},plugins:{legend:{display:!1},tooltip:{enabled:!1},decimation:l?{enabled:!0,algorithm:"lttb",samples:l}:{enabled:!1}},animation:!1};return X.jsxs("div",{className:"relative w-full h-24 rounded-xl overflow-hidden ring-1 ring-white/20 bg-[#0f172a] shadow-sm","aria-label":`${n} ${d}%`,title:`${n} ${d}%`,children:[X.jsx("div",{className:"absolute inset-0",children:X.jsx(Cj,{data:x,options:E})}),X.jsx("div",{className:"absolute inset-0 px-3 py-2 flex items-start justify-center",children:X.jsxs("div",{className:"text-sm font-semibold",style:{color:b},children:[Dj(d),"%"]})})]})}function Lj({cpuSeries:n=[],emmcSeries:t=[],ramSeries:e=[],cpuValue:r,emmcValue:o,ramValue:a,xWindow:l,yMin:c=0,yMax:h=100,decimateSamples:d}){return X.jsx("div",{className:"h-36 col-span-4 bg-slate-900 rounded-xl ring-1 ring-slate-900/10 border border-white/10 bg-[#122033]/60 p-2 shadow-md",children:X.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[X.jsxs("div",{className:"flex flex-col items-center",children:[X.jsx("span",{className:"text-slate-200 text-lg",children:"CPU"}),X.jsx(Hm,{label:"CPU",series:n,value:r,xWindow:l,yMin:c,yMax:h,decimateSamples:d})]}),X.jsxs("div",{className:"flex flex-col items-center",children:[X.jsx("span",{className:"text-slate-200 text-lg",children:"eMMC"}),X.jsx(Hm,{label:"eMMC",series:t,value:o,xWindow:l,yMin:c,yMax:h,decimateSamples:d})]}),X.jsxs("div",{className:"flex flex-col items-center",children:[X.jsx("span",{className:"text-slate-200 text-lg",children:"RAM"}),X.jsx(Hm,{label:"RAM",series:e,value:a,xWindow:l,yMin:c,yMax:h,decimateSamples:d})]})]})})}function Nj(n,t,e){return Math.min(e,Math.max(t,n))}function Dj(n){return Math.round(n*10)/10}function jj(n){return n>=75?"#ef4444":n>=55?"#f59e0b":"#22c55e"}function Pj(n){const t=n.replace("#",""),e=parseInt(t.length===3?t.split("").map(r=>r+r).join(""):t,16);return[e>>16&255,e>>8&255,e&255]}function Rj({open:n,onClose:t,issues:e=[],title:r="정상 상태가 아닌 항목"}){return n?X.jsxs("div",{className:"fixed inset-0 z-[9999]",children:[X.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:t}),X.jsx("div",{className:"absolute inset-0 grid place-items-center p-4",children:X.jsxs("div",{className:"w-full max-w-lg rounded-2xl bg-[#0f172a] ring-1 ring-white/10 shadow-xl overflow-hidden",children:[X.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/10",children:[X.jsx("h3",{className:"text-slate-100 font-semibold",children:r}),X.jsx("button",{onClick:t,className:"p-1 rounded hover:bg-white/10","aria-label":"닫기",children:X.jsx(k_,{size:18})})]}),X.jsxs("div",{className:"p-4 text-sm",children:[e.length===0?X.jsx("div",{className:"text-emerald-300",children:"모든 항목이 정상입니다."}):X.jsx("ul",{className:"space-y-2",children:e.map((o,a)=>X.jsxs("li",{className:"flex items-start gap-2",children:[X.jsx(RC,{className:"mt-0.5",size:16}),X.jsx("span",{className:"text-slate-200",children:o})]},a))}),X.jsx("p",{className:"text-slate-400 text-xs mt-4",children:"* 항목은 장치가 보고한 상태를 바탕으로 계산됩니다."})]}),X.jsx("div",{className:"px-4 py-3 border-t border-white/10 flex justify-end",children:X.jsx("button",{onClick:t,className:"px-3 py-1.5 rounded bg-slate-700 hover:bg-slate-600 text-slate-100",children:"닫기"})})]})})]}):null}function Vx(n){if(!Number.isFinite(n))return null;const t=Date.UTC(2004,0,1),e=new Date(n*1e3),r=new Date(t+n*1e3),o=Date.now();return(l=>l.getFullYear()>=2004&&l.getFullYear()<=2100)(r)&&Math.abs(r-o)<=Math.abs(e-o)?r:e}function Yx(n){return n?new Date(n).toLocaleString():"정보 없음"}function zj({open:n,onClose:t,certificate:e,certDaysLeft:r}){if(!n)return null;const o=!!e?.ltev2x_cert_status_security_enable,a=Vx(Number(e?.ltev2x_cert_valid_start)),l=Vx(Number(e?.ltev2x_cert_valid_end)),c=Number.isFinite(r)?r>=0?`D-${r}`:`만료 ${-r}일`:"정보 없음";return X.jsxs("div",{className:"fixed inset-0 z-[9999]",children:[X.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:t}),X.jsx("div",{className:"absolute inset-0 grid place-items-center p-4",children:X.jsxs("div",{className:"w-full max-w-lg rounded-2xl bg-[#0f172a] ring-1 ring-white/10 shadow-xl overflow-hidden",children:[X.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/10",children:[X.jsxs("h3",{className:"text-slate-100 font-semibold flex items-center gap-2",children:[X.jsx(Y2,{size:18}),"인증서 정보"]}),X.jsx("button",{onClick:t,className:"p-1 rounded hover:bg-white/10","aria-label":"닫기",children:X.jsx(k_,{size:18})})]}),X.jsxs("div",{className:"p-4 space-y-3 text-sm text-slate-200",children:[X.jsxs("div",{className:"grid grid-cols-3 gap-y-2",children:[X.jsx("div",{className:"text-slate-400",children:"보안 기능"}),X.jsx("div",{className:"col-span-2",children:o?"활성화":"비활성화"}),X.jsx("div",{className:"text-slate-400",children:"유효 시작"}),X.jsx("div",{className:"col-span-2",children:Yx(a)}),X.jsx("div",{className:"text-slate-400",children:"유효 종료"}),X.jsx("div",{className:"col-span-2",children:Yx(l)}),X.jsx("div",{className:"text-slate-400",children:"만기"}),X.jsx("div",{className:"col-span-2",children:c})]}),X.jsx("div",{className:"mt-3 text-xs text-slate-400",children:"* 유효 기간 epoch는 플랫폼 설정에 따라 1970 또는 2004 기준일 수 있습니다."})]}),X.jsx("div",{className:"px-4 py-3 border-t border-white/10 flex justify-end",children:X.jsx("button",{onClick:t,className:"px-3 py-1.5 rounded bg-slate-700 hover:bg-slate-600 text-slate-100",children:"닫기"})})]})})]})}function Zx(n){if(!Number.isFinite(n))return null;const t=Date.UTC(2004,0,1),e=new Date(n*1e3),r=new Date(t+n*1e3),o=Date.now();return(l=>l.getFullYear()>=2004&&l.getFullYear()<=2100)(r)&&Math.abs(r-o)<=Math.abs(e-o)?r:e}function Kx(n){return n?new Date(n).toLocaleString():"정보 없음"}function sr(n,t){return X.jsxs("div",{className:"grid grid-cols-3 gap-y-1",children:[X.jsx("div",{className:"text-slate-400",children:n}),X.jsx("div",{className:"col-span-2",children:t})]})}function Bj({open:n,onClose:t,selected:e}){const[r,o]=Ce.useState(!1);if(!n)return null;const a=e?.serial??e?.id??"—",l=!!e?.active,c=Number.isFinite(e?.rssiDbm)?e.rssiDbm:null,h=Number.isFinite(e?.bars)?e.bars:0,d=e?.health,g=d&&typeof d=="object"?Number(d.healthPct??d.pct??0):Number.isFinite(d)?Number(d):0,y=Array.isArray(d?.issues)?d.issues:[],b=d?.flags&&typeof d.flags=="object"?d.flags:null,S=b?Object.entries(b).filter(([tt,st])=>st===!1).map(([tt])=>tt):[],x=Number.isFinite(e?.cpuTotalPct)?`${e.cpuTotalPct.toFixed(3)}%`:"—",E=Number.isFinite(e?.memUsedPct)?`${e.memUsedPct.toFixed(3)}%`:"—",k=Number.isFinite(e?.diskUsedPct)?`${e.diskUsedPct.toFixed(3)}%`:"—",C=Number.isFinite(e?.temperatureC)?`${e.temperatureC} ℃`:"—",M=e?.coords&&Number.isFinite(e.coords.lat)&&Number.isFinite(e.coords.lon)?`${e.coords.lat.toFixed(6)}, ${e.coords.lon.toFixed(6)}`:"—",P=e?.updatedAt?new Date(e.updatedAt).toLocaleString():"—",z=e?.__raw?.certificate??e?.certificate??null,D=!!z?.ltev2x_cert_status_security_enable,B=Kx(Zx(Number(z?.ltev2x_cert_valid_start))),R=Kx(Zx(Number(z?.ltev2x_cert_valid_end))),V=Number.isFinite(e?.certDaysLeft)?e.certDaysLeft>=0?`D-${e.certDaysLeft}`:`만료 ${-e.certDaysLeft}일`:"정보 없음",J=()=>{try{const tt=new Blob([JSON.stringify(e??{},null,2)],{type:"application/json"}),st=URL.createObjectURL(tt),G=document.createElement("a");G.href=st,G.download=`debug_${a}.json`,document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(st)}catch(tt){console.error("download failed:",tt)}};return X.jsxs("div",{className:"fixed inset-0 z-[9999]",children:[X.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:t}),X.jsx("div",{className:"absolute inset-0 grid place-items-center p-4",children:X.jsxs("div",{className:"w-full max-w-3xl rounded-2xl bg-[#0f172a] ring-1 ring-white/10 shadow-xl overflow-hidden",children:[X.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/10",children:[X.jsx("h3",{className:"text-slate-100 font-semibold",children:"디버그 정보"}),X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsxs("button",{onClick:J,className:"inline-flex items-center gap-1 px-2 py-1 rounded bg-slate-700 hover:bg-slate-600 text-slate-100 text-xs",title:"JSON 다운로드",children:[X.jsx(bC,{size:16}),"JSON 저장"]}),X.jsx("button",{onClick:t,className:"p-1 rounded hover:bg-white/10","aria-label":"닫기",children:X.jsx(k_,{size:18})})]})]}),X.jsxs("div",{className:"p-4 grid grid-cols-2 overflow-y-auto gap-4 text-sm text-slate-200",children:[X.jsxs("div",{className:"col-span-2 md:col-span-1 rounded-xl bg-[#0b1524] ring-1 ring-white/10 p-3 space-y-2",children:[X.jsx("div",{className:"font-semibold text-slate-100",children:"기본"}),sr("시리얼",a),sr("상태",l?"Active":"Inactive"),sr("최종 갱신",P)]}),X.jsxs("div",{className:"col-span-2 md:col-span-1 rounded-xl bg-[#0b1524] ring-1 ring-white/10 p-3 space-y-2",children:[X.jsx("div",{className:"font-semibold text-slate-100",children:"신호 / 위치"}),sr("RSSI(dBm)",c!=null?`${c} dBm`:"—"),sr("Bars",h),sr("좌표",M)]}),X.jsxs("div",{className:"col-span-2 md:col-span-1 rounded-xl bg-[#0b1524] ring-1 ring-white/10 p-3 space-y-2",children:[X.jsx("div",{className:"font-semibold text-slate-100",children:"Health"}),sr("정상 비율",`${g}%`),sr("이슈 개수",String(y.length||S.length)),(y.length>0||S.length>0)&&X.jsxs("div",{className:"mt-1",children:[X.jsx("div",{className:"text-slate-400 mb-1",children:"비정상 항목"}),X.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:(y.length?y:S).map((tt,st)=>X.jsx("li",{children:tt},st))})]})]}),X.jsxs("div",{className:"col-span-2 md:col-span-1 rounded-xl bg-[#0b1524] ring-1 ring-white/10 p-3 space-y-2",children:[X.jsx("div",{className:"font-semibold text-slate-100",children:"시스템 리소스"}),sr("CPU 사용률",x),sr("메모리 사용률",E),sr("스토리지 사용률",k),sr("온도",C)]}),X.jsxs("div",{className:"col-span-2 rounded-xl bg-[#0b1524] ring-1 ring-white/10 p-3 space-y-2",children:[X.jsx("div",{className:"font-semibold text-slate-100",children:"인증서"}),sr("보안 기능",z?D?"활성화":"비활성화":"정보 없음"),sr("유효 시작",z?B:"정보 없음"),sr("유효 종료",z?R:"정보 없음"),sr("만기",V),X.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"* 유효 기간 epoch는 플랫폼 설정에 따라 1970 또는 2004 기준일 수 있습니다."})]}),X.jsxs("div",{className:"col-span-2",children:[X.jsxs("button",{type:"button",onClick:()=>o(tt=>!tt),className:"inline-flex items-center gap-1 px-2 py-1 rounded ring-1 ring-white/10 bg-slate-700/40 hover:bg-slate-700/50 text-xs","aria-expanded":r,children:[r?X.jsx(dC,{size:14}):X.jsx(V2,{size:14}),"자세히(원본 JSON)"]}),r&&X.jsx("pre",{className:"mt-2 max-h-24 overflow-auto text-xs whitespace-pre-wrap bg-black/30 rounded p-3",children:JSON.stringify(e.__raw??{},null,2)})]})]}),X.jsx("div",{className:"px-4 py-3 border-t border-white/10 flex justify-end",children:X.jsx("button",{onClick:t,className:"px-3 py-1.5 rounded bg-slate-700 hover:bg-slate-600 text-slate-100",children:"닫기"})})]})})]})}function Ij(){const[n,t]=Ce.useState(!1),[e,r]=Ce.useState(null),o=Ya(g=>g.selectedId),a=Ya(g=>g.seriesById),l=Ya(g=>g.latestById),c=Ya(g=>g.setSelected),h=Ce.useMemo(()=>{const g=a?.[o]||{};return{cpu:Array.isArray(g.cpu)?g.cpu:[],emmc:Array.isArray(g.emmc)?g.emmc:[],ram:Array.isArray(g.ram)?g.ram:[]}},[a,o]),d=Ce.useMemo(()=>{const g=l?.[o]||{};return{cpu:Number.isFinite(g.cpu)?g.cpu:null,emmc:Number.isFinite(g.emmc)?g.emmc:null,ram:Number.isFinite(g.ram)?g.ram:null}},[l,o]);return X.jsx("div",{className:"grid w-full h-full",children:X.jsxs(ff,{className:"p-4 overflow-hidden gap-2",children:[X.jsx("div",{className:"flex items-start justify-between mb-3",children:X.jsx("h2",{className:"main-card-title",children:"장치 모니터링"})}),X.jsx(Uj,{selected:e,series:{cpu:h.cpu,emmc:h.emmc,ram:h.ram},latest:{cpu:d.cpu,emmc:d.emmc,ram:d.ram}}),X.jsx(o3,{selectedId:o,onSelect:g=>{c(g.id),r(g)}})]})})}function Uj({selected:n,series:t,latest:e}){const[r,o]=Ce.useState(!1),[a,l]=Ce.useState(!1),[c,h]=Ce.useState(!1),d=Ya(B=>B.setWarning),g=n?.health,y=g&&typeof g=="object"?Number(g.healthPct??g.pct??0):Number.isFinite(g)?Number(g):0;if(Ce.useEffect(()=>{if(!n?.id)return;const R=Number.isFinite(y)?y!==100:!1;d(n.id,R)},[n?.id,y,d]),!n)return X.jsx("div",{className:"rounded-xl ring-1 ring-white/10 bg-[#122033]/60 p-4",children:X.jsx("div",{className:"text-slate-400",children:"하단 목록을 클릭하면 상세정보가 표시됩니다."})});const b=Number.isFinite(n?.bars)?n.bars:0,S=Number.isFinite(n?.rssiDbm)?n.rssiDbm:null,x=Number.isFinite(n?.certDaysLeft)?n.certDaysLeft:null,E={gnssAntenna:"GNSS 안테나",lteAntenna1:"LTE-V2X 안테나1",lteAntenna2:"LTE-V2X 안테나2",v2xUsb:"V2X USB",v2xSpi:"V2X SPI",sramVbat:"SRAM VBAT",ppsSync:"1PPS 동기",cpuOk:"CPU 사용률",memOk:"메모리 사용률",diskOk:"스토리지 사용률",tempOk:"온도"},k=!!n?.__raw?.tamper_secure_status,C="h-36 col-span-2 device-inspection-icon-btn transition-colors",M="bg-emerald-900/90 ring-1 ring-emerald-500/30",P="bg-yellow-900/90 ring-1 animate-pulse";function z(B){if(!B)return[];if(Array.isArray(B.issues)&&B.issues.length>0)return B.issues;const R=B.flags&&typeof B.flags=="object"?B.flags:null;return R?Object.entries(R).filter(([V,J])=>J===!1).map(([V])=>E[V]||V):[]}const D=z(g);return X.jsxs("div",{className:"rounded-xl ring-1 ring-white/10 bg-[#122033]/80 p-4 text-slate-300 text-sm",children:[X.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[X.jsx("div",{className:"flex items-center gap-2 col-span-4 justify-between",children:X.jsxs("div",{className:"flex items-center gap-4",children:[X.jsx(K2,{on:!!n.active}),X.jsx("div",{className:"px-2 py-1.5 rounded-lg bg-[#0f172a] ring-1 ring-white/10 text-slate-200 w-40",children:n.serial})]})}),X.jsxs("div",{className:"col-start-6 col-span-5 flex items-end gap-1 mb-2","aria-label":"신호 세기",children:[X.jsx(W2,{bars:b}),X.jsx("span",{className:"ml-2",children:S!=null?`${S} dBm`:"-"})]}),X.jsx("div",{className:"col-span-2 device-inspection-icon-btn bg-rose-900/90",children:X.jsx("span",{children:"재부팅"})}),X.jsxs("div",{className:"flex justify-between col-span-12 space-x-2",children:[X.jsx("button",{className:"w-40 flex-auto device-inspection-icon-btn justify-center bg-cyan-900/90",children:X.jsx("span",{children:"MAP Data 업데이트"})}),X.jsx("button",{className:"w-40 flex-auto device-inspection-icon-btn justify-center bg-cyan-900/90",children:X.jsx("span",{children:"장치제어(SNMP)"})}),X.jsx("button",{className:"w-40 flex-auto device-inspection-icon-btn justify-center bg-cyan-900/90",children:X.jsx("span",{children:"S/W 업데이트"})}),X.jsx("button",{type:"button",onClick:()=>h(!0),className:"w-40 flex-auto device-inspection-icon-btn justify-center bg-cyan-900/90",title:"전체 정보 보기/저장",children:X.jsx("span",{children:"디버그 정보 저장"})})]}),(()=>{const B=k?Y2:NC,R=n?.__raw?.ltev2x_cert_status_security_enable,V=R===!0||R===1||R==="1"||R==="Y"||R==="y",J=V&&Number.isFinite(x)?x:null,tt=V?J==null?"unknown":J>=0?"ok":"expired":"disabled",st={ok:M,expired:P,disabled:P,unknown:P},G={ok:fC,expired:Om,disabled:Om,unknown:Om},mt=tt==="ok"?"text-emerald-300":"text-rose-200",ht=tt==="ok"?"text-emerald-200":"text-rose-200 font-semibold",ut={ok:`D-${J}`,expired:`만료 ${-J}일`,disabled:"비활성화",unknown:"정보 없음"},rt={ok:"인증서 유효",expired:`인증서 만료 ${-J}일 — 조치 필요`,disabled:"인증서 비활성화 — 조치 필요",unknown:"인증서 D-day 정보 없음 — 조치 필요"},lt=G[tt];return X.jsxs(X.Fragment,{children:[X.jsxs("button",{className:`${C} ${k?M:P}`,title:k?"물리 보안: 적용 중":"물리 보안: 비활성 — 조치 필요","aria-live":"polite",children:[X.jsx("span",{children:"물리 보안"}),X.jsx(B,{size:50,className:k?"text-emerald-300":"text-rose-200"}),X.jsx("span",{className:k?"text-emerald-200":"text-rose-200 font-semibold",children:k?"적용 중":"미적용"})]}),X.jsxs("button",{type:"button",onClick:()=>l(!0),className:`${C} ${st[tt]}`,title:rt[tt],"aria-live":"polite",children:[X.jsx("span",{children:"인증서"}),X.jsx(lt,{size:50,className:mt}),X.jsx("span",{className:ht,children:ut[tt]})]})]})})(),X.jsx("button",{type:"button",className:"col-span-4 row-span-2 flex items-center justify-center gap-4",onClick:()=>o(!0),"aria-label":"비정상 항목 보기",title:"비정상 항목 보기",children:X.jsx("div",{className:"relative w-36 h-36",children:X.jsx(M_,{value:y,variant:"conic",size:144,stroke:18,className:"",title:`정상 ${y}%`,"aria-label":"current status",formatValue:B=>`${B}%`})})}),X.jsx(Lj,{cpuSeries:t?.cpu??[],emmcSeries:t?.emmc??[],ramSeries:t?.ram??[],cpuValue:e?.cpu,emmcValue:e?.emmc,ramValue:e?.ram})]}),X.jsx(Rj,{open:r,onClose:()=>o(!1),issues:D,title:"정상 상태가 아닌 항목"}),X.jsx(zj,{open:a,onClose:()=>l(!1),certificate:n?.__raw?.certificate??n?.certificate,certDaysLeft:n?.certDaysLeft}),X.jsx(Bj,{open:c,onClose:()=>h(!1),selected:n})]})}function Fj(){return X.jsxs("div",{className:"text-slate-100",children:[X.jsx("h1",{className:"text-2xl",children:"설정"}),X.jsx("p",{children:"settings page."})]})}function BE(n,t){const e=Ce.useRef(t);Ce.useEffect(function(){t!==e.current&&n.attributionControl!=null&&(e.current!=null&&n.attributionControl.removeAttribution(e.current),t!=null&&n.attributionControl.addAttribution(t)),e.current=t},[n,t])}var Hj=fS();const qj=1;function Vj(n){return Object.freeze({__version:qj,map:n})}function Yj(n,t){return Object.freeze({...n,...t})}const q_=Ce.createContext(null);function V_(){const n=Ce.use(q_);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function Zj(n){function t(e,r){const{instance:o,context:a}=n(e).current;Ce.useImperativeHandle(r,()=>o);const{children:l}=e;return l==null?null:na.createElement(q_,{value:a},l)}return Ce.forwardRef(t)}function Kj(n){function t(e,r){const[o,a]=Ce.useState(!1),{instance:l}=n(e,a).current;Ce.useImperativeHandle(r,()=>l),Ce.useEffect(function(){o&&l.update()},[l,o,e.children]);const c=l._contentNode;return c?Hj.createPortal(e.children,c):null}return Ce.forwardRef(t)}function IE(n,t){const e=Ce.useRef(void 0);Ce.useEffect(function(){return t!=null&&n.instance.on(t),e.current=t,function(){e.current!=null&&n.instance.off(e.current),e.current=null}},[n,t])}function UE(n,t){const e=n.pane??t.pane;return e?{...n,pane:e}:n}function Wj(n,t){return function(r,o){const a=V_(),l=n(UE(r,a),a);return BE(a.map,r.attribution),IE(l.current,r.eventHandlers),t(l.current,a,r,o),l}}var Uc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Xj=Uc.exports,Wx;function Gj(){return Wx||(Wx=1,(function(n,t){(function(e,r){r(t)})(Xj,(function(e){var r="1.9.4";function o(u){var p,v,O,U;for(v=1,O=arguments.length;v<O;v++){U=arguments[v];for(p in U)u[p]=U[p]}return u}var a=Object.create||(function(){function u(){}return function(p){return u.prototype=p,new u}})();function l(u,p){var v=Array.prototype.slice;if(u.bind)return u.bind.apply(u,v.call(arguments,1));var O=v.call(arguments,2);return function(){return u.apply(p,O.length?O.concat(v.call(arguments)):arguments)}}var c=0;function h(u){return"_leaflet_id"in u||(u._leaflet_id=++c),u._leaflet_id}function d(u,p,v){var O,U,$,yt;return yt=function(){O=!1,U&&($.apply(v,U),U=!1)},$=function(){O?U=arguments:(u.apply(v,arguments),setTimeout(yt,p),O=!0)},$}function g(u,p,v){var O=p[1],U=p[0],$=O-U;return u===O&&v?u:((u-U)%$+$)%$+U}function y(){return!1}function b(u,p){if(p===!1)return u;var v=Math.pow(10,p===void 0?6:p);return Math.round(u*v)/v}function S(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function x(u){return S(u).split(/\s+/)}function E(u,p){Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?a(u.options):{});for(var v in p)u.options[v]=p[v];return u.options}function k(u,p,v){var O=[];for(var U in u)O.push(encodeURIComponent(v?U.toUpperCase():U)+"="+encodeURIComponent(u[U]));return(!p||p.indexOf("?")===-1?"?":"&")+O.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function M(u,p){return u.replace(C,function(v,O){var U=p[O];if(U===void 0)throw new Error("No value provided for variable "+v);return typeof U=="function"&&(U=U(p)),U})}var P=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function z(u,p){for(var v=0;v<u.length;v++)if(u[v]===p)return v;return-1}var D="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function B(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var R=0;function V(u){var p=+new Date,v=Math.max(0,16-(p-R));return R=p+v,window.setTimeout(u,v)}var J=window.requestAnimationFrame||B("RequestAnimationFrame")||V,tt=window.cancelAnimationFrame||B("CancelAnimationFrame")||B("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function st(u,p,v){if(v&&J===V)u.call(p);else return J.call(window,l(u,p))}function G(u){u&&tt.call(window,u)}var mt={__proto__:null,extend:o,create:a,bind:l,get lastId(){return c},stamp:h,throttle:d,wrapNum:g,falseFn:y,formatNum:b,trim:S,splitWords:x,setOptions:E,getParamString:k,template:M,isArray:P,indexOf:z,emptyImageUrl:D,requestFn:J,cancelFn:tt,requestAnimFrame:st,cancelAnimFrame:G};function ht(){}ht.extend=function(u){var p=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},v=p.__super__=this.prototype,O=a(v);O.constructor=p,p.prototype=O;for(var U in this)Object.prototype.hasOwnProperty.call(this,U)&&U!=="prototype"&&U!=="__super__"&&(p[U]=this[U]);return u.statics&&o(p,u.statics),u.includes&&(ut(u.includes),o.apply(null,[O].concat(u.includes))),o(O,u),delete O.statics,delete O.includes,O.options&&(O.options=v.options?a(v.options):{},o(O.options,u.options)),O._initHooks=[],O.callInitHooks=function(){if(!this._initHooksCalled){v.callInitHooks&&v.callInitHooks.call(this),this._initHooksCalled=!0;for(var $=0,yt=O._initHooks.length;$<yt;$++)O._initHooks[$].call(this)}},p},ht.include=function(u){var p=this.prototype.options;return o(this.prototype,u),u.options&&(this.prototype.options=p,this.mergeOptions(u.options)),this},ht.mergeOptions=function(u){return o(this.prototype.options,u),this},ht.addInitHook=function(u){var p=Array.prototype.slice.call(arguments,1),v=typeof u=="function"?u:function(){this[u].apply(this,p)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(v),this};function ut(u){if(!(typeof L>"u"||!L||!L.Mixin)){u=P(u)?u:[u];for(var p=0;p<u.length;p++)u[p]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var rt={on:function(u,p,v){if(typeof u=="object")for(var O in u)this._on(O,u[O],p);else{u=x(u);for(var U=0,$=u.length;U<$;U++)this._on(u[U],p,v)}return this},off:function(u,p,v){if(!arguments.length)delete this._events;else if(typeof u=="object")for(var O in u)this._off(O,u[O],p);else{u=x(u);for(var U=arguments.length===1,$=0,yt=u.length;$<yt;$++)U?this._off(u[$]):this._off(u[$],p,v)}return this},_on:function(u,p,v,O){if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}if(this._listens(u,p,v)===!1){v===this&&(v=void 0);var U={fn:p,ctx:v};O&&(U.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(U)}},_off:function(u,p,v){var O,U,$;if(this._events&&(O=this._events[u],!!O)){if(arguments.length===1){if(this._firingCount)for(U=0,$=O.length;U<$;U++)O[U].fn=y;delete this._events[u];return}if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}var yt=this._listens(u,p,v);if(yt!==!1){var qt=O[yt];this._firingCount&&(qt.fn=y,this._events[u]=O=O.slice()),O.splice(yt,1)}}},fire:function(u,p,v){if(!this.listens(u,v))return this;var O=o({},p,{type:u,target:this,sourceTarget:p&&p.sourceTarget||this});if(this._events){var U=this._events[u];if(U){this._firingCount=this._firingCount+1||1;for(var $=0,yt=U.length;$<yt;$++){var qt=U[$],$t=qt.fn;qt.once&&this.off(u,$t,qt.ctx),$t.call(qt.ctx||this,O)}this._firingCount--}}return v&&this._propagateEvent(O),this},listens:function(u,p,v,O){typeof u!="string"&&console.warn('"string" type argument expected');var U=p;typeof p!="function"&&(O=!!p,U=void 0,v=void 0);var $=this._events&&this._events[u];if($&&$.length&&this._listens(u,U,v)!==!1)return!0;if(O){for(var yt in this._eventParents)if(this._eventParents[yt].listens(u,p,v,O))return!0}return!1},_listens:function(u,p,v){if(!this._events)return!1;var O=this._events[u]||[];if(!p)return!!O.length;v===this&&(v=void 0);for(var U=0,$=O.length;U<$;U++)if(O[U].fn===p&&O[U].ctx===v)return U;return!1},once:function(u,p,v){if(typeof u=="object")for(var O in u)this._on(O,u[O],p,!0);else{u=x(u);for(var U=0,$=u.length;U<$;U++)this._on(u[U],p,v,!0)}return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[h(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[h(u)],this},_propagateEvent:function(u){for(var p in this._eventParents)this._eventParents[p].fire(u.type,o({layer:u.target,propagatedFrom:u.target},u),!0)}};rt.addEventListener=rt.on,rt.removeEventListener=rt.clearAllEventListeners=rt.off,rt.addOneTimeEventListener=rt.once,rt.fireEvent=rt.fire,rt.hasEventListeners=rt.listens;var lt=ht.extend(rt);function et(u,p,v){this.x=v?Math.round(u):u,this.y=v?Math.round(p):p}var jt=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};et.prototype={clone:function(){return new et(this.x,this.y)},add:function(u){return this.clone()._add(nt(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(nt(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new et(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new et(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=jt(this.x),this.y=jt(this.y),this},distanceTo:function(u){u=nt(u);var p=u.x-this.x,v=u.y-this.y;return Math.sqrt(p*p+v*v)},equals:function(u){return u=nt(u),u.x===this.x&&u.y===this.y},contains:function(u){return u=nt(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function nt(u,p,v){return u instanceof et?u:P(u)?new et(u[0],u[1]):u==null?u:typeof u=="object"&&"x"in u&&"y"in u?new et(u.x,u.y):new et(u,p,v)}function Z(u,p){if(u)for(var v=p?[u,p]:u,O=0,U=v.length;O<U;O++)this.extend(v[O])}Z.prototype={extend:function(u){var p,v;if(!u)return this;if(u instanceof et||typeof u[0]=="number"||"x"in u)p=v=nt(u);else if(u=K(u),p=u.min,v=u.max,!p||!v)return this;return!this.min&&!this.max?(this.min=p.clone(),this.max=v.clone()):(this.min.x=Math.min(p.x,this.min.x),this.max.x=Math.max(v.x,this.max.x),this.min.y=Math.min(p.y,this.min.y),this.max.y=Math.max(v.y,this.max.y)),this},getCenter:function(u){return nt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return nt(this.min.x,this.max.y)},getTopRight:function(){return nt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var p,v;return typeof u[0]=="number"||u instanceof et?u=nt(u):u=K(u),u instanceof Z?(p=u.min,v=u.max):p=v=u,p.x>=this.min.x&&v.x<=this.max.x&&p.y>=this.min.y&&v.y<=this.max.y},intersects:function(u){u=K(u);var p=this.min,v=this.max,O=u.min,U=u.max,$=U.x>=p.x&&O.x<=v.x,yt=U.y>=p.y&&O.y<=v.y;return $&&yt},overlaps:function(u){u=K(u);var p=this.min,v=this.max,O=u.min,U=u.max,$=U.x>p.x&&O.x<v.x,yt=U.y>p.y&&O.y<v.y;return $&&yt},isValid:function(){return!!(this.min&&this.max)},pad:function(u){var p=this.min,v=this.max,O=Math.abs(p.x-v.x)*u,U=Math.abs(p.y-v.y)*u;return K(nt(p.x-O,p.y-U),nt(v.x+O,v.y+U))},equals:function(u){return u?(u=K(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight())):!1}};function K(u,p){return!u||u instanceof Z?u:new Z(u,p)}function at(u,p){if(u)for(var v=p?[u,p]:u,O=0,U=v.length;O<U;O++)this.extend(v[O])}at.prototype={extend:function(u){var p=this._southWest,v=this._northEast,O,U;if(u instanceof gt)O=u,U=u;else if(u instanceof at){if(O=u._southWest,U=u._northEast,!O||!U)return this}else return u?this.extend(Ut(u)||At(u)):this;return!p&&!v?(this._southWest=new gt(O.lat,O.lng),this._northEast=new gt(U.lat,U.lng)):(p.lat=Math.min(O.lat,p.lat),p.lng=Math.min(O.lng,p.lng),v.lat=Math.max(U.lat,v.lat),v.lng=Math.max(U.lng,v.lng)),this},pad:function(u){var p=this._southWest,v=this._northEast,O=Math.abs(p.lat-v.lat)*u,U=Math.abs(p.lng-v.lng)*u;return new at(new gt(p.lat-O,p.lng-U),new gt(v.lat+O,v.lng+U))},getCenter:function(){return new gt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new gt(this.getNorth(),this.getWest())},getSouthEast:function(){return new gt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){typeof u[0]=="number"||u instanceof gt||"lat"in u?u=Ut(u):u=At(u);var p=this._southWest,v=this._northEast,O,U;return u instanceof at?(O=u.getSouthWest(),U=u.getNorthEast()):O=U=u,O.lat>=p.lat&&U.lat<=v.lat&&O.lng>=p.lng&&U.lng<=v.lng},intersects:function(u){u=At(u);var p=this._southWest,v=this._northEast,O=u.getSouthWest(),U=u.getNorthEast(),$=U.lat>=p.lat&&O.lat<=v.lat,yt=U.lng>=p.lng&&O.lng<=v.lng;return $&&yt},overlaps:function(u){u=At(u);var p=this._southWest,v=this._northEast,O=u.getSouthWest(),U=u.getNorthEast(),$=U.lat>p.lat&&O.lat<v.lat,yt=U.lng>p.lng&&O.lng<v.lng;return $&&yt},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,p){return u?(u=At(u),this._southWest.equals(u.getSouthWest(),p)&&this._northEast.equals(u.getNorthEast(),p)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function At(u,p){return u instanceof at?u:new at(u,p)}function gt(u,p,v){if(isNaN(u)||isNaN(p))throw new Error("Invalid LatLng object: ("+u+", "+p+")");this.lat=+u,this.lng=+p,v!==void 0&&(this.alt=+v)}gt.prototype={equals:function(u,p){if(!u)return!1;u=Ut(u);var v=Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng));return v<=(p===void 0?1e-9:p)},toString:function(u){return"LatLng("+b(this.lat,u)+", "+b(this.lng,u)+")"},distanceTo:function(u){return ct.distance(this,Ut(u))},wrap:function(){return ct.wrapLatLng(this)},toBounds:function(u){var p=180*u/40075017,v=p/Math.cos(Math.PI/180*this.lat);return At([this.lat-p,this.lng-v],[this.lat+p,this.lng+v])},clone:function(){return new gt(this.lat,this.lng,this.alt)}};function Ut(u,p,v){return u instanceof gt?u:P(u)&&typeof u[0]!="object"?u.length===3?new gt(u[0],u[1],u[2]):u.length===2?new gt(u[0],u[1]):null:u==null?u:typeof u=="object"&&"lat"in u?new gt(u.lat,"lng"in u?u.lng:u.lon,u.alt):p===void 0?null:new gt(u,p,v)}var _t={latLngToPoint:function(u,p){var v=this.projection.project(u),O=this.scale(p);return this.transformation._transform(v,O)},pointToLatLng:function(u,p){var v=this.scale(p),O=this.transformation.untransform(u,v);return this.projection.unproject(O)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var p=this.projection.bounds,v=this.scale(u),O=this.transformation.transform(p.min,v),U=this.transformation.transform(p.max,v);return new Z(O,U)},infinite:!1,wrapLatLng:function(u){var p=this.wrapLng?g(u.lng,this.wrapLng,!0):u.lng,v=this.wrapLat?g(u.lat,this.wrapLat,!0):u.lat,O=u.alt;return new gt(v,p,O)},wrapLatLngBounds:function(u){var p=u.getCenter(),v=this.wrapLatLng(p),O=p.lat-v.lat,U=p.lng-v.lng;if(O===0&&U===0)return u;var $=u.getSouthWest(),yt=u.getNorthEast(),qt=new gt($.lat-O,$.lng-U),$t=new gt(yt.lat-O,yt.lng-U);return new at(qt,$t)}},ct=o({},_t,{wrapLng:[-180,180],R:6371e3,distance:function(u,p){var v=Math.PI/180,O=u.lat*v,U=p.lat*v,$=Math.sin((p.lat-u.lat)*v/2),yt=Math.sin((p.lng-u.lng)*v/2),qt=$*$+Math.cos(O)*Math.cos(U)*yt*yt,$t=2*Math.atan2(Math.sqrt(qt),Math.sqrt(1-qt));return this.R*$t}}),vt=6378137,Mt={R:vt,MAX_LATITUDE:85.0511287798,project:function(u){var p=Math.PI/180,v=this.MAX_LATITUDE,O=Math.max(Math.min(v,u.lat),-v),U=Math.sin(O*p);return new et(this.R*u.lng*p,this.R*Math.log((1+U)/(1-U))/2)},unproject:function(u){var p=180/Math.PI;return new gt((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*p,u.x*p/this.R)},bounds:(function(){var u=vt*Math.PI;return new Z([-u,-u],[u,u])})()};function Nt(u,p,v,O){if(P(u)){this._a=u[0],this._b=u[1],this._c=u[2],this._d=u[3];return}this._a=u,this._b=p,this._c=v,this._d=O}Nt.prototype={transform:function(u,p){return this._transform(u.clone(),p)},_transform:function(u,p){return p=p||1,u.x=p*(this._a*u.x+this._b),u.y=p*(this._c*u.y+this._d),u},untransform:function(u,p){return p=p||1,new et((u.x/p-this._b)/this._a,(u.y/p-this._d)/this._c)}};function Tt(u,p,v,O){return new Nt(u,p,v,O)}var ce=o({},ct,{code:"EPSG:3857",projection:Mt,transformation:(function(){var u=.5/(Math.PI*Mt.R);return Tt(u,.5,-u,.5)})()}),Jt=o({},ce,{code:"EPSG:900913"});function ft(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function Et(u,p){var v="",O,U,$,yt,qt,$t;for(O=0,$=u.length;O<$;O++){for(qt=u[O],U=0,yt=qt.length;U<yt;U++)$t=qt[U],v+=(U?"L":"M")+$t.x+" "+$t.y;v+=p?Ne.svg?"z":"x":""}return v||"M0 0"}var Vt=document.documentElement.style,ie="ActiveXObject"in window,re=ie&&!document.addEventListener,he="msLaunchUri"in navigator&&!("documentMode"in document),wt=ln("webkit"),fe=ln("android"),ve=ln("android 2")||ln("android 3"),Xt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ze=fe&&ln("Google")&&Xt<537&&!("AudioNode"in window),N=!!window.opera,F=!he&&ln("chrome"),Y=ln("gecko")&&!wt&&!N&&!ie,bt=!F&&ln("safari"),It=ln("phantom"),ee="OTransition"in Vt,we=navigator.platform.indexOf("Win")===0,Ot=ie&&"transition"in Vt,Yt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ve,je="MozPerspective"in Vt,ue=!window.L_DISABLE_3D&&(Ot||Yt||je)&&!ee&&!It,Fe=typeof orientation<"u"||ln("mobile"),Ke=Fe&&wt,ki=Fe&&Yt,Te=!window.PointerEvent&&window.MSPointerEvent,Nn=!!(window.PointerEvent||Te),ci="ontouchstart"in window||!!window.TouchEvent,yi=!window.L_NO_TOUCH&&(ci||Nn),_i=Fe&&N,Vn=Fe&&Y,qo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Vr=(function(){var u=!1;try{var p=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",y,p),window.removeEventListener("testPassiveEventSupport",y,p)}catch{}return u})(),Pi=(function(){return!!document.createElement("canvas").getContext})(),it=!!(document.createElementNS&&ft("svg").createSVGRect),dt=!!it&&(function(){var u=document.createElement("div");return u.innerHTML="<svg/>",(u.firstChild&&u.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),xe=!it&&(function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var p=u.firstChild;return p.style.behavior="url(#default#VML)",p&&typeof p.adj=="object"}catch{return!1}})(),be=navigator.platform.indexOf("Mac")===0,ke=navigator.platform.indexOf("Linux")===0;function ln(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var Ne={ie,ielt9:re,edge:he,webkit:wt,android:fe,android23:ve,androidStock:Ze,opera:N,chrome:F,gecko:Y,safari:bt,phantom:It,opera12:ee,win:we,ie3d:Ot,webkit3d:Yt,gecko3d:je,any3d:ue,mobile:Fe,mobileWebkit:Ke,mobileWebkit3d:ki,msPointer:Te,pointer:Nn,touch:yi,touchNative:ci,mobileOpera:_i,mobileGecko:Vn,retina:qo,passiveEvents:Vr,canvas:Pi,svg:it,vml:xe,inlineSvg:dt,mac:be,linux:ke},ii=Ne.msPointer?"MSPointerDown":"pointerdown",Gi=Ne.msPointer?"MSPointerMove":"pointermove",Mi=Ne.msPointer?"MSPointerUp":"pointerup",hn=Ne.msPointer?"MSPointerCancel":"pointercancel",Tn={touchstart:ii,touchmove:Gi,touchend:Mi,touchcancel:hn},Un={touchstart:Bi,touchmove:zi,touchend:zi,touchcancel:zi},Fn={},fr=!1;function bi(u,p,v){return p==="touchstart"&&An(),Un[p]?(v=Un[p].bind(this,v),u.addEventListener(Tn[p],v,!1),v):(console.warn("wrong event specified:",p),y)}function Ri(u,p,v){if(!Tn[p]){console.warn("wrong event specified:",p);return}u.removeEventListener(Tn[p],v,!1)}function Yn(u){Fn[u.pointerId]=u}function ca(u){Fn[u.pointerId]&&(Fn[u.pointerId]=u)}function Yr(u){delete Fn[u.pointerId]}function An(){fr||(document.addEventListener(ii,Yn,!0),document.addEventListener(Gi,ca,!0),document.addEventListener(Mi,Yr,!0),document.addEventListener(hn,Yr,!0),fr=!0)}function zi(u,p){if(p.pointerType!==(p.MSPOINTER_TYPE_MOUSE||"mouse")){p.touches=[];for(var v in Fn)p.touches.push(Fn[v]);p.changedTouches=[p],u(p)}}function Bi(u,p){p.MSPOINTER_TYPE_TOUCH&&p.pointerType===p.MSPOINTER_TYPE_TOUCH&&Hn(p),zi(u,p)}function Qn(u){var p={},v,O;for(O in u)v=u[O],p[O]=v&&v.bind?v.bind(u):v;return u=p,p.type="dblclick",p.detail=2,p.isTrusted=!1,p._simulated=!0,p}var Eo=200;function vs(u,p){u.addEventListener("dblclick",p);var v=0,O;function U($){if($.detail!==1){O=$.detail;return}if(!($.pointerType==="mouse"||$.sourceCapabilities&&!$.sourceCapabilities.firesTouchEvents)){var yt=Mo($);if(!(yt.some(function($t){return $t instanceof HTMLLabelElement&&$t.attributes.for})&&!yt.some(function($t){return $t instanceof HTMLInputElement||$t instanceof HTMLSelectElement}))){var qt=Date.now();qt-v<=Eo?(O++,O===2&&p(Qn($))):O=1,v=qt}}}return u.addEventListener("click",U),{dblclick:p,simDblclick:U}}function Zr(u,p){u.removeEventListener("dblclick",p.dblclick),u.removeEventListener("click",p.simDblclick)}var Tr=To(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),hr=To(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),fa=hr==="webkitTransition"||hr==="OTransition"?hr+"End":"transitionend";function Vo(u){return typeof u=="string"?document.getElementById(u):u}function Yo(u,p){var v=u.style[p]||u.currentStyle&&u.currentStyle[p];if((!v||v==="auto")&&document.defaultView){var O=document.defaultView.getComputedStyle(u,null);v=O?O[p]:null}return v==="auto"?null:v}function Re(u,p,v){var O=document.createElement(u);return O.className=p||"",v&&v.appendChild(O),O}function wn(u){var p=u.parentNode;p&&p.removeChild(u)}function qi(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function Kn(u){var p=u.parentNode;p&&p.lastChild!==u&&p.appendChild(u)}function dr(u){var p=u.parentNode;p&&p.firstChild!==u&&p.insertBefore(u,p.firstChild)}function ha(u,p){if(u.classList!==void 0)return u.classList.contains(p);var v=uo(u);return v.length>0&&new RegExp("(^|\\s)"+p+"(\\s|$)").test(v)}function Xe(u,p){if(u.classList!==void 0)for(var v=x(p),O=0,U=v.length;O<U;O++)u.classList.add(v[O]);else if(!ha(u,p)){var $=uo(u);dn(u,($?$+" ":"")+p)}}function Bn(u,p){u.classList!==void 0?u.classList.remove(p):dn(u,S((" "+uo(u)+" ").replace(" "+p+" "," ")))}function dn(u,p){u.className.baseVal===void 0?u.className=p:u.className.baseVal=p}function uo(u){return u.correspondingElement&&(u=u.correspondingElement),u.className.baseVal===void 0?u.className:u.className.baseVal}function xn(u,p){"opacity"in u.style?u.style.opacity=p:"filter"in u.style&&co(u,p)}function co(u,p){var v=!1,O="DXImageTransform.Microsoft.Alpha";try{v=u.filters.item(O)}catch{if(p===1)return}p=Math.round(p*100),v?(v.Enabled=p!==100,v.Opacity=p):u.style.filter+=" progid:"+O+"(opacity="+p+")"}function To(u){for(var p=document.documentElement.style,v=0;v<u.length;v++)if(u[v]in p)return u[v];return!1}function pr(u,p,v){var O=p||new et(0,0);u.style[Tr]=(Ne.ie3d?"translate("+O.x+"px,"+O.y+"px)":"translate3d("+O.x+"px,"+O.y+"px,0)")+(v?" scale("+v+")":"")}function gn(u,p){u._leaflet_pos=p,Ne.any3d?pr(u,p):(u.style.left=p.x+"px",u.style.top=p.y+"px")}function Kr(u){return u._leaflet_pos||new et(0,0)}var Wr,mr,tl;if("onselectstart"in document)Wr=function(){ze(window,"selectstart",Hn)},mr=function(){un(window,"selectstart",Hn)};else{var tn=To(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Wr=function(){if(tn){var u=document.documentElement.style;tl=u[tn],u[tn]="none"}},mr=function(){tn&&(document.documentElement.style[tn]=tl,tl=void 0)}}function ws(){ze(window,"dragstart",Hn)}function xs(){un(window,"dragstart",Hn)}var da,Oi;function gr(u){for(;u.tabIndex===-1;)u=u.parentNode;u.style&&(Ci(),da=u,Oi=u.style.outlineStyle,u.style.outlineStyle="none",ze(window,"keydown",Ci))}function Ci(){da&&(da.style.outlineStyle=Oi,da=void 0,Oi=void 0,un(window,"keydown",Ci))}function yr(u){do u=u.parentNode;while((!u.offsetWidth||!u.offsetHeight)&&u!==document.body);return u}function Zo(u){var p=u.getBoundingClientRect();return{x:p.width/u.offsetWidth||1,y:p.height/u.offsetHeight||1,boundingClientRect:p}}var Ao={__proto__:null,TRANSFORM:Tr,TRANSITION:hr,TRANSITION_END:fa,get:Vo,getStyle:Yo,create:Re,remove:wn,empty:qi,toFront:Kn,toBack:dr,hasClass:ha,addClass:Xe,removeClass:Bn,setClass:dn,getClass:uo,setOpacity:xn,testProp:To,setTransform:pr,setPosition:gn,getPosition:Kr,get disableTextSelection(){return Wr},get enableTextSelection(){return mr},disableImageDrag:ws,enableImageDrag:xs,preventOutline:gr,restoreOutline:Ci,getSizedParentNode:yr,getScale:Zo};function ze(u,p,v,O){if(p&&typeof p=="object")for(var U in p)ri(u,U,p[U],v);else{p=x(p);for(var $=0,yt=p.length;$<yt;$++)ri(u,p[$],v,O)}return this}var Wn="_leaflet_events";function un(u,p,v,O){if(arguments.length===1)ko(u),delete u[Wn];else if(p&&typeof p=="object")for(var U in p)Ss(u,U,p[U],v);else if(p=x(p),arguments.length===2)ko(u,function(qt){return z(p,qt)!==-1});else for(var $=0,yt=p.length;$<yt;$++)Ss(u,p[$],v,O);return this}function ko(u,p){for(var v in u[Wn]){var O=v.split(/\d/)[0];(!p||p(O))&&Ss(u,O,null,null,v)}}var Xr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ri(u,p,v,O){var U=p+h(v)+(O?"_"+h(O):"");if(u[Wn]&&u[Wn][U])return this;var $=function(qt){return v.call(O||u,qt||window.event)},yt=$;!Ne.touchNative&&Ne.pointer&&p.indexOf("touch")===0?$=bi(u,p,$):Ne.touch&&p==="dblclick"?$=vs(u,$):"addEventListener"in u?p==="touchstart"||p==="touchmove"||p==="wheel"||p==="mousewheel"?u.addEventListener(Xr[p]||p,$,Ne.passiveEvents?{passive:!1}:!1):p==="mouseenter"||p==="mouseleave"?($=function(qt){qt=qt||window.event,Gr(u,qt)&&yt(qt)},u.addEventListener(Xr[p],$,!1)):u.addEventListener(p,yt,!1):u.attachEvent("on"+p,$),u[Wn]=u[Wn]||{},u[Wn][U]=$}function Ss(u,p,v,O,U){U=U||p+h(v)+(O?"_"+h(O):"");var $=u[Wn]&&u[Wn][U];if(!$)return this;!Ne.touchNative&&Ne.pointer&&p.indexOf("touch")===0?Ri(u,p,$):Ne.touch&&p==="dblclick"?Zr(u,$):"removeEventListener"in u?u.removeEventListener(Xr[p]||p,$,!1):u.detachEvent("on"+p,$),u[Wn][U]=null}function Xn(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function $i(u){return ri(u,"wheel",Xn),this}function fo(u){return ze(u,"mousedown touchstart dblclick contextmenu",Xn),u._leaflet_disable_click=!0,this}function Hn(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function Qi(u){return Hn(u),Xn(u),this}function Mo(u){if(u.composedPath)return u.composedPath();for(var p=[],v=u.target;v;)p.push(v),v=v.parentNode;return p}function Ko(u,p){if(!p)return new et(u.clientX,u.clientY);var v=Zo(p),O=v.boundingClientRect;return new et((u.clientX-O.left)/v.x-p.clientLeft,(u.clientY-O.top)/v.y-p.clientTop)}var Fl=Ne.linux&&Ne.chrome?window.devicePixelRatio:Ne.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Jn(u){return Ne.edge?u.wheelDeltaY/2:u.deltaY&&u.deltaMode===0?-u.deltaY/Fl:u.deltaY&&u.deltaMode===1?-u.deltaY*20:u.deltaY&&u.deltaMode===2?-u.deltaY*60:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?-u.detail*20:u.detail?u.detail/-32765*60:0}function Gr(u,p){var v=p.relatedTarget;if(!v)return!0;try{for(;v&&v!==u;)v=v.parentNode}catch{return!1}return v!==u}var pa={__proto__:null,on:ze,off:un,stopPropagation:Xn,disableScrollPropagation:$i,disableClickPropagation:fo,preventDefault:Hn,stop:Qi,getPropagationPath:Mo,getMousePosition:Ko,getWheelDelta:Jn,isExternalTarget:Gr,addListener:ze,removeListener:un},$r=lt.extend({run:function(u,p,v,O){this.stop(),this._el=u,this._inProgress=!0,this._duration=v||.25,this._easeOutPower=1/Math.max(O||.5,.2),this._startPos=Kr(u),this._offset=p.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=st(this._animate,this),this._step()},_step:function(u){var p=+new Date-this._startTime,v=this._duration*1e3;p<v?this._runFrame(this._easeOut(p/v),u):(this._runFrame(1),this._complete())},_runFrame:function(u,p){var v=this._startPos.add(this._offset.multiplyBy(u));p&&v._round(),gn(this._el,v),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),en=lt.extend({options:{crs:ce,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,p){p=E(this,p),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),p.maxBounds&&this.setMaxBounds(p.maxBounds),p.zoom!==void 0&&(this._zoom=this._limitZoom(p.zoom)),p.center&&p.zoom!==void 0&&this.setView(Ut(p.center),p.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=hr&&Ne.any3d&&!Ne.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ze(this._proxy,fa,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,p,v){if(p=p===void 0?this._zoom:this._limitZoom(p),u=this._limitCenter(Ut(u),p,this.options.maxBounds),v=v||{},this._stop(),this._loaded&&!v.reset&&v!==!0){v.animate!==void 0&&(v.zoom=o({animate:v.animate},v.zoom),v.pan=o({animate:v.animate,duration:v.duration},v.pan));var O=this._zoom!==p?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,p,v.zoom):this._tryAnimatedPan(u,v.pan);if(O)return clearTimeout(this._sizeTimer),this}return this._resetView(u,p,v.pan&&v.pan.noMoveStart),this},setZoom:function(u,p){return this._loaded?this.setView(this.getCenter(),u,{zoom:p}):(this._zoom=u,this)},zoomIn:function(u,p){return u=u||(Ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+u,p)},zoomOut:function(u,p){return u=u||(Ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-u,p)},setZoomAround:function(u,p,v){var O=this.getZoomScale(p),U=this.getSize().divideBy(2),$=u instanceof et?u:this.latLngToContainerPoint(u),yt=$.subtract(U).multiplyBy(1-1/O),qt=this.containerPointToLatLng(U.add(yt));return this.setView(qt,p,{zoom:v})},_getBoundsCenterZoom:function(u,p){p=p||{},u=u.getBounds?u.getBounds():At(u);var v=nt(p.paddingTopLeft||p.padding||[0,0]),O=nt(p.paddingBottomRight||p.padding||[0,0]),U=this.getBoundsZoom(u,!1,v.add(O));if(U=typeof p.maxZoom=="number"?Math.min(p.maxZoom,U):U,U===1/0)return{center:u.getCenter(),zoom:U};var $=O.subtract(v).divideBy(2),yt=this.project(u.getSouthWest(),U),qt=this.project(u.getNorthEast(),U),$t=this.unproject(yt.add(qt).divideBy(2).add($),U);return{center:$t,zoom:U}},fitBounds:function(u,p){if(u=At(u),!u.isValid())throw new Error("Bounds are not valid.");var v=this._getBoundsCenterZoom(u,p);return this.setView(v.center,v.zoom,p)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,p){return this.setView(u,this._zoom,{pan:p})},panBy:function(u,p){if(u=nt(u).round(),p=p||{},!u.x&&!u.y)return this.fire("moveend");if(p.animate!==!0&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new $r,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),p.noMoveStart||this.fire("movestart"),p.animate!==!1){Xe(this._mapPane,"leaflet-pan-anim");var v=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,v,p.duration||.25,p.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,p,v){if(v=v||{},v.animate===!1||!Ne.any3d)return this.setView(u,p,v);this._stop();var O=this.project(this.getCenter()),U=this.project(u),$=this.getSize(),yt=this._zoom;u=Ut(u),p=p===void 0?yt:p;var qt=Math.max($.x,$.y),$t=qt*this.getZoomScale(yt,p),ye=U.distanceTo(O)||1,De=1.42,Ue=De*De;function nn(ei){var Do=ei?-1:1,js=ei?$t:qt,Fu=$t*$t-qt*qt+Do*Ue*Ue*ye*ye,fl=2*js*Ue*ye,hl=Fu/fl,os=Math.sqrt(hl*hl+1)-hl,jo=os<1e-9?-18:Math.log(os);return jo}function Ni(ei){return(Math.exp(ei)-Math.exp(-ei))/2}function si(ei){return(Math.exp(ei)+Math.exp(-ei))/2}function br(ei){return Ni(ei)/si(ei)}var yn=nn(0);function _n(ei){return qt*(si(yn)/si(yn+De*ei))}function on(ei){return qt*(si(yn)*br(yn+De*ei)-Ni(yn))/Ue}function is(ei){return 1-Math.pow(1-ei,1.5)}var Cr=Date.now(),Wl=(nn(1)-yn)/De,rs=v.duration?1e3*v.duration:1e3*Wl*.8;function Uu(){var ei=(Date.now()-Cr)/rs,Do=is(ei)*Wl;ei<=1?(this._flyToFrame=st(Uu,this),this._move(this.unproject(O.add(U.subtract(O).multiplyBy(on(Do)/ye)),yt),this.getScaleZoom(qt/_n(Do),yt),{flyTo:!0})):this._move(u,p)._moveEnd(!0)}return this._moveStart(!0,v.noMoveStart),Uu.call(this),this},flyToBounds:function(u,p){var v=this._getBoundsCenterZoom(u,p);return this.flyTo(v.center,v.zoom,p)},setMaxBounds:function(u){return u=At(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var p=this.options.minZoom;return this.options.minZoom=u,this._loaded&&p!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var p=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&p!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,p){this._enforcingBounds=!0;var v=this.getCenter(),O=this._limitCenter(v,this._zoom,At(u));return v.equals(O)||this.panTo(O,p),this._enforcingBounds=!1,this},panInside:function(u,p){p=p||{};var v=nt(p.paddingTopLeft||p.padding||[0,0]),O=nt(p.paddingBottomRight||p.padding||[0,0]),U=this.project(this.getCenter()),$=this.project(u),yt=this.getPixelBounds(),qt=K([yt.min.add(v),yt.max.subtract(O)]),$t=qt.getSize();if(!qt.contains($)){this._enforcingBounds=!0;var ye=$.subtract(qt.getCenter()),De=qt.extend($).getSize().subtract($t);U.x+=ye.x<0?-De.x:De.x,U.y+=ye.y<0?-De.y:De.y,this.panTo(this.unproject(U),p),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=o({animate:!1,pan:!0},u===!0?{animate:!0}:u);var p=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var v=this.getSize(),O=p.divideBy(2).round(),U=v.divideBy(2).round(),$=O.subtract(U);return!$.x&&!$.y?this:(u.animate&&u.pan?this.panBy($):(u.pan&&this._rawPanBy($),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:p,newSize:v}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=o({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var p=l(this._handleGeolocationResponse,this),v=l(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(p,v,u):navigator.geolocation.getCurrentPosition(p,v,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var p=u.code,v=u.message||(p===1?"permission denied":p===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:p,message:"Geolocation error: "+v+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var p=u.coords.latitude,v=u.coords.longitude,O=new gt(p,v),U=O.toBounds(u.coords.accuracy*2),$=this._locateOptions;if($.setView){var yt=this.getBoundsZoom(U);this.setView(O,$.maxZoom?Math.min(yt,$.maxZoom):yt)}var qt={latlng:O,bounds:U,timestamp:u.timestamp};for(var $t in u.coords)typeof u.coords[$t]=="number"&&(qt[$t]=u.coords[$t]);this.fire("locationfound",qt)}},addHandler:function(u,p){if(!p)return this;var v=this[u]=new p(this);return this._handlers.push(v),this.options[u]&&v.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),wn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var u;for(u in this._layers)this._layers[u].remove();for(u in this._panes)wn(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,p){var v="leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),O=Re("div",v,p||this._mapPane);return u&&(this._panes[u]=O),O},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds(),p=this.unproject(u.getBottomLeft()),v=this.unproject(u.getTopRight());return new at(p,v)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,p,v){u=At(u),v=nt(v||[0,0]);var O=this.getZoom()||0,U=this.getMinZoom(),$=this.getMaxZoom(),yt=u.getNorthWest(),qt=u.getSouthEast(),$t=this.getSize().subtract(v),ye=K(this.project(qt,O),this.project(yt,O)).getSize(),De=Ne.any3d?this.options.zoomSnap:1,Ue=$t.x/ye.x,nn=$t.y/ye.y,Ni=p?Math.max(Ue,nn):Math.min(Ue,nn);return O=this.getScaleZoom(Ni,O),De&&(O=Math.round(O/(De/100))*(De/100),O=p?Math.ceil(O/De)*De:Math.floor(O/De)*De),Math.max(U,Math.min($,O))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new et(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,p){var v=this._getTopLeftPoint(u,p);return new Z(v,v.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(u===void 0?this.getZoom():u)},getPane:function(u){return typeof u=="string"?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,p){var v=this.options.crs;return p=p===void 0?this._zoom:p,v.scale(u)/v.scale(p)},getScaleZoom:function(u,p){var v=this.options.crs;p=p===void 0?this._zoom:p;var O=v.zoom(u*v.scale(p));return isNaN(O)?1/0:O},project:function(u,p){return p=p===void 0?this._zoom:p,this.options.crs.latLngToPoint(Ut(u),p)},unproject:function(u,p){return p=p===void 0?this._zoom:p,this.options.crs.pointToLatLng(nt(u),p)},layerPointToLatLng:function(u){var p=nt(u).add(this.getPixelOrigin());return this.unproject(p)},latLngToLayerPoint:function(u){var p=this.project(Ut(u))._round();return p._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(Ut(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(At(u))},distance:function(u,p){return this.options.crs.distance(Ut(u),Ut(p))},containerPointToLayerPoint:function(u){return nt(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return nt(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var p=this.containerPointToLayerPoint(nt(u));return this.layerPointToLatLng(p)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ut(u)))},mouseEventToContainerPoint:function(u){return Ko(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var p=this._container=Vo(u);if(p){if(p._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ze(p,"scroll",this._onScroll,this),this._containerId=h(p)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ne.any3d,Xe(u,"leaflet-container"+(Ne.touch?" leaflet-touch":"")+(Ne.retina?" leaflet-retina":"")+(Ne.ielt9?" leaflet-oldie":"")+(Ne.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var p=Yo(u,"position");p!=="absolute"&&p!=="relative"&&p!=="fixed"&&p!=="sticky"&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),gn(this._mapPane,new et(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Xe(u.markerPane,"leaflet-zoom-hide"),Xe(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,p,v){gn(this._mapPane,new et(0,0));var O=!this._loaded;this._loaded=!0,p=this._limitZoom(p),this.fire("viewprereset");var U=this._zoom!==p;this._moveStart(U,v)._move(u,p)._moveEnd(U),this.fire("viewreset"),O&&this.fire("load")},_moveStart:function(u,p){return u&&this.fire("zoomstart"),p||this.fire("movestart"),this},_move:function(u,p,v,O){p===void 0&&(p=this._zoom);var U=this._zoom!==p;return this._zoom=p,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),O?v&&v.pinch&&this.fire("zoom",v):((U||v&&v.pinch)&&this.fire("zoom",v),this.fire("move",v)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){gn(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[h(this._container)]=this;var p=u?un:ze;p(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&p(window,"resize",this._onResize,this),Ne.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=st(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,p){for(var v=[],O,U=p==="mouseout"||p==="mouseover",$=u.target||u.srcElement,yt=!1;$;){if(O=this._targets[h($)],O&&(p==="click"||p==="preclick")&&this._draggableMoved(O)){yt=!0;break}if(O&&O.listens(p,!0)&&(U&&!Gr($,u)||(v.push(O),U))||$===this._container)break;$=$.parentNode}return!v.length&&!yt&&!U&&this.listens(p,!0)&&(v=[this]),v},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var p=u.target||u.srcElement;if(!(!this._loaded||p._leaflet_disable_events||u.type==="click"&&this._isClickDisabled(p))){var v=u.type;v==="mousedown"&&gr(p),this._fireDOMEvent(u,v)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,p,v){if(u.type==="click"){var O=o({},u);O.type="preclick",this._fireDOMEvent(O,O.type,v)}var U=this._findEventTargets(u,p);if(v){for(var $=[],yt=0;yt<v.length;yt++)v[yt].listens(p,!0)&&$.push(v[yt]);U=$.concat(U)}if(U.length){p==="contextmenu"&&Hn(u);var qt=U[0],$t={originalEvent:u};if(u.type!=="keypress"&&u.type!=="keydown"&&u.type!=="keyup"){var ye=qt.getLatLng&&(!qt._radius||qt._radius<=10);$t.containerPoint=ye?this.latLngToContainerPoint(qt.getLatLng()):this.mouseEventToContainerPoint(u),$t.layerPoint=this.containerPointToLayerPoint($t.containerPoint),$t.latlng=ye?qt.getLatLng():this.layerPointToLatLng($t.layerPoint)}for(yt=0;yt<U.length;yt++)if(U[yt].fire(p,$t,!0),$t.originalEvent._stopped||U[yt].options.bubblingMouseEvents===!1&&z(this._mouseEvents,p)!==-1)return}},_draggableMoved:function(u){return u=u.dragging&&u.dragging.enabled()?u:this,u.dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,p=this._handlers.length;u<p;u++)this._handlers[u].disable()},whenReady:function(u,p){return this._loaded?u.call(p||this,{target:this}):this.on("load",u,p),this},_getMapPanePos:function(){return Kr(this._mapPane)||new et(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,p){var v=u&&p!==void 0?this._getNewPixelOrigin(u,p):this.getPixelOrigin();return v.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,p){var v=this.getSize()._divideBy(2);return this.project(u,p)._subtract(v)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,p,v){var O=this._getNewPixelOrigin(v,p);return this.project(u,p)._subtract(O)},_latLngBoundsToNewLayerBounds:function(u,p,v){var O=this._getNewPixelOrigin(v,p);return K([this.project(u.getSouthWest(),p)._subtract(O),this.project(u.getNorthWest(),p)._subtract(O),this.project(u.getSouthEast(),p)._subtract(O),this.project(u.getNorthEast(),p)._subtract(O)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,p,v){if(!v)return u;var O=this.project(u,p),U=this.getSize().divideBy(2),$=new Z(O.subtract(U),O.add(U)),yt=this._getBoundsOffset($,v,p);return Math.abs(yt.x)<=1&&Math.abs(yt.y)<=1?u:this.unproject(O.add(yt),p)},_limitOffset:function(u,p){if(!p)return u;var v=this.getPixelBounds(),O=new Z(v.min.add(u),v.max.add(u));return u.add(this._getBoundsOffset(O,p))},_getBoundsOffset:function(u,p,v){var O=K(this.project(p.getNorthEast(),v),this.project(p.getSouthWest(),v)),U=O.min.subtract(u.min),$=O.max.subtract(u.max),yt=this._rebound(U.x,-$.x),qt=this._rebound(U.y,-$.y);return new et(yt,qt)},_rebound:function(u,p){return u+p>0?Math.round(u-p)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(p))},_limitZoom:function(u){var p=this.getMinZoom(),v=this.getMaxZoom(),O=Ne.any3d?this.options.zoomSnap:1;return O&&(u=Math.round(u/O)*O),Math.max(p,Math.min(v,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Bn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,p){var v=this._getCenterOffset(u)._trunc();return(p&&p.animate)!==!0&&!this.getSize().contains(v)?!1:(this.panBy(v,p),!0)},_createAnimProxy:function(){var u=this._proxy=Re("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(p){var v=Tr,O=this._proxy.style[v];pr(this._proxy,this.project(p.center,p.zoom),this.getZoomScale(p.zoom,1)),O===this._proxy.style[v]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){wn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),p=this.getZoom();pr(this._proxy,this.project(u,p),this.getZoomScale(p,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,p,v){if(this._animatingZoom)return!0;if(v=v||{},!this._zoomAnimated||v.animate===!1||this._nothingToAnimate()||Math.abs(p-this._zoom)>this.options.zoomAnimationThreshold)return!1;var O=this.getZoomScale(p),U=this._getCenterOffset(u)._divideBy(1-1/O);return v.animate!==!0&&!this.getSize().contains(U)?!1:(st(function(){this._moveStart(!0,v.noMoveStart||!1)._animateZoom(u,p,!0)},this),!0)},_animateZoom:function(u,p,v,O){this._mapPane&&(v&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=p,Xe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:p,noUpdate:O}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Bn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Es(u,p){return new en(u,p)}var Vi=ht.extend({options:{position:"topright"},initialize:function(u){E(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var p=this._map;return p&&p.removeControl(this),this.options.position=u,p&&p.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var p=this._container=this.onAdd(u),v=this.getPosition(),O=u._controlCorners[v];return Xe(p,"leaflet-control"),v.indexOf("bottom")!==-1?O.insertBefore(p,O.firstChild):O.appendChild(p),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(wn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),Qr=function(u){return new Vi(u)};en.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},p="leaflet-",v=this._controlContainer=Re("div",p+"control-container",this._container);function O(U,$){var yt=p+U+" "+p+$;u[U+$]=Re("div",yt,v)}O("top","left"),O("top","right"),O("bottom","left"),O("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)wn(this._controlCorners[u]);wn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ts=Vi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,p,v,O){return v<O?-1:O<v?1:0}},initialize:function(u,p,v){E(this,v),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var O in u)this._addLayer(u[O],O);for(O in p)this._addLayer(p[O],O,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return Vi.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,p){return this._addLayer(u,p),this._map?this._update():this},addOverlay:function(u,p){return this._addLayer(u,p,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var p=this._getLayer(h(u));return p&&this._layers.splice(this._layers.indexOf(p),1),this._map?this._update():this},expand:function(){Xe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(Xe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):Bn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Bn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",p=this._container=Re("div",u),v=this.options.collapsed;p.setAttribute("aria-haspopup",!0),fo(p),$i(p);var O=this._section=Re("section",u+"-list");v&&(this._map.on("click",this.collapse,this),ze(p,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var U=this._layersLink=Re("a",u+"-toggle",p);U.href="#",U.title="Layers",U.setAttribute("role","button"),ze(U,{keydown:function($){$.keyCode===13&&this._expandSafely()},click:function($){Hn($),this._expandSafely()}},this),v||this.expand(),this._baseLayersList=Re("div",u+"-base",O),this._separator=Re("div",u+"-separator",O),this._overlaysList=Re("div",u+"-overlays",O),p.appendChild(O)},_getLayer:function(u){for(var p=0;p<this._layers.length;p++)if(this._layers[p]&&h(this._layers[p].layer)===u)return this._layers[p]},_addLayer:function(u,p,v){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:p,overlay:v}),this.options.sortLayers&&this._layers.sort(l(function(O,U){return this.options.sortFunction(O.layer,U.layer,O.name,U.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;qi(this._baseLayersList),qi(this._overlaysList),this._layerControlInputs=[];var u,p,v,O,U=0;for(v=0;v<this._layers.length;v++)O=this._layers[v],this._addItem(O),p=p||O.overlay,u=u||!O.overlay,U+=O.overlay?0:1;return this.options.hideSingleBase&&(u=u&&U>1,this._baseLayersList.style.display=u?"":"none"),this._separator.style.display=p&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var p=this._getLayer(h(u.target)),v=p.overlay?u.type==="add"?"overlayadd":"overlayremove":u.type==="add"?"baselayerchange":null;v&&this._map.fire(v,p)},_createRadioElement:function(u,p){var v='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(p?' checked="checked"':"")+"/>",O=document.createElement("div");return O.innerHTML=v,O.firstChild},_addItem:function(u){var p=document.createElement("label"),v=this._map.hasLayer(u.layer),O;u.overlay?(O=document.createElement("input"),O.type="checkbox",O.className="leaflet-control-layers-selector",O.defaultChecked=v):O=this._createRadioElement("leaflet-base-layers_"+h(this),v),this._layerControlInputs.push(O),O.layerId=h(u.layer),ze(O,"click",this._onInputClick,this);var U=document.createElement("span");U.innerHTML=" "+u.name;var $=document.createElement("span");p.appendChild($),$.appendChild(O),$.appendChild(U);var yt=u.overlay?this._overlaysList:this._baseLayersList;return yt.appendChild(p),this._checkDisabledLayers(),p},_onInputClick:function(){if(!this._preventClick){var u=this._layerControlInputs,p,v,O=[],U=[];this._handlingClick=!0;for(var $=u.length-1;$>=0;$--)p=u[$],v=this._getLayer(p.layerId).layer,p.checked?O.push(v):p.checked||U.push(v);for($=0;$<U.length;$++)this._map.hasLayer(U[$])&&this._map.removeLayer(U[$]);for($=0;$<O.length;$++)this._map.hasLayer(O[$])||this._map.addLayer(O[$]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u=this._layerControlInputs,p,v,O=this._map.getZoom(),U=u.length-1;U>=0;U--)p=u[U],v=this._getLayer(p.layerId).layer,p.disabled=v.options.minZoom!==void 0&&O<v.options.minZoom||v.options.maxZoom!==void 0&&O>v.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,ze(u,"click",Hn),this.expand();var p=this;setTimeout(function(){un(u,"click",Hn),p._preventClick=!1})}}),ma=function(u,p,v){return new Ts(u,p,v)},As=Vi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var p="leaflet-control-zoom",v=Re("div",p+" leaflet-bar"),O=this.options;return this._zoomInButton=this._createButton(O.zoomInText,O.zoomInTitle,p+"-in",v,this._zoomIn),this._zoomOutButton=this._createButton(O.zoomOutText,O.zoomOutTitle,p+"-out",v,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),v},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,p,v,O,U){var $=Re("a",v,O);return $.innerHTML=u,$.href="#",$.title=p,$.setAttribute("role","button"),$.setAttribute("aria-label",p),fo($),ze($,"click",Qi),ze($,"click",U,this),ze($,"click",this._refocusOnMap,this),$},_updateDisabled:function(){var u=this._map,p="leaflet-disabled";Bn(this._zoomInButton,p),Bn(this._zoomOutButton,p),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(Xe(this._zoomOutButton,p),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(Xe(this._zoomInButton,p),this._zoomInButton.setAttribute("aria-disabled","true"))}});en.mergeOptions({zoomControl:!0}),en.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new As,this.addControl(this.zoomControl))});var Hl=function(u){return new As(u)},ks=Vi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var p="leaflet-control-scale",v=Re("div",p),O=this.options;return this._addScales(O,p+"-line",v),u.on(O.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),v},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,p,v){u.metric&&(this._mScale=Re("div",p,v)),u.imperial&&(this._iScale=Re("div",p,v))},_update:function(){var u=this._map,p=u.getSize().y/2,v=u.distance(u.containerPointToLatLng([0,p]),u.containerPointToLatLng([this.options.maxWidth,p]));this._updateScales(v)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var p=this._getRoundNum(u),v=p<1e3?p+" m":p/1e3+" km";this._updateScale(this._mScale,v,p/u)},_updateImperial:function(u){var p=u*3.2808399,v,O,U;p>5280?(v=p/5280,O=this._getRoundNum(v),this._updateScale(this._iScale,O+" mi",O/v)):(U=this._getRoundNum(p),this._updateScale(this._iScale,U+" ft",U/p))},_updateScale:function(u,p,v){u.style.width=Math.round(this.options.maxWidth*v)+"px",u.innerHTML=p},_getRoundNum:function(u){var p=Math.pow(10,(Math.floor(u)+"").length-1),v=u/p;return v=v>=10?10:v>=5?5:v>=3?3:v>=2?2:1,p*v}}),Wo=function(u){return new ks(u)},ga='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ya=Vi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ne.inlineSvg?ga+" ":"")+"Leaflet</a>"},initialize:function(u){E(this,u),this._attributions={}},onAdd:function(u){u.attributionControl=this,this._container=Re("div","leaflet-control-attribution"),fo(this._container);for(var p in u._layers)u._layers[p].getAttribution&&this.addAttribution(u._layers[p].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var p in this._attributions)this._attributions[p]&&u.push(p);var v=[];this.options.prefix&&v.push(this.options.prefix),u.length&&v.push(u.join(", ")),this._container.innerHTML=v.join(' <span aria-hidden="true">|</span> ')}}});en.mergeOptions({attributionControl:!0}),en.addInitHook(function(){this.options.attributionControl&&new ya().addTo(this)});var Pu=function(u){return new ya(u)};Vi.Layers=Ts,Vi.Zoom=As,Vi.Scale=ks,Vi.Attribution=ya,Qr.layers=ma,Qr.zoom=Hl,Qr.scale=Wo,Qr.attribution=Pu;var Li=ht.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Li.addTo=function(u,p){return u.addHandler(p,this),this};var el={Events:rt},Ms=Ne.touch?"touchstart mousedown":"mousedown",Ar=lt.extend({options:{clickTolerance:3},initialize:function(u,p,v,O){E(this,O),this._element=u,this._dragStartTarget=p||u,this._preventOutline=v},enable:function(){this._enabled||(ze(this._dragStartTarget,Ms,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ar._dragging===this&&this.finishDrag(!0),un(this._dragStartTarget,Ms,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!ha(this._element,"leaflet-zoom-anim"))){if(u.touches&&u.touches.length!==1){Ar._dragging===this&&this.finishDrag();return}if(!(Ar._dragging||u.shiftKey||u.which!==1&&u.button!==1&&!u.touches)&&(Ar._dragging=this,this._preventOutline&&gr(this._element),ws(),Wr(),!this._moving)){this.fire("down");var p=u.touches?u.touches[0]:u,v=yr(this._element);this._startPoint=new et(p.clientX,p.clientY),this._startPos=Kr(this._element),this._parentScale=Zo(v);var O=u.type==="mousedown";ze(document,O?"mousemove":"touchmove",this._onMove,this),ze(document,O?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1){this._moved=!0;return}var p=u.touches&&u.touches.length===1?u.touches[0]:u,v=new et(p.clientX,p.clientY)._subtract(this._startPoint);!v.x&&!v.y||Math.abs(v.x)+Math.abs(v.y)<this.options.clickTolerance||(v.x/=this._parentScale.x,v.y/=this._parentScale.y,Hn(u),this._moved||(this.fire("dragstart"),this._moved=!0,Xe(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Xe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(v),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),gn(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){Bn(document.body,"leaflet-dragging"),this._lastTarget&&(Bn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),un(document,"mousemove touchmove",this._onMove,this),un(document,"mouseup touchend touchcancel",this._onUp,this),xs(),mr();var p=this._moved&&this._moving;this._moving=!1,Ar._dragging=!1,p&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function _a(u,p,v){var O,U=[1,4,2,8],$,yt,qt,$t,ye,De,Ue,nn;for($=0,De=u.length;$<De;$++)u[$]._code=kr(u[$],p);for(qt=0;qt<4;qt++){for(Ue=U[qt],O=[],$=0,De=u.length,yt=De-1;$<De;yt=$++)$t=u[$],ye=u[yt],$t._code&Ue?ye._code&Ue||(nn=Go(ye,$t,Ue,p,v),nn._code=kr(nn,p),O.push(nn)):(ye._code&Ue&&(nn=Go(ye,$t,Ue,p,v),nn._code=kr(nn,p),O.push(nn)),O.push($t));u=O}return u}function fi(u,p){var v,O,U,$,yt,qt,$t,ye,De;if(!u||u.length===0)throw new Error("latlngs not passed");Ji(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Ue=Ut([0,0]),nn=At(u),Ni=nn.getNorthWest().distanceTo(nn.getSouthWest())*nn.getNorthEast().distanceTo(nn.getNorthWest());Ni<1700&&(Ue=Oo(u));var si=u.length,br=[];for(v=0;v<si;v++){var yn=Ut(u[v]);br.push(p.project(Ut([yn.lat-Ue.lat,yn.lng-Ue.lng])))}for(qt=$t=ye=0,v=0,O=si-1;v<si;O=v++)U=br[v],$=br[O],yt=U.y*$.x-$.y*U.x,$t+=(U.x+$.x)*yt,ye+=(U.y+$.y)*yt,qt+=yt*3;qt===0?De=br[0]:De=[$t/qt,ye/qt];var _n=p.unproject(nt(De));return Ut([_n.lat+Ue.lat,_n.lng+Ue.lng])}function Oo(u){for(var p=0,v=0,O=0,U=0;U<u.length;U++){var $=Ut(u[U]);p+=$.lat,v+=$.lng,O++}return Ut([p/O,v/O])}var Co={__proto__:null,clipPolygon:_a,polygonCenter:fi,centroid:Oo};function nl(u,p){if(!p||!u.length)return u.slice();var v=p*p;return u=rl(u,v),u=il(u,v),u}function Os(u,p,v){return Math.sqrt($o(u,p,v,!0))}function ql(u,p,v){return $o(u,p,v)}function il(u,p){var v=u.length,O=typeof Uint8Array<"u"?Uint8Array:Array,U=new O(v);U[0]=U[v-1]=1,Xo(u,U,p,0,v-1);var $,yt=[];for($=0;$<v;$++)U[$]&&yt.push(u[$]);return yt}function Xo(u,p,v,O,U){var $=0,yt,qt,$t;for(qt=O+1;qt<=U-1;qt++)$t=$o(u[qt],u[O],u[U],!0),$t>$&&(yt=qt,$=$t);$>v&&(p[yt]=1,Xo(u,p,v,O,yt),Xo(u,p,v,yt,U))}function rl(u,p){for(var v=[u[0]],O=1,U=0,$=u.length;O<$;O++)ol(u[O],u[U])>p&&(v.push(u[O]),U=O);return U<$-1&&v.push(u[$-1]),v}var ho;function ba(u,p,v,O,U){var $=O?ho:kr(u,v),yt=kr(p,v),qt,$t,ye;for(ho=yt;;){if(!($|yt))return[u,p];if($&yt)return!1;qt=$||yt,$t=Go(u,p,qt,v,U),ye=kr($t,v),qt===$?(u=$t,$=ye):(p=$t,yt=ye)}}function Go(u,p,v,O,U){var $=p.x-u.x,yt=p.y-u.y,qt=O.min,$t=O.max,ye,De;return v&8?(ye=u.x+$*($t.y-u.y)/yt,De=$t.y):v&4?(ye=u.x+$*(qt.y-u.y)/yt,De=qt.y):v&2?(ye=$t.x,De=u.y+yt*($t.x-u.x)/$):v&1&&(ye=qt.x,De=u.y+yt*(qt.x-u.x)/$),new et(ye,De,U)}function kr(u,p){var v=0;return u.x<p.min.x?v|=1:u.x>p.max.x&&(v|=2),u.y<p.min.y?v|=4:u.y>p.max.y&&(v|=8),v}function ol(u,p){var v=p.x-u.x,O=p.y-u.y;return v*v+O*O}function $o(u,p,v,O){var U=p.x,$=p.y,yt=v.x-U,qt=v.y-$,$t=yt*yt+qt*qt,ye;return $t>0&&(ye=((u.x-U)*yt+(u.y-$)*qt)/$t,ye>1?(U=v.x,$=v.y):ye>0&&(U+=yt*ye,$+=qt*ye)),yt=u.x-U,qt=u.y-$,O?yt*yt+qt*qt:new et(U,$)}function Ji(u){return!P(u[0])||typeof u[0][0]!="object"&&typeof u[0][0]<"u"}function Qo(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ji(u)}function Jr(u,p){var v,O,U,$,yt,qt,$t,ye;if(!u||u.length===0)throw new Error("latlngs not passed");Ji(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var De=Ut([0,0]),Ue=At(u),nn=Ue.getNorthWest().distanceTo(Ue.getSouthWest())*Ue.getNorthEast().distanceTo(Ue.getNorthWest());nn<1700&&(De=Oo(u));var Ni=u.length,si=[];for(v=0;v<Ni;v++){var br=Ut(u[v]);si.push(p.project(Ut([br.lat-De.lat,br.lng-De.lng])))}for(v=0,O=0;v<Ni-1;v++)O+=si[v].distanceTo(si[v+1])/2;if(O===0)ye=si[0];else for(v=0,$=0;v<Ni-1;v++)if(yt=si[v],qt=si[v+1],U=yt.distanceTo(qt),$+=U,$>O){$t=($-O)/U,ye=[qt.x-$t*(qt.x-yt.x),qt.y-$t*(qt.y-yt.y)];break}var yn=p.unproject(nt(ye));return Ut([yn.lat+De.lat,yn.lng+De.lng])}var Ru={__proto__:null,simplify:nl,pointToSegmentDistance:Os,closestPointOnSegment:ql,clipSegment:ba,_getEdgeIntersection:Go,_getBitCode:kr,_sqClosestPointOnSegment:$o,isFlat:Ji,_flat:Qo,polylineCenter:Jr},Jo={project:function(u){return new et(u.lng,u.lat)},unproject:function(u){return new gt(u.y,u.x)},bounds:new Z([-180,-90],[180,90])},ts={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(u){var p=Math.PI/180,v=this.R,O=u.lat*p,U=this.R_MINOR/v,$=Math.sqrt(1-U*U),yt=$*Math.sin(O),qt=Math.tan(Math.PI/4-O/2)/Math.pow((1-yt)/(1+yt),$/2);return O=-v*Math.log(Math.max(qt,1e-10)),new et(u.lng*p*v,O)},unproject:function(u){for(var p=180/Math.PI,v=this.R,O=this.R_MINOR/v,U=Math.sqrt(1-O*O),$=Math.exp(-u.y/v),yt=Math.PI/2-2*Math.atan($),qt=0,$t=.1,ye;qt<15&&Math.abs($t)>1e-7;qt++)ye=U*Math.sin(yt),ye=Math.pow((1-ye)/(1+ye),U/2),$t=Math.PI/2-2*Math.atan($*ye)-yt,yt+=$t;return new gt(yt*p,u.x*p/v)}},Vl={__proto__:null,LonLat:Jo,Mercator:ts,SphericalMercator:Mt},sl=o({},ct,{code:"EPSG:3395",projection:ts,transformation:(function(){var u=.5/(Math.PI*ts.R);return Tt(u,.5,-u,.5)})()}),al=o({},ct,{code:"EPSG:4326",projection:Jo,transformation:Tt(1/180,1,-1/180,.5)}),Lo=o({},_t,{projection:Jo,transformation:Tt(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,p){var v=p.lng-u.lng,O=p.lat-u.lat;return Math.sqrt(v*v+O*O)},infinite:!0});_t.Earth=ct,_t.EPSG3395=sl,_t.EPSG3857=ce,_t.EPSG900913=Jt,_t.EPSG4326=al,_t.Simple=Lo;var tr=lt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[h(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[h(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var p=u.target;if(p.hasLayer(this)){if(this._map=p,this._zoomAnimated=p._zoomAnimated,this.getEvents){var v=this.getEvents();p.on(v,this),this.once("remove",function(){p.off(v,this)},this)}this.onAdd(p),this.fire("add"),p.fire("layeradd",{layer:this})}}});en.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var p=h(u);return this._layers[p]?this:(this._layers[p]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u),this)},removeLayer:function(u){var p=h(u);return this._layers[p]?(this._loaded&&u.onRemove(this),delete this._layers[p],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return h(u)in this._layers},eachLayer:function(u,p){for(var v in this._layers)u.call(p,this._layers[v]);return this},_addLayers:function(u){u=u?P(u)?u:[u]:[];for(var p=0,v=u.length;p<v;p++)this.addLayer(u[p])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[h(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var p=h(u);this._zoomBoundLayers[p]&&(delete this._zoomBoundLayers[p],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,p=-1/0,v=this._getZoomSpan();for(var O in this._zoomBoundLayers){var U=this._zoomBoundLayers[O].options;u=U.minZoom===void 0?u:Math.min(u,U.minZoom),p=U.maxZoom===void 0?p:Math.max(p,U.maxZoom)}this._layersMaxZoom=p===-1/0?void 0:p,this._layersMinZoom=u===1/0?void 0:u,v!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var es=tr.extend({initialize:function(u,p){E(this,p),this._layers={};var v,O;if(u)for(v=0,O=u.length;v<O;v++)this.addLayer(u[v])},addLayer:function(u){var p=this.getLayerId(u);return this._layers[p]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var p=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[p]&&this._map.removeLayer(this._layers[p]),delete this._layers[p],this},hasLayer:function(u){var p=typeof u=="number"?u:this.getLayerId(u);return p in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var p=Array.prototype.slice.call(arguments,1),v,O;for(v in this._layers)O=this._layers[v],O[u]&&O[u].apply(O,p);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,p){for(var v in this._layers)u.call(p,this._layers[v]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return h(u)}}),Yl=function(u,p){return new es(u,p)},er=es.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),es.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),es.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new at;for(var p in this._layers){var v=this._layers[p];u.extend(v.getBounds?v.getBounds():v.getLatLng())}return u}}),ll=function(u,p){return new er(u,p)},_r=ht.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){E(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,p){var v=this._getIconUrl(u);if(!v){if(u==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var O=this._createImg(v,p&&p.tagName==="IMG"?p:null);return this._setIconStyles(O,u),(this.options.crossOrigin||this.options.crossOrigin==="")&&(O.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),O},_setIconStyles:function(u,p){var v=this.options,O=v[p+"Size"];typeof O=="number"&&(O=[O,O]);var U=nt(O),$=nt(p==="shadow"&&v.shadowAnchor||v.iconAnchor||U&&U.divideBy(2,!0));u.className="leaflet-marker-"+p+" "+(v.className||""),$&&(u.style.marginLeft=-$.x+"px",u.style.marginTop=-$.y+"px"),U&&(u.style.width=U.x+"px",u.style.height=U.y+"px")},_createImg:function(u,p){return p=p||document.createElement("img"),p.src=u,p},_getIconUrl:function(u){return Ne.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});function Cs(u){return new _r(u)}var Ls=_r.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return typeof Ls.imagePath!="string"&&(Ls.imagePath=this._detectIconPath()),(this.options.imagePath||Ls.imagePath)+_r.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var p=function(v,O,U){var $=O.exec(v);return $&&$[U]};return u=p(u,/^url\((['"])?(.+)\1\)$/,2),u&&p(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=Re("div","leaflet-default-icon-path",document.body),p=Yo(u,"background-image")||Yo(u,"backgroundImage");if(document.body.removeChild(u),p=this._stripUrl(p),p)return p;var v=document.querySelector('link[href$="leaflet.css"]');return v?v.href.substring(0,v.href.length-11-1):""}}),Ns=Li.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new Ar(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Xe(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Bn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var p=this._marker,v=p._map,O=this._marker.options.autoPanSpeed,U=this._marker.options.autoPanPadding,$=Kr(p._icon),yt=v.getPixelBounds(),qt=v.getPixelOrigin(),$t=K(yt.min._subtract(qt).add(U),yt.max._subtract(qt).subtract(U));if(!$t.contains($)){var ye=nt((Math.max($t.max.x,$.x)-$t.max.x)/(yt.max.x-$t.max.x)-(Math.min($t.min.x,$.x)-$t.min.x)/(yt.min.x-$t.min.x),(Math.max($t.max.y,$.y)-$t.max.y)/(yt.max.y-$t.max.y)-(Math.min($t.min.y,$.y)-$t.min.y)/(yt.min.y-$t.min.y)).multiplyBy(O);v.panBy(ye,{animate:!1}),this._draggable._newPos._add(ye),this._draggable._startPos._add(ye),gn(p._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=st(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=st(this._adjustPan.bind(this,u)))},_onDrag:function(u){var p=this._marker,v=p._shadow,O=Kr(p._icon),U=p._map.layerPointToLatLng(O);v&&gn(v,O),p._latlng=U,u.latlng=U,u.oldLatLng=this._oldLatLng,p.fire("move",u).fire("drag",u)},_onDragEnd:function(u){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),po=tr.extend({options:{icon:new Ls,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,p){E(this,p),this._latlng=Ut(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var p=this._latlng;return this._latlng=Ut(u),this.update(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,p="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),v=u.icon.createIcon(this._icon),O=!1;v!==this._icon&&(this._icon&&this._removeIcon(),O=!0,u.title&&(v.title=u.title),v.tagName==="IMG"&&(v.alt=u.alt||"")),Xe(v,p),u.keyboard&&(v.tabIndex="0",v.setAttribute("role","button")),this._icon=v,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ze(v,"focus",this._panOnFocus,this);var U=u.icon.createShadow(this._shadow),$=!1;U!==this._shadow&&(this._removeShadow(),$=!0),U&&(Xe(U,p),U.alt=""),this._shadow=U,u.opacity<1&&this._updateOpacity(),O&&this.getPane().appendChild(this._icon),this._initInteraction(),U&&$&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&un(this._icon,"focus",this._panOnFocus,this),wn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&wn(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&gn(this._icon,u),this._shadow&&gn(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(p)},_initInteraction:function(){if(this.options.interactive&&(Xe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ns)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ns(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&xn(this._icon,u),this._shadow&&xn(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var p=this.options.icon.options,v=p.iconSize?nt(p.iconSize):nt(0,0),O=p.iconAnchor?nt(p.iconAnchor):nt(0,0);u.panInside(this._latlng,{paddingTopLeft:O,paddingBottomRight:v.subtract(O)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Mr(u,p){return new po(u,p)}var pn=tr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return E(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),to=pn.extend({options:{fill:!0,radius:10},initialize:function(u,p){E(this,p),this._latlng=Ut(u),this._radius=this.options.radius},setLatLng:function(u){var p=this._latlng;return this._latlng=Ut(u),this.redraw(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var p=u&&u.radius||this._radius;return pn.prototype.setStyle.call(this,u),this.setRadius(p),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,p=this._radiusY||u,v=this._clickTolerance(),O=[u+v,p+v];this._pxBounds=new Z(this._point.subtract(O),this._point.add(O))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Yi(u,p){return new to(u,p)}var va=to.extend({initialize:function(u,p,v){if(typeof p=="number"&&(p=o({},v,{radius:p})),E(this,p),this._latlng=Ut(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new at(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:pn.prototype.setStyle,_project:function(){var u=this._latlng.lng,p=this._latlng.lat,v=this._map,O=v.options.crs;if(O.distance===ct.distance){var U=Math.PI/180,$=this._mRadius/ct.R/U,yt=v.project([p+$,u]),qt=v.project([p-$,u]),$t=yt.add(qt).divideBy(2),ye=v.unproject($t).lat,De=Math.acos((Math.cos($*U)-Math.sin(p*U)*Math.sin(ye*U))/(Math.cos(p*U)*Math.cos(ye*U)))/U;(isNaN(De)||De===0)&&(De=$/Math.cos(Math.PI/180*p)),this._point=$t.subtract(v.getPixelOrigin()),this._radius=isNaN(De)?0:$t.x-v.project([ye,u-De]).x,this._radiusY=$t.y-yt.y}else{var Ue=O.unproject(O.project(this._latlng).subtract([this._mRadius,0]));this._point=v.latLngToLayerPoint(this._latlng),this._radius=this._point.x-v.latLngToLayerPoint(Ue).x}this._updateBounds()}});function wa(u,p,v){return new va(u,p,v)}var Or=pn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,p){E(this,p),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var p=1/0,v=null,O=$o,U,$,yt=0,qt=this._parts.length;yt<qt;yt++)for(var $t=this._parts[yt],ye=1,De=$t.length;ye<De;ye++){U=$t[ye-1],$=$t[ye];var Ue=O(u,U,$,!0);Ue<p&&(p=Ue,v=O(u,U,$))}return v&&(v.distance=Math.sqrt(p)),v},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Jr(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,p){return p=p||this._defaultShape(),u=Ut(u),p.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new at,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return Ji(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var p=[],v=Ji(u),O=0,U=u.length;O<U;O++)v?(p[O]=Ut(u[O]),this._bounds.extend(p[O])):p[O]=this._convertLatLngs(u[O]);return p},_project:function(){var u=new Z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),p=new et(u,u);this._rawPxBounds&&(this._pxBounds=new Z([this._rawPxBounds.min.subtract(p),this._rawPxBounds.max.add(p)]))},_projectLatlngs:function(u,p,v){var O=u[0]instanceof gt,U=u.length,$,yt;if(O){for(yt=[],$=0;$<U;$++)yt[$]=this._map.latLngToLayerPoint(u[$]),v.extend(yt[$]);p.push(yt)}else for($=0;$<U;$++)this._projectLatlngs(u[$],p,v)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}var p=this._parts,v,O,U,$,yt,qt,$t;for(v=0,U=0,$=this._rings.length;v<$;v++)for($t=this._rings[v],O=0,yt=$t.length;O<yt-1;O++)qt=ba($t[O],$t[O+1],u,O,!0),qt&&(p[U]=p[U]||[],p[U].push(qt[0]),(qt[1]!==$t[O+1]||O===yt-2)&&(p[U].push(qt[1]),U++))}},_simplifyPoints:function(){for(var u=this._parts,p=this.options.smoothFactor,v=0,O=u.length;v<O;v++)u[v]=nl(u[v],p)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,p){var v,O,U,$,yt,qt,$t=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(v=0,$=this._parts.length;v<$;v++)for(qt=this._parts[v],O=0,yt=qt.length,U=yt-1;O<yt;U=O++)if(!(!p&&O===0)&&Os(u,qt[U],qt[O])<=$t)return!0;return!1}});function No(u,p){return new Or(u,p)}Or._flat=Qo;var mo=Or.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return fi(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var p=Or.prototype._convertLatLngs.call(this,u),v=p.length;return v>=2&&p[0]instanceof gt&&p[0].equals(p[v-1])&&p.pop(),p},_setLatLngs:function(u){Or.prototype._setLatLngs.call(this,u),Ji(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ji(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,p=this.options.weight,v=new et(p,p);if(u=new Z(u.min.subtract(v),u.max.add(v)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}for(var O=0,U=this._rings.length,$;O<U;O++)$=_a(this._rings[O],u,!0),$.length&&this._parts.push($)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var p=!1,v,O,U,$,yt,qt,$t,ye;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for($=0,$t=this._parts.length;$<$t;$++)for(v=this._parts[$],yt=0,ye=v.length,qt=ye-1;yt<ye;qt=yt++)O=v[yt],U=v[qt],O.y>u.y!=U.y>u.y&&u.x<(U.x-O.x)*(u.y-O.y)/(U.y-O.y)+O.x&&(p=!p);return p||Or.prototype._containsPoint.call(this,u,!0)}});function ns(u,p){return new mo(u,p)}var vi=er.extend({initialize:function(u,p){E(this,p),this._layers={},u&&this.addData(u)},addData:function(u){var p=P(u)?u:u.features,v,O,U;if(p){for(v=0,O=p.length;v<O;v++)U=p[v],(U.geometries||U.geometry||U.features||U.coordinates)&&this.addData(U);return this}var $=this.options;if($.filter&&!$.filter(u))return this;var yt=hi(u,$);return yt?(yt.feature=ot(u),yt.defaultOptions=yt.options,this.resetStyle(yt),$.onEachFeature&&$.onEachFeature(u,yt),this.addLayer(yt)):this},resetStyle:function(u){return u===void 0?this.eachLayer(this.resetStyle,this):(u.options=o({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(p){this._setLayerStyle(p,u)},this)},_setLayerStyle:function(u,p){u.setStyle&&(typeof p=="function"&&(p=p(u.feature)),u.setStyle(p))}});function hi(u,p){var v=u.type==="Feature"?u.geometry:u,O=v?v.coordinates:null,U=[],$=p&&p.pointToLayer,yt=p&&p.coordsToLatLng||T,qt,$t,ye,De;if(!O&&!v)return null;switch(v.type){case"Point":return qt=yt(O),_($,u,qt,p);case"MultiPoint":for(ye=0,De=O.length;ye<De;ye++)qt=yt(O[ye]),U.push(_($,u,qt,p));return new er(U);case"LineString":case"MultiLineString":return $t=j(O,v.type==="LineString"?0:1,yt),new Or($t,p);case"Polygon":case"MultiPolygon":return $t=j(O,v.type==="Polygon"?1:2,yt),new mo($t,p);case"GeometryCollection":for(ye=0,De=v.geometries.length;ye<De;ye++){var Ue=hi({geometry:v.geometries[ye],type:"Feature",properties:u.properties},p);Ue&&U.push(Ue)}return new er(U);case"FeatureCollection":for(ye=0,De=v.features.length;ye<De;ye++){var nn=hi(v.features[ye],p);nn&&U.push(nn)}return new er(U);default:throw new Error("Invalid GeoJSON object.")}}function _(u,p,v,O){return u?u(p,v):new po(v,O&&O.markersInheritOptions&&O)}function T(u){return new gt(u[1],u[0],u[2])}function j(u,p,v){for(var O=[],U=0,$=u.length,yt;U<$;U++)yt=p?j(u[U],p-1,v):(v||T)(u[U]),O.push(yt);return O}function I(u,p){return u=Ut(u),u.alt!==void 0?[b(u.lng,p),b(u.lat,p),b(u.alt,p)]:[b(u.lng,p),b(u.lat,p)]}function q(u,p,v,O){for(var U=[],$=0,yt=u.length;$<yt;$++)U.push(p?q(u[$],Ji(u[$])?0:p-1,v,O):I(u[$],O));return!p&&v&&U.length>0&&U.push(U[0].slice()),U}function W(u,p){return u.feature?o({},u.feature,{geometry:p}):ot(p)}function ot(u){return u.type==="Feature"||u.type==="FeatureCollection"?u:{type:"Feature",properties:{},geometry:u}}var pt={toGeoJSON:function(u){return W(this,{type:"Point",coordinates:I(this.getLatLng(),u)})}};po.include(pt),va.include(pt),to.include(pt),Or.include({toGeoJSON:function(u){var p=!Ji(this._latlngs),v=q(this._latlngs,p?1:0,!1,u);return W(this,{type:(p?"Multi":"")+"LineString",coordinates:v})}}),mo.include({toGeoJSON:function(u){var p=!Ji(this._latlngs),v=p&&!Ji(this._latlngs[0]),O=q(this._latlngs,v?2:p?1:0,!0,u);return p||(O=[O]),W(this,{type:(v?"Multi":"")+"Polygon",coordinates:O})}}),es.include({toMultiPoint:function(u){var p=[];return this.eachLayer(function(v){p.push(v.toGeoJSON(u).geometry.coordinates)}),W(this,{type:"MultiPoint",coordinates:p})},toGeoJSON:function(u){var p=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(p==="MultiPoint")return this.toMultiPoint(u);var v=p==="GeometryCollection",O=[];return this.eachLayer(function(U){if(U.toGeoJSON){var $=U.toGeoJSON(u);if(v)O.push($.geometry);else{var yt=ot($);yt.type==="FeatureCollection"?O.push.apply(O,yt.features):O.push(yt)}}}),v?W(this,{geometries:O,type:"GeometryCollection"}):{type:"FeatureCollection",features:O}}});function kt(u,p){return new vi(u,p)}var Ct=kt,Bt=tr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,p,v){this._url=u,this._bounds=At(p),E(this,v)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Xe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){wn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&Kn(this._image),this},bringToBack:function(){return this._map&&dr(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=At(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u=this._url.tagName==="IMG",p=this._image=u?this._url:Re("img");if(Xe(p,"leaflet-image-layer"),this._zoomAnimated&&Xe(p,"leaflet-zoom-animated"),this.options.className&&Xe(p,this.options.className),p.onselectstart=y,p.onmousemove=y,p.onload=l(this.fire,this,"load"),p.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u){this._url=p.src;return}p.src=this._url,p.alt=this.options.alt},_animateZoom:function(u){var p=this._map.getZoomScale(u.zoom),v=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;pr(this._image,v,p)},_reset:function(){var u=this._image,p=new Z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),v=p.getSize();gn(u,p.min),u.style.width=v.x+"px",u.style.height=v.y+"px"},_updateOpacity:function(){xn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),xt=function(u,p,v){return new Bt(u,p,v)},Ft=Bt.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u=this._url.tagName==="VIDEO",p=this._image=u?this._url:Re("video");if(Xe(p,"leaflet-image-layer"),this._zoomAnimated&&Xe(p,"leaflet-zoom-animated"),this.options.className&&Xe(p,this.options.className),p.onselectstart=y,p.onmousemove=y,p.onloadeddata=l(this.fire,this,"load"),u){for(var v=p.getElementsByTagName("source"),O=[],U=0;U<v.length;U++)O.push(v[U].src);this._url=v.length>0?O:[p.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(p.style,"objectFit")&&(p.style.objectFit="fill"),p.autoplay=!!this.options.autoplay,p.loop=!!this.options.loop,p.muted=!!this.options.muted,p.playsInline=!!this.options.playsInline;for(var $=0;$<this._url.length;$++){var yt=Re("source");yt.src=this._url[$],p.appendChild(yt)}}});function Lt(u,p,v){return new Ft(u,p,v)}var Pt=Bt.extend({_initImage:function(){var u=this._image=this._url;Xe(u,"leaflet-image-layer"),this._zoomAnimated&&Xe(u,"leaflet-zoom-animated"),this.options.className&&Xe(u,this.options.className),u.onselectstart=y,u.onmousemove=y}});function zt(u,p,v){return new Pt(u,p,v)}var Rt=tr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,p){u&&(u instanceof gt||P(u))?(this._latlng=Ut(u),E(this,p)):(E(this,u),this._source=p),this.options.content&&(this._content=this.options.content)},openOn:function(u){return u=arguments.length?u:this._source._map,u.hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&xn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&xn(this._container,1),this.bringToFront(),this.options.interactive&&(Xe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(xn(this._container,0),this._removeTimeout=setTimeout(l(wn,void 0,this._container),200)):wn(this._container),this.options.interactive&&(Bn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=Ut(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Kn(this._container),this},bringToBack:function(){return this._map&&dr(this._container),this},_prepareOpen:function(u){var p=this._source;if(!p._map)return!1;if(p instanceof er){p=null;var v=this._source._layers;for(var O in v)if(v[O]._map){p=v[O];break}if(!p)return!1;this._source=p}if(!u)if(p.getCenter)u=p.getCenter();else if(p.getLatLng)u=p.getLatLng();else if(p.getBounds)u=p.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,p=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof p=="string")u.innerHTML=p;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(p)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),p=nt(this.options.offset),v=this._getAnchor();this._zoomAnimated?gn(this._container,u.add(v)):p=p.add(u).add(v);var O=this._containerBottom=-p.y,U=this._containerLeft=-Math.round(this._containerWidth/2)+p.x;this._container.style.bottom=O+"px",this._container.style.left=U+"px"}},_getAnchor:function(){return[0,0]}});en.include({_initOverlay:function(u,p,v,O){var U=p;return U instanceof u||(U=new u(O).setContent(p)),v&&U.setLatLng(v),U}}),tr.include({_initOverlay:function(u,p,v,O){var U=v;return U instanceof u?(E(U,O),U._source=this):(U=p&&!O?p:new u(O,this),U.setContent(v)),U}});var Zt=Rt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u=arguments.length?u:this._source._map,!u.hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,Rt.prototype.openOn.call(this,u)},onAdd:function(u){Rt.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof pn||this._source.on("preclick",Xn))},onRemove:function(u){Rt.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof pn||this._source.off("preclick",Xn))},getEvents:function(){var u=Rt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",p=this._container=Re("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),v=this._wrapper=Re("div",u+"-content-wrapper",p);if(this._contentNode=Re("div",u+"-content",v),fo(p),$i(this._contentNode),ze(p,"contextmenu",Xn),this._tipContainer=Re("div",u+"-tip-container",p),this._tip=Re("div",u+"-tip",this._tipContainer),this.options.closeButton){var O=this._closeButton=Re("a",u+"-close-button",p);O.setAttribute("role","button"),O.setAttribute("aria-label","Close popup"),O.href="#close",O.innerHTML='<span aria-hidden="true">&#215;</span>',ze(O,"click",function(U){Hn(U),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,p=u.style;p.width="",p.whiteSpace="nowrap";var v=u.offsetWidth;v=Math.min(v,this.options.maxWidth),v=Math.max(v,this.options.minWidth),p.width=v+1+"px",p.whiteSpace="",p.height="";var O=u.offsetHeight,U=this.options.maxHeight,$="leaflet-popup-scrolled";U&&O>U?(p.height=U+"px",Xe(u,$)):Bn(u,$),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),v=this._getAnchor();gn(this._container,p.add(v))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var u=this._map,p=parseInt(Yo(this._container,"marginBottom"),10)||0,v=this._container.offsetHeight+p,O=this._containerWidth,U=new et(this._containerLeft,-v-this._containerBottom);U._add(Kr(this._container));var $=u.layerPointToContainerPoint(U),yt=nt(this.options.autoPanPadding),qt=nt(this.options.autoPanPaddingTopLeft||yt),$t=nt(this.options.autoPanPaddingBottomRight||yt),ye=u.getSize(),De=0,Ue=0;$.x+O+$t.x>ye.x&&(De=$.x+O-ye.x+$t.x),$.x-De-qt.x<0&&(De=$.x-qt.x),$.y+v+$t.y>ye.y&&(Ue=$.y+v-ye.y+$t.y),$.y-Ue-qt.y<0&&(Ue=$.y-qt.y),(De||Ue)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([De,Ue]))}},_getAnchor:function(){return nt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Gt=function(u,p){return new Zt(u,p)};en.mergeOptions({closePopupOnClick:!0}),en.include({openPopup:function(u,p,v){return this._initOverlay(Zt,u,p,v).openOn(this),this},closePopup:function(u){return u=arguments.length?u:this._popup,u&&u.close(),this}}),tr.include({bindPopup:function(u,p){return this._popup=this._initOverlay(Zt,this._popup,u,p),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof er||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(!(!this._popup||!this._map)){Qi(u);var p=u.layer||u.target;if(this._popup._source===p&&!(p instanceof pn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng);return}this._popup._source=p,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){u.originalEvent.keyCode===13&&this._openPopup(u)}});var oe=Rt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){Rt.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){Rt.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=Rt.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){var u="leaflet-tooltip",p=u+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Re("div",p),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var p,v,O=this._map,U=this._container,$=O.latLngToContainerPoint(O.getCenter()),yt=O.layerPointToContainerPoint(u),qt=this.options.direction,$t=U.offsetWidth,ye=U.offsetHeight,De=nt(this.options.offset),Ue=this._getAnchor();qt==="top"?(p=$t/2,v=ye):qt==="bottom"?(p=$t/2,v=0):qt==="center"?(p=$t/2,v=ye/2):qt==="right"?(p=0,v=ye/2):qt==="left"?(p=$t,v=ye/2):yt.x<$.x?(qt="right",p=0,v=ye/2):(qt="left",p=$t+(De.x+Ue.x)*2,v=ye/2),u=u.subtract(nt(p,v,!0)).add(De).add(Ue),Bn(U,"leaflet-tooltip-right"),Bn(U,"leaflet-tooltip-left"),Bn(U,"leaflet-tooltip-top"),Bn(U,"leaflet-tooltip-bottom"),Xe(U,"leaflet-tooltip-"+qt),gn(U,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&xn(this._container,u)},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(p)},_getAnchor:function(){return nt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ge=function(u,p){return new oe(u,p)};en.include({openTooltip:function(u,p,v){return this._initOverlay(oe,u,p,v).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),tr.include({bindTooltip:function(u,p){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(oe,this._tooltip,u,p),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(!(!u&&this._tooltipHandlersAdded)){var p=u?"off":"on",v={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?v.add=this._openTooltip:(v.mouseover=this._openTooltip,v.mouseout=this.closeTooltip,v.click=this._openTooltip,this._map?this._addFocusListeners():v.add=this._addFocusListeners),this._tooltip.options.sticky&&(v.mousemove=this._moveTooltip),this[p](v),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof er||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var p=typeof u.getElement=="function"&&u.getElement();p&&(ze(p,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),ze(p,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var p=typeof u.getElement=="function"&&u.getElement();p&&p.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var p=this;this._map.once("moveend",function(){p._openOnceFlag=!1,p._openTooltip(u)});return}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var p=u.latlng,v,O;this._tooltip.options.sticky&&u.originalEvent&&(v=this._map.mouseEventToContainerPoint(u.originalEvent),O=this._map.containerPointToLayerPoint(v),p=this._map.layerPointToLatLng(O)),this._tooltip.setLatLng(p)}});var Ae=_r.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var p=u&&u.tagName==="DIV"?u:document.createElement("div"),v=this.options;if(v.html instanceof Element?(qi(p),p.appendChild(v.html)):p.innerHTML=v.html!==!1?v.html:"",v.bgPos){var O=nt(v.bgPos);p.style.backgroundPosition=-O.x+"px "+-O.y+"px"}return this._setIconStyles(p,"icon"),p},createShadow:function(){return null}});function Le(u){return new Ae(u)}_r.Default=Ls;var Se=tr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ne.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){E(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),wn(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Kn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(dr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof et?u:new et(u,u)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var p=this.getPane().children,v=-u(-1/0,1/0),O=0,U=p.length,$;O<U;O++)$=p[O].style.zIndex,p[O]!==this._container&&$&&(v=u(v,+$));isFinite(v)&&(this.options.zIndex=v+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ne.ielt9){xn(this._container,this.options.opacity);var u=+new Date,p=!1,v=!1;for(var O in this._tiles){var U=this._tiles[O];if(!(!U.current||!U.loaded)){var $=Math.min(1,(u-U.loaded)/200);xn(U.el,$),$<1?p=!0:(U.active?v=!0:this._onOpaqueTile(U),U.active=!0)}}v&&!this._noPrune&&this._pruneTiles(),p&&(G(this._fadeFrame),this._fadeFrame=st(this._updateOpacity,this))}},_onOpaqueTile:y,_initContainer:function(){this._container||(this._container=Re("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,p=this.options.maxZoom;if(u!==void 0){for(var v in this._levels)v=Number(v),this._levels[v].el.children.length||v===u?(this._levels[v].el.style.zIndex=p-Math.abs(u-v),this._onUpdateLevel(v)):(wn(this._levels[v].el),this._removeTilesAtZoom(v),this._onRemoveLevel(v),delete this._levels[v]);var O=this._levels[u],U=this._map;return O||(O=this._levels[u]={},O.el=Re("div","leaflet-tile-container leaflet-zoom-animated",this._container),O.el.style.zIndex=p,O.origin=U.project(U.unproject(U.getPixelOrigin()),u).round(),O.zoom=u,this._setZoomTransform(O,U.getCenter(),U.getZoom()),y(O.el.offsetWidth),this._onCreateLevel(O)),this._level=O,O}},_onUpdateLevel:y,_onRemoveLevel:y,_onCreateLevel:y,_pruneTiles:function(){if(this._map){var u,p,v=this._map.getZoom();if(v>this.options.maxZoom||v<this.options.minZoom){this._removeAllTiles();return}for(u in this._tiles)p=this._tiles[u],p.retain=p.current;for(u in this._tiles)if(p=this._tiles[u],p.current&&!p.active){var O=p.coords;this._retainParent(O.x,O.y,O.z,O.z-5)||this._retainChildren(O.x,O.y,O.z,O.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var p in this._tiles)this._tiles[p].coords.z===u&&this._removeTile(p)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)wn(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,p,v,O){var U=Math.floor(u/2),$=Math.floor(p/2),yt=v-1,qt=new et(+U,+$);qt.z=+yt;var $t=this._tileCoordsToKey(qt),ye=this._tiles[$t];return ye&&ye.active?(ye.retain=!0,!0):(ye&&ye.loaded&&(ye.retain=!0),yt>O?this._retainParent(U,$,yt,O):!1)},_retainChildren:function(u,p,v,O){for(var U=2*u;U<2*u+2;U++)for(var $=2*p;$<2*p+2;$++){var yt=new et(U,$);yt.z=v+1;var qt=this._tileCoordsToKey(yt),$t=this._tiles[qt];if($t&&$t.active){$t.retain=!0;continue}else $t&&$t.loaded&&($t.retain=!0);v+1<O&&this._retainChildren(U,$,v+1,O)}},_resetView:function(u){var p=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),p,p)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var p=this.options;return p.minNativeZoom!==void 0&&u<p.minNativeZoom?p.minNativeZoom:p.maxNativeZoom!==void 0&&p.maxNativeZoom<u?p.maxNativeZoom:u},_setView:function(u,p,v,O){var U=Math.round(p);this.options.maxZoom!==void 0&&U>this.options.maxZoom||this.options.minZoom!==void 0&&U<this.options.minZoom?U=void 0:U=this._clampZoom(U);var $=this.options.updateWhenZooming&&U!==this._tileZoom;(!O||$)&&(this._tileZoom=U,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),U!==void 0&&this._update(u),v||this._pruneTiles(),this._noPrune=!!v),this._setZoomTransforms(u,p)},_setZoomTransforms:function(u,p){for(var v in this._levels)this._setZoomTransform(this._levels[v],u,p)},_setZoomTransform:function(u,p,v){var O=this._map.getZoomScale(v,u.zoom),U=u.origin.multiplyBy(O).subtract(this._map._getNewPixelOrigin(p,v)).round();Ne.any3d?pr(u.el,U,O):gn(u.el,U)},_resetGrid:function(){var u=this._map,p=u.options.crs,v=this._tileSize=this.getTileSize(),O=this._tileZoom,U=this._map.getPixelWorldBounds(this._tileZoom);U&&(this._globalTileRange=this._pxBoundsToTileRange(U)),this._wrapX=p.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,p.wrapLng[0]],O).x/v.x),Math.ceil(u.project([0,p.wrapLng[1]],O).x/v.y)],this._wrapY=p.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([p.wrapLat[0],0],O).y/v.x),Math.ceil(u.project([p.wrapLat[1],0],O).y/v.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var p=this._map,v=p._animatingZoom?Math.max(p._animateToZoom,p.getZoom()):p.getZoom(),O=p.getZoomScale(v,this._tileZoom),U=p.project(u,this._tileZoom).floor(),$=p.getSize().divideBy(O*2);return new Z(U.subtract($),U.add($))},_update:function(u){var p=this._map;if(p){var v=this._clampZoom(p.getZoom());if(u===void 0&&(u=p.getCenter()),this._tileZoom!==void 0){var O=this._getTiledPixelBounds(u),U=this._pxBoundsToTileRange(O),$=U.getCenter(),yt=[],qt=this.options.keepBuffer,$t=new Z(U.getBottomLeft().subtract([qt,-qt]),U.getTopRight().add([qt,-qt]));if(!(isFinite(U.min.x)&&isFinite(U.min.y)&&isFinite(U.max.x)&&isFinite(U.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ye in this._tiles){var De=this._tiles[ye].coords;(De.z!==this._tileZoom||!$t.contains(new et(De.x,De.y)))&&(this._tiles[ye].current=!1)}if(Math.abs(v-this._tileZoom)>1){this._setView(u,v);return}for(var Ue=U.min.y;Ue<=U.max.y;Ue++)for(var nn=U.min.x;nn<=U.max.x;nn++){var Ni=new et(nn,Ue);if(Ni.z=this._tileZoom,!!this._isValidTile(Ni)){var si=this._tiles[this._tileCoordsToKey(Ni)];si?si.current=!0:yt.push(Ni)}}if(yt.sort(function(yn,_n){return yn.distanceTo($)-_n.distanceTo($)}),yt.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var br=document.createDocumentFragment();for(nn=0;nn<yt.length;nn++)this._addTile(yt[nn],br);this._level.el.appendChild(br)}}}},_isValidTile:function(u){var p=this._map.options.crs;if(!p.infinite){var v=this._globalTileRange;if(!p.wrapLng&&(u.x<v.min.x||u.x>v.max.x)||!p.wrapLat&&(u.y<v.min.y||u.y>v.max.y))return!1}if(!this.options.bounds)return!0;var O=this._tileCoordsToBounds(u);return At(this.options.bounds).overlaps(O)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var p=this._map,v=this.getTileSize(),O=u.scaleBy(v),U=O.add(v),$=p.unproject(O,u.z),yt=p.unproject(U,u.z);return[$,yt]},_tileCoordsToBounds:function(u){var p=this._tileCoordsToNwSe(u),v=new at(p[0],p[1]);return this.options.noWrap||(v=this._map.wrapLatLngBounds(v)),v},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var p=u.split(":"),v=new et(+p[0],+p[1]);return v.z=+p[2],v},_removeTile:function(u){var p=this._tiles[u];p&&(wn(p.el),delete this._tiles[u],this.fire("tileunload",{tile:p.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){Xe(u,"leaflet-tile");var p=this.getTileSize();u.style.width=p.x+"px",u.style.height=p.y+"px",u.onselectstart=y,u.onmousemove=y,Ne.ielt9&&this.options.opacity<1&&xn(u,this.options.opacity)},_addTile:function(u,p){var v=this._getTilePos(u),O=this._tileCoordsToKey(u),U=this.createTile(this._wrapCoords(u),l(this._tileReady,this,u));this._initTile(U),this.createTile.length<2&&st(l(this._tileReady,this,u,null,U)),gn(U,v),this._tiles[O]={el:U,coords:u,current:!0},p.appendChild(U),this.fire("tileloadstart",{tile:U,coords:u})},_tileReady:function(u,p,v){p&&this.fire("tileerror",{error:p,tile:v,coords:u});var O=this._tileCoordsToKey(u);v=this._tiles[O],v&&(v.loaded=+new Date,this._map._fadeAnimated?(xn(v.el,0),G(this._fadeFrame),this._fadeFrame=st(this._updateOpacity,this)):(v.active=!0,this._pruneTiles()),p||(Xe(v.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:v.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ne.ielt9||!this._map._fadeAnimated?st(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var p=new et(this._wrapX?g(u.x,this._wrapX):u.x,this._wrapY?g(u.y,this._wrapY):u.y);return p.z=u.z,p},_pxBoundsToTileRange:function(u){var p=this.getTileSize();return new Z(u.min.unscaleBy(p).floor(),u.max.unscaleBy(p).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});function Me(u){return new Se(u)}var Oe=Se.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,p){this._url=u,p=E(this,p),p.detectRetina&&Ne.retina&&p.maxZoom>0?(p.tileSize=Math.floor(p.tileSize/2),p.zoomReverse?(p.zoomOffset--,p.minZoom=Math.min(p.maxZoom,p.minZoom+1)):(p.zoomOffset++,p.maxZoom=Math.max(p.minZoom,p.maxZoom-1)),p.minZoom=Math.max(0,p.minZoom)):p.zoomReverse?p.minZoom=Math.min(p.maxZoom,p.minZoom):p.maxZoom=Math.max(p.minZoom,p.maxZoom),typeof p.subdomains=="string"&&(p.subdomains=p.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,p){return this._url===u&&p===void 0&&(p=!0),this._url=u,p||this.redraw(),this},createTile:function(u,p){var v=document.createElement("img");return ze(v,"load",l(this._tileOnLoad,this,p,v)),ze(v,"error",l(this._tileOnError,this,p,v)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(v.referrerPolicy=this.options.referrerPolicy),v.alt="",v.src=this.getTileUrl(u),v},getTileUrl:function(u){var p={r:Ne.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var v=this._globalTileRange.max.y-u.y;this.options.tms&&(p.y=v),p["-y"]=v}return M(this._url,o(p,this.options))},_tileOnLoad:function(u,p){Ne.ielt9?setTimeout(l(u,this,null,p),0):u(null,p)},_tileOnError:function(u,p,v){var O=this.options.errorTileUrl;O&&p.getAttribute("src")!==O&&(p.src=O),u(v,p)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom,p=this.options.maxZoom,v=this.options.zoomReverse,O=this.options.zoomOffset;return v&&(u=p-u),u+O},_getSubdomain:function(u){var p=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[p]},_abortLoading:function(){var u,p;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&(p=this._tiles[u].el,p.onload=y,p.onerror=y,!p.complete)){p.src=D;var v=this._tiles[u].coords;wn(p),delete this._tiles[u],this.fire("tileabort",{tile:p,coords:v})}},_removeTile:function(u){var p=this._tiles[u];if(p)return p.el.setAttribute("src",D),Se.prototype._removeTile.call(this,u)},_tileReady:function(u,p,v){if(!(!this._map||v&&v.getAttribute("src")===D))return Se.prototype._tileReady.call(this,u,p,v)}});function Ee(u,p){return new Oe(u,p)}var Pe=Oe.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,p){this._url=u;var v=o({},this.defaultWmsParams);for(var O in p)O in this.options||(v[O]=p[O]);p=E(this,p);var U=p.detectRetina&&Ne.retina?2:1,$=this.getTileSize();v.width=$.x*U,v.height=$.y*U,this.wmsParams=v},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var p=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[p]=this._crs.code,Oe.prototype.onAdd.call(this,u)},getTileUrl:function(u){var p=this._tileCoordsToNwSe(u),v=this._crs,O=K(v.project(p[0]),v.project(p[1])),U=O.min,$=O.max,yt=(this._wmsVersion>=1.3&&this._crs===al?[U.y,U.x,$.y,$.x]:[U.x,U.y,$.x,$.y]).join(","),qt=Oe.prototype.getTileUrl.call(this,u);return qt+k(this.wmsParams,qt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+yt},setParams:function(u,p){return o(this.wmsParams,u),p||this.redraw(),this}});function He(u,p){return new Pe(u,p)}Oe.WMS=Pe,Ee.wms=He;var qe=tr.extend({options:{padding:.1},initialize:function(u){E(this,u),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Xe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,p){var v=this._map.getZoomScale(p,this._zoom),O=this._map.getSize().multiplyBy(.5+this.options.padding),U=this._map.project(this._center,p),$=O.multiplyBy(-v).add(U).subtract(this._map._getNewPixelOrigin(u,p));Ne.any3d?pr(this._container,$,v):gn(this._container,$)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var u in this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,p=this._map.getSize(),v=this._map.containerPointToLayerPoint(p.multiplyBy(-u)).round();this._bounds=new Z(v,v.add(p.multiplyBy(1+u*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ge=qe.extend({options:{tolerance:0},getEvents:function(){var u=qe.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qe.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");ze(u,"mousemove",this._onMouseMove,this),ze(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ze(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,wn(this._container),un(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var u;this._redrawBounds=null;for(var p in this._layers)u=this._layers[p],u._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qe.prototype._update.call(this);var u=this._bounds,p=this._container,v=u.getSize(),O=Ne.retina?2:1;gn(p,u.min),p.width=O*v.x,p.height=O*v.y,p.style.width=v.x+"px",p.style.height=v.y+"px",Ne.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){qe.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[h(u)]=u;var p=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=p),this._drawLast=p,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var p=u._order,v=p.next,O=p.prev;v?v.prev=O:this._drawLast=O,O?O.next=v:this._drawFirst=v,delete u._order,delete this._layers[h(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if(typeof u.options.dashArray=="string"){var p=u.options.dashArray.split(/[, ]+/),v=[],O,U;for(U=0;U<p.length;U++){if(O=Number(p[U]),isNaN(O))return;v.push(O)}u.options._dashArray=v}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||st(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var p=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Z,this._redrawBounds.extend(u._pxBounds.min.subtract([p,p])),this._redrawBounds.extend(u._pxBounds.max.add([p,p]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var p=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,p.x,p.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,p=this._redrawBounds;if(this._ctx.save(),p){var v=p.getSize();this._ctx.beginPath(),this._ctx.rect(p.min.x,p.min.y,v.x,v.y),this._ctx.clip()}this._drawing=!0;for(var O=this._drawFirst;O;O=O.next)u=O.layer,(!p||u._pxBounds&&u._pxBounds.intersects(p))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,p){if(this._drawing){var v,O,U,$,yt=u._parts,qt=yt.length,$t=this._ctx;if(qt){for($t.beginPath(),v=0;v<qt;v++){for(O=0,U=yt[v].length;O<U;O++)$=yt[v][O],$t[O?"lineTo":"moveTo"]($.x,$.y);p&&$t.closePath()}this._fillStroke($t,u)}}},_updateCircle:function(u){if(!(!this._drawing||u._empty())){var p=u._point,v=this._ctx,O=Math.max(Math.round(u._radius),1),U=(Math.max(Math.round(u._radiusY),1)||O)/O;U!==1&&(v.save(),v.scale(1,U)),v.beginPath(),v.arc(p.x,p.y/U,O,0,Math.PI*2,!1),U!==1&&v.restore(),this._fillStroke(v,u)}},_fillStroke:function(u,p){var v=p.options;v.fill&&(u.globalAlpha=v.fillOpacity,u.fillStyle=v.fillColor||v.color,u.fill(v.fillRule||"evenodd")),v.stroke&&v.weight!==0&&(u.setLineDash&&u.setLineDash(p.options&&p.options._dashArray||[]),u.globalAlpha=v.opacity,u.lineWidth=v.weight,u.strokeStyle=v.color,u.lineCap=v.lineCap,u.lineJoin=v.lineJoin,u.stroke())},_onClick:function(u){for(var p=this._map.mouseEventToLayerPoint(u),v,O,U=this._drawFirst;U;U=U.next)v=U.layer,v.options.interactive&&v._containsPoint(p)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(v))&&(O=v);this._fireEvent(O?[O]:!1,u)},_onMouseMove:function(u){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var p=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,p)}},_handleMouseOut:function(u){var p=this._hoveredLayer;p&&(Bn(this._container,"leaflet-interactive"),this._fireEvent([p],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,p){if(!this._mouseHoverThrottled){for(var v,O,U=this._drawFirst;U;U=U.next)v=U.layer,v.options.interactive&&v._containsPoint(p)&&(O=v);O!==this._hoveredLayer&&(this._handleMouseOut(u),O&&(Xe(this._container,"leaflet-interactive"),this._fireEvent([O],u,"mouseover"),this._hoveredLayer=O)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,u),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,p,v){this._map._fireDOMEvent(p,v||p.type,u)},_bringToFront:function(u){var p=u._order;if(p){var v=p.next,O=p.prev;if(v)v.prev=O;else return;O?O.next=v:v&&(this._drawFirst=v),p.prev=this._drawLast,this._drawLast.next=p,p.next=null,this._drawLast=p,this._requestRedraw(u)}},_bringToBack:function(u){var p=u._order;if(p){var v=p.next,O=p.prev;if(O)O.next=v;else return;v?v.prev=O:O&&(this._drawLast=O),p.prev=null,p.next=this._drawFirst,this._drawFirst.prev=p,this._drawFirst=p,this._requestRedraw(u)}}});function di(u){return Ne.canvas?new Ge(u):null}var Ye=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),oi={_initContainer:function(){this._container=Re("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qe.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var p=u._container=Ye("shape");Xe(p,"leaflet-vml-shape "+(this.options.className||"")),p.coordsize="1 1",u._path=Ye("path"),p.appendChild(u._path),this._updateStyle(u),this._layers[h(u)]=u},_addPath:function(u){var p=u._container;this._container.appendChild(p),u.options.interactive&&u.addInteractiveTarget(p)},_removePath:function(u){var p=u._container;wn(p),u.removeInteractiveTarget(p),delete this._layers[h(u)]},_updateStyle:function(u){var p=u._stroke,v=u._fill,O=u.options,U=u._container;U.stroked=!!O.stroke,U.filled=!!O.fill,O.stroke?(p||(p=u._stroke=Ye("stroke")),U.appendChild(p),p.weight=O.weight+"px",p.color=O.color,p.opacity=O.opacity,O.dashArray?p.dashStyle=P(O.dashArray)?O.dashArray.join(" "):O.dashArray.replace(/( *, *)/g," "):p.dashStyle="",p.endcap=O.lineCap.replace("butt","flat"),p.joinstyle=O.lineJoin):p&&(U.removeChild(p),u._stroke=null),O.fill?(v||(v=u._fill=Ye("fill")),U.appendChild(v),v.color=O.fillColor||O.color,v.opacity=O.fillOpacity):v&&(U.removeChild(v),u._fill=null)},_updateCircle:function(u){var p=u._point.round(),v=Math.round(u._radius),O=Math.round(u._radiusY||v);this._setPath(u,u._empty()?"M0 0":"AL "+p.x+","+p.y+" "+v+","+O+" 0,"+65535*360)},_setPath:function(u,p){u._path.v=p},_bringToFront:function(u){Kn(u._container)},_bringToBack:function(u){dr(u._container)}},kn=Ne.vml?Ye:ft,eo=qe.extend({_initContainer:function(){this._container=kn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=kn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){wn(this._container),un(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qe.prototype._update.call(this);var u=this._bounds,p=u.getSize(),v=this._container;(!this._svgSize||!this._svgSize.equals(p))&&(this._svgSize=p,v.setAttribute("width",p.x),v.setAttribute("height",p.y)),gn(v,u.min),v.setAttribute("viewBox",[u.min.x,u.min.y,p.x,p.y].join(" ")),this.fire("update")}},_initPath:function(u){var p=u._path=kn("path");u.options.className&&Xe(p,u.options.className),u.options.interactive&&Xe(p,"leaflet-interactive"),this._updateStyle(u),this._layers[h(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){wn(u._path),u.removeInteractiveTarget(u._path),delete this._layers[h(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var p=u._path,v=u.options;p&&(v.stroke?(p.setAttribute("stroke",v.color),p.setAttribute("stroke-opacity",v.opacity),p.setAttribute("stroke-width",v.weight),p.setAttribute("stroke-linecap",v.lineCap),p.setAttribute("stroke-linejoin",v.lineJoin),v.dashArray?p.setAttribute("stroke-dasharray",v.dashArray):p.removeAttribute("stroke-dasharray"),v.dashOffset?p.setAttribute("stroke-dashoffset",v.dashOffset):p.removeAttribute("stroke-dashoffset")):p.setAttribute("stroke","none"),v.fill?(p.setAttribute("fill",v.fillColor||v.color),p.setAttribute("fill-opacity",v.fillOpacity),p.setAttribute("fill-rule",v.fillRule||"evenodd")):p.setAttribute("fill","none"))},_updatePoly:function(u,p){this._setPath(u,Et(u._parts,p))},_updateCircle:function(u){var p=u._point,v=Math.max(Math.round(u._radius),1),O=Math.max(Math.round(u._radiusY),1)||v,U="a"+v+","+O+" 0 1,0 ",$=u._empty()?"M0 0":"M"+(p.x-v)+","+p.y+U+v*2+",0 "+U+-v*2+",0 ";this._setPath(u,$)},_setPath:function(u,p){u._path.setAttribute("d",p)},_bringToFront:function(u){Kn(u._path)},_bringToBack:function(u){dr(u._path)}});Ne.vml&&eo.include(oi);function ti(u){return Ne.svg||Ne.vml?new eo(u):null}en.include({getRenderer:function(u){var p=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return p||(p=this._renderer=this._createRenderer()),this.hasLayer(p)||this.addLayer(p),p},_getPaneRenderer:function(u){if(u==="overlayPane"||u===void 0)return!1;var p=this._paneRenderers[u];return p===void 0&&(p=this._createRenderer({pane:u}),this._paneRenderers[u]=p),p},_createRenderer:function(u){return this.options.preferCanvas&&di(u)||ti(u)}});var Zi=mo.extend({initialize:function(u,p){mo.prototype.initialize.call(this,this._boundsToLatLngs(u),p)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return u=At(u),[u.getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});function ul(u,p){return new Zi(u,p)}eo.create=kn,eo.pointsToPath=Et,vi.geometryToLayer=hi,vi.coordsToLatLng=T,vi.coordsToLatLngs=j,vi.latLngToCoords=I,vi.latLngsToCoords=q,vi.getFeature=W,vi.asFeature=ot,en.mergeOptions({boxZoom:!0});var nr=Li.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){ze(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){un(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){wn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||u.which!==1&&u.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Wr(),ws(),this._startPoint=this._map.mouseEventToContainerPoint(u),ze(document,{contextmenu:Qi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=Re("div","leaflet-zoom-box",this._container),Xe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var p=new Z(this._point,this._startPoint),v=p.getSize();gn(this._box,p.min),this._box.style.width=v.x+"px",this._box.style.height=v.y+"px"},_finish:function(){this._moved&&(wn(this._box),Bn(this._container,"leaflet-crosshair")),mr(),xs(),un(document,{contextmenu:Qi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if(!(u.which!==1&&u.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var p=new at(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(p).fire("boxzoomend",{boxZoomBounds:p})}},_onKeyDown:function(u){u.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});en.addInitHook("addHandler","boxZoom",nr),en.mergeOptions({doubleClickZoom:!0});var Zl=Li.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var p=this._map,v=p.getZoom(),O=p.options.zoomDelta,U=u.originalEvent.shiftKey?v-O:v+O;p.options.doubleClickZoom==="center"?p.setZoom(U):p.setZoomAround(u.containerPoint,U)}});en.addInitHook("addHandler","doubleClickZoom",Zl),en.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var go=Li.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new Ar(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}Xe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Bn(this._map._container,"leaflet-grab"),Bn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var p=At(this._map.options.maxBounds);this._offsetLimit=K(this._map.latLngToContainerPoint(p.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(p.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var p=this._lastTime=+new Date,v=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(v),this._times.push(p),this._prunePositions(p)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),p=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=p.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,p){return u-(u-p)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var u=this._draggable._newPos.subtract(this._draggable._startPos),p=this._offsetLimit;u.x<p.min.x&&(u.x=this._viscousLimit(u.x,p.min.x)),u.y<p.min.y&&(u.y=this._viscousLimit(u.y,p.min.y)),u.x>p.max.x&&(u.x=this._viscousLimit(u.x,p.max.x)),u.y>p.max.y&&(u.y=this._viscousLimit(u.y,p.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,p=Math.round(u/2),v=this._initialWorldOffset,O=this._draggable._newPos.x,U=(O-p+v)%u+p-v,$=(O+p+v)%u-p-v,yt=Math.abs(U+v)<Math.abs($+v)?U:$;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=yt},_onDragEnd:function(u){var p=this._map,v=p.options,O=!v.inertia||u.noInertia||this._times.length<2;if(p.fire("dragend",u),O)p.fire("moveend");else{this._prunePositions(+new Date);var U=this._lastPos.subtract(this._positions[0]),$=(this._lastTime-this._times[0])/1e3,yt=v.easeLinearity,qt=U.multiplyBy(yt/$),$t=qt.distanceTo([0,0]),ye=Math.min(v.inertiaMaxSpeed,$t),De=qt.multiplyBy(ye/$t),Ue=ye/(v.inertiaDeceleration*yt),nn=De.multiplyBy(-Ue/2).round();!nn.x&&!nn.y?p.fire("moveend"):(nn=p._limitOffset(nn,p.options.maxBounds),st(function(){p.panBy(nn,{duration:Ue,easeLinearity:yt,noMoveStart:!0,animate:!0})}))}}});en.addInitHook("addHandler","dragging",go),en.mergeOptions({keyboard:!0,keyboardPanDelta:80});var zu=Li.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),ze(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),un(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,p=document.documentElement,v=u.scrollTop||p.scrollTop,O=u.scrollLeft||p.scrollLeft;this._map._container.focus(),window.scrollTo(O,v)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var p=this._panKeys={},v=this.keyCodes,O,U;for(O=0,U=v.left.length;O<U;O++)p[v.left[O]]=[-1*u,0];for(O=0,U=v.right.length;O<U;O++)p[v.right[O]]=[u,0];for(O=0,U=v.down.length;O<U;O++)p[v.down[O]]=[0,u];for(O=0,U=v.up.length;O<U;O++)p[v.up[O]]=[0,-1*u]},_setZoomDelta:function(u){var p=this._zoomKeys={},v=this.keyCodes,O,U;for(O=0,U=v.zoomIn.length;O<U;O++)p[v.zoomIn[O]]=u;for(O=0,U=v.zoomOut.length;O<U;O++)p[v.zoomOut[O]]=-u},_addHooks:function(){ze(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){un(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var p=u.keyCode,v=this._map,O;if(p in this._panKeys){if(!v._panAnim||!v._panAnim._inProgress)if(O=this._panKeys[p],u.shiftKey&&(O=nt(O).multiplyBy(3)),v.options.maxBounds&&(O=v._limitOffset(nt(O),v.options.maxBounds)),v.options.worldCopyJump){var U=v.wrapLatLng(v.unproject(v.project(v.getCenter()).add(O)));v.panTo(U)}else v.panBy(O)}else if(p in this._zoomKeys)v.setZoom(v.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[p]);else if(p===27&&v._popup&&v._popup.options.closeOnEscapeKey)v.closePopup();else return;Qi(u)}}});en.addInitHook("addHandler","keyboard",zu),en.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var cl=Li.extend({addHooks:function(){ze(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){un(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var p=Jn(u),v=this._map.options.wheelDebounceTime;this._delta+=p,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var O=Math.max(v-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),O),Qi(u)},_performZoom:function(){var u=this._map,p=u.getZoom(),v=this._map.options.zoomSnap||0;u._stop();var O=this._delta/(this._map.options.wheelPxPerZoomLevel*4),U=4*Math.log(2/(1+Math.exp(-Math.abs(O))))/Math.LN2,$=v?Math.ceil(U/v)*v:U,yt=u._limitZoom(p+(this._delta>0?$:-$))-p;this._delta=0,this._startTime=null,yt&&(u.options.scrollWheelZoom==="center"?u.setZoom(p+yt):u.setZoomAround(this._lastMousePos,p+yt))}});en.addInitHook("addHandler","scrollWheelZoom",cl);var Ds=600;en.mergeOptions({tapHold:Ne.touchNative&&Ne.safari&&Ne.mobile,tapTolerance:15});var Kl=Li.extend({addHooks:function(){ze(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){un(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),u.touches.length===1){var p=u.touches[0];this._startPos=this._newPos=new et(p.clientX,p.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(ze(document,"touchend",Hn),ze(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",p))},this),Ds),ze(document,"touchend touchcancel contextmenu",this._cancel,this),ze(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){un(document,"touchend",Hn),un(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),un(document,"touchend touchcancel contextmenu",this._cancel,this),un(document,"touchmove",this._onMove,this)},_onMove:function(u){var p=u.touches[0];this._newPos=new et(p.clientX,p.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,p){var v=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:p.screenX,screenY:p.screenY,clientX:p.clientX,clientY:p.clientY});v._simulated=!0,p.target.dispatchEvent(v)}});en.addInitHook("addHandler","tapHold",Kl),en.mergeOptions({touchZoom:Ne.touch,bounceAtZoomLimits:!0});var Bu=Li.extend({addHooks:function(){Xe(this._map._container,"leaflet-touch-zoom"),ze(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Bn(this._map._container,"leaflet-touch-zoom"),un(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var p=this._map;if(!(!u.touches||u.touches.length!==2||p._animatingZoom||this._zooming)){var v=p.mouseEventToContainerPoint(u.touches[0]),O=p.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=p.getSize()._divideBy(2),this._startLatLng=p.containerPointToLatLng(this._centerPoint),p.options.touchZoom!=="center"&&(this._pinchStartLatLng=p.containerPointToLatLng(v.add(O)._divideBy(2))),this._startDist=v.distanceTo(O),this._startZoom=p.getZoom(),this._moved=!1,this._zooming=!0,p._stop(),ze(document,"touchmove",this._onTouchMove,this),ze(document,"touchend touchcancel",this._onTouchEnd,this),Hn(u)}},_onTouchMove:function(u){if(!(!u.touches||u.touches.length!==2||!this._zooming)){var p=this._map,v=p.mouseEventToContainerPoint(u.touches[0]),O=p.mouseEventToContainerPoint(u.touches[1]),U=v.distanceTo(O)/this._startDist;if(this._zoom=p.getScaleZoom(U,this._startZoom),!p.options.bounceAtZoomLimits&&(this._zoom<p.getMinZoom()&&U<1||this._zoom>p.getMaxZoom()&&U>1)&&(this._zoom=p._limitZoom(this._zoom)),p.options.touchZoom==="center"){if(this._center=this._startLatLng,U===1)return}else{var $=v._add(O)._divideBy(2)._subtract(this._centerPoint);if(U===1&&$.x===0&&$.y===0)return;this._center=p.unproject(p.project(this._pinchStartLatLng,this._zoom).subtract($),this._zoom)}this._moved||(p._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var yt=l(p._move,p,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=st(yt,this,!0),Hn(u)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),un(document,"touchmove",this._onTouchMove,this),un(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});en.addInitHook("addHandler","touchZoom",Bu),en.BoxZoom=nr,en.DoubleClickZoom=Zl,en.Drag=go,en.Keyboard=zu,en.ScrollWheelZoom=cl,en.TapHold=Kl,en.TouchZoom=Bu,e.Bounds=Z,e.Browser=Ne,e.CRS=_t,e.Canvas=Ge,e.Circle=va,e.CircleMarker=to,e.Class=ht,e.Control=Vi,e.DivIcon=Ae,e.DivOverlay=Rt,e.DomEvent=pa,e.DomUtil=Ao,e.Draggable=Ar,e.Evented=lt,e.FeatureGroup=er,e.GeoJSON=vi,e.GridLayer=Se,e.Handler=Li,e.Icon=_r,e.ImageOverlay=Bt,e.LatLng=gt,e.LatLngBounds=at,e.Layer=tr,e.LayerGroup=es,e.LineUtil=Ru,e.Map=en,e.Marker=po,e.Mixin=el,e.Path=pn,e.Point=et,e.PolyUtil=Co,e.Polygon=mo,e.Polyline=Or,e.Popup=Zt,e.PosAnimation=$r,e.Projection=Vl,e.Rectangle=Zi,e.Renderer=qe,e.SVG=eo,e.SVGOverlay=Pt,e.TileLayer=Oe,e.Tooltip=oe,e.Transformation=Nt,e.Util=mt,e.VideoOverlay=Ft,e.bind=l,e.bounds=K,e.canvas=di,e.circle=wa,e.circleMarker=Yi,e.control=Qr,e.divIcon=Le,e.extend=o,e.featureGroup=ll,e.geoJSON=kt,e.geoJson=Ct,e.gridLayer=Me,e.icon=Cs,e.imageOverlay=xt,e.latLng=Ut,e.latLngBounds=At,e.layerGroup=Yl,e.map=Es,e.marker=Mr,e.point=nt,e.polygon=ns,e.polyline=No,e.popup=Gt,e.rectangle=ul,e.setOptions=E,e.stamp=h,e.svg=ti,e.svgOverlay=zt,e.tileLayer=Ee,e.tooltip=ge,e.transformation=Tt,e.version=r,e.videoOverlay=Lt;var Iu=window.L;e.noConflict=function(){return window.L=Iu,this},window.L=e}))})(Uc,Uc.exports)),Uc.exports}var Ud=Gj();const pf=f_(Ud);function FE(n,t,e){return Object.freeze({instance:n,context:t,container:e})}function HE(n,t){return t==null?function(r,o){const a=Ce.useRef(void 0);return a.current||(a.current=n(r,o)),a}:function(r,o){const a=Ce.useRef(void 0);a.current||(a.current=n(r,o));const l=Ce.useRef(r),{instance:c}=a.current;return Ce.useEffect(function(){l.current!==r&&(t(c,r,l.current),l.current=r)},[c,r,t]),a}}function $j(n,t){Ce.useEffect(function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){t.layerContainer?.removeLayer(n.instance),t.map.removeLayer(n.instance)}},[t,n])}function Qj(n){return function(e){const r=V_(),o=n(UE(e,r),r);return BE(r.map,e.attribution),IE(o.current,e.eventHandlers),$j(o.current,r),o}}function Jj(n,t){const e=HE(n,t),r=Qj(e);return Zj(r)}function tP(n,t){const e=HE(n),r=Wj(e,t);return Kj(r)}function Fd(){return V_().map}function eP(n){const t=Fd();return Ce.useEffect(function(){return t.on(n),function(){t.off(n)}},[t,n]),t}function nP({bounds:n,boundsOptions:t,center:e,children:r,className:o,id:a,placeholder:l,style:c,whenReady:h,zoom:d,...g},y){const[b]=Ce.useState({className:o,id:a,style:c}),[S,x]=Ce.useState(null),E=Ce.useRef(void 0);Ce.useImperativeHandle(y,()=>S?.map??null,[S]);const k=Ce.useCallback(M=>{if(M!==null&&!E.current){const P=new Ud.Map(M,g);E.current=P,e!=null&&d!=null?P.setView(e,d):n!=null&&P.fitBounds(n,t),h!=null&&P.whenReady(h),x(Vj(P))}},[]);Ce.useEffect(()=>()=>{S?.map.remove()},[S]);const C=S?na.createElement(q_,{value:S},r):l??null;return na.createElement("div",{...b,ref:k},C)}const iP=Ce.forwardRef(nP),qE=Jj(function({position:t,...e},r){const o=new Ud.Marker(t,e);return FE(o,Yj(r,{overlayContainer:o}))},function(t,e,r){e.position!==r.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==r.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==r.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==r.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),VE=tP(function(t,e){const r=new Ud.Popup(t,e.overlayContainer);return FE(r,e)},function(t,e,{position:r},o){Ce.useEffect(function(){const{instance:l}=t;function c(d){d.popup===l&&(l.update(),o(!0))}function h(d){d.popup===l&&o(!1)}return e.map.on({popupopen:c,popupclose:h}),e.overlayContainer==null?(r!=null&&l.setLatLng(r),l.openOn(e.map)):e.overlayContainer.bindPopup(l),function(){e.map.off({popupopen:c,popupclose:h}),e.overlayContainer?.unbindPopup(),e.map.removeLayer(l)}},[t,e,o,r])}),rP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",oP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",sP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";(function(){var n=L.Marker.prototype._initIcon,t=L.Marker.prototype._setPos,e=L.DomUtil.TRANSFORM==="msTransform";L.Marker.addInitHook(function(){var r=this.options.icon&&this.options.icon.options,o=r&&this.options.icon.options.iconAnchor;o&&(o=o[0]+"px "+o[1]+"px"),this.options.rotationOrigin=this.options.rotationOrigin||o||"center bottom",this.options.rotationAngle=this.options.rotationAngle||0,this.on("drag",function(a){a.target._applyRotation()})}),L.Marker.include({_initIcon:function(){n.call(this)},_setPos:function(r){t.call(this,r),this._applyRotation()},_applyRotation:function(){this.options.rotationAngle&&(this._icon.style[L.DomUtil.TRANSFORM+"Origin"]=this.options.rotationOrigin,e?this._icon.style[L.DomUtil.TRANSFORM]="rotate("+this.options.rotationAngle+"deg)":this._icon.style[L.DomUtil.TRANSFORM]+=" rotateZ("+this.options.rotationAngle+"deg)")},setRotationAngle:function(r){return this.options.rotationAngle=r,this.update(),this},setRotationOrigin:function(r){return this.options.rotationOrigin=r,this.update(),this}})})();function Je(n,t){this.x=n,this.y=t}Je.prototype={clone(){return new Je(this.x,this.y)},add(n){return this.clone()._add(n)},sub(n){return this.clone()._sub(n)},multByPoint(n){return this.clone()._multByPoint(n)},divByPoint(n){return this.clone()._divByPoint(n)},mult(n){return this.clone()._mult(n)},div(n){return this.clone()._div(n)},rotate(n){return this.clone()._rotate(n)},rotateAround(n,t){return this.clone()._rotateAround(n,t)},matMult(n){return this.clone()._matMult(n)},unit(){return this.clone()._unit()},perp(){return this.clone()._perp()},round(){return this.clone()._round()},mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals(n){return this.x===n.x&&this.y===n.y},dist(n){return Math.sqrt(this.distSqr(n))},distSqr(n){const t=n.x-this.x,e=n.y-this.y;return t*t+e*e},angle(){return Math.atan2(this.y,this.x)},angleTo(n){return Math.atan2(this.y-n.y,this.x-n.x)},angleWith(n){return this.angleWithSep(n.x,n.y)},angleWithSep(n,t){return Math.atan2(this.x*t-this.y*n,this.x*n+this.y*t)},_matMult(n){const t=n[0]*this.x+n[1]*this.y,e=n[2]*this.x+n[3]*this.y;return this.x=t,this.y=e,this},_add(n){return this.x+=n.x,this.y+=n.y,this},_sub(n){return this.x-=n.x,this.y-=n.y,this},_mult(n){return this.x*=n,this.y*=n,this},_div(n){return this.x/=n,this.y/=n,this},_multByPoint(n){return this.x*=n.x,this.y*=n.y,this},_divByPoint(n){return this.x/=n.x,this.y/=n.y,this},_unit(){return this._div(this.mag()),this},_perp(){const n=this.y;return this.y=this.x,this.x=-n,this},_rotate(n){const t=Math.cos(n),e=Math.sin(n),r=t*this.x-e*this.y,o=e*this.x+t*this.y;return this.x=r,this.y=o,this},_rotateAround(n,t){const e=Math.cos(n),r=Math.sin(n),o=t.x+e*(this.x-t.x)-r*(this.y-t.y),a=t.y+r*(this.x-t.x)+e*(this.y-t.y);return this.x=o,this.y=a,this},_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},constructor:Je};Je.convert=function(n){if(n instanceof Je)return n;if(Array.isArray(n))return new Je(+n[0],+n[1]);if(n.x!==void 0&&n.y!==void 0)return new Je(+n.x,+n.y);throw new Error("Expected [x, y] or {x, y} point format")};var aP=Object.defineProperty,bs=(n,t)=>aP(n,"name",{value:t,configurable:!0});function zr(n,t){let e="script";return n==="name"?e="script":n==="name2"?e="script2":n==="name3"&&(e="script3"),[["coalesce",["get",`pgf:${n}`],["get",n]],{"text-font":["case",["==",["get",e],"Devanagari"],["literal",["Noto Sans Devanagari Regular v1"]],["literal",[t||"Noto Sans Regular"]]]}]}bs(zr,"get_name_block");function cs(n,t,e){let r="name";return e==="name"?r="":e==="name2"?r="2":e==="name3"&&(r="3"),t==="Latin"?["has",`script${r}`]:n==="ja"?["all",["!=",["get",`script${r}`],"Han"],["!=",["get",`script${r}`],"Hiragana"],["!=",["get",`script${r}`],"Katakana"],["!=",["get",`script${r}`],"Mixed-Japanese"]]:["!=",["get",`script${r}`],t]}bs(cs,"is_not_in_target_script");function Uo(n){return n==="Devanagari"?{"text-font":["literal",["Noto Sans Devanagari Regular v1"]]}:{}}bs(Uo,"get_font_formatting");function Y_(n){let t=lP.find(e=>e.lang===n);return t===void 0?"Latin":t.script}bs(Y_,"get_default_script");function YE(n,t){let e=t||Y_(n),r;return e==="Devanagari"?r="pgf:":r="",["format",["coalesce",["get",`${r}name:${n}`],["get","name:en"]],Uo(e)]}bs(YE,"get_country_name");function Io(n,t,e){let r=t||Y_(n),o;return r==="Devanagari"?o="pgf:":o="",["case",["all",["any",["has","name"],["has","pgf:name"]],["!",["any",["has","name2"],["has","pgf:name2"]]],["!",["any",["has","name3"],["has","pgf:name3"]]]],["case",cs(n,r,"name"),["case",["any",["is-supported-script",["get","name"]],["has","pgf:name"]],["format",["coalesce",["get",`${o}name:${n}`],["get","name:en"]],Uo(r),`
`,{},["case",["all",["!",["has",`${o}name:${n}`]],["has","name:en"],["!",["has","script"]]],"",["coalesce",["get","pgf:name"],["get","name"]]],{"text-font":["case",["==",["get","script"],"Devanagari"],["literal",["Noto Sans Devanagari Regular v1"]],["literal",[e||"Noto Sans Regular"]]]}],["get","name:en"]],["format",["coalesce",["get",`${o}name:${n}`],["get","pgf:name"],["get","name"]],Uo(r)]],["all",["any",["has","name"],["has","pgf:name"]],["any",["has","name2"],["has","pgf:name2"]],["!",["any",["has","name3"],["has","pgf:name3"]]]],["case",["all",cs(n,r,"name"),cs(n,r,"name2")],["format",["get",`${o}name:${n}`],Uo(r),`
`,{},...zr("name",e),`
`,{},...zr("name2",e)],["case",cs(n,r,"name2"),["format",["coalesce",["get",`${o}name:${n}`],["get","pgf:name"],["get","name"]],Uo(r),`
`,{},...zr("name2",e)],["format",["coalesce",["get",`${o}name:${n}`],["get","pgf:name2"],["get","name2"]],Uo(r),`
`,{},...zr("name",e)]]],["case",["all",cs(n,r,"name"),cs(n,r,"name2"),cs(n,r,"name3")],["format",["get",`${o}name:${n}`],Uo(r),`
`,{},...zr("name",e),`
`,{},...zr("name2",e),`
`,{},...zr("name3",e)],["case",["!",cs(n,r,"name")],["format",["coalesce",["get",`${o}name:${n}`],["get","pgf:name"],["get","name"]],Uo(r),`
`,{},...zr("name2",e),`
`,{},...zr("name3",e)],["!",cs(n,r,"name2")],["format",["coalesce",["get",`${o}name:${n}`],["get","pgf:name2"],["get","name2"]],Uo(r),`
`,{},...zr("name",e),`
`,{},...zr("name3",e)],["format",["coalesce",["get",`${o}name:${n}`],["get","pgf:name3"],["get","name3"]],Uo(r),`
`,{},...zr("name",e),`
`,{},...zr("name2",e)]]]]}bs(Io,"get_multiline_name");var lP=[{lang:"ar",full_name:"Arabic",script:"Arabic"},{lang:"cs",full_name:"Czech",script:"Latin"},{lang:"bg",full_name:"Bulgarian",script:"Cyrillic"},{lang:"da",full_name:"Danish",script:"Latin"},{lang:"de",full_name:"German",script:"Latin"},{lang:"el",full_name:"Greek",script:"Greek"},{lang:"en",full_name:"English",script:"Latin"},{lang:"es",full_name:"Spanish",script:"Latin"},{lang:"et",full_name:"Estonian",script:"Latin"},{lang:"fa",full_name:"Persian",script:"Arabic"},{lang:"fi",full_name:"Finnish",script:"Latin"},{lang:"fr",full_name:"French",script:"Latin"},{lang:"ga",full_name:"Irish",script:"Latin"},{lang:"he",full_name:"Hebrew",script:"Hebrew"},{lang:"hi",full_name:"Hindi",script:"Devanagari"},{lang:"hr",full_name:"Croatian",script:"Latin"},{lang:"hu",full_name:"Hungarian",script:"Latin"},{lang:"id",full_name:"Indonesian",script:"Latin"},{lang:"it",full_name:"Italian",script:"Latin"},{lang:"ja",full_name:"Japanese",script:""},{lang:"ko",full_name:"Korean",script:"Hangul"},{lang:"lt",full_name:"Lithuanian",script:"Latin"},{lang:"lv",full_name:"Latvian",script:"Latin"},{lang:"ne",full_name:"Nepali",script:"Devanagari"},{lang:"nl",full_name:"Dutch",script:"Latin"},{lang:"no",full_name:"Norwegian",script:"Latin"},{lang:"mr",full_name:"Marathi",script:"Devanagari"},{lang:"mt",full_name:"Maltese",script:"Latin"},{lang:"pl",full_name:"Polish",script:"Latin"},{lang:"pt",full_name:"Portuguese",script:"Latin"},{lang:"ro",full_name:"Romanian",script:"Latin"},{lang:"ru",full_name:"Russian",script:"Cyrillic"},{lang:"sk",full_name:"Slovak",script:"Latin"},{lang:"sl",full_name:"Slovenian",script:"Latin"},{lang:"sv",full_name:"Swedish",script:"Latin"},{lang:"tr",full_name:"Turkish",script:"Latin"},{lang:"uk",full_name:"Ukrainian",script:"Cyrillic"},{lang:"ur",full_name:"Urdu",script:"Arabic"},{lang:"vi",full_name:"Vietnamese",script:"Latin"},{lang:"zh-Hans",full_name:"Chinese (Simplified)",script:"Han"},{lang:"zh-Hant",full_name:"Chinese (Traditional)",script:"Han"}];function ZE(n,t){return[{id:"background",type:"background",paint:{"background-color":t.background}},{id:"earth",type:"fill",filter:["==","$type","Polygon"],source:n,"source-layer":"earth",paint:{"fill-color":t.earth}},...t.landcover?[{id:"landcover",type:"fill",source:n,"source-layer":"landcover",paint:{"fill-color":["match",["get","kind"],"grassland",t.landcover.grassland,"barren",t.landcover.barren,"urban_area",t.landcover.urban_area,"farmland",t.landcover.farmland,"glacier",t.landcover.glacier,"scrub",t.landcover.scrub,t.landcover.forest],"fill-opacity":["interpolate",["linear"],["zoom"],5,1,7,0]}}]:[],{id:"landuse_park",type:"fill",source:n,"source-layer":"landuse",filter:["in","kind","national_park","park","cemetery","protected_area","nature_reserve","forest","golf_course","wood","nature_reserve","forest","scrub","grassland","grass","military","naval_base","airfield"],paint:{"fill-opacity":["interpolate",["linear"],["zoom"],6,0,11,1],"fill-color":["case",["in",["get","kind"],["literal",["national_park","park","cemetery","protected_area","nature_reserve","forest","golf_course"]]],t.park_b,["in",["get","kind"],["literal",["wood","nature_reserve","forest"]]],t.wood_b,["in",["get","kind"],["literal",["scrub","grassland","grass"]]],t.scrub_b,["in",["get","kind"],["literal",["glacier"]]],t.glacier,["in",["get","kind"],["literal",["sand"]]],t.sand,["in",["get","kind"],["literal",["military","naval_base","airfield"]]],t.zoo,t.earth]}},{id:"landuse_urban_green",type:"fill",source:n,"source-layer":"landuse",filter:["in","kind","allotments","village_green","playground"],paint:{"fill-color":t.park_b,"fill-opacity":.7}},{id:"landuse_hospital",type:"fill",source:n,"source-layer":"landuse",filter:["==","kind","hospital"],paint:{"fill-color":t.hospital}},{id:"landuse_industrial",type:"fill",source:n,"source-layer":"landuse",filter:["==","kind","industrial"],paint:{"fill-color":t.industrial}},{id:"landuse_school",type:"fill",source:n,"source-layer":"landuse",filter:["in","kind","school","university","college"],paint:{"fill-color":t.school}},{id:"landuse_beach",type:"fill",source:n,"source-layer":"landuse",filter:["in","kind","beach"],paint:{"fill-color":t.beach}},{id:"landuse_zoo",type:"fill",source:n,"source-layer":"landuse",filter:["in","kind","zoo"],paint:{"fill-color":t.zoo}},{id:"landuse_aerodrome",type:"fill",source:n,"source-layer":"landuse",filter:["in","kind","aerodrome"],paint:{"fill-color":t.aerodrome}},{id:"roads_runway",type:"line",source:n,"source-layer":"roads",filter:["==","kind_detail","runway"],paint:{"line-color":t.runway,"line-width":["interpolate",["exponential",1.6],["zoom"],10,0,12,4,18,30]}},{id:"roads_taxiway",type:"line",source:n,"source-layer":"roads",minzoom:13,filter:["==","kind_detail","taxiway"],paint:{"line-color":t.runway,"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,15,6]}},{id:"landuse_runway",type:"fill",source:n,"source-layer":"landuse",filter:["any",["in","kind","runway","taxiway"]],paint:{"fill-color":t.runway}},{id:"water",type:"fill",filter:["==","$type","Polygon"],source:n,"source-layer":"water",paint:{"fill-color":t.water}},{id:"water_stream",type:"line",source:n,"source-layer":"water",minzoom:14,filter:["in","kind","stream"],paint:{"line-color":t.water,"line-width":.5}},{id:"water_river",type:"line",source:n,"source-layer":"water",minzoom:9,filter:["in","kind","river"],paint:{"line-color":t.water,"line-width":["interpolate",["exponential",1.6],["zoom"],9,0,9.5,1,18,12]}},{id:"landuse_pedestrian",type:"fill",source:n,"source-layer":"landuse",filter:["in","kind","pedestrian","dam"],paint:{"fill-color":t.pedestrian}},{id:"landuse_pier",type:"fill",source:n,"source-layer":"landuse",filter:["==","kind","pier"],paint:{"fill-color":t.pier}},{id:"roads_tunnels_other_casing",type:"line",source:n,"source-layer":"roads",filter:["all",["has","is_tunnel"],["in","kind","other","path"]],paint:{"line-color":t.tunnel_other_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],14,0,20,7]}},{id:"roads_tunnels_minor_casing",type:"line",source:n,"source-layer":"roads",filter:["all",["has","is_tunnel"],["==","kind","minor_road"]],paint:{"line-color":t.tunnel_minor_casing,"line-dasharray":[3,2],"line-gap-width":["interpolate",["exponential",1.6],["zoom"],11,0,12.5,.5,15,2,18,11],"line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,1]}},{id:"roads_tunnels_link_casing",type:"line",source:n,"source-layer":"roads",filter:["all",["has","is_tunnel"],["has","is_link"]],paint:{"line-color":t.tunnel_link_casing,"line-dasharray":[3,2],"line-gap-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,18,11],"line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,1]}},{id:"roads_tunnels_major_casing",type:"line",source:n,"source-layer":"roads",filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","major_road"]],paint:{"line-color":t.tunnel_major_casing,"line-dasharray":[3,2],"line-gap-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,.5,18,13],"line-width":["interpolate",["exponential",1.6],["zoom"],9,0,9.5,1]}},{id:"roads_tunnels_highway_casing",type:"line",source:n,"source-layer":"roads",filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","highway"],["!has","is_link"]],paint:{"line-color":t.tunnel_highway_casing,"line-dasharray":[6,.5],"line-gap-width":["interpolate",["exponential",1.6],["zoom"],3,0,3.5,.5,18,15],"line-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,1,20,15]}},{id:"roads_tunnels_other",type:"line",source:n,"source-layer":"roads",filter:["all",["has","is_tunnel"],["in","kind","other","path"]],paint:{"line-color":t.tunnel_other,"line-dasharray":[4.5,.5],"line-width":["interpolate",["exponential",1.6],["zoom"],14,0,20,7]}},{id:"roads_tunnels_minor",type:"line",source:n,"source-layer":"roads",filter:["all",["has","is_tunnel"],["==","kind","minor_road"]],paint:{"line-color":t.tunnel_minor,"line-width":["interpolate",["exponential",1.6],["zoom"],11,0,12.5,.5,15,2,18,11]}},{id:"roads_tunnels_link",type:"line",source:n,"source-layer":"roads",filter:["all",["has","is_tunnel"],["has","is_link"]],paint:{"line-color":t.tunnel_minor,"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,18,11]}},{id:"roads_tunnels_major",type:"line",source:n,"source-layer":"roads",filter:["all",["has","is_tunnel"],["==","kind","major_road"]],paint:{"line-color":t.tunnel_major,"line-width":["interpolate",["exponential",1.6],["zoom"],6,0,12,1.6,15,3,18,13]}},{id:"roads_tunnels_highway",type:"line",source:n,"source-layer":"roads",filter:["all",["has","is_tunnel"],["==",["get","kind"],"highway"],["!",["has","is_link"]]],paint:{"line-color":t.tunnel_highway,"line-width":["interpolate",["exponential",1.6],["zoom"],3,0,6,1.1,12,1.6,15,5,18,15]}},{id:"buildings",type:"fill",source:n,"source-layer":"buildings",filter:["in","kind","building","building_part"],paint:{"fill-color":t.buildings,"fill-opacity":.5}},{id:"roads_pier",type:"line",source:n,"source-layer":"roads",filter:["==","kind_detail","pier"],paint:{"line-color":t.pier,"line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,.5,20,16]}},{id:"roads_minor_service_casing",type:"line",source:n,"source-layer":"roads",minzoom:13,filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","minor_road"],["==","kind_detail","service"]],paint:{"line-color":t.minor_service_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],13,0,18,8],"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,.8]}},{id:"roads_minor_casing",type:"line",source:n,"source-layer":"roads",filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","minor_road"],["!=","kind_detail","service"]],paint:{"line-color":t.minor_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],11,0,12.5,.5,15,2,18,11],"line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,1]}},{id:"roads_link_casing",type:"line",source:n,"source-layer":"roads",minzoom:13,filter:["has","is_link"],paint:{"line-color":t.minor_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,18,11],"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1.5]}},{id:"roads_major_casing_late",type:"line",source:n,"source-layer":"roads",minzoom:12,filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","major_road"]],paint:{"line-color":t.major_casing_late,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],6,0,12,1.6,15,3,18,13],"line-width":["interpolate",["exponential",1.6],["zoom"],9,0,9.5,1]}},{id:"roads_highway_casing_late",type:"line",source:n,"source-layer":"roads",minzoom:12,filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","highway"],["!has","is_link"]],paint:{"line-color":t.highway_casing_late,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],3,0,3.5,.5,18,15],"line-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,1,20,15]}},{id:"roads_other",type:"line",source:n,"source-layer":"roads",filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["in","kind","other","path"],["!=","kind_detail","pier"]],paint:{"line-color":t.other,"line-dasharray":[3,1],"line-width":["interpolate",["exponential",1.6],["zoom"],14,0,20,7]}},{id:"roads_link",type:"line",source:n,"source-layer":"roads",filter:["has","is_link"],paint:{"line-color":t.link,"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,18,11]}},{id:"roads_minor_service",type:"line",source:n,"source-layer":"roads",filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","minor_road"],["==","kind_detail","service"]],paint:{"line-color":t.minor_service,"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,18,8]}},{id:"roads_minor",type:"line",source:n,"source-layer":"roads",filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","minor_road"],["!=","kind_detail","service"]],paint:{"line-color":["interpolate",["exponential",1.6],["zoom"],11,t.minor_a,16,t.minor_b],"line-width":["interpolate",["exponential",1.6],["zoom"],11,0,12.5,.5,15,2,18,11]}},{id:"roads_major_casing_early",type:"line",source:n,"source-layer":"roads",maxzoom:12,filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","major_road"]],paint:{"line-color":t.major_casing_early,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,.5,18,13],"line-width":["interpolate",["exponential",1.6],["zoom"],9,0,9.5,1]}},{id:"roads_major",type:"line",source:n,"source-layer":"roads",filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","major_road"]],paint:{"line-color":t.major,"line-width":["interpolate",["exponential",1.6],["zoom"],6,0,12,1.6,15,3,18,13]}},{id:"roads_highway_casing_early",type:"line",source:n,"source-layer":"roads",maxzoom:12,filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","highway"],["!has","is_link"]],paint:{"line-color":t.highway_casing_early,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],3,0,3.5,.5,18,15],"line-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,1]}},{id:"roads_highway",type:"line",source:n,"source-layer":"roads",filter:["all",["!has","is_tunnel"],["!has","is_bridge"],["==","kind","highway"],["!has","is_link"]],paint:{"line-color":t.highway,"line-width":["interpolate",["exponential",1.6],["zoom"],3,0,6,1.1,12,1.6,15,5,18,15]}},{id:"roads_rail",type:"line",source:n,"source-layer":"roads",filter:["==","kind","rail"],paint:{"line-dasharray":[.3,.75],"line-opacity":.5,"line-color":t.railway,"line-width":["interpolate",["exponential",1.6],["zoom"],3,0,6,.15,18,9]}},{id:"boundaries_country",type:"line",source:n,"source-layer":"boundaries",filter:["<=","kind_detail",2],paint:{"line-color":t.boundaries,"line-width":.7,"line-dasharray":["step",["zoom"],["literal",[2,0]],4,["literal",[2,1]]]}},{id:"boundaries",type:"line",source:n,"source-layer":"boundaries",filter:[">","kind_detail",2],paint:{"line-color":t.boundaries,"line-width":.4,"line-dasharray":["step",["zoom"],["literal",[2,0]],4,["literal",[2,1]]]}},{id:"roads_bridges_other_casing",type:"line",source:n,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["in","kind","other","path"]],paint:{"line-color":t.bridges_other_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],14,0,20,7]}},{id:"roads_bridges_link_casing",type:"line",source:n,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["has","is_link"]],paint:{"line-color":t.bridges_minor_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,18,11],"line-width":["interpolate",["exponential",1.6],["zoom"],12,0,12.5,1.5]}},{id:"roads_bridges_minor_casing",type:"line",source:n,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["==","kind","minor_road"]],paint:{"line-color":t.bridges_minor_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],11,0,12.5,.5,15,2,18,11],"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,.8]}},{id:"roads_bridges_major_casing",type:"line",source:n,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["==","kind","major_road"]],paint:{"line-color":t.bridges_major_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,.5,18,10],"line-width":["interpolate",["exponential",1.6],["zoom"],9,0,9.5,1.5]}},{id:"roads_bridges_other",type:"line",source:n,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["in","kind","other","path"]],paint:{"line-color":t.bridges_other,"line-dasharray":[2,1],"line-width":["interpolate",["exponential",1.6],["zoom"],14,0,20,7]}},{id:"roads_bridges_minor",type:"line",source:n,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["==","kind","minor_road"]],paint:{"line-color":t.bridges_minor,"line-width":["interpolate",["exponential",1.6],["zoom"],11,0,12.5,.5,15,2,18,11]}},{id:"roads_bridges_link",type:"line",source:n,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["has","is_link"]],paint:{"line-color":t.bridges_minor,"line-width":["interpolate",["exponential",1.6],["zoom"],13,0,13.5,1,18,11]}},{id:"roads_bridges_major",type:"line",source:n,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["==","kind","major_road"]],paint:{"line-color":t.bridges_major,"line-width":["interpolate",["exponential",1.6],["zoom"],6,0,12,1.6,15,3,18,13]}},{id:"roads_bridges_highway_casing",type:"line",source:n,"source-layer":"roads",minzoom:12,filter:["all",["has","is_bridge"],["==","kind","highway"],["!has","is_link"]],paint:{"line-color":t.bridges_highway_casing,"line-gap-width":["interpolate",["exponential",1.6],["zoom"],3,0,3.5,.5,18,15],"line-width":["interpolate",["exponential",1.6],["zoom"],7,0,7.5,1,20,15]}},{id:"roads_bridges_highway",type:"line",source:n,"source-layer":"roads",filter:["all",["has","is_bridge"],["==","kind","highway"],["!has","is_link"]],paint:{"line-color":t.bridges_highway,"line-width":["interpolate",["exponential",1.6],["zoom"],3,0,6,1.1,12,1.6,15,5,18,15]}}]}bs(ZE,"nolabels_layers");function KE(n,t,e,r){return[{id:"address_label",type:"symbol",source:n,"source-layer":"buildings",minzoom:18,filter:["==","kind","address"],layout:{"symbol-placement":"point","text-font":[t.italic||"Noto Sans Italic"],"text-field":["get","addr_housenumber"],"text-size":12},paint:{"text-color":t.address_label,"text-halo-color":t.address_label_halo,"text-halo-width":1}},{id:"water_waterway_label",type:"symbol",source:n,"source-layer":"water",minzoom:13,filter:["in","kind","river","stream"],layout:{"symbol-placement":"line","text-font":[t.italic||"Noto Sans Italic"],"text-field":Io(e,r,t.regular),"text-size":12,"text-letter-spacing":.2},paint:{"text-color":t.ocean_label,"text-halo-color":t.water,"text-halo-width":1}},{id:"roads_oneway",type:"symbol",source:n,"source-layer":"roads",minzoom:16,filter:["==",["get","oneway"],"yes"],layout:{"symbol-placement":"line","icon-image":"arrow","icon-rotate":90,"symbol-spacing":100}},{id:"roads_labels_minor",type:"symbol",source:n,"source-layer":"roads",minzoom:15,filter:["in","kind","minor_road","other","path"],layout:{"symbol-sort-key":["get","min_zoom"],"symbol-placement":"line","text-font":[t.regular||"Noto Sans Regular"],"text-field":Io(e,r,t.regular),"text-size":12},paint:{"text-color":t.roads_label_minor,"text-halo-color":t.roads_label_minor_halo,"text-halo-width":1}},{id:"water_label_ocean",type:"symbol",source:n,"source-layer":"water",filter:["in","kind","sea","ocean","bay","strait","fjord"],layout:{"text-font":[t.italic||"Noto Sans Italic"],"text-field":Io(e,r,t.regular),"text-size":["interpolate",["linear"],["zoom"],3,10,10,12],"text-letter-spacing":.1,"text-max-width":9,"text-transform":"uppercase"},paint:{"text-color":t.ocean_label,"text-halo-width":1,"text-halo-color":t.water}},{id:"earth_label_islands",type:"symbol",source:n,"source-layer":"earth",filter:["in","kind","island"],layout:{"text-font":[t.italic||"Noto Sans Italic"],"text-field":Io(e,r,t.regular),"text-size":10,"text-letter-spacing":.1,"text-max-width":8},paint:{"text-color":t.subplace_label,"text-halo-color":t.subplace_label_halo,"text-halo-width":1}},{id:"water_label_lakes",type:"symbol",source:n,"source-layer":"water",filter:["in","kind","lake","water"],layout:{"text-font":[t.italic||"Noto Sans Italic"],"text-field":Io(e,r,t.regular),"text-size":["interpolate",["linear"],["zoom"],3,10,6,12,10,12],"text-letter-spacing":.1,"text-max-width":9},paint:{"text-color":t.ocean_label,"text-halo-color":t.water,"text-halo-width":1}},{id:"roads_labels_major",type:"symbol",source:n,"source-layer":"roads",minzoom:11,filter:["in","kind","highway","major_road"],layout:{"symbol-sort-key":["get","min_zoom"],"symbol-placement":"line","text-font":[t.regular||"Noto Sans Regular"],"text-field":Io(e,r,t.regular),"text-size":12},paint:{"text-color":t.roads_label_major,"text-halo-color":t.roads_label_major_halo,"text-halo-width":1}},...t.pois?[{id:"pois",type:"symbol",source:n,"source-layer":"pois",filter:["all",["in",["get","kind"],["literal",["beach","forest","marina","park","peak","zoo","garden","bench","aerodrome","station","bus_stop","ferry_terminal","stadium","university","library","school","animal","toilets","drinking_water"]]],[">=",["zoom"],["+",["get","min_zoom"],0]]],layout:{"icon-image":["match",["get","kind"],"station","train_station",["get","kind"]],"text-font":[t.regular||"Noto Sans Regular"],"text-justify":"auto","text-field":Io(e,r,t.regular),"text-size":["interpolate",["linear"],["zoom"],17,10,19,16],"text-max-width":8,"text-offset":[1.1,0],"text-variable-anchor":["left","right"]},paint:{"text-color":["case",["in",["get","kind"],["literal",["beach","forest","marina","park","peak","zoo","garden","bench"]]],t.pois.green,["in",["get","kind"],["literal",["aerodrome","station","bus_stop","ferry_terminal"]]],t.pois.lapis,["in",["get","kind"],["literal",["stadium","university","library","school","animal","toilets","drinking_water"]]],t.pois.slategray,t.earth],"text-halo-color":t.earth,"text-halo-width":1}}]:[],{id:"places_subplace",type:"symbol",source:n,"source-layer":"places",filter:["in","kind","neighbourhood","macrohood"],layout:{"symbol-sort-key":["case",["has","sort_key"],["get","sort_key"],["get","min_zoom"]],"text-field":Io(e,r,t.regular),"text-font":[t.regular||"Noto Sans Regular"],"text-max-width":7,"text-letter-spacing":.1,"text-padding":["interpolate",["linear"],["zoom"],5,2,8,4,12,18,15,20],"text-size":["interpolate",["exponential",1.2],["zoom"],11,8,14,14,18,24],"text-transform":"uppercase"},paint:{"text-color":t.subplace_label,"text-halo-color":t.subplace_label_halo,"text-halo-width":1}},{id:"places_region",type:"symbol",source:n,"source-layer":"places",filter:["==","kind","region"],layout:{"symbol-sort-key":["get","sort_key"],"text-field":["step",["zoom"],["coalesce",["get","ref:en"],["get","ref"]],6,Io(e,r,t.regular)],"text-font":[t.regular||"Noto Sans Regular"],"text-size":["interpolate",["linear"],["zoom"],3,11,7,16],"text-radial-offset":.2,"text-anchor":"center","text-transform":"uppercase"},paint:{"text-color":t.state_label,"text-halo-color":t.state_label_halo,"text-halo-width":1}},{id:"places_locality",type:"symbol",source:n,"source-layer":"places",filter:["==","kind","locality"],layout:{"icon-image":["step",["zoom"],["case",["==",["get","capital"],"yes"],"capital","townspot"],8,""],"icon-size":.7,"text-field":Io(e,r,t.regular),"text-font":["case",["<=",["get","min_zoom"],5],["literal",[t.bold||"Noto Sans Medium"]],["literal",[t.regular||"Noto Sans Regular"]]],"symbol-sort-key":["case",["has","sort_key"],["get","sort_key"],["get","min_zoom"]],"text-padding":["interpolate",["linear"],["zoom"],5,3,8,7,12,11],"text-size":["interpolate",["linear"],["zoom"],2,["case",["<",["get","population_rank"],13],8,[">=",["get","population_rank"],13],13,0],4,["case",["<",["get","population_rank"],13],10,[">=",["get","population_rank"],13],15,0],6,["case",["<",["get","population_rank"],12],11,[">=",["get","population_rank"],12],17,0],8,["case",["<",["get","population_rank"],11],11,[">=",["get","population_rank"],11],18,0],10,["case",["<",["get","population_rank"],9],12,[">=",["get","population_rank"],9],20,0],15,["case",["<",["get","population_rank"],8],12,[">=",["get","population_rank"],8],22,0]],"icon-padding":["interpolate",["linear"],["zoom"],0,0,8,4,10,8,12,6,22,2],"text-justify":"auto","text-variable-anchor":["step",["zoom"],["literal",["bottom","left","right","top"]],8,["literal",["center"]]],"text-radial-offset":.3},paint:{"text-color":t.city_label,"text-halo-color":t.city_label_halo,"text-halo-width":1}},{id:"places_country",type:"symbol",source:n,"source-layer":"places",filter:["==","kind","country"],layout:{"symbol-sort-key":["case",["has","sort_key"],["get","sort_key"],["get","min_zoom"]],"text-field":YE(e,r),"text-font":[t.bold||"Noto Sans Medium"],"text-size":["interpolate",["linear"],["zoom"],2,["case",["<",["get","population_rank"],10],8,[">=",["get","population_rank"],10],12,0],6,["case",["<",["get","population_rank"],8],10,[">=",["get","population_rank"],8],18,0],8,["case",["<",["get","population_rank"],7],11,[">=",["get","population_rank"],7],20,0]],"icon-padding":["interpolate",["linear"],["zoom"],0,2,14,2,16,20,17,2,22,2],"text-transform":"uppercase"},paint:{"text-color":t.country_label,"text-halo-color":t.earth,"text-halo-width":1}}]}bs(KE,"labels_layers");var uP={background:"#cccccc",earth:"#e2dfda",park_a:"#cfddd5",park_b:"#9cd3b4",hospital:"#e4dad9",industrial:"#d1dde1",school:"#e4ded7",wood_a:"#d0ded0",wood_b:"#a0d9a0",pedestrian:"#e3e0d4",scrub_a:"#cedcd7",scrub_b:"#99d2bb",glacier:"#e7e7e7",sand:"#e2e0d7",beach:"#e8e4d0",aerodrome:"#dadbdf",runway:"#e9e9ed",water:"#80deea",zoo:"#c6dcdc",military:"#dcdcdc",tunnel_other_casing:"#e0e0e0",tunnel_minor_casing:"#e0e0e0",tunnel_link_casing:"#e0e0e0",tunnel_major_casing:"#e0e0e0",tunnel_highway_casing:"#e0e0e0",tunnel_other:"#d5d5d5",tunnel_minor:"#d5d5d5",tunnel_link:"#d5d5d5",tunnel_major:"#d5d5d5",tunnel_highway:"#d5d5d5",pier:"#e0e0e0",buildings:"#cccccc",minor_service_casing:"#e0e0e0",minor_casing:"#e0e0e0",link_casing:"#e0e0e0",major_casing_late:"#e0e0e0",highway_casing_late:"#e0e0e0",other:"#ebebeb",minor_service:"#ebebeb",minor_a:"#ebebeb",minor_b:"#ffffff",link:"#ffffff",major_casing_early:"#e0e0e0",major:"#ffffff",highway_casing_early:"#e0e0e0",highway:"#ffffff",railway:"#a7b1b3",boundaries:"#adadad",bridges_other_casing:"#e0e0e0",bridges_minor_casing:"#e0e0e0",bridges_link_casing:"#e0e0e0",bridges_major_casing:"#e0e0e0",bridges_highway_casing:"#e0e0e0",bridges_other:"#ebebeb",bridges_minor:"#ffffff",bridges_link:"#ffffff",bridges_major:"#f5f5f5",bridges_highway:"#ffffff",roads_label_minor:"#91888b",roads_label_minor_halo:"#ffffff",roads_label_major:"#938a8d",roads_label_major_halo:"#ffffff",ocean_label:"#728dd4",subplace_label:"#8f8f8f",subplace_label_halo:"#e0e0e0",city_label:"#5c5c5c",city_label_halo:"#e0e0e0",state_label:"#b3b3b3",state_label_halo:"#e0e0e0",country_label:"#a3a3a3",address_label:"#91888b",address_label_halo:"#ffffff",pois:{blue:"#1A8CBD",green:"#20834D",lapis:"#315BCF",pink:"#EF56BA",red:"#F2567A",slategray:"#6A5B8F",tangerine:"#CB6704",turquoise:"#00C3D4"},landcover:{grassland:"rgba(210, 239, 207, 1)",barren:"rgba(255, 243, 215, 1)",urban_area:"rgba(230, 230, 230, 1)",farmland:"rgba(216, 239, 210, 1)",glacier:"rgba(255, 255, 255, 1)",scrub:"rgba(234, 239, 210, 1)",forest:"rgba(196, 231, 210, 1)"}},cP={background:"#34373d",earth:"#1f1f1f",park_a:"#1c2421",park_b:"#192a24",hospital:"#252424",industrial:"#222222",school:"#262323",wood_a:"#202121",wood_b:"#202121",pedestrian:"#1e1e1e",scrub_a:"#222323",scrub_b:"#222323",glacier:"#1c1c1c",sand:"#212123",beach:"#28282a",aerodrome:"#1e1e1e",runway:"#333333",water:"#31353f",zoo:"#222323",military:"#242323",tunnel_other_casing:"#141414",tunnel_minor_casing:"#141414",tunnel_link_casing:"#141414",tunnel_major_casing:"#141414",tunnel_highway_casing:"#141414",tunnel_other:"#292929",tunnel_minor:"#292929",tunnel_link:"#292929",tunnel_major:"#292929",tunnel_highway:"#292929",pier:"#333333",buildings:"#111111",minor_service_casing:"#1f1f1f",minor_casing:"#1f1f1f",link_casing:"#1f1f1f",major_casing_late:"#1f1f1f",highway_casing_late:"#1f1f1f",other:"#333333",minor_service:"#333333",minor_a:"#3d3d3d",minor_b:"#333333",link:"#3d3d3d",major_casing_early:"#1f1f1f",major:"#3d3d3d",highway_casing_early:"#1f1f1f",highway:"#474747",railway:"#000000",boundaries:"#5b6374",bridges_other_casing:"#2b2b2b",bridges_minor_casing:"#1f1f1f",bridges_link_casing:"#1f1f1f",bridges_major_casing:"#1f1f1f",bridges_highway_casing:"#1f1f1f",bridges_other:"#333333",bridges_minor:"#333333",bridges_link:"#3d3d3d",bridges_major:"#3d3d3d",bridges_highway:"#474747",roads_label_minor:"#525252",roads_label_minor_halo:"#1f1f1f",roads_label_major:"#666666",roads_label_major_halo:"#1f1f1f",ocean_label:"#717784",subplace_label:"#525252",subplace_label_halo:"#1f1f1f",city_label:"#7a7a7a",city_label_halo:"#212121",state_label:"#3d3d3d",state_label_halo:"#1f1f1f",country_label:"#5c5c5c",address_label:"#525252",address_label_halo:"#1f1f1f",pois:{blue:"#4299BB",green:"#30C573",lapis:"#2B5CEA",pink:"#EF56BA",red:"#F2567A",slategray:"#93939F",tangerine:"#F19B6E",turquoise:"#00C3D4"},landcover:{grassland:"rgba(30, 41, 31, 1)",barren:"rgba(38, 38, 36, 1)",urban_area:"rgba(28, 28, 28, 1)",farmland:"rgba(31, 36, 32, 1)",glacier:"rgba(43, 43, 43, 1)",scrub:"rgba(34, 36, 30, 1)",forest:"rgba(28, 41, 37, 1)"}},fP={background:"#ffffff",earth:"#ffffff",park_a:"#fcfcfc",park_b:"#fcfcfc",hospital:"#f8f8f8",industrial:"#fcfcfc",school:"#f8f8f8",wood_a:"#fafafa",wood_b:"#fafafa",pedestrian:"#fdfdfd",scrub_a:"#fafafa",scrub_b:"#fafafa",glacier:"#fcfcfc",sand:"#fafafa",beach:"#f6f6f6",aerodrome:"#fdfdfd",runway:"#efefef",water:"#dcdcdc",zoo:"#f7f7f7",military:"#fcfcfc",tunnel_other_casing:"#d6d6d6",tunnel_minor_casing:"#fcfcfc",tunnel_link_casing:"#fcfcfc",tunnel_major_casing:"#fcfcfc",tunnel_highway_casing:"#fcfcfc",tunnel_other:"#d6d6d6",tunnel_minor:"#d6d6d6",tunnel_link:"#d6d6d6",tunnel_major:"#d6d6d6",tunnel_highway:"#d6d6d6",pier:"#efefef",buildings:"#efefef",minor_service_casing:"#ffffff",minor_casing:"#ffffff",link_casing:"#ffffff",major_casing_late:"#ffffff",highway_casing_late:"#ffffff",other:"#f5f5f5",minor_service:"#f5f5f5",minor_a:"#ebebeb",minor_b:"#f5f5f5",link:"#ebebeb",major_casing_early:"#ffffff",major:"#ebebeb",highway_casing_early:"#ffffff",highway:"#ebebeb",railway:"#d6d6d6",boundaries:"#adadad",bridges_other_casing:"#ffffff",bridges_minor_casing:"#ffffff",bridges_link_casing:"#ffffff",bridges_major_casing:"#ffffff",bridges_highway_casing:"#ffffff",bridges_other:"#f5f5f5",bridges_minor:"#f5f5f5",bridges_link:"#ebebeb",bridges_major:"#ebebeb",bridges_highway:"#ebebeb",roads_label_minor:"#adadad",roads_label_minor_halo:"#ffffff",roads_label_major:"#999999",roads_label_major_halo:"#ffffff",ocean_label:"#adadad",subplace_label:"#8f8f8f",subplace_label_halo:"#ffffff",city_label:"#5c5c5c",city_label_halo:"#ffffff",state_label:"#b3b3b3",state_label_halo:"#ffffff",country_label:"#b8b8b8",address_label:"#adadad",address_label_halo:"#ffffff"},hP={background:"#a3a3a3",earth:"#cccccc",park_a:"#c2c2c2",park_b:"#c2c2c2",hospital:"#d0d0d0",industrial:"#c6c6c6",school:"#d0d0d0",wood_a:"#c2c2c2",wood_b:"#c2c2c2",pedestrian:"#c4c4c4",scrub_a:"#c2c2c2",scrub_b:"#c2c2c2",glacier:"#d2d2d2",sand:"#d2d2d2",beach:"#d2d2d2",aerodrome:"#c9c9c9",runway:"#f5f5f5",water:"#a3a3a3",zoo:"#c7c7c7",military:"#bfbfbf",tunnel_other_casing:"#b8b8b8",tunnel_minor_casing:"#b8b8b8",tunnel_link_casing:"#b8b8b8",tunnel_major_casing:"#b8b8b8",tunnel_highway_casing:"#b8b8b8",tunnel_other:"#d6d6d6",tunnel_minor:"#d6d6d6",tunnel_link:"#d6d6d6",tunnel_major:"#d6d6d6",tunnel_highway:"#d6d6d6",pier:"#b8b8b8",buildings:"#e0e0e0",minor_service_casing:"#cccccc",minor_casing:"#cccccc",link_casing:"#cccccc",major_casing_late:"#cccccc",highway_casing_late:"#cccccc",other:"#e0e0e0",minor_service:"#e0e0e0",minor_a:"#ebebeb",minor_b:"#e0e0e0",link:"#ebebeb",major_casing_early:"#cccccc",major:"#ebebeb",highway_casing_early:"#cccccc",highway:"#ebebeb",railway:"#f5f5f5",boundaries:"#5c5c5c",bridges_other_casing:"#cccccc",bridges_minor_casing:"#cccccc",bridges_link_casing:"#cccccc",bridges_major_casing:"#cccccc",bridges_highway_casing:"#cccccc",bridges_other:"#e0e0e0",bridges_minor:"#e0e0e0",bridges_link:"#ebebeb",bridges_major:"#ebebeb",bridges_highway:"#ebebeb",roads_label_minor:"#999999",roads_label_minor_halo:"#e0e0e0",roads_label_major:"#8f8f8f",roads_label_major_halo:"#ebebeb",ocean_label:"#7a7a7a",subplace_label:"#7a7a7a",subplace_label_halo:"#cccccc",city_label:"#474747",city_label_halo:"#cccccc",state_label:"#999999",state_label_halo:"#cccccc",country_label:"#858585",address_label:"#999999",address_label_halo:"#e0e0e0"},dP={background:"#2b2b2b",earth:"#141414",park_a:"#181818",park_b:"#181818",hospital:"#1d1d1d",industrial:"#101010",school:"#111111",wood_a:"#1a1a1a",wood_b:"#1a1a1a",pedestrian:"#191919",scrub_a:"#1c1c1c",scrub_b:"#1c1c1c",glacier:"#191919",sand:"#161616",beach:"#1f1f1f",aerodrome:"#191919",runway:"#323232",water:"#333333",zoo:"#191919",military:"#121212",tunnel_other_casing:"#101010",tunnel_minor_casing:"#101010",tunnel_link_casing:"#101010",tunnel_major_casing:"#101010",tunnel_highway_casing:"#101010",tunnel_other:"#292929",tunnel_minor:"#292929",tunnel_link:"#292929",tunnel_major:"#292929",tunnel_highway:"#292929",pier:"#0a0a0a",buildings:"#0a0a0a",minor_service_casing:"#141414",minor_casing:"#141414",link_casing:"#141414",major_casing_late:"#141414",highway_casing_late:"#141414",other:"#1f1f1f",minor_service:"#1f1f1f",minor_a:"#292929",minor_b:"#1f1f1f",link:"#1f1f1f",major_casing_early:"#141414",major:"#292929",highway_casing_early:"#141414",highway:"#292929",railway:"#292929",boundaries:"#707070",bridges_other_casing:"#141414",bridges_minor_casing:"#141414",bridges_link_casing:"#141414",bridges_major_casing:"#141414",bridges_highway_casing:"#141414",bridges_other:"#1f1f1f",bridges_minor:"#1f1f1f",bridges_link:"#292929",bridges_major:"#292929",bridges_highway:"#292929",roads_label_minor:"#525252",roads_label_minor_halo:"#141414",roads_label_major:"#5c5c5c",roads_label_major_halo:"#141414",ocean_label:"#707070",subplace_label:"#5c5c5c",subplace_label_halo:"#141414",city_label:"#999999",city_label_halo:"#141414",state_label:"#3d3d3d",state_label_halo:"#141414",country_label:"#707070",address_label:"#525252",address_label_halo:"#141414"};function Z_(n){switch(n){case"light":return uP;case"dark":return cP;case"white":return fP;case"grayscale":return hP;case"black":return dP}throw new Error("Flavor not found")}bs(Z_,"namedFlavor");function pP(n,t,e){let r=[];return e!=null&&e.labelsOnly||(r=ZE(n,t)),e!=null&&e.lang&&(r=r.concat(KE(n,t,e.lang))),r}bs(pP,"layers");function Eu(n,t,e){return Math.min(Math.max(n,e),t)}class mP extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var Fc=mP;function Xx(n){if(typeof n!="string")throw new Fc(n);if(n.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=n.trim();t=SP.test(n)?_P(n):n;const e=bP.exec(t);if(e){const l=Array.from(e).slice(1);return[...l.slice(0,3).map(c=>parseInt(af(c,2),16)),parseInt(af(l[3]||"f",2),16)/255]}const r=vP.exec(t);if(r){const l=Array.from(r).slice(1);return[...l.slice(0,3).map(c=>parseInt(c,16)),parseInt(l[3]||"ff",16)/255]}const o=wP.exec(t);if(o){const l=Array.from(o).slice(1);return[...l.slice(0,3).map(c=>parseInt(c,10)),parseFloat(l[3]||"1")]}const a=xP.exec(t);if(a){const[l,c,h,d]=Array.from(a).slice(1).map(parseFloat);if(Eu(0,100,c)!==c)throw new Fc(n);if(Eu(0,100,h)!==h)throw new Fc(n);return[...EP(l,c,h),Number.isNaN(d)?1:d]}throw new Fc(n)}function gP(n){let t=5381,e=n.length;for(;e;)t=t*33^n.charCodeAt(--e);return(t>>>0)%2341}const Gx=n=>parseInt(n.replace(/_/g,""),36),yP="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((n,t)=>{const e=Gx(t.substring(0,3)),r=Gx(t.substring(3)).toString(16);let o="";for(let a=0;a<6-r.length;a++)o+="0";return n[e]=`${o}${r}`,n},{});function _P(n){const t=n.toLowerCase().trim(),e=yP[gP(t)];if(!e)throw new Fc(n);return`#${e}`}const af=(n,t)=>Array.from(Array(t)).map(()=>n).join(""),bP=new RegExp(`^#${af("([a-f0-9])",3)}([a-f0-9])?$`,"i"),vP=new RegExp(`^#${af("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),wP=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${af(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),xP=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,SP=/^[a-z]+$/i,$x=n=>Math.round(n*255),EP=(n,t,e)=>{let r=e/100;if(t===0)return[r,r,r].map($x);const o=(n%360+360)%360/60,a=(1-Math.abs(2*r-1))*(t/100),l=a*(1-Math.abs(o%2-1));let c=0,h=0,d=0;o>=0&&o<1?(c=a,h=l):o>=1&&o<2?(c=l,h=a):o>=2&&o<3?(h=a,d=l):o>=3&&o<4?(h=l,d=a):o>=4&&o<5?(c=l,d=a):o>=5&&o<6&&(c=a,d=l);const g=r-a/2,y=c+g,b=h+g,S=d+g;return[y,b,S].map($x)};function TP(n,t,e,r){return`rgba(${Eu(0,255,n).toFixed()}, ${Eu(0,255,t).toFixed()}, ${Eu(0,255,e).toFixed()}, ${parseFloat(Eu(0,1,r).toFixed(3))})`}function qm(n,t,e){const r=(D,B)=>B===3?D:D/255,[o,a,l,c]=Xx(n).map(r),[h,d,g,y]=Xx(t).map(r),b=y-c,S=e*2-1,E=((S*b===-1?S:S+b/(1+S*b))+1)/2,k=1-E,C=(o*k+h*E)*255,M=(a*k+d*E)*255,P=(l*k+g*E)*255,z=y*e+c*(1-e);return TP(C,M,P,z)}class WE{constructor(t,e,r,o,a){this.properties={},this.extent=r,this.type=0,this.id=void 0,this._pbf=t,this._geometry=-1,this._keys=o,this._values=a,t.readFields(AP,this,e)}loadGeometry(){const t=this._pbf;t.pos=this._geometry;const e=t.readVarint()+t.pos,r=[];let o,a=1,l=0,c=0,h=0;for(;t.pos<e;){if(l<=0){const d=t.readVarint();a=d&7,l=d>>3}if(l--,a===1||a===2)c+=t.readSVarint(),h+=t.readSVarint(),a===1&&(o&&r.push(o),o=[]),o&&o.push(new Je(c,h));else if(a===7)o&&o.push(o[0].clone());else throw new Error(`unknown command ${a}`)}return o&&r.push(o),r}bbox(){const t=this._pbf;t.pos=this._geometry;const e=t.readVarint()+t.pos;let r=1,o=0,a=0,l=0,c=1/0,h=-1/0,d=1/0,g=-1/0;for(;t.pos<e;){if(o<=0){const y=t.readVarint();r=y&7,o=y>>3}if(o--,r===1||r===2)a+=t.readSVarint(),l+=t.readSVarint(),a<c&&(c=a),a>h&&(h=a),l<d&&(d=l),l>g&&(g=l);else if(r!==7)throw new Error(`unknown command ${r}`)}return[c,d,h,g]}toGeoJSON(t,e,r){const o=this.extent*Math.pow(2,r),a=this.extent*t,l=this.extent*e,c=this.loadGeometry();function h(b){return[(b.x+a)*360/o-180,360/Math.PI*Math.atan(Math.exp((1-(b.y+l)*2/o)*Math.PI))-90]}function d(b){return b.map(h)}let g;if(this.type===1){const b=[];for(const x of c)b.push(x[0]);const S=d(b);g=b.length===1?{type:"Point",coordinates:S[0]}:{type:"MultiPoint",coordinates:S}}else if(this.type===2){const b=c.map(d);g=b.length===1?{type:"LineString",coordinates:b[0]}:{type:"MultiLineString",coordinates:b}}else if(this.type===3){const b=MP(c),S=[];for(const x of b)S.push(x.map(d));g=S.length===1?{type:"Polygon",coordinates:S[0]}:{type:"MultiPolygon",coordinates:S}}else throw new Error("unknown feature type");const y={type:"Feature",geometry:g,properties:this.properties};return this.id!=null&&(y.id=this.id),y}}WE.types=["Unknown","Point","LineString","Polygon"];function AP(n,t,e){n===1?t.id=e.readVarint():n===2?kP(e,t):n===3?t.type=e.readVarint():n===4&&(t._geometry=e.pos)}function kP(n,t){const e=n.readVarint()+n.pos;for(;n.pos<e;){const r=t._keys[n.readVarint()],o=t._values[n.readVarint()];t.properties[r]=o}}function MP(n){const t=n.length;if(t<=1)return[n];const e=[];let r,o;for(let a=0;a<t;a++){const l=OP(n[a]);l!==0&&(o===void 0&&(o=l<0),o===l<0?(r&&e.push(r),r=[n[a]]):r&&r.push(n[a]))}return r&&e.push(r),e}function OP(n){let t=0;for(let e=0,r=n.length,o=r-1,a,l;e<r;o=e++)a=n[e],l=n[o],t+=(l.x-a.x)*(a.y+l.y);return t}class CP{constructor(t,e){this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(LP,this,e),this.length=this._features.length}feature(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];const e=this._pbf.readVarint()+this._pbf.pos;return new WE(this._pbf,e,this.extent,this._keys,this._values)}}function LP(n,t,e){n===15?t.version=e.readVarint():n===1?t.name=e.readString():n===5?t.extent=e.readVarint():n===2?t._features.push(e.pos):n===3?t._keys.push(e.readString()):n===4&&t._values.push(NP(e))}function NP(n){let t=null;const e=n.readVarint()+n.pos;for(;n.pos<e;){const r=n.readVarint()>>3;t=r===1?n.readString():r===2?n.readFloat():r===3?n.readDouble():r===4?n.readVarint64():r===5?n.readVarint():r===6?n.readSVarint():r===7?n.readBoolean():null}if(t==null)throw new Error("unknown feature value");return t}class DP{constructor(t,e){this.layers=t.readFields(jP,{},e)}}function jP(n,t,e){if(n===3){const r=new CP(e,e.readVarint()+e.pos);r.length&&(t[r.name]=r)}}const r_=65536*65536,Qx=1/r_,PP=12,Jx=typeof TextDecoder>"u"?null:new TextDecoder("utf-8"),Vm=0,Lh=1,kc=2,Nh=5;class RP{constructor(t=new Uint8Array(16)){this.buf=ArrayBuffer.isView(t)?t:new Uint8Array(t),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(t,e,r=this.length){for(;this.pos<r;){const o=this.readVarint(),a=o>>3,l=this.pos;this.type=o&7,t(a,e,this),this.pos===l&&this.skip(o)}return e}readMessage(t,e){return this.readFields(t,e,this.readVarint()+this.pos)}readFixed32(){const t=this.dataView.getUint32(this.pos,!0);return this.pos+=4,t}readSFixed32(){const t=this.dataView.getInt32(this.pos,!0);return this.pos+=4,t}readFixed64(){const t=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*r_;return this.pos+=8,t}readSFixed64(){const t=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*r_;return this.pos+=8,t}readFloat(){const t=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,t}readDouble(){const t=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,t}readVarint(t){const e=this.buf;let r,o;return o=e[this.pos++],r=o&127,o<128||(o=e[this.pos++],r|=(o&127)<<7,o<128)||(o=e[this.pos++],r|=(o&127)<<14,o<128)||(o=e[this.pos++],r|=(o&127)<<21,o<128)?r:(o=e[this.pos],r|=(o&15)<<28,zP(r,t,this))}readVarint64(){return this.readVarint(!0)}readSVarint(){const t=this.readVarint();return t%2===1?(t+1)/-2:t/2}readBoolean(){return!!this.readVarint()}readString(){const t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=PP&&Jx?Jx.decode(this.buf.subarray(e,t)):GP(this.buf,e,t)}readBytes(){const t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e}readPackedVarint(t=[],e){const r=this.readPackedEnd();for(;this.pos<r;)t.push(this.readVarint(e));return t}readPackedSVarint(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readSVarint());return t}readPackedBoolean(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readBoolean());return t}readPackedFloat(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readFloat());return t}readPackedDouble(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readDouble());return t}readPackedFixed32(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readFixed32());return t}readPackedSFixed32(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readSFixed32());return t}readPackedFixed64(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readFixed64());return t}readPackedSFixed64(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readSFixed64());return t}readPackedEnd(){return this.type===kc?this.readVarint()+this.pos:this.pos+1}skip(t){const e=t&7;if(e===Vm)for(;this.buf[this.pos++]>127;);else if(e===kc)this.pos=this.readVarint()+this.pos;else if(e===Nh)this.pos+=4;else if(e===Lh)this.pos+=8;else throw new Error(`Unimplemented type: ${e}`)}writeTag(t,e){this.writeVarint(t<<3|e)}realloc(t){let e=this.length||16;for(;e<this.pos+t;)e*=2;if(e!==this.length){const r=new Uint8Array(e);r.set(this.buf),this.buf=r,this.dataView=new DataView(r.buffer),this.length=e}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(t){this.realloc(4),this.dataView.setInt32(this.pos,t,!0),this.pos+=4}writeSFixed32(t){this.realloc(4),this.dataView.setInt32(this.pos,t,!0),this.pos+=4}writeFixed64(t){this.realloc(8),this.dataView.setInt32(this.pos,t&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(t*Qx),!0),this.pos+=8}writeSFixed64(t){this.realloc(8),this.dataView.setInt32(this.pos,t&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(t*Qx),!0),this.pos+=8}writeVarint(t){if(t=+t||0,t>268435455||t<0){BP(t,this);return}this.realloc(4),this.buf[this.pos++]=t&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=(t>>>=7)&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=(t>>>=7)&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=t>>>7&127)))}writeSVarint(t){this.writeVarint(t<0?-t*2-1:t*2)}writeBoolean(t){this.writeVarint(+t)}writeString(t){t=String(t),this.realloc(t.length*4),this.pos++;const e=this.pos;this.pos=$P(this.buf,t,this.pos);const r=this.pos-e;r>=128&&tS(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r}writeFloat(t){this.realloc(4),this.dataView.setFloat32(this.pos,t,!0),this.pos+=4}writeDouble(t){this.realloc(8),this.dataView.setFloat64(this.pos,t,!0),this.pos+=8}writeBytes(t){const e=t.length;this.writeVarint(e),this.realloc(e);for(let r=0;r<e;r++)this.buf[this.pos++]=t[r]}writeRawMessage(t,e){this.pos++;const r=this.pos;t(e,this);const o=this.pos-r;o>=128&&tS(r,o,this),this.pos=r-1,this.writeVarint(o),this.pos+=o}writeMessage(t,e,r){this.writeTag(t,kc),this.writeRawMessage(e,r)}writePackedVarint(t,e){e.length&&this.writeMessage(t,FP,e)}writePackedSVarint(t,e){e.length&&this.writeMessage(t,HP,e)}writePackedBoolean(t,e){e.length&&this.writeMessage(t,YP,e)}writePackedFloat(t,e){e.length&&this.writeMessage(t,qP,e)}writePackedDouble(t,e){e.length&&this.writeMessage(t,VP,e)}writePackedFixed32(t,e){e.length&&this.writeMessage(t,ZP,e)}writePackedSFixed32(t,e){e.length&&this.writeMessage(t,KP,e)}writePackedFixed64(t,e){e.length&&this.writeMessage(t,WP,e)}writePackedSFixed64(t,e){e.length&&this.writeMessage(t,XP,e)}writeBytesField(t,e){this.writeTag(t,kc),this.writeBytes(e)}writeFixed32Field(t,e){this.writeTag(t,Nh),this.writeFixed32(e)}writeSFixed32Field(t,e){this.writeTag(t,Nh),this.writeSFixed32(e)}writeFixed64Field(t,e){this.writeTag(t,Lh),this.writeFixed64(e)}writeSFixed64Field(t,e){this.writeTag(t,Lh),this.writeSFixed64(e)}writeVarintField(t,e){this.writeTag(t,Vm),this.writeVarint(e)}writeSVarintField(t,e){this.writeTag(t,Vm),this.writeSVarint(e)}writeStringField(t,e){this.writeTag(t,kc),this.writeString(e)}writeFloatField(t,e){this.writeTag(t,Nh),this.writeFloat(e)}writeDoubleField(t,e){this.writeTag(t,Lh),this.writeDouble(e)}writeBooleanField(t,e){this.writeVarintField(t,+e)}}function zP(n,t,e){const r=e.buf;let o,a;if(a=r[e.pos++],o=(a&112)>>4,a<128||(a=r[e.pos++],o|=(a&127)<<3,a<128)||(a=r[e.pos++],o|=(a&127)<<10,a<128)||(a=r[e.pos++],o|=(a&127)<<17,a<128)||(a=r[e.pos++],o|=(a&127)<<24,a<128)||(a=r[e.pos++],o|=(a&1)<<31,a<128))return yu(n,o,t);throw new Error("Expected varint not more than 10 bytes")}function yu(n,t,e){return e?t*4294967296+(n>>>0):(t>>>0)*4294967296+(n>>>0)}function BP(n,t){let e,r;if(n>=0?(e=n%4294967296|0,r=n/4294967296|0):(e=~(-n%4294967296),r=~(-n/4294967296),e^4294967295?e=e+1|0:(e=0,r=r+1|0)),n>=18446744073709552e3||n<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),IP(e,r,t),UP(r,t)}function IP(n,t,e){e.buf[e.pos++]=n&127|128,n>>>=7,e.buf[e.pos++]=n&127|128,n>>>=7,e.buf[e.pos++]=n&127|128,n>>>=7,e.buf[e.pos++]=n&127|128,n>>>=7,e.buf[e.pos]=n&127}function UP(n,t){const e=(n&7)<<4;t.buf[t.pos++]|=e|((n>>>=3)?128:0),n&&(t.buf[t.pos++]=n&127|((n>>>=7)?128:0),n&&(t.buf[t.pos++]=n&127|((n>>>=7)?128:0),n&&(t.buf[t.pos++]=n&127|((n>>>=7)?128:0),n&&(t.buf[t.pos++]=n&127|((n>>>=7)?128:0),n&&(t.buf[t.pos++]=n&127)))))}function tS(n,t,e){const r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(Math.LN2*7));e.realloc(r);for(let o=e.pos-1;o>=n;o--)e.buf[o+r]=e.buf[o]}function FP(n,t){for(let e=0;e<n.length;e++)t.writeVarint(n[e])}function HP(n,t){for(let e=0;e<n.length;e++)t.writeSVarint(n[e])}function qP(n,t){for(let e=0;e<n.length;e++)t.writeFloat(n[e])}function VP(n,t){for(let e=0;e<n.length;e++)t.writeDouble(n[e])}function YP(n,t){for(let e=0;e<n.length;e++)t.writeBoolean(n[e])}function ZP(n,t){for(let e=0;e<n.length;e++)t.writeFixed32(n[e])}function KP(n,t){for(let e=0;e<n.length;e++)t.writeSFixed32(n[e])}function WP(n,t){for(let e=0;e<n.length;e++)t.writeFixed64(n[e])}function XP(n,t){for(let e=0;e<n.length;e++)t.writeSFixed64(n[e])}function GP(n,t,e){let r="",o=t;for(;o<e;){const a=n[o];let l=null,c=a>239?4:a>223?3:a>191?2:1;if(o+c>e)break;let h,d,g;c===1?a<128&&(l=a):c===2?(h=n[o+1],(h&192)===128&&(l=(a&31)<<6|h&63,l<=127&&(l=null))):c===3?(h=n[o+1],d=n[o+2],(h&192)===128&&(d&192)===128&&(l=(a&15)<<12|(h&63)<<6|d&63,(l<=2047||l>=55296&&l<=57343)&&(l=null))):c===4&&(h=n[o+1],d=n[o+2],g=n[o+3],(h&192)===128&&(d&192)===128&&(g&192)===128&&(l=(a&15)<<18|(h&63)<<12|(d&63)<<6|g&63,(l<=65535||l>=1114112)&&(l=null))),l===null?(l=65533,c=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|l&1023),r+=String.fromCharCode(l),o+=c}return r}function $P(n,t,e){for(let r=0,o,a;r<t.length;r++){if(o=t.charCodeAt(r),o>55295&&o<57344)if(a)if(o<56320){n[e++]=239,n[e++]=191,n[e++]=189,a=o;continue}else o=a-55296<<10|o-56320|65536,a=null;else{o>56319||r+1===t.length?(n[e++]=239,n[e++]=191,n[e++]=189):a=o;continue}else a&&(n[e++]=239,n[e++]=191,n[e++]=189,a=null);o<128?n[e++]=o:(o<2048?n[e++]=o>>6|192:(o<65536?n[e++]=o>>12|224:(n[e++]=o>>18|240,n[e++]=o>>12&63|128),n[e++]=o>>6&63|128),n[e++]=o&63|128)}return e}var Tu=Math.pow,lr=(n,t,e)=>new Promise((r,o)=>{var a=h=>{try{c(e.next(h))}catch(d){o(d)}},l=h=>{try{c(e.throw(h))}catch(d){o(d)}},c=h=>h.done?r(h.value):Promise.resolve(h.value).then(a,l);c((e=e.apply(n,t)).next())}),lo=Uint8Array,$c=Uint16Array,QP=Int32Array,XE=new lo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),GE=new lo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),JP=new lo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$E=function(n,t){for(var e=new $c(31),r=0;r<31;++r)e[r]=t+=1<<n[r-1];for(var o=new QP(e[30]),r=1;r<30;++r)for(var a=e[r];a<e[r+1];++a)o[a]=a-e[r]<<5|r;return{b:e,r:o}},QE=$E(XE,2),JE=QE.b,tR=QE.r;JE[28]=258,tR[258]=28;var eR=$E(GE,0),nR=eR.b,tT=new $c(32768);for(En=0;En<32768;++En)Ws=(En&43690)>>1|(En&21845)<<1,Ws=(Ws&52428)>>2|(Ws&13107)<<2,Ws=(Ws&61680)>>4|(Ws&3855)<<4,tT[En]=((Ws&65280)>>8|(Ws&255)<<8)>>1;var Ws,En,Qc=function(n,t,e){for(var r=n.length,o=0,a=new $c(t);o<r;++o)n[o]&&++a[n[o]-1];var l=new $c(t);for(o=1;o<t;++o)l[o]=l[o-1]+a[o-1]<<1;var c;{c=new $c(1<<t);var h=15-t;for(o=0;o<r;++o)if(n[o])for(var d=o<<4|n[o],g=t-n[o],y=l[n[o]-1]++<<g,b=y|(1<<g)-1;y<=b;++y)c[tT[y]>>h]=d}return c},mf=new lo(288);for(En=0;En<144;++En)mf[En]=8;var En;for(En=144;En<256;++En)mf[En]=9;var En;for(En=256;En<280;++En)mf[En]=7;var En;for(En=280;En<288;++En)mf[En]=8;var En,eT=new lo(32);for(En=0;En<32;++En)eT[En]=5;var En,iR=Qc(mf,9),rR=Qc(eT,5),Ym=function(n){for(var t=n[0],e=1;e<n.length;++e)n[e]>t&&(t=n[e]);return t},zo=function(n,t,e){var r=t/8|0;return(n[r]|n[r+1]<<8)>>(t&7)&e},Zm=function(n,t){var e=t/8|0;return(n[e]|n[e+1]<<8|n[e+2]<<16)>>(t&7)},oR=function(n){return(n+7)/8|0},sR=function(n,t,e){(e==null||e>n.length)&&(e=n.length);var r=new lo(e-t);return r.set(n.subarray(t,e)),r},aR=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ao=function(n,t,e){var r=new Error(t||aR[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,ao),!e)throw r;return r},K_=function(n,t,e,r){var o=n.length,a=0;if(!o||t.f&&!t.l)return e||new lo(0);var l=!e||t.i!=2,c=t.i;e||(e=new lo(o*3));var h=function(Mt){var Nt=e.length;if(Mt>Nt){var Tt=new lo(Math.max(Nt*2,Mt));Tt.set(e),e=Tt}},d=t.f||0,g=t.p||0,y=t.b||0,b=t.l,S=t.d,x=t.m,E=t.n,k=o*8;do{if(!b){d=zo(n,g,1);var C=zo(n,g+1,3);if(g+=3,C)if(C==1)b=iR,S=rR,x=9,E=5;else if(C==2){var D=zo(n,g,31)+257,B=zo(n,g+10,15)+4,R=D+zo(n,g+5,31)+1;g+=14;for(var V=new lo(R),J=new lo(19),tt=0;tt<B;++tt)J[JP[tt]]=zo(n,g+tt*3,7);g+=B*3;for(var st=Ym(J),G=(1<<st)-1,mt=Qc(J,st),tt=0;tt<R;){var ht=mt[zo(n,g,G)];g+=ht&15;var M=ht>>4;if(M<16)V[tt++]=M;else{var ut=0,rt=0;for(M==16?(rt=3+zo(n,g,3),g+=2,ut=V[tt-1]):M==17?(rt=3+zo(n,g,7),g+=3):M==18&&(rt=11+zo(n,g,127),g+=7);rt--;)V[tt++]=ut}}var lt=V.subarray(0,D),et=V.subarray(D);x=Ym(lt),E=Ym(et),b=Qc(lt,x),S=Qc(et,E)}else ao(1);else{var M=oR(g)+4,P=n[M-4]|n[M-3]<<8,z=M+P;if(z>o){c&&ao(0);break}l&&h(y+P),e.set(n.subarray(M,z),y),t.b=y+=P,t.p=g=z*8,t.f=d;continue}if(g>k){c&&ao(0);break}}l&&h(y+131072);for(var jt=(1<<x)-1,nt=(1<<E)-1,Z=g;;Z=g){var ut=b[Zm(n,g)&jt],K=ut>>4;if(g+=ut&15,g>k){c&&ao(0);break}if(ut||ao(2),K<256)e[y++]=K;else if(K==256){Z=g,b=null;break}else{var at=K-254;if(K>264){var tt=K-257,At=XE[tt];at=zo(n,g,(1<<At)-1)+JE[tt],g+=At}var gt=S[Zm(n,g)&nt],Ut=gt>>4;gt||ao(3),g+=gt&15;var et=nR[Ut];if(Ut>3){var At=GE[Ut];et+=Zm(n,g)&(1<<At)-1,g+=At}if(g>k){c&&ao(0);break}l&&h(y+131072);var _t=y+at;if(y<et){var ct=a-et,vt=Math.min(et,_t);for(ct+y<0&&ao(3);y<vt;++y)e[y]=r[ct+y]}for(;y<_t;y+=4)e[y]=e[y-et],e[y+1]=e[y+1-et],e[y+2]=e[y+2-et],e[y+3]=e[y+3-et];y=_t}}t.l=b,t.p=Z,t.b=y,t.f=d,b&&(d=1,t.m=x,t.d=S,t.n=E)}while(!d);return y==e.length?e:sR(e,0,y)},lR=new lo(0),uR=function(n){(n[0]!=31||n[1]!=139||n[2]!=8)&&ao(6,"invalid gzip data");var t=n[3],e=10;t&4&&(e+=(n[10]|n[11]<<8)+2);for(var r=(t>>3&1)+(t>>4&1);r>0;r-=!n[e++]);return e+(t&2)},cR=function(n){var t=n.length;return(n[t-4]|n[t-3]<<8|n[t-2]<<16|n[t-1]<<24)>>>0},fR=function(n,t){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&ao(6,"invalid zlib data"),(n[1]>>5&1)==1&&ao(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function hR(n,t){return K_(n,{i:2},t,t)}function dR(n,t){var e=uR(n);return e+8>n.length&&ao(6,"invalid gzip data"),K_(n.subarray(e,-8),{i:2},new lo(cR(n)),t)}function pR(n,t){return K_(n.subarray(fR(n),-4),{i:2},t,t)}function o_(n,t){return n[0]==31&&n[1]==139&&n[2]==8?dR(n,t):(n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31?hR(n,t):pR(n,t)}var mR=typeof TextDecoder<"u"&&new TextDecoder,gR=0;try{mR.decode(lR,{stream:!0}),gR=1}catch{}var nT=(n,t)=>n*Tu(2,t),Mc=(n,t)=>Math.floor(n/Tu(2,t)),Td=(n,t)=>nT(n.getUint16(t+1,!0),8)+n.getUint8(t),iT=(n,t)=>nT(n.getUint32(t+2,!0),16)+n.getUint16(t,!0),yR=(n,t,e,r,o)=>{if(n!==r.getUint8(o))return n-r.getUint8(o);const a=Td(r,o+1);if(t!==a)return t-a;const l=Td(r,o+4);return e!==l?e-l:0},_R=(n,t,e,r)=>{const o=rT(n,t|128,e,r);return o?{z:t,x:e,y:r,offset:o[0],length:o[1],isDir:!0}:null},eS=(n,t,e,r)=>{const o=rT(n,t,e,r);return o?{z:t,x:e,y:r,offset:o[0],length:o[1],isDir:!1}:null},rT=(n,t,e,r)=>{let o=0,a=n.byteLength/17-1;for(;o<=a;){const l=a+o>>1,c=yR(t,e,r,n,l*17);if(c>0)o=l+1;else if(c<0)a=l-1;else return[iT(n,l*17+7),n.getUint32(l*17+13,!0)]}return null},bR=(n,t)=>n.isDir&&!t.isDir?1:!n.isDir&&t.isDir?-1:n.z!==t.z?n.z-t.z:n.x!==t.x?n.x-t.x:n.y-t.y,oT=(n,t)=>{const e=n.getUint8(t*17);return{z:e&127,x:Td(n,t*17+1),y:Td(n,t*17+4),offset:iT(n,t*17+7),length:n.getUint32(t*17+13,!0),isDir:e>>7===1}},nS=n=>{const t=[],e=new DataView(n);for(let r=0;r<e.byteLength/17;r++)t.push(oT(e,r));return vR(t)},vR=n=>{n.sort(bR);const t=new ArrayBuffer(17*n.length),e=new Uint8Array(t);for(let r=0;r<n.length;r++){const o=n[r];let a=o.z;o.isDir&&(a=a|128),e[r*17]=a,e[r*17+1]=o.x&255,e[r*17+2]=o.x>>8&255,e[r*17+3]=o.x>>16&255,e[r*17+4]=o.y&255,e[r*17+5]=o.y>>8&255,e[r*17+6]=o.y>>16&255,e[r*17+7]=o.offset&255,e[r*17+8]=Mc(o.offset,8)&255,e[r*17+9]=Mc(o.offset,16)&255,e[r*17+10]=Mc(o.offset,24)&255,e[r*17+11]=Mc(o.offset,32)&255,e[r*17+12]=Mc(o.offset,48)&255,e[r*17+13]=o.length&255,e[r*17+14]=o.length>>8&255,e[r*17+15]=o.length>>16&255,e[r*17+16]=o.length>>24&255}return t},wR=(n,t)=>{if(n.byteLength<17)return null;const e=n.byteLength/17,r=oT(n,e-1);if(r.isDir){const o=r.z,a=t.z-o,l=Math.trunc(t.x/(1<<a)),c=Math.trunc(t.y/(1<<a));return{z:o,x:l,y:c}}return null};function xR(n){return lr(this,null,function*(){const t=yield n.getBytes(0,512e3),e=new DataView(t.data),r=e.getUint32(4,!0),o=e.getUint16(8,!0),a=new TextDecoder("utf-8"),l=JSON.parse(a.decode(new DataView(t.data,10,r)));let c=0;l.compression==="gzip"&&(c=2);let h=0;"minzoom"in l&&(h=+l.minzoom);let d=0;"maxzoom"in l&&(d=+l.maxzoom);let g=0,y=0,b=0,S=-180,x=-85,E=180,k=85;if(l.bounds){const M=l.bounds.split(",");S=+M[0],x=+M[1],E=+M[2],k=+M[3]}if(l.center){const M=l.center.split(",");g=+M[0],y=+M[1],b=+M[2]}return{specVersion:e.getUint16(2,!0),rootDirectoryOffset:10+r,rootDirectoryLength:o*17,jsonMetadataOffset:10,jsonMetadataLength:r,leafDirectoryOffset:0,leafDirectoryLength:void 0,tileDataOffset:0,tileDataLength:void 0,numAddressedTiles:0,numTileEntries:0,numTileContents:0,clustered:!1,internalCompression:1,tileCompression:c,tileType:1,minZoom:h,maxZoom:d,minLon:S,minLat:x,maxLon:E,maxLat:k,centerZoom:b,centerLon:g,centerLat:y,etag:t.etag}})}function SR(n,t,e,r,o,a,l){return lr(this,null,function*(){let c=yield e.getArrayBuffer(t,n.rootDirectoryOffset,n.rootDirectoryLength,n);n.specVersion===1&&(c=nS(c));const h=eS(new DataView(c),r,o,a);if(h){let y=(yield t.getBytes(h.offset,h.length,l)).data;const b=new DataView(y);return b.getUint8(0)===31&&b.getUint8(1)===139&&(y=o_(new Uint8Array(y))),{data:y}}const d=wR(new DataView(c),{z:r,x:o,y:a});if(d){const g=_R(new DataView(c),d.z,d.x,d.y);if(g){let y=yield e.getArrayBuffer(t,g.offset,g.length,n);n.specVersion===1&&(y=nS(y));const b=eS(new DataView(y),r,o,a);if(b){let x=(yield t.getBytes(b.offset,b.length,l)).data;const E=new DataView(x);return E.getUint8(0)===31&&E.getUint8(1)===139&&(x=o_(new Uint8Array(x))),{data:x}}}}})}var sT={getHeader:xR,getZxy:SR};function _u(n,t){return(t>>>0)*4294967296+(n>>>0)}function ER(n,t){const e=t.buf;let r=e[t.pos++],o=(r&112)>>4;if(r<128||(r=e[t.pos++],o|=(r&127)<<3,r<128)||(r=e[t.pos++],o|=(r&127)<<10,r<128)||(r=e[t.pos++],o|=(r&127)<<17,r<128)||(r=e[t.pos++],o|=(r&127)<<24,r<128)||(r=e[t.pos++],o|=(r&1)<<31,r<128))return _u(n,o);throw new Error("Expected varint not more than 10 bytes")}function Oc(n){const t=n.buf;let e=t[n.pos++],r=e&127;return e<128||(e=t[n.pos++],r|=(e&127)<<7,e<128)||(e=t[n.pos++],r|=(e&127)<<14,e<128)||(e=t[n.pos++],r|=(e&127)<<21,e<128)?r:(e=t[n.pos],r|=(e&15)<<28,ER(r,n))}function TR(n,t,e,r){if(r===0){e===1&&(t[0]=n-1-t[0],t[1]=n-1-t[1]);const o=t[0];t[0]=t[1],t[1]=o}}var AR=[0,1,5,21,85,341,1365,5461,21845,87381,349525,1398101,5592405,22369621,89478485,357913941,1431655765,5726623061,22906492245,91625968981,366503875925,1466015503701,5864062014805,23456248059221,93824992236885,375299968947541,0x5555555555555];function kR(n,t,e){if(n>26)throw Error("Tile zoom level exceeds max safe number limit (26)");if(t>Tu(2,n)-1||e>Tu(2,n)-1)throw Error("tile x/y outside zoom level bounds");const r=AR[n],o=Tu(2,n);let a=0,l=0,c=0;const h=[t,e];let d=o/2;for(;d>0;)a=(h[0]&d)>0?1:0,l=(h[1]&d)>0?1:0,c+=d*d*(3*a^l),TR(d,h,a,l),d=d/2;return r+c}function aT(n,t){return lr(this,null,function*(){if(t===1||t===0)return n;if(t===2){if(typeof globalThis.DecompressionStream>"u")return o_(new Uint8Array(n));const e=new Response(n).body;if(!e)throw Error("Failed to read response stream");const r=e.pipeThrough(new globalThis.DecompressionStream("gzip"));return new Response(r).arrayBuffer()}throw Error("Compression method not supported")})}function MR(n){return n===1?".mvt":n===2?".png":n===3?".jpg":n===4?".webp":n===5?".avif":""}var OR=127;function CR(n,t){let e=0,r=n.length-1;for(;e<=r;){const o=r+e>>1,a=t-n[o].tileId;if(a>0)e=o+1;else if(a<0)r=o-1;else return n[o]}return r>=0&&(n[r].runLength===0||t-n[r].tileId<n[r].runLength)?n[r]:null}var LR=class{constructor(n,t=new Headers){this.url=n,this.customHeaders=t,this.mustReload=!1;let e="";"navigator"in globalThis&&(e=globalThis.navigator.userAgent||"");const r=e.indexOf("Windows")>-1,o=/Chrome|Chromium|Edg|OPR|Brave/.test(e);this.chromeWindowsNoCache=!1,r&&o&&(this.chromeWindowsNoCache=!0)}getKey(){return this.url}setHeaders(n){this.customHeaders=n}getBytes(n,t,e,r){return lr(this,null,function*(){let o,a;e?a=e:(o=new AbortController,a=o.signal);const l=new Headers(this.customHeaders);l.set("range",`bytes=${n}-${n+t-1}`);let c;this.mustReload?c="reload":this.chromeWindowsNoCache&&(c="no-store");let h=yield fetch(this.url,{signal:a,cache:c,headers:l});if(n===0&&h.status===416){const b=h.headers.get("Content-Range");if(!b||!b.startsWith("bytes */"))throw Error("Missing content-length on 416 response");const S=+b.substr(8);h=yield fetch(this.url,{signal:a,cache:"reload",headers:{range:`bytes=0-${S-1}`}})}let d=h.headers.get("Etag");if(d?.startsWith("W/")&&(d=null),h.status===416||r&&d&&d!==r)throw this.mustReload=!0,new s_(`Server returned non-matching ETag ${r} after one retry. Check browser extensions and servers for issues that may affect correct ETag headers.`);if(h.status>=300)throw Error(`Bad response code: ${h.status}`);const g=h.headers.get("Content-Length");if(h.status===200&&(!g||+g>t))throw o&&o.abort(),Error("Server returned no content-length header or content-length exceeding request. Check that your storage backend supports HTTP Byte Serving.");return{data:yield h.arrayBuffer(),etag:d||void 0,cacheControl:h.headers.get("Cache-Control")||void 0,expires:h.headers.get("Expires")||void 0}})}};function Bo(n,t){const e=n.getUint32(t+4,!0),r=n.getUint32(t+0,!0);return e*Tu(2,32)+r}function NR(n,t){const e=new DataView(n),r=e.getUint8(7);if(r>3)throw Error(`Archive is spec version ${r} but this library supports up to spec version 3`);return{specVersion:r,rootDirectoryOffset:Bo(e,8),rootDirectoryLength:Bo(e,16),jsonMetadataOffset:Bo(e,24),jsonMetadataLength:Bo(e,32),leafDirectoryOffset:Bo(e,40),leafDirectoryLength:Bo(e,48),tileDataOffset:Bo(e,56),tileDataLength:Bo(e,64),numAddressedTiles:Bo(e,72),numTileEntries:Bo(e,80),numTileContents:Bo(e,88),clustered:e.getUint8(96)===1,internalCompression:e.getUint8(97),tileCompression:e.getUint8(98),tileType:e.getUint8(99),minZoom:e.getUint8(100),maxZoom:e.getUint8(101),minLon:e.getInt32(102,!0)/1e7,minLat:e.getInt32(106,!0)/1e7,maxLon:e.getInt32(110,!0)/1e7,maxLat:e.getInt32(114,!0)/1e7,centerZoom:e.getUint8(118),centerLon:e.getInt32(119,!0)/1e7,centerLat:e.getInt32(123,!0)/1e7,etag:t}}function lT(n){const t={buf:new Uint8Array(n),pos:0},e=Oc(t),r=[];let o=0;for(let a=0;a<e;a++){const l=Oc(t);r.push({tileId:o+l,offset:0,length:0,runLength:1}),o+=l}for(let a=0;a<e;a++)r[a].runLength=Oc(t);for(let a=0;a<e;a++)r[a].length=Oc(t);for(let a=0;a<e;a++){const l=Oc(t);l===0&&a>0?r[a].offset=r[a-1].offset+r[a-1].length:r[a].offset=l-1}return r}function DR(n){const t=new DataView(n);return t.getUint16(2,!0)===2?(console.warn("PMTiles spec version 2 has been deprecated; please see github.com/protomaps/PMTiles for tools to upgrade"),2):t.getUint16(2,!0)===1?(console.warn("PMTiles spec version 1 has been deprecated; please see github.com/protomaps/PMTiles for tools to upgrade"),1):3}var s_=class extends Error{};function jR(n,t){return lr(this,null,function*(){const e=yield n.getBytes(0,16384);if(new DataView(e.data).getUint16(0,!0)!==19792)throw new Error("Wrong magic number for PMTiles archive");if(DR(e.data)<3)return[yield sT.getHeader(n)];const o=e.data.slice(0,OR),a=NR(o,e.etag),l=e.data.slice(a.rootDirectoryOffset,a.rootDirectoryOffset+a.rootDirectoryLength),c=`${n.getKey()}|${a.etag||""}|${a.rootDirectoryOffset}|${a.rootDirectoryLength}`,h=lT(yield t(l,a.internalCompression));return[a,[c,h.length,h]]})}function PR(n,t,e,r,o){return lr(this,null,function*(){const a=yield n.getBytes(e,r,void 0,o.etag),l=yield t(a.data,o.internalCompression),c=lT(l);if(c.length===0)throw new Error("Empty directory is invalid");return c})}var RR=class{constructor(n=100,t=!0,e=aT){this.cache=new Map,this.invalidations=new Map,this.maxCacheEntries=n,this.counter=1,this.decompress=e}getHeader(n){return lr(this,null,function*(){const t=n.getKey(),e=this.cache.get(t);if(e)return e.lastUsed=this.counter++,yield e.data;const r=new Promise((o,a)=>{jR(n,this.decompress).then(l=>{l[1]&&this.cache.set(l[1][0],{lastUsed:this.counter++,data:Promise.resolve(l[1][2])}),o(l[0]),this.prune()}).catch(l=>{a(l)})});return this.cache.set(t,{lastUsed:this.counter++,data:r}),r})}getDirectory(n,t,e,r){return lr(this,null,function*(){const o=`${n.getKey()}|${r.etag||""}|${t}|${e}`,a=this.cache.get(o);if(a)return a.lastUsed=this.counter++,yield a.data;const l=new Promise((c,h)=>{PR(n,this.decompress,t,e,r).then(d=>{c(d),this.prune()}).catch(d=>{h(d)})});return this.cache.set(o,{lastUsed:this.counter++,data:l}),l})}getArrayBuffer(n,t,e,r){return lr(this,null,function*(){const o=`${n.getKey()}|${r.etag||""}|${t}|${e}`,a=this.cache.get(o);if(a)return a.lastUsed=this.counter++,yield a.data;const l=new Promise((c,h)=>{n.getBytes(t,e,void 0,r.etag).then(d=>{c(d.data),this.cache.has(o),this.prune()}).catch(d=>{h(d)})});return this.cache.set(o,{lastUsed:this.counter++,data:l}),l})}prune(){if(this.cache.size>=this.maxCacheEntries){let n=1/0,t;this.cache.forEach((e,r)=>{e.lastUsed<n&&(n=e.lastUsed,t=r)}),t&&this.cache.delete(t)}}invalidate(n){return lr(this,null,function*(){const t=n.getKey();if(this.invalidations.get(t))return yield this.invalidations.get(t);this.cache.delete(n.getKey());const e=new Promise((r,o)=>{this.getHeader(n).then(a=>{r(),this.invalidations.delete(t)}).catch(a=>{o(a)})});this.invalidations.set(t,e)})}},zR=class{constructor(n,t,e){typeof n=="string"?this.source=new LR(n):this.source=n,e?this.decompress=e:this.decompress=aT,t?this.cache=t:this.cache=new RR}getHeader(){return lr(this,null,function*(){return yield this.cache.getHeader(this.source)})}getZxyAttempt(n,t,e,r){return lr(this,null,function*(){const o=kR(n,t,e),a=yield this.cache.getHeader(this.source);if(a.specVersion<3)return sT.getZxy(a,this.source,this.cache,n,t,e,r);if(n<a.minZoom||n>a.maxZoom)return;let l=a.rootDirectoryOffset,c=a.rootDirectoryLength;for(let h=0;h<=3;h++){const d=yield this.cache.getDirectory(this.source,l,c,a),g=CR(d,o);if(g){if(g.runLength>0){const y=yield this.source.getBytes(a.tileDataOffset+g.offset,g.length,r,a.etag);return{data:yield this.decompress(y.data,a.tileCompression),cacheControl:y.cacheControl,expires:y.expires}}l=a.leafDirectoryOffset+g.offset,c=g.length}else return}throw Error("Maximum directory depth exceeded")})}getZxy(n,t,e,r){return lr(this,null,function*(){try{return yield this.getZxyAttempt(n,t,e,r)}catch(o){if(o instanceof s_)return this.cache.invalidate(this.source),yield this.getZxyAttempt(n,t,e,r);throw o}})}getMetadataAttempt(){return lr(this,null,function*(){const n=yield this.cache.getHeader(this.source),t=yield this.source.getBytes(n.jsonMetadataOffset,n.jsonMetadataLength,void 0,n.etag),e=yield this.decompress(t.data,n.internalCompression),r=new TextDecoder("utf-8");return JSON.parse(r.decode(e))})}getMetadata(){return lr(this,null,function*(){try{return yield this.getMetadataAttempt()}catch(n){if(n instanceof s_)return this.cache.invalidate(this.source),yield this.getMetadataAttempt();throw n}})}getTileJson(n){return lr(this,null,function*(){const t=yield this.getHeader(),e=yield this.getMetadata(),r=MR(t.tileType);return{tilejson:"3.0.0",scheme:"xyz",tiles:[`${n}/{z}/{x}/{y}${r}`],vector_layers:e.vector_layers,attribution:e.attribution,description:e.description,name:e.name,version:e.version,bounds:[t.minLon,t.minLat,t.maxLon,t.maxLat],center:[t.centerLon,t.centerLat,t.centerZoom],minzoom:t.minZoom,maxzoom:t.maxZoom}})}};function BR(n,t,e,r,o){uT(n,t,e||0,r||n.length-1,o||IR)}function uT(n,t,e,r,o){for(;r>e;){if(r-e>600){var a=r-e+1,l=t-e+1,c=Math.log(a),h=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*h*(a-h)/a)*(l-a/2<0?-1:1),g=Math.max(e,Math.floor(t-l*h/a+d)),y=Math.min(r,Math.floor(t+(a-l)*h/a+d));uT(n,t,g,y,o)}var b=n[t],S=e,x=r;for(Cc(n,e,t),o(n[r],b)>0&&Cc(n,e,r);S<x;){for(Cc(n,S,x),S++,x--;o(n[S],b)<0;)S++;for(;o(n[x],b)>0;)x--}o(n[e],b)===0?Cc(n,e,x):(x++,Cc(n,x,r)),x<=t&&(e=x+1),t<=x&&(r=x-1)}}function Cc(n,t,e){var r=n[t];n[t]=n[e],n[e]=r}function IR(n,t){return n<t?-1:n>t?1:0}class UR{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let e=this.data;const r=[];if(!jh(t,e))return r;const o=this.toBBox,a=[];for(;e;){for(let l=0;l<e.children.length;l++){const c=e.children[l],h=e.leaf?o(c):c;jh(t,h)&&(e.leaf?r.push(c):Wm(t,h)?this._all(c,r):a.push(c))}e=a.pop()}return r}collides(t){let e=this.data;if(!jh(t,e))return!1;const r=[];for(;e;){for(let o=0;o<e.children.length;o++){const a=e.children[o],l=e.leaf?this.toBBox(a):a;if(jh(t,l)){if(e.leaf||Wm(t,l))return!0;r.push(a)}}e=r.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let r=0;r<t.length;r++)this.insert(t[r]);return this}let e=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=e;else if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const r=this.data;this.data=e,e=r}this._insert(e,this.data.height-e.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=Su([]),this}remove(t,e){if(!t)return this;let r=this.data;const o=this.toBBox(t),a=[],l=[];let c,h,d;for(;r||a.length;){if(r||(r=a.pop(),h=a[a.length-1],c=l.pop(),d=!0),r.leaf){const g=FR(t,r.children,e);if(g!==-1)return r.children.splice(g,1),a.push(r),this._condense(a),this}!d&&!r.leaf&&Wm(r,o)?(a.push(r),l.push(c),c=0,h=r,r=r.children[0]):h?(c++,r=h.children[c],d=!1):r=null}return this}toBBox(t){return t}compareMinX(t,e){return t.minX-e.minX}compareMinY(t,e){return t.minY-e.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,e){const r=[];for(;t;)t.leaf?e.push(...t.children):r.push(...t.children),t=r.pop();return e}_build(t,e,r,o){const a=r-e+1;let l=this._maxEntries,c;if(a<=l)return c=Su(t.slice(e,r+1)),bu(c,this.toBBox),c;o||(o=Math.ceil(Math.log(a)/Math.log(l)),l=Math.ceil(a/Math.pow(l,o-1))),c=Su([]),c.leaf=!1,c.height=o;const h=Math.ceil(a/l),d=h*Math.ceil(Math.sqrt(l));iS(t,e,r,d,this.compareMinX);for(let g=e;g<=r;g+=d){const y=Math.min(g+d-1,r);iS(t,g,y,h,this.compareMinY);for(let b=g;b<=y;b+=h){const S=Math.min(b+h-1,y);c.children.push(this._build(t,b,S,o-1))}}return bu(c,this.toBBox),c}_chooseSubtree(t,e,r,o){for(;o.push(e),!(e.leaf||o.length-1===r);){let a=1/0,l=1/0,c;for(let h=0;h<e.children.length;h++){const d=e.children[h],g=Km(d),y=VR(t,d)-g;y<l?(l=y,a=g<a?g:a,c=d):y===l&&g<a&&(a=g,c=d)}e=c||e.children[0]}return e}_insert(t,e,r){const o=r?t:this.toBBox(t),a=[],l=this._chooseSubtree(o,this.data,e,a);for(l.children.push(t),qc(l,o);e>=0&&a[e].children.length>this._maxEntries;)this._split(a,e),e--;this._adjustParentBBoxes(o,a,e)}_split(t,e){const r=t[e],o=r.children.length,a=this._minEntries;this._chooseSplitAxis(r,a,o);const l=this._chooseSplitIndex(r,a,o),c=Su(r.children.splice(l,r.children.length-l));c.height=r.height,c.leaf=r.leaf,bu(r,this.toBBox),bu(c,this.toBBox),e?t[e-1].children.push(c):this._splitRoot(r,c)}_splitRoot(t,e){this.data=Su([t,e]),this.data.height=t.height+1,this.data.leaf=!1,bu(this.data,this.toBBox)}_chooseSplitIndex(t,e,r){let o,a=1/0,l=1/0;for(let c=e;c<=r-e;c++){const h=Hc(t,0,c,this.toBBox),d=Hc(t,c,r,this.toBBox),g=YR(h,d),y=Km(h)+Km(d);g<a?(a=g,o=c,l=y<l?y:l):g===a&&y<l&&(l=y,o=c)}return o||r-e}_chooseSplitAxis(t,e,r){const o=t.leaf?this.compareMinX:HR,a=t.leaf?this.compareMinY:qR,l=this._allDistMargin(t,e,r,o),c=this._allDistMargin(t,e,r,a);l<c&&t.children.sort(o)}_allDistMargin(t,e,r,o){t.children.sort(o);const a=this.toBBox,l=Hc(t,0,e,a),c=Hc(t,r-e,r,a);let h=Dh(l)+Dh(c);for(let d=e;d<r-e;d++){const g=t.children[d];qc(l,t.leaf?a(g):g),h+=Dh(l)}for(let d=r-e-1;d>=e;d--){const g=t.children[d];qc(c,t.leaf?a(g):g),h+=Dh(c)}return h}_adjustParentBBoxes(t,e,r){for(let o=r;o>=0;o--)qc(e[o],t)}_condense(t){for(let e=t.length-1,r;e>=0;e--)t[e].children.length===0?e>0?(r=t[e-1].children,r.splice(r.indexOf(t[e]),1)):this.clear():bu(t[e],this.toBBox)}}function FR(n,t,e){if(!e)return t.indexOf(n);for(let r=0;r<t.length;r++)if(e(n,t[r]))return r;return-1}function bu(n,t){Hc(n,0,n.children.length,t,n)}function Hc(n,t,e,r,o){o||(o=Su(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(let a=t;a<e;a++){const l=n.children[a];qc(o,n.leaf?r(l):l)}return o}function qc(n,t){return n.minX=Math.min(n.minX,t.minX),n.minY=Math.min(n.minY,t.minY),n.maxX=Math.max(n.maxX,t.maxX),n.maxY=Math.max(n.maxY,t.maxY),n}function HR(n,t){return n.minX-t.minX}function qR(n,t){return n.minY-t.minY}function Km(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function Dh(n){return n.maxX-n.minX+(n.maxY-n.minY)}function VR(n,t){return(Math.max(t.maxX,n.maxX)-Math.min(t.minX,n.minX))*(Math.max(t.maxY,n.maxY)-Math.min(t.minY,n.minY))}function YR(n,t){const e=Math.max(n.minX,t.minX),r=Math.max(n.minY,t.minY),o=Math.min(n.maxX,t.maxX),a=Math.min(n.maxY,t.maxY);return Math.max(0,o-e)*Math.max(0,a-r)}function Wm(n,t){return n.minX<=t.minX&&n.minY<=t.minY&&t.maxX<=n.maxX&&t.maxY<=n.maxY}function jh(n,t){return t.minX<=n.maxX&&t.minY<=n.maxY&&t.maxX>=n.minX&&t.maxY>=n.minY}function Su(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function iS(n,t,e,r,o){const a=[t,e];for(;a.length;){if(e=a.pop(),t=a.pop(),e-t<=r)continue;const l=t+Math.ceil((e-t)/r/2)*r;BR(n,l,t,e,o),a.push(t,l,l,e)}}function ZR(n){let t=0,e=0;for(const c of n)t+=c.w*c.h,e=Math.max(e,c.w);n.sort((c,h)=>h.h-c.h);const o=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),e),h:1/0}];let a=0,l=0;for(const c of n)for(let h=o.length-1;h>=0;h--){const d=o[h];if(!(c.w>d.w||c.h>d.h)){if(c.x=d.x,c.y=d.y,l=Math.max(l,c.y+c.h),a=Math.max(a,c.x+c.w),c.w===d.w&&c.h===d.h){const g=o.pop();h<o.length&&(o[h]=g)}else c.h===d.h?(d.x+=c.w,d.w-=c.w):c.w===d.w?(d.y+=c.h,d.h-=c.h):(o.push({x:d.x+c.w,y:d.y,w:d.w-c.w,h:c.h}),d.y+=c.h,d.h-=c.h);break}}return{w:a,h:l,fill:t/(a*l)||0}}var KR=Object.defineProperty,Sr=Math.pow,te=(n,t)=>KR(n,"name",{value:t,configurable:!0}),xo=(n,t,e)=>new Promise((r,o)=>{var a=h=>{try{c(e.next(h))}catch(d){o(d)}},l=h=>{try{c(e.throw(h))}catch(d){o(d)}},c=h=>h.done?r(h.value):Promise.resolve(h.value).then(a,l);c((e=e.apply(n,t)).next())}),cT=class{constructor(t,e){this.str=t??e,this.perFeature=typeof this.str=="function"&&this.str.length===2}get(t,e){return typeof this.str=="function"?this.str(t,e):this.str}};te(cT,"StringAttr");var Fr=cT,fT=class{constructor(t,e=1){this.value=t??e,this.perFeature=typeof this.value=="function"&&this.value.length===2}get(t,e){return typeof this.value=="function"?this.value(t,e):this.value}};te(fT,"NumberAttr");var ui=fT,hT=class{constructor(t){var e;this.labelProps=(e=t?.labelProps)!=null?e:["name"],this.textTransform=t?.textTransform}get(t,e){let r,o;typeof this.labelProps=="function"?o=this.labelProps(t,e):o=this.labelProps;for(let l of o)if(Object.prototype.hasOwnProperty.call(e.props,l)&&typeof e.props[l]=="string"){r=e.props[l];break}let a;return typeof this.textTransform=="function"?a=this.textTransform(t,e):a=this.textTransform,r&&a==="uppercase"?r=r.toUpperCase():r&&a==="lowercase"?r=r.toLowerCase():r&&a==="capitalize"&&(r=r.toLowerCase().split(" ").map(l=>l[0].toUpperCase()+l.slice(1)).join(" ")),r}};te(hT,"TextAttr");var W_=hT,dT=class{constructor(t){var e,r;t!=null&&t.font?this.font=t.font:(this.family=(e=t?.fontFamily)!=null?e:"sans-serif",this.size=(r=t?.fontSize)!=null?r:12,this.weight=t?.fontWeight,this.style=t?.fontStyle)}get(t,e){if(this.font)return typeof this.font=="function"?this.font(t,e):this.font;let r="";this.style&&(typeof this.style=="function"?r=`${this.style(t,e)} `:r=`${this.style} `);let o="";this.weight&&(typeof this.weight=="function"?o=`${this.weight(t,e)} `:o=`${this.weight} `);let a;typeof this.size=="function"?a=this.size(t,e):a=this.size;let l;return typeof this.family=="function"?l=this.family(t,e):l=this.family,`${r}${o}${a}px ${l}`}};te(dT,"FontAttr");var X_=dT,pT=class{constructor(t,e=[]){this.value=t??e,this.perFeature=typeof this.value=="function"&&this.value.length===2}get(t,e){return typeof this.value=="function"?this.value(t,e):this.value}};te(pT,"ArrayAttr");var WR=pT,XR=te((n,t,e)=>{let r=[],o,a,l,c=0,h=0,d=0,g=0,y=0,b=0,S=0,x=0,E=0,k=0,C=0,M=0;if(n.length<2)return[];if(n.length===2)return d=Math.sqrt(Sr(n[1].x-n[0].x,2)+Sr(n[1].y-n[0].y,2)),[{length:d,beginIndex:0,beginDistance:0,endIndex:2,endDistance:d}];for(g=Math.sqrt(Sr(n[1].x-n[0].x,2)+Sr(n[1].y-n[0].y,2)),c=1,h=n.length-1;c<h;c++)o=n[c-1],a=n[c],l=n[c+1],b=a.x-o.x,S=a.y-o.y,x=l.x-a.x,E=l.y-a.y,y=Math.sqrt(x*x+E*E),d+=g,k=Math.acos((b*x+S*E)/(g*y)),(k>t||d-M>e)&&(r.push({length:d-M,beginDistance:M,beginIndex:C,endIndex:c+1,endDistance:d}),C=c,M=d),g=y;return c-C>0&&r.push({length:d-M+y,beginIndex:C,beginDistance:M,endIndex:c+1,endDistance:d+y}),r},"linelabel");function mT(n,t,e,r){let o=[];for(let a of n){let l=XR(a,Math.PI/45,t);for(let c of l)if(c.length>=t+r){let h=new Je(a[c.beginIndex].x,a[c.beginIndex].y),d=a[c.endIndex-1],g=new Je((d.x-h.x)/c.length,(d.y-h.y)/c.length);for(let y=r;y<c.length-t;y+=e)o.push({start:h.add(g.mult(y)),end:h.add(g.mult(y+t))})}}return o}te(mT,"simpleLabel");function gT(n,t,e,r){let o=t.x-n.x,a=t.y-n.y,l=Math.sqrt(Sr(t.x-n.x,2)+Sr(t.y-n.y,2)),c=[];for(let h=0;h<e+r;h+=2*r){let d=h*1/l;c.push({x:n.x+d*o,y:n.y+d*a})}return c}te(gT,"lineCells");function G_(n,t){if(n.length<=t)return[n];let e=t-1,r=n.lastIndexOf(" ",e),o=n.indexOf(" ",e);if(r===-1&&o===-1)return[n];let a,l;return o===-1||r>=0&&e-r<o-e?(a=n.substring(0,r),l=n.substring(r+1,n.length)):(a=n.substring(0,o),l=n.substring(o+1,n.length)),[a,...G_(l,t)]}te(G_,"linebreak");var GR=(n=>(n[n.Point=1]="Point",n[n.Line=2]="Line",n[n.Polygon=3]="Polygon",n))(GR||{});function Xa(n){return`${n.x}:${n.y}:${n.z}`}te(Xa,"toIndex");var $R=te((n,t,e)=>{n.pos=t;let r=n.readVarint()+n.pos,o=1,a=0,l=0,c=0,h=1/0,d=-1/0,g=1/0,y=-1/0,b=[],S=[];for(;n.pos<r;){if(a<=0){let x=n.readVarint();o=x&7,a=x>>3}if(a--,o===1||o===2)l+=n.readSVarint()*e,c+=n.readSVarint()*e,l<h&&(h=l),l>d&&(d=l),c<g&&(g=c),c>y&&(y=c),o===1&&(S.length>0&&b.push(S),S=[]),S.push(new Je(l,c));else if(o===7)S&&S.push(S[0].clone());else throw new Error(`unknown command ${o}`)}return S&&b.push(S),{geom:b,bbox:{minX:h,minY:g,maxX:d,maxY:y}}},"loadGeomAndBbox");function $_(n,t){let e=new DP(new RP(n)),r=new Map;for(let[o,a]of Object.entries(e.layers)){let l=[],c=a;for(let h=0;h<c.length;h++){let d=$R(c.feature(h)._pbf,c.feature(h)._geometry,t/c.extent),g=0;for(let y of d.geom)g+=y.length;l.push({id:c.feature(h).id,geomType:c.feature(h).type,geom:d.geom,numVertices:g,bbox:d.bbox,props:c.feature(h).properties})}r.set(o,l)}return r}te($_,"parseTile");var yT=class{constructor(t,e){typeof t=="string"?this.p=new zR(t):this.p=t,this.zoomaborts=[],this.shouldCancelZooms=e}get(t,e){return xo(this,null,function*(){this.shouldCancelZooms&&(this.zoomaborts=this.zoomaborts.filter(l=>l.z!==t.z?(l.controller.abort(),!1):!0));let r=new AbortController;this.zoomaborts.push({z:t.z,controller:r});let o=r.signal,a=yield this.p.getZxy(t.z,t.x,t.y,o);return a?$_(a.data,e):new Map})}};te(yT,"PmtilesSource");var rS=yT,_T=class{constructor(t,e){this.url=t,this.zoomaborts=[],this.shouldCancelZooms=e}get(t,e){return xo(this,null,function*(){this.shouldCancelZooms&&(this.zoomaborts=this.zoomaborts.filter(l=>l.z!==t.z?(l.controller.abort(),!1):!0));let r=this.url.replace("{z}",t.z.toString()).replace("{x}",t.x.toString()).replace("{y}",t.y.toString()),o=new AbortController;this.zoomaborts.push({z:t.z,controller:o});let a=o.signal;return new Promise((l,c)=>{fetch(r,{signal:a}).then(h=>h.arrayBuffer()).then(h=>{let d=$_(h,e);l(d)}).catch(h=>{c(h)})})})}};te(_T,"ZxySource");var QR=_T,a_=6378137,oS=85.0511287798,Ph=a_*Math.PI,JR=te(n=>{let t=Math.PI/180,e=Math.max(Math.min(oS,n[0]),-oS),r=Math.sin(e*t);return new Je(a_*n[1]*t,a_*Math.log((1+r)/(1-r))/2)},"project");function l_(n){return n*n}te(l_,"sqr");function Jc(n,t){return l_(n.x-t.x)+l_(n.y-t.y)}te(Jc,"dist2");function bT(n,t,e){let r=Jc(t,e);if(r===0)return Jc(n,t);let o=((n.x-t.x)*(e.x-t.x)+(n.y-t.y)*(e.y-t.y))/r;return o=Math.max(0,Math.min(1,o)),Jc(n,new Je(t.x+o*(e.x-t.x),t.y+o*(e.y-t.y)))}te(bT,"distToSegmentSquared");function u_(n,t){let e=!1;for(let r=0,o=t.length-1;r<t.length;o=r++){let a=t[r].x,l=t[r].y,c=t[o].x,h=t[o].y;l>n.y!=h>n.y&&n.x<(c-a)*(n.y-l)/(h-l)+a&&(e=!e)}return e}te(u_,"isInRing");function vT(n){let t=0;for(let e=0;e<n.length;e++){let r=(e+1)%n.length;t+=n[e].x*n[r].y,t-=n[r].x*n[e].y}return t<0}te(vT,"isCcw");function wT(n,t){let e=!1;for(let r of t)if(vT(r))u_(n,r)&&(e=!1);else{if(e)return!0;u_(n,r)&&(e=!0)}return e}te(wT,"pointInPolygon");function xT(n,t){let e=1/0;for(let r of t){let o=Math.sqrt(Jc(n,r[0]));o<e&&(e=o)}return e}te(xT,"pointMinDistToPoints");function ST(n,t){let e=1/0;for(let r of t)for(let o=0;o<r.length-1;o++){let a=Math.sqrt(bT(n,r[o],r[o+1]));a<e&&(e=a)}return e}te(ST,"pointMinDistToLines");var ET=class{constructor(t,e){this.source=t,this.cache=new Map,this.inflight=new Map,this.tileSize=e}get(t){return xo(this,null,function*(){let e=Xa(t);return new Promise((r,o)=>{let a=this.cache.get(e);if(a)a.used=performance.now(),r(a.data);else{let l=this.inflight.get(e);l?l.push({resolve:r,reject:o}):(this.inflight.set(e,[]),this.source.get(t,this.tileSize).then(c=>{this.cache.set(e,{used:performance.now(),data:c});let h=this.inflight.get(e);if(h)for(let d of h)d.resolve(c);if(this.inflight.delete(e),r(c),this.cache.size>=64){let d=1/0,g;this.cache.forEach((y,b)=>{y.used<d&&(d=y.used,g=b)}),g&&this.cache.delete(g)}}).catch(c=>{let h=this.inflight.get(e);if(h)for(let d of h)d.reject(c);this.inflight.delete(e),o(c)}))}})})}queryFeatures(t,e,r,o){let a=JR([e,t]),l=new Je((a.x+Ph)/(Ph*2),1-(a.y+Ph)/(Ph*2));l.x>1&&(l.x=l.x-Math.floor(l.x));let c=l.mult(1<<r),h=Math.floor(c.x),d=Math.floor(c.y),g=Xa({z:r,x:h,y:d}),y=[],b=this.cache.get(g);if(b){let S=new Je((c.x-h)*this.tileSize,(c.y-d)*this.tileSize);for(let[x,E]of b.data.entries())for(let k of E)k.geomType===1?xT(S,k.geom)<o&&y.push({feature:k,layerName:x}):k.geomType===2?ST(S,k.geom)<o&&y.push({feature:k,layerName:x}):wT(S,k.geom)&&y.push({feature:k,layerName:x})}return y}};te(ET,"TileCache");var tz=ET,ez=(n=>(n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=3]="Right",n))(ez||{}),nz=(n=>(n[n.N=1]="N",n[n.Ne=2]="Ne",n[n.E=3]="E",n[n.Se=4]="Se",n[n.S=5]="S",n[n.Sw=6]="Sw",n[n.W=7]="W",n[n.Nw=8]="Nw",n))(nz||{});te((n,t,e)=>{let r=document.createElement("canvas"),o=r.getContext("2d");return r.width=n,r.height=t,o!==null&&e(r,o),r},"createPattern");var TT=class{constructor(t){var e;this.pattern=t.pattern,this.fill=new Fr(t.fill,"black"),this.opacity=new ui(t.opacity,1),this.stroke=new Fr(t.stroke,"black"),this.width=new ui(t.width,0),this.perFeature=(e=this.fill.perFeature||this.opacity.perFeature||this.stroke.perFeature||this.width.perFeature||t.perFeature)!=null?e:!1,this.doStroke=!1}before(t,e){if(!this.perFeature){t.globalAlpha=this.opacity.get(e),t.fillStyle=this.fill.get(e),t.strokeStyle=this.stroke.get(e);let r=this.width.get(e);r>0&&(this.doStroke=!0),t.lineWidth=r}if(this.pattern){let r=t.createPattern(this.pattern,"repeat");r&&(t.fillStyle=r)}}draw(t,e,r,o){let a=!1;if(this.perFeature){t.globalAlpha=this.opacity.get(r,o),t.fillStyle=this.fill.get(r,o);let c=this.width.get(r,o);c&&(a=!0,t.strokeStyle=this.stroke.get(r,o),t.lineWidth=c)}let l=te(()=>{t.fill(),(a||this.doStroke)&&t.stroke()},"drawPath");t.beginPath();for(let c of e)for(let h=0;h<c.length;h++){let d=c[h];h===0?t.moveTo(d.x,d.y):t.lineTo(d.x,d.y)}l()}};te(TT,"PolygonSymbolizer");var Ti=TT;function iz(n,t){return e=>{let r=e-n;return r>=0&&r<t.length?t[r]:0}}te(iz,"arr");function AT(n,t){let e=0;for(;t[e+1][0]<n;)e++;return e}te(AT,"getStopIndex");function kT(n,t,e){return n*(e-t)+t}te(kT,"interpolate");function MT(n,t,e,r){let o=r[t+1][0]-r[t][0],a=n-r[t][0];return o===0?0:e===1?a/o:(Sr(e,a)-1)/(Sr(e,o)-1)}te(MT,"computeInterpolationFactor");function Fo(n,t){return e=>{if(t.length<1)return 0;if(e<=t[0][0])return t[0][1];if(e>=t[t.length-1][0])return t[t.length-1][1];let r=AT(e,t),o=MT(e,r,n,t);return kT(o,t[r][1],t[r+1][1])}}te(Fo,"exp");function rz(n,t){return e=>{if(t.length<1)return 0;let r=n;for(let o=0;o<t.length;o++)e>=t[o][0]&&(r=t[o][1]);return r}}te(rz,"step");function c_(n){return Fo(1,n)}te(c_,"linear");var OT=class{constructor(t){var e;this.color=new Fr(t.color,"black"),this.width=new ui(t.width),this.opacity=new ui(t.opacity),this.dash=t.dash?new WR(t.dash):null,this.dashColor=new Fr(t.dashColor,"black"),this.dashWidth=new ui(t.dashWidth,1),this.lineCap=new Fr(t.lineCap,"butt"),this.lineJoin=new Fr(t.lineJoin,"miter"),this.skip=!1,this.perFeature=!!((e=this.dash)!=null&&e.perFeature||this.color.perFeature||this.opacity.perFeature||this.width.perFeature||this.lineCap.perFeature||this.lineJoin.perFeature||t.perFeature)}before(t,e){this.perFeature||(t.strokeStyle=this.color.get(e),t.lineWidth=this.width.get(e),t.globalAlpha=this.opacity.get(e),t.lineCap=this.lineCap.get(e),t.lineJoin=this.lineJoin.get(e))}draw(t,e,r,o){if(this.skip)return;let a=te(()=>{this.perFeature&&(t.globalAlpha=this.opacity.get(r,o),t.lineCap=this.lineCap.get(r,o),t.lineJoin=this.lineJoin.get(r,o)),this.dash?(t.save(),this.perFeature?(t.lineWidth=this.dashWidth.get(r,o),t.strokeStyle=this.dashColor.get(r,o),t.setLineDash(this.dash.get(r,o))):t.setLineDash(this.dash.get(r)),t.stroke(),t.restore()):(t.save(),this.perFeature&&(t.lineWidth=this.width.get(r,o),t.strokeStyle=this.color.get(r,o)),t.stroke(),t.restore())},"strokePath");t.beginPath();for(let l of e)for(let c=0;c<l.length;c++){let h=l[c];c===0?t.moveTo(h.x,h.y):t.lineTo(h.x,h.y)}a()}};te(OT,"LineSymbolizer");var wo=OT,oz=class{constructor(t){this.name=t.name,this.sheet=t.sheet,this.dpr=window.devicePixelRatio}place(t,e,r){e[0];let o=new Je(e[0][0].x,e[0][0].y),a=this.sheet.get(this.name),l=a.w/this.dpr,c=a.h/this.dpr,h={minX:o.x-l/2,minY:o.y-c/2,maxX:o.x+l/2,maxY:o.y+c/2};return[{anchor:o,bboxes:[h],draw:te(d=>{d.globalAlpha=1,d.drawImage(this.sheet.canvas,a.x,a.y,a.w,a.h,-a.w/2/this.dpr,-a.h/2/this.dpr,a.w/2,a.h/2)},"draw")}]}};te(oz,"IconSymbolizer");var CT=class{constructor(t){this.radius=new ui(t.radius,3),this.fill=new Fr(t.fill,"black"),this.stroke=new Fr(t.stroke,"white"),this.width=new ui(t.width,0),this.opacity=new ui(t.opacity)}draw(t,e,r,o){t.globalAlpha=this.opacity.get(r,o);let a=this.radius.get(r,o),l=this.width.get(r,o);l>0&&(t.strokeStyle=this.stroke.get(r,o),t.lineWidth=l,t.beginPath(),t.arc(e[0][0].x,e[0][0].y,a+l/2,0,2*Math.PI),t.stroke()),t.fillStyle=this.fill.get(r,o),t.beginPath(),t.arc(e[0][0].x,e[0][0].y,a,0,2*Math.PI),t.fill()}place(t,e,r){e[0];let o=new Je(e[0][0].x,e[0][0].y),a=this.radius.get(t.zoom,r),l={minX:o.x-a,minY:o.y-a,maxX:o.x+a,maxY:o.y+a};return[{anchor:o,bboxes:[l],draw:te(c=>{this.draw(c,[[new Je(0,0)]],t.zoom,r)},"draw")}]}};te(CT,"CircleSymbolizer");var sz=CT,az=class{constructor(t){this.font=new X_(t),this.text=new W_(t),this.fill=new Fr(t.fill,"black"),this.background=new Fr(t.background,"white"),this.padding=new ui(t.padding,0)}place(t,e,r){let o=this.text.get(t.zoom,r);if(!o)return;let a=this.font.get(t.zoom,r);t.scratch.font=a;let l=t.scratch.measureText(o),c=l.width,h=l.actualBoundingBoxAscent,d=l.actualBoundingBoxDescent;e[0];let g=new Je(e[0][0].x,e[0][0].y),y=this.padding.get(t.zoom,r),b={minX:g.x-c/2-y,minY:g.y-h-y,maxX:g.x+c/2+y,maxY:g.y+d+y};return[{anchor:g,bboxes:[b],draw:te(S=>{S.globalAlpha=1,S.fillStyle=this.background.get(t.zoom,r),S.fillRect(-c/2-y,-h-y,c+2*y,h+d+2*y),S.fillStyle=this.fill.get(t.zoom,r),S.font=a,S.fillText(o,-c/2,0)},"draw")}]}};te(az,"ShieldSymbolizer");var lz=class{constructor(t){this.list=t}place(t,e,r){let o=this.list[0].place(t,e,r);if(!o)return;let a=o[0],l=a.anchor,c=a.bboxes[0],h=c.maxY-c.minY,d=[{draw:a.draw,translate:{x:0,y:0}}],g=[[new Je(e[0][0].x,e[0][0].y+h)]];for(let y=1;y<this.list.length;y++)o=this.list[y].place(t,g,r),o&&(a=o[0],c=LT(c,a.bboxes[0]),d.push({draw:a.draw,translate:{x:0,y:h}}));return[{anchor:l,bboxes:[c],draw:te(y=>{for(let b of d)y.save(),y.translate(b.translate.x,b.translate.y),b.draw(y),y.restore()},"draw")}]}};te(lz,"FlexSymbolizer");var LT=te((n,t)=>({minX:Math.min(n.minX,t.minX),minY:Math.min(n.minY,t.minY),maxX:Math.max(n.maxX,t.maxX),maxY:Math.max(n.maxY,t.maxY)}),"mergeBbox"),NT=class{constructor(t){this.list=t}place(t,e,r){let o=this.list[0];if(!o)return;let a=o.place(t,e,r);if(!a)return;let l=a[0],c=l.anchor,h=l.bboxes[0],d=[l.draw];for(let g=1;g<this.list.length;g++){if(a=this.list[g].place(t,e,r),!a)return;l=a[0],h=LT(h,l.bboxes[0]),d.push(l.draw)}return[{anchor:c,bboxes:[h],draw:te(g=>{for(let y of d)y(g)},"draw")}]}};te(NT,"GroupSymbolizer");var uz=NT,DT=class{constructor(t){this.symbolizer=t}place(t,e,r){let o=e[0][0],a=this.symbolizer.place(t,[[new Je(0,0)]],r);if(!a||a.length===0)return;let l=a[0],c=l.bboxes[0],h=c.maxX-c.minX,d=c.maxY-c.minY,g={minX:o.x-h/2,maxX:o.x+h/2,minY:o.y-d/2,maxY:o.y+d/2};return[{anchor:o,bboxes:[g],draw:te(y=>{y.translate(-h/2,d/2-c.maxY),l.draw(y,{justify:2})},"draw")}]}};te(DT,"CenteredSymbolizer");var cz=DT,fz=class{constructor(t,e){this.padding=new ui(t,0),this.symbolizer=e}place(t,e,r){let o=this.symbolizer.place(t,e,r);if(!o||o.length===0)return;let a=this.padding.get(t.zoom,r);for(let l of o)for(let c of l.bboxes)c.minX-=a,c.minY-=a,c.maxX+=a,c.maxY+=a;return o}};te(fz,"Padding");var jT=class{constructor(t){this.font=new X_(t),this.text=new W_(t),this.fill=new Fr(t.fill,"black"),this.stroke=new Fr(t.stroke,"black"),this.width=new ui(t.width,0),this.lineHeight=new ui(t.lineHeight,1),this.letterSpacing=new ui(t.letterSpacing,0),this.maxLineCodeUnits=new ui(t.maxLineChars,15),this.justify=t.justify}place(t,e,r){let o=this.text.get(t.zoom,r);if(!o)return;let a=this.font.get(t.zoom,r);t.scratch.font=a;let l=this.letterSpacing.get(t.zoom,r),c=G_(o,this.maxLineCodeUnits.get(t.zoom,r)),h="",d=0;for(let C of c)C.length>d&&(d=C.length,h=C);let g=t.scratch.measureText(h),y=g.width+l*(d-1),b=g.actualBoundingBoxAscent,S=g.actualBoundingBoxDescent,x=(b+S)*this.lineHeight.get(t.zoom,r),E=new Je(e[0][0].x,e[0][0].y),k={minX:E.x,minY:E.y-b,maxX:E.x+y,maxY:E.y+S+(c.length-1)*x};return[{anchor:E,bboxes:[k],draw:te((C,M)=>{C.globalAlpha=1,C.font=a,C.fillStyle=this.fill.get(t.zoom,r);let P=this.width.get(t.zoom,r),z=0;for(let D of c){let B=0;if(this.justify===2||M&&M.justify===2?B=(y-C.measureText(D).width)/2:(this.justify===3||M&&M.justify===3)&&(B=y-C.measureText(D).width),P)if(C.lineWidth=P*2,C.strokeStyle=this.stroke.get(t.zoom,r),l>0){let R=B;for(let V of D)C.strokeText(V,R,z),R+=C.measureText(V).width+l}else C.strokeText(D,B,z);if(l>0){let R=B;for(let V of D)C.fillText(V,R,z),R+=C.measureText(V).width+l}else C.fillText(D,B,z);z+=x}},"draw")}]}};te(jT,"TextSymbolizer");var PT=jT,RT=class{constructor(t){this.centered=new cz(new PT(t))}place(t,e,r){return this.centered.place(t,e,r)}};te(RT,"CenteredTextSymbolizer");var Lc=RT,zT=class{constructor(t,e){var r,o,a;this.symbolizer=t,this.offsetX=new ui(e.offsetX,0),this.offsetY=new ui(e.offsetY,0),this.justify=(r=e.justify)!=null?r:void 0,this.placements=(o=e.placements)!=null?o:[2,6,8,4,1,3,5,7],this.ddValues=(a=e.ddValues)!=null?a:()=>({})}place(t,e,r){if(r.geomType!==1)return;let o=e[0][0],a=this.symbolizer.place(t,[[new Je(0,0)]],r);if(!a||a.length===0)return;let l=a[0],c=l.bboxes[0],h=this.offsetX,d=this.offsetY,g=this.justify,y=this.placements,{offsetX:b,offsetY:S,justify:x,placements:E}=this.ddValues(t.zoom,r)||{};b&&(h=new ui(b,0)),S&&(d=new ui(S,0)),x&&(g=x),E&&(y=E);let k=h.get(t.zoom,r),C=d.get(t.zoom,r),M=te((R,V)=>({minX:R.x+V.x+c.minX,minY:R.y+V.y+c.minY,maxX:R.x+V.x+c.maxX,maxY:R.y+V.y+c.maxY}),"getBbox"),P=new Je(k,C),z,D=te(R=>{R.translate(P.x,P.y),l.draw(R,{justify:z})},"draw"),B=te((R,V)=>{let J=M(R,V);if(!t.index.bboxCollides(J,t.order))return[{anchor:o,bboxes:[J],draw:D}]},"placeLabelInPoint");for(let R of y){let V=this.computeXaxisOffset(k,c,R),J=this.computeYaxisOffset(C,c,R);return z=this.computeJustify(g,R),P=new Je(V,J),B(o,P)}}computeXaxisOffset(t,e,r){let o=e.maxX,a=o/2;return[1,5].includes(r)?t-a:[8,7,6].includes(r)?t-o:t}computeYaxisOffset(t,e,r){let o=Math.abs(e.minY),a=e.maxY,l=(e.minY+e.maxY)/2;return[3,7].includes(r)?t-l:[8,2,1].includes(r)?t-a:[6,4,5].includes(r)?t+o:t}computeJustify(t,e){return t||([1,5].includes(e)?2:[2,3,4].includes(e)?1:3)}};te(zT,"OffsetSymbolizer");var hz=zT,BT=class{constructor(t){this.symbolizer=new hz(new PT(t),t)}place(t,e,r){return this.symbolizer.place(t,e,r)}};te(BT,"OffsetTextSymbolizer");var dz=BT,pz=(n=>(n[n.Above=1]="Above",n[n.Center=2]="Center",n[n.Below=3]="Below",n))(pz||{}),IT=class{constructor(t){var e;this.font=new X_(t),this.text=new W_(t),this.fill=new Fr(t.fill,"black"),this.stroke=new Fr(t.stroke,"black"),this.width=new ui(t.width,0),this.offset=new ui(t.offset,0),this.position=(e=t.position)!=null?e:1,this.maxLabelCodeUnits=new ui(t.maxLabelChars,40),this.repeatDistance=new ui(t.repeatDistance,250)}place(t,e,r){let o=this.text.get(t.zoom,r);if(!o||o.length>this.maxLabelCodeUnits.get(t.zoom,r))return;let a=20,l=r.bbox;if(l.maxY-l.minY<a&&l.maxX-l.minX<a)return;let c=this.font.get(t.zoom,r);t.scratch.font=c;let h=t.scratch.measureText(o),d=h.width,g=h.actualBoundingBoxAscent+h.actualBoundingBoxDescent,y=this.repeatDistance.get(t.zoom,r);t.overzoom>4&&(y*=1<<t.overzoom-4);let b=g*2,S=mT(e,d,y,b);if(S.length===0)return;let x=[];for(let E of S){let k=E.end.x-E.start.x,C=E.end.y-E.start.y,M=gT(E.start,E.end,d,b/2).map(z=>({minX:z.x-b/2,minY:z.y-b/2,maxX:z.x+b/2,maxY:z.y+b/2})),P=te(z=>{z.globalAlpha=1,z.rotate(Math.atan2(C,k)),k<0&&(z.scale(-1,-1),z.translate(-d,0));let D=0;this.position===3?D+=g:this.position===2&&(D+=g/2),z.translate(0,D-this.offset.get(t.zoom,r)),z.font=c;let B=this.width.get(t.zoom,r);B&&(z.lineWidth=B,z.strokeStyle=this.stroke.get(t.zoom,r),z.strokeText(o,0,0)),z.fillStyle=this.fill.get(t.zoom,r),z.fillText(o,0,0)},"draw");x.push({anchor:E.start,bboxes:M,draw:P,deduplicationKey:o,deduplicationDistance:y})}return x}};te(IT,"LineLabelSymbolizer");var Xm=IT,Br=te((n,t)=>{let e=n[t];return typeof e=="string"?e:""},"getString"),sS=te((n,t)=>{let e=n[t];return typeof e=="number"?e:0},"getNumber"),UT=te(n=>[{dataLayer:"earth",symbolizer:new Ti({fill:n.earth})},...n.landcover?[{dataLayer:"landcover",symbolizer:new Ti({fill:te((t,e)=>{let r=n.landcover;if(!r||!e)return"";let o=Br(e.props,"kind");return o==="grassland"?r.grassland:o==="barren"?r.barren:o==="urban_area"?r.urban_area:o==="farmland"?r.farmland:o==="glacier"?r.glacier:o==="scrub"?r.scrub:r.forest},"fill"),opacity:te((t,e)=>t===8?.5:1,"opacity")})}]:[],{dataLayer:"landuse",symbolizer:new Ti({fill:te((t,e)=>qm(n.park_a,n.park_b,Math.min(Math.max(t/12,12),0)),"fill")}),filter:te((t,e)=>{let r=Br(e.props,"kind");return["allotments","village_green","playground"].includes(r)},"filter")},{dataLayer:"landuse",symbolizer:new Ti({fill:n.park_b,opacity:te((t,e)=>t<8?0:t===8?.5:1,"opacity")}),filter:te((t,e)=>{let r=Br(e.props,"kind");return["national_park","park","cemetery","protected_area","nature_reserve","forest","golf_course"].includes(r)},"filter")},{dataLayer:"landuse",symbolizer:new Ti({fill:n.hospital}),filter:te((t,e)=>e.props.kind==="hospital","filter")},{dataLayer:"landuse",symbolizer:new Ti({fill:n.industrial}),filter:te((t,e)=>e.props.kind==="industrial","filter")},{dataLayer:"landuse",symbolizer:new Ti({fill:n.school}),filter:te((t,e)=>{let r=Br(e.props,"kind");return["school","university","college"].includes(r)},"filter")},{dataLayer:"landuse",symbolizer:new Ti({fill:n.beach}),filter:te((t,e)=>e.props.kind==="beach","filter")},{dataLayer:"landuse",symbolizer:new Ti({fill:n.zoo}),filter:te((t,e)=>e.props.kind==="zoo","filter")},{dataLayer:"landuse",symbolizer:new Ti({fill:n.zoo}),filter:te((t,e)=>{let r=Br(e.props,"kind");return["military","naval_base","airfield"].includes(r)},"filter")},{dataLayer:"landuse",symbolizer:new Ti({fill:te((t,e)=>qm(n.wood_a,n.wood_b,Math.min(Math.max(t/12,12),0)),"fill"),opacity:te((t,e)=>t<8?0:t===8?.5:1,"opacity")}),filter:te((t,e)=>{let r=Br(e.props,"kind");return["wood","nature_reserve","forest"].includes(r)},"filter")},{dataLayer:"landuse",symbolizer:new Ti({fill:te((t,e)=>qm(n.scrub_a,n.scrub_b,Math.min(Math.max(t/12,12),0)),"fill")}),filter:te((t,e)=>{let r=Br(e.props,"kind");return["scrub","grassland","grass"].includes(r)},"filter")},{dataLayer:"landuse",symbolizer:new Ti({fill:n.scrub_b}),filter:te((t,e)=>{let r=Br(e.props,"kind");return["scrub","grassland","grass"].includes(r)},"filter")},{dataLayer:"landuse",symbolizer:new Ti({fill:n.glacier}),filter:te((t,e)=>e.props.kind==="glacier","filter")},{dataLayer:"landuse",symbolizer:new Ti({fill:n.sand,opacity:te((t,e)=>t<8?0:t===8?.5:1,"opacity")}),filter:te((t,e)=>e.props.kind==="sand","filter")},{dataLayer:"landuse",symbolizer:new Ti({fill:n.aerodrome}),filter:te((t,e)=>e.props.kind==="aerodrome","filter")},{dataLayer:"water",symbolizer:new Ti({fill:n.water}),filter:te((t,e)=>e.geomType===3,"filter")},{dataLayer:"roads",symbolizer:new wo({color:n.runway,width:te((t,e)=>Fo(1.6,[[11,0],[13,4],[19,30]])(t),"width")}),filter:te((t,e)=>e.props.kind_detail==="runway","filter")},{dataLayer:"roads",symbolizer:new wo({color:n.runway,width:te((t,e)=>Fo(1.6,[[14,0],[14.5,1],[16,6]])(t),"width")}),filter:te((t,e)=>e.props.kind_detail==="taxiway","filter")},{dataLayer:"roads",symbolizer:new wo({color:n.pier,width:te((t,e)=>Fo(1.6,[[13,0],[13.5,0,5],[21,16]])(t),"width")}),filter:te((t,e)=>e.props.kind==="path"&&e.props.kind_detail==="pier","filter")},{dataLayer:"water",minzoom:14,symbolizer:new wo({color:n.water,width:te((t,e)=>Fo(1.6,[[9,0],[9.5,1],[18,12]])(t),"width")}),filter:te((t,e)=>e.geomType===2&&e.props.kind==="river","filter")},{dataLayer:"water",minzoom:14,symbolizer:new wo({color:n.water,width:.5}),filter:te((t,e)=>e.geomType===2&&e.props.kind==="stream","filter")},{dataLayer:"landuse",symbolizer:new Ti({fill:n.pedestrian}),filter:te((t,e)=>e.props.kind==="pedestrian","filter")},{dataLayer:"landuse",symbolizer:new Ti({fill:n.pier}),filter:te((t,e)=>e.props.kind==="pier","filter")},{dataLayer:"buildings",symbolizer:new Ti({fill:n.buildings,opacity:.5})},{dataLayer:"roads",symbolizer:new wo({color:n.major,width:te((t,e)=>Fo(1.6,[[14,0],[20,7]])(t),"width")}),filter:te((t,e)=>{let r=Br(e.props,"kind");return["other","path"].includes(r)},"filter")},{dataLayer:"roads",symbolizer:new wo({color:n.major,width:te((t,e)=>Fo(1.6,[[13,0],[18,8]])(t),"width")}),filter:te((t,e)=>e.props.kind==="minor_road","filter")},{dataLayer:"roads",symbolizer:new wo({color:n.major,width:te((t,e)=>Fo(1.6,[[6,0],[12,1.6],[15,3],[18,13]])(t),"width")}),filter:te((t,e)=>e.props.kind==="major_road","filter")},{dataLayer:"roads",symbolizer:new wo({color:n.major,width:te((t,e)=>Fo(1.6,[[3,0],[6,1.1],[12,1.6],[15,5],[18,15]])(t),"width")}),filter:te((t,e)=>e.props.kind==="highway","filter")},{dataLayer:"boundaries",symbolizer:new wo({color:n.boundaries,width:1}),filter:te((t,e)=>{let r=e.props.kind_detail;return typeof r=="number"&&r<=2},"filter")},{dataLayer:"roads",symbolizer:new wo({dash:[.3,.75],color:n.railway,dashWidth:te((t,e)=>Fo(1.6,[[4,0],[7,.15],[19,9]])(t),"dashWidth"),opacity:.5}),filter:te((t,e)=>e.props.kind==="rail","filter")},{dataLayer:"boundaries",symbolizer:new wo({color:n.boundaries,width:.5}),filter:te((t,e)=>{let r=e.props.kind_detail;return typeof r=="number"&&r>2},"filter")}],"paintRules"),FT=te((n,t)=>{let e=[`name:${t}`,"name"];return[{dataLayer:"roads",symbolizer:new Xm({labelProps:e,fill:n.roads_label_minor,font:"400 12px sans-serif",width:2,stroke:n.roads_label_minor_halo}),minzoom:16,filter:te((r,o)=>{let a=Br(o.props,"kind");return["minor_road","other","path"].includes(a)},"filter")},{dataLayer:"roads",symbolizer:new Xm({labelProps:e,fill:n.roads_label_major,font:"400 12px sans-serif",width:2,stroke:n.roads_label_major_halo}),minzoom:12,filter:te((r,o)=>{let a=Br(o.props,"kind");return["highway","major_road"].includes(a)},"filter")},{dataLayer:"roads",symbolizer:new Xm({labelProps:e,fill:n.roads_label_major,font:"400 12px sans-serif",width:2,stroke:n.roads_label_major_halo}),minzoom:12,filter:te((r,o)=>{let a=Br(o.props,"kind");return["highway","major_road"].includes(a)},"filter")},{dataLayer:"water",symbolizer:new Lc({labelProps:e,fill:n.ocean_label,lineHeight:1.5,letterSpacing:1,font:te((r,o)=>`400 ${c_([[3,10],[10,12]])(r)}px sans-serif`,"font"),textTransform:"uppercase"}),filter:te((r,o)=>{let a=Br(o.props,"kind");return o.geomType===1&&["ocean","bay","strait","fjord"].includes(a)},"filter")},{dataLayer:"water",symbolizer:new Lc({labelProps:e,fill:n.ocean_label,lineHeight:1.5,letterSpacing:1,font:te((r,o)=>`400 ${c_([[3,10],[6,12],[10,12]])(r)}px sans-serif`,"font")}),filter:te((r,o)=>{let a=Br(o.props,"kind");return o.geomType===1&&["sea","lake","water"].includes(a)},"filter")},{dataLayer:"places",symbolizer:new Lc({labelProps:te((r,o)=>r<6?[`ref:${t}`,"ref"]:e,"labelProps"),fill:n.state_label,stroke:n.state_label_halo,width:1,lineHeight:1.5,font:te((r,o)=>"400 12px sans-serif","font"),textTransform:"uppercase"}),filter:te((r,o)=>o.props.kind==="region","filter")},{dataLayer:"places",symbolizer:new Lc({labelProps:e,fill:n.country_label,lineHeight:1.5,font:te((r,o)=>"600 12px sans-serif","font"),textTransform:"uppercase"}),filter:te((r,o)=>o.props.kind==="country","filter")},{dataLayer:"places",minzoom:9,symbolizer:new Lc({labelProps:e,fill:n.city_label,lineHeight:1.5,font:te((r,o)=>{if(!o)return"400 12px sans-serif";let a=o.props.min_zoom,l=400;a&&a<=5&&(l=600);let c=12,h=o.props.population_rank;return h&&h>9&&(c=16),`${l} ${c}px sans-serif`},"font")}),sort:te((r,o)=>{let a=sS(r,"min_zoom"),l=sS(o,"min_zoom");return a-l},"sort"),filter:te((r,o)=>o.props.kind==="locality","filter")},{dataLayer:"places",maxzoom:8,symbolizer:new uz([new sz({radius:2,fill:n.city_label,stroke:n.city_label_halo,width:1.5}),new dz({labelProps:e,fill:n.city_label,stroke:n.city_label_halo,width:1,offsetX:6,offsetY:4.5,font:te((r,o)=>"400 12px sans-serif","font")})]),filter:te((r,o)=>o.props.kind==="locality","filter")}]},"labelRules"),HT=te((n,t,e)=>{let r=[];for(let o of n){let a=[];for(let l of o)a.push(l.clone().mult(t).add(e));r.push(a)}return r},"transformGeom"),Rh=te((n,t)=>{let e=1<<t;return n<0?e+n:n>=e?n%e:n},"wrap"),qT=class{constructor(t,e,r){this.tileCache=t,this.maxDataLevel=e,this.levelDiff=r}dataTilesForBounds(t,e){let r=Sr(2,t)/Sr(2,Math.ceil(t)),o=[],a=1,l=this.tileCache.tileSize;if(t<this.levelDiff)a=1/(1<<this.levelDiff-t)*r,o.push({dataTile:{z:0,x:0,y:0},origin:new Je(0,0),scale:a,dim:l*a});else if(t<=this.levelDiff+this.maxDataLevel){let c=1<<this.levelDiff,h=256*r,d=Math.ceil(t)-this.levelDiff,g=Math.floor(e.minX/c/h),y=Math.floor(e.minY/c/h),b=Math.floor(e.maxX/c/h),S=Math.floor(e.maxY/c/h);for(let x=g;x<=b;x++)for(let E=y;E<=S;E++){let k=new Je(x*c*h,E*c*h);o.push({dataTile:{z:d,x:Rh(x,d),y:Rh(E,d)},origin:k,scale:r,dim:l*r})}}else{let c=1<<this.levelDiff;a=(1<<Math.ceil(t)-this.maxDataLevel-this.levelDiff)*r;let h=Math.floor(e.minX/c/256/a),d=Math.floor(e.minY/c/256/a),g=Math.floor(e.maxX/c/256/a),y=Math.floor(e.maxY/c/256/a);for(let b=h;b<=g;b++)for(let S=d;S<=y;S++){let x=new Je(b*c*256*a,S*c*256*a);o.push({dataTile:{z:this.maxDataLevel,x:Rh(b,this.maxDataLevel),y:Rh(S,this.maxDataLevel)},origin:x,scale:a,dim:l*a})}}return o}dataTileForDisplayTile(t){let e,r=1,o=this.tileCache.tileSize,a;if(t.z<this.levelDiff)e={z:0,x:0,y:0},r=1/(1<<this.levelDiff-t.z),a=new Je(0,0),o=o*r;else if(t.z<=this.levelDiff+this.maxDataLevel){let l=1<<this.levelDiff;e={z:t.z-this.levelDiff,x:Math.floor(t.x/l),y:Math.floor(t.y/l)},a=new Je(e.x*l*256,e.y*l*256)}else{r=1<<t.z-this.maxDataLevel-this.levelDiff;let l=1<<this.levelDiff;e={z:this.maxDataLevel,x:Math.floor(t.x/l/r),y:Math.floor(t.y/l/r)},a=new Je(e.x*l*r*256,e.y*l*r*256),o=o*r}return{dataTile:e,scale:r,origin:a,dim:o}}getBbox(t,e){return xo(this,null,function*(){let r=this.dataTilesForBounds(t,e);return(yield Promise.all(r.map(o=>this.tileCache.get(o.dataTile)))).map((o,a)=>{let l=r[a];return{data:o,z:t,dataTile:l.dataTile,scale:l.scale,dim:l.dim,origin:l.origin}})})}getDisplayTile(t){return xo(this,null,function*(){let e=this.dataTileForDisplayTile(t);return{data:yield this.tileCache.get(e.dataTile),z:t.z,dataTile:e.dataTile,scale:e.scale,origin:e.origin,dim:e.dim}})}queryFeatures(t,e,r,o){let a=Math.round(r),l=Math.min(a-this.levelDiff,this.maxDataLevel),c=o/(1<<a-l);return this.tileCache.queryFeatures(t,e,l,c)}};te(qT,"View");var mz=qT,VT=te(n=>{let t=te(r=>{let o=r.levelDiff===void 0?1:r.levelDiff,a=r.maxDataZoom||15,l;if(typeof r.url=="string")new URL(r.url,"http://example.com").pathname.endsWith(".pmtiles")?l=new rS(r.url,!0):l=new QR(r.url,!0);else if(r.url)l=new rS(r.url,!0);else throw new Error(`Invalid source ${r.url}`);let c=new tz(l,256*1<<o);return new mz(c,a,o)},"sourceToViews"),e=new Map;if(n.sources)for(let r in n.sources)e.set(r,t(n.sources[r]));else e.set("",t(n));return e},"sourcesToViews"),gz=te((n,t,e)=>{let r=t/256,o=Math.floor(e.minX/256),a=Math.floor(e.minY/256),l=Math.floor(e.maxX/256),c=Math.floor(e.maxY/256),h=Math.log2(r),d=[];for(let g=o;g<=l;g++){let y=g%(1<<n);for(let b=a;b<=c;b++)d.push({display:Xa({z:n,x:y,y:b}),key:Xa({z:n-h,x:Math.floor(y/r),y:Math.floor(b/r)})})}return d},"covering"),YT=class{constructor(t,e){this.tree=new UR,this.current=new Map,this.dim=t,this.maxLabeledTiles=e}hasPrefix(t){for(let e of this.current.keys())if(e.startsWith(t))return!0;return!1}has(t){return this.current.has(t)}size(){return this.current.size}keys(){return this.current.keys()}searchBbox(t,e){let r=new Set;for(let o of this.tree.search(t))o.indexedLabel.order<=e&&r.add(o.indexedLabel);return r}searchLabel(t,e){let r=new Set;for(let o of t.bboxes)for(let a of this.tree.search(o))a.indexedLabel.order<=e&&r.add(a.indexedLabel);return r}bboxCollides(t,e){for(let r of this.tree.search(t))if(r.indexedLabel.order<=e)return!0;return!1}labelCollides(t,e){for(let r of t.bboxes)for(let o of this.tree.search(r))if(o.indexedLabel.order<=e)return!0;return!1}deduplicationCollides(t){if(!t.deduplicationKey||!t.deduplicationDistance)return!1;let e=t.deduplicationDistance,r={minX:t.anchor.x-e,minY:t.anchor.y-e,maxX:t.anchor.x+e,maxY:t.anchor.y+e};for(let o of this.tree.search(r))if(o.indexedLabel.deduplicationKey===t.deduplicationKey&&o.indexedLabel.anchor.dist(t.anchor)<e)return!0;return!1}makeEntry(t){this.current.get(t)&&console.log("consistency error 1");let e=new Set;this.current.set(t,e)}insert(t,e,r){let o={anchor:t.anchor,bboxes:t.bboxes,draw:t.draw,order:e,tileKey:r,deduplicationKey:t.deduplicationKey,deduplicationDistance:t.deduplicationDistance},a=this.current.get(r);if(!a){let h=new Set;this.current.set(r,h),a=h}a.add(o);let l=!1,c=!1;for(let h of t.bboxes)this.tree.insert({minX:h.minX,minY:h.minY,maxX:h.maxX,maxY:h.maxY,indexedLabel:o}),h.minX<0&&(l=!0),h.maxX>this.dim&&(c=!0);if(l||c){let h=l?this.dim:-this.dim,d=[];for(let b of t.bboxes)d.push({minX:b.minX+h,minY:b.minY,maxX:b.maxX+h,maxY:b.maxY});let g={anchor:new Je(t.anchor.x+h,t.anchor.y),bboxes:d,draw:t.draw,order:e,tileKey:r},y=this.current.get(r);y&&y.add(g);for(let b of d)this.tree.insert({minX:b.minX,minY:b.minY,maxX:b.maxX,maxY:b.maxY,indexedLabel:g})}}pruneOrNoop(t){let e=t.split(":"),r,o=0,a=0;for(let l of this.current.keys()){let c=l.split(":");if(c[3]===e[3]){a++;let h=Math.sqrt(Sr(+c[0]-+e[0],2)+Sr(+c[1]-+e[1],2));h>o&&(o=h,r=l)}r&&a>this.maxLabeledTiles&&this.pruneKey(r)}}pruneKey(t){let e=this.current.get(t);if(!e)return;let r=[];for(let o of this.tree.all())e.has(o.indexedLabel)&&r.push(o);for(let o of r)this.tree.remove(o);this.current.delete(t)}removeLabel(t){let e=[];for(let o of this.tree.all())t===o.indexedLabel&&e.push(o);for(let o of e)this.tree.remove(o);let r=this.current.get(t.tileKey);r&&r.delete(t)}};te(YT,"Index");var yz=YT,ZT=class{constructor(t,e,r,o,a){this.index=new yz(256*1<<t,o),this.z=t,this.scratch=e,this.labelRules=r,this.callback=a}layout(t){let e=performance.now(),r=new Set;for(let[a,l]of t)for(let c of l){let h=`${Xa(c.dataTile)}:${a}`;this.index.has(h)||(this.index.makeEntry(h),r.add(h))}let o=new Set;for(let[a,l]of this.labelRules.entries()){if(l.visible===!1||l.minzoom&&this.z<l.minzoom||l.maxzoom&&this.z>l.maxzoom)continue;let c=l.dataSource||"",h=t.get(c);if(h)for(let d of h){let g=`${Xa(d.dataTile)}:${c}`;if(!r.has(g))continue;let y=d.data.get(l.dataLayer);if(y===void 0)continue;let b=y;l.sort&&b.sort((x,E)=>l.sort?l.sort(x.props,E.props):0);let S={index:this.index,zoom:this.z,scratch:this.scratch,order:a,overzoom:this.z-d.dataTile.z};for(let x of b){if(l.filter&&!l.filter(this.z,x))continue;let E=HT(x.geom,d.scale,d.origin),k=l.symbolizer.place(S,E,x);if(k)for(let C of k){let M=!1;if(!(C.deduplicationKey&&this.index.deduplicationCollides(C))){if(this.index.labelCollides(C,1/0)){if(!this.index.labelCollides(C,a)){let P=this.index.searchLabel(C,1/0);for(let z of P){this.index.removeLabel(z);for(let D of z.bboxes)this.findInvalidatedTiles(o,d.dim,D,g)}this.index.insert(C,a,g),M=!0}}else this.index.insert(C,a,g),M=!0;if(M)for(let P of C.bboxes)(P.maxX>d.origin.x+d.dim||P.minX<d.origin.x||P.minY<d.origin.y||P.maxY>d.origin.y+d.dim)&&this.findInvalidatedTiles(o,d.dim,P,g)}}}}}for(let a of r)this.index.pruneOrNoop(a);return o.size>0&&this.callback&&this.callback(o),performance.now()-e}findInvalidatedTiles(t,e,r,o){let a=gz(this.z,e,r);for(let l of a)l.key!==o&&this.index.hasPrefix(l.key)&&t.add(l.display)}add(t){let e=!0;for(let[r,o]of t)for(let a of o)this.index.has(`${Xa(a.dataTile)}:${r}`)||(e=!1);return e?0:this.layout(t)}};te(ZT,"Labeler");var KT=ZT,WT=class{constructor(t,e,r,o){this.labelers=new Map,this.scratch=t,this.labelRules=e,this.maxLabeledTiles=r,this.callback=o}add(t,e){let r=this.labelers.get(t);return r||(r=new KT(t,this.scratch,this.labelRules,this.maxLabeledTiles,this.callback),this.labelers.set(t,r)),r.add(e)}getIndex(t){let e=this.labelers.get(t);if(e)return e.index}};te(WT,"Labelers");var aS=WT;function Q_(n,t,e,r,o,a,l,c,h){let d=performance.now();n.save(),n.miterLimit=2;for(let g of o){if(g.minzoom&&t<g.minzoom||g.maxzoom&&t>g.maxzoom)continue;let y=e.get(g.dataSource||"");if(y)for(let b of y){let S=b.data.get(g.dataLayer);if(S===void 0)continue;g.symbolizer.before&&g.symbolizer.before(n,b.z);let x=b.origin,E=b.dim,k=b.scale;if(n.save(),c){n.beginPath();let C=Math.max(x.x-l.x,a.minX-l.x),M=Math.max(x.y-l.y,a.minY-l.y),P=Math.min(x.x-l.x+E,a.maxX-l.x),z=Math.min(x.y-l.y+E,a.maxY-l.y);n.rect(C,M,P-C,z-M),n.clip()}n.translate(x.x-l.x,x.y-l.y);for(let C of S){let M=C.geom,P=C.bbox;P.maxX*k+x.x<a.minX||P.minX*k+x.x>a.maxX||P.minY*k+x.y>a.maxY||P.maxY*k+x.y<a.minY||g.filter&&!g.filter(b.z,C)||(k!==1&&(M=HT(M,k,new Je(0,0))),g.symbolizer.draw(n,M,b.z,C))}n.restore()}}if(c&&(n.beginPath(),n.rect(a.minX-l.x,a.minY-l.y,a.maxX-a.minX,a.maxY-a.minY),n.clip()),r){let g=r.searchBbox(a,1/0);for(let y of g)if(n.save(),n.translate(y.anchor.x-l.x,y.anchor.y-l.y),y.draw(n),n.restore(),h){n.lineWidth=.5,n.strokeStyle=h,n.fillStyle=h,n.globalAlpha=1,n.fillRect(y.anchor.x-l.x-2,y.anchor.y-l.y-2,4,4);for(let b of y.bboxes)n.strokeRect(b.minX-l.x,b.minY-l.y,b.maxX-b.minX,b.maxY-b.minY)}}return n.restore(),performance.now()-d}te(Q_,"paint");var lf=6378137,lS=85.0511287798,So=lf*Math.PI,XT=te(n=>{let t=Math.PI/180,e=Math.max(Math.min(lS,n.y),-lS),r=Math.sin(e*t);return new Je(lf*n.x*t,lf*Math.log((1+r)/(1-r))/2)},"project"),_z=te(n=>{let t=180/Math.PI;return{lat:(2*Math.atan(Math.exp(n.y/lf))-Math.PI/2)*t,lng:n.x*t/lf}},"unproject"),bz=te((n,t)=>e=>{let r=XT(e);return new Je((r.x+So)/(So*2),1-(r.y+So)/(So*2)).mult(Sr(2,t)*256).sub(n)},"instancedProject"),vz=te((n,t)=>e=>{let r=new Je(e.x,e.y).add(n).div(Sr(2,t)*256),o=new Je(r.x*(So*2)-So,(1-r.y)*(So*2)-So);return _z(o)},"instancedUnproject"),uS=te((n,t)=>{let e=t*(360/n);return Math.log2(e/256)},"getZoom"),wz=class{constructor(t){if(t.flavor){let e=Z_(t.flavor);this.paintRules=UT(e),this.labelRules=FT(e,t.lang||"en"),this.backgroundColor=e.background}else this.paintRules=t.paintRules||[],this.labelRules=t.labelRules||[],this.backgroundColor=t.backgroundColor;this.views=VT(t),this.debug=t.debug||""}drawContext(t,e,r,o,a){return xo(this,null,function*(){let l=XT(o),c=new Je((l.x+So)/(So*2),1-(l.y+So)/(So*2)).clone().mult(Sr(2,a)*256).sub(new Je(e/2,r/2)),h={minX:c.x,minY:c.y,maxX:c.x+e,maxY:c.y+r},d=[];for(let[E,k]of this.views){let C=k.getBbox(a,h);d.push({key:E,promise:C})}let g=yield Promise.all(d.map(E=>E.promise.then(k=>({status:"fulfilled",value:k,key:E.key}),k=>({status:"rejected",value:[],reason:k,key:E.key})))),y=new Map;for(let E of g)E.status==="fulfilled"&&y.set(E.key,E.value);let b=performance.now(),S=new KT(a,t,this.labelRules,16,void 0);S.add(y),this.backgroundColor&&(t.save(),t.fillStyle=this.backgroundColor,t.fillRect(0,0,e,r),t.restore());let x=this.paintRules;if(Q_(t,a,y,S.index,x,h,c,!0,this.debug),this.debug){t.save(),t.translate(-c.x,-c.y),t.strokeStyle=this.debug,t.fillStyle=this.debug,t.font="12px sans-serif";let E=0;for(let[k,C]of y){for(let M of C){t.strokeRect(M.origin.x,M.origin.y,M.dim,M.dim);let P=M.dataTile;t.fillText(`${k+(k?" ":"")+P.z} ${P.x} ${P.y}`,M.origin.x+4,M.origin.y+14*(1+E))}E++}t.restore()}return{elapsed:performance.now()-b,project:bz(c,a),unproject:vz(c,a)}})}drawCanvas(t,e,r){return xo(this,arguments,function*(o,a,l,c={}){let h=window.devicePixelRatio,d=o.clientWidth,g=o.clientHeight;o.width===d*h&&o.height===g*h||(o.width=d*h,o.height=g*h),c.lang&&(o.lang=c.lang);let y=o.getContext("2d");if(!y){console.error("Failed to initialize canvas2d context.");return}return y.setTransform(h,0,0,h,0,0),this.drawContext(y,d,g,a,l)})}drawContextBounds(t,e,r,o,a){return xo(this,null,function*(){let l=r.x-e.x,c=new Je((e.x+r.x)/2,(e.y+r.y)/2);return this.drawContext(t,o,a,c,uS(l,o))})}drawCanvasBounds(t,e,r,o){return xo(this,arguments,function*(a,l,c,h,d={}){let g=c.x-l.x,y=new Je((l.x+c.x)/2,(l.y+c.y)/2);return this.drawCanvas(a,y,uS(g,h),d)})}};te(wz,"Static");var xz=te(n=>new Promise(t=>{setTimeout(()=>{t()},n)}),"timer"),Sz=te(n=>n.then(t=>({status:"fulfilled",value:t}),t=>({status:"rejected",reason:t})),"reflect"),Ez=te((n={})=>{let t=class extends L.GridLayer{constructor(o={}){var a;if(o.noWrap&&!o.bounds&&(o.bounds=[[-90,-180],[90,180]]),o.attribution==null&&(o.attribution='<a href="https://protomaps.com">Protomaps</a> © <a href="https://openstreetmap.org/copyright">OpenStreetMap</a>'),super(o),o.flavor){let c=Z_(o.flavor);this.paintRules=UT(c),this.labelRules=FT(c,o.lang||"en"),this.backgroundColor=c.background}else this.paintRules=o.paintRules||[],this.labelRules=o.labelRules||[],this.backgroundColor=o.backgroundColor;this.devicePixelRatio=(a=o.devicePixelRatio)!=null?a:window.devicePixelRatio,this.lastRequestedZ=void 0,this.tasks=o.tasks||[],this.views=VT(o),this.debug=o.debug;let l=document.createElement("canvas").getContext("2d");this.scratch=l,this.onTilesInvalidated=c=>{for(let h of c)this.rerenderTile(h)},this.labelers=new aS(this.scratch,this.labelRules,16,this.onTilesInvalidated),this.tileSize=256*this.devicePixelRatio,this.tileDelay=o.tileDelay||3,this.lang=o.lang}renderTile(o,a,l,c=()=>{}){return xo(this,null,function*(){this.lastRequestedZ=o.z;let h=[];for(let[R,V]of this.views){let J=V.getDisplayTile(o);h.push({key:R,promise:J})}let d=yield Promise.all(h.map(R=>R.promise.then(V=>({status:"fulfilled",value:V,key:R.key}),V=>({status:"rejected",reason:V,key:R.key})))),g=new Map;for(let R of d)R.status==="fulfilled"?g.set(R.key,[R.value]):R.reason.name==="AbortError"||console.error(R.reason);if(a.key!==l||this.lastRequestedZ!==o.z||(yield Promise.all(this.tasks.map(Sz)),a.key!==l)||this.lastRequestedZ!==o.z)return;let y=this.labelers.add(o.z,g);if(a.key!==l||this.lastRequestedZ!==o.z)return;let b=this.labelers.getIndex(o.z);if(!this._map)return;let S=this._map.getCenter().wrap(),x=this._getTiledPixelBounds(S),E=this._pxBoundsToTileRange(x).getCenter(),k=o.distanceTo(E)*this.tileDelay;if(yield xz(k),a.key!==l||this.lastRequestedZ!==o.z)return;let C=16,M={minX:256*o.x-C,minY:256*o.y-C,maxX:256*(o.x+1)+C,maxY:256*(o.y+1)+C},P=new Je(256*o.x,256*o.y);a.width=this.tileSize,a.height=this.tileSize;let z=a.getContext("2d");if(!z){console.error("Failed to get Canvas context");return}z.setTransform(this.tileSize/256,0,0,this.tileSize/256,0,0),z.clearRect(0,0,256,256),this.backgroundColor&&(z.save(),z.fillStyle=this.backgroundColor,z.fillRect(0,0,256,256),z.restore());let D=0,B=this.paintRules;if(D=Q_(z,o.z,g,this.xray?null:b,B,M,P,!1,this.debug),this.debug){z.save(),z.fillStyle=this.debug,z.font="600 12px sans-serif",z.fillText(`${o.z} ${o.x} ${o.y}`,4,14),z.font="12px sans-serif";let R=28;for(let[V,J]of g){let tt=J[0].dataTile;z.fillText(`${V+(V?" ":"")+tt.z} ${tt.x} ${tt.y}`,4,R),R+=14}z.font="600 10px sans-serif",D>8&&(z.fillText(`${D.toFixed()} ms paint`,4,R),R+=14),y>8&&z.fillText(`${y.toFixed()} ms layout`,4,R),z.strokeStyle=this.debug,z.lineWidth=.5,z.beginPath(),z.moveTo(0,0),z.lineTo(0,256),z.stroke(),z.lineWidth=.5,z.beginPath(),z.moveTo(0,0),z.lineTo(256,0),z.stroke(),z.restore()}c()})}rerenderTile(o){for(let a in this._tiles){let l=this._wrapCoords(this._keyToTileCoords(a));o===this._tileCoordsToKey(l)&&this.renderTile(l,this._tiles[a].el,o)}}queryTileFeaturesDebug(o,a,l=16){let c=new Map;for(let[h,d]of this.views)c.set(h,d.queryFeatures(o,a,this._map.getZoom(),l));return c}clearLayout(){this.labelers=new aS(this.scratch,this.labelRules,16,this.onTilesInvalidated)}rerenderTiles(){for(let o in this._tiles){let a=this._wrapCoords(this._keyToTileCoords(o)),l=this._tileCoordsToKey(a);this.renderTile(a,this._tiles[o].el,l)}}createTile(o,a){let l=L.DomUtil.create("canvas","leaflet-tile");l.lang=this.lang;let c=this._tileCoordsToKey(o);return l.key=c,this.renderTile(o,l,c,()=>{a(void 0,l)}),l}_removeTile(o){let a=this._tiles[o];a&&(a.el.removed=!0,a.el.key=void 0,L.DomUtil.removeClass(a.el,"leaflet-tile-loaded"),a.el.width=a.el.height=0,L.DomUtil.remove(a.el),delete this._tiles[o],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(o)}))}};te(t,"LeafletLayer");let e=t;return new e(n)},"leafletLayer");te((n,t,e)=>{let r=new FontFace(n,`url(${t})`,{weight:e});return document.fonts.add(r),r.load()},"Font");var cS=te(n=>xo(void 0,null,function*(){return new Promise((t,e)=>{let r=new Image;r.onload=()=>t(r),r.onerror=()=>e("Invalid SVG"),r.src=n})}),"mkimg"),Tz=`
<svg width="20px" height="20px" viewBox="0 0 50 50" version="1.1" xmlns="http://www.w3.org/2000/svg">
    <rect width="50" height="50" fill="#cccccc"/>
    <g transform="translate(5,5)">
        <path fill="none" stroke="#666666" stroke-width="7" d="m11,12a8.5,8 0 1,1 17,0q0,4-4,6t-4.5,4.5-.4,4v.2m0,3v7"/>
    </g>
</svg>
`,Az=class{constructor(t){this.src=t,this.canvas=document.createElement("canvas"),this.mapping=new Map,this.missingBox={x:0,y:0,w:0,h:0}}load(){return xo(this,null,function*(){let t=this.src,e=window.devicePixelRatio;t.endsWith(".html")&&(t=yield(yield fetch(t)).text());let r=new window.DOMParser().parseFromString(t,"text/html"),o=Array.from(r.body.children),a=yield cS(`data:image/svg+xml;base64,${btoa(Tz)}`),l=[{w:a.width*e,h:a.height*e,img:a,id:""}],c=new XMLSerializer;for(let g of o){let y=`data:image/svg+xml;base64,${btoa(c.serializeToString(g))}`,b=yield cS(y);l.push({w:b.width*e,h:b.height*e,img:b,id:g.id})}let h=ZR(l);this.canvas.width=h.w,this.canvas.height=h.h;let d=this.canvas.getContext("2d");if(d)for(let g of l)g.x!==void 0&&g.y!==void 0&&(d.drawImage(g.img,g.x,g.y,g.w,g.h),g.id?this.mapping.set(g.id,{x:g.x,y:g.y,w:g.w,h:g.h}):this.missingBox={x:g.x,y:g.y,w:g.w,h:g.h});return this})}get(t){let e=this.mapping.get(t);return e||(e=this.missingBox),e}};te(Az,"Sheet");delete pf.Icon.Default.prototype._getIconUrl;pf.Icon.Default.mergeOptions({iconRetinaUrl:rP,iconUrl:oP,shadowUrl:sP});const kz=new pf.Icon({iconUrl:"/assets/Vehicle.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-16]}),Gm=new Map;function Mz(n,t){const e=(n?"w":"n")+(t?"S":"N");if(Gm.has(e))return Gm.get(e);const r=n?"/assets/RSE_warn.png":"/assets/RSE.png",o=new pf.DivIcon({className:"rse-wrapper",iconSize:[32,32],iconAnchor:[16,32],html:`
      <img class="rse-img ${t?"selected":""} ${n?"warn":"ok"}"
           src="${r}" alt="RSE" width="32" height="32" />
    `});return Gm.set(e,o),o}function Oz(n,t){const e=l=>typeof l=="number"&&Number.isFinite(l)?l:null;let r=e(n),o=e(t);r!=null&&Math.abs(r)>90&&(r/=1e7),o!=null&&Math.abs(o)>180&&(o/=1e7),typeof r=="number"&&Math.abs(r)<=90||(r=null),typeof o=="number"&&Math.abs(o)<=180||(o=null);const a=!(r!=null&&o!=null);return a&&(r=37.5665,o=126.978),{lat:r,lon:o,isFallback:a}}function Cz({pmtilesPath:n="/maps/seoulToGunsan.pmtiles"}){const t=Fd();return Ce.useEffect(()=>{if(!t)return;const r=`${typeof window<"u"?window.location.origin:""}${n}`,o=Ez({url:r,flavor:"light",lang:"ko"});return o.addTo(t),()=>{try{t.removeLayer(o)}catch{}}},[t,n]),null}function Lz({lat:n,lon:t,autoFollow:e}){const r=Fd(),o=Ce.useRef({lat:null,lon:null});return Ce.useEffect(()=>{if(!(n==null||t==null||!e)&&!(o.current.lat===n&&o.current.lon===t)){o.current={lat:n,lon:t};try{r.easeTo({center:[n,t],duration:350})}catch{r.setView([n,t])}}},[n,t,e,r]),null}function Nz({onUserInteract:n}){return eP({dragstart:t=>{t?.originalEvent&&n?.()},zoomstart:t=>{t?.originalEvent&&n?.()},touchstart:t=>{t?.originalEvent&&n?.()}}),null}function Dz({autoFollow:n,setAutoFollow:t}){const e=Fd(),r=Ce.useRef(null),o=Ce.useRef(null);return Ce.useEffect(()=>{if(!e)return;const a=document.createElement("button");a.type="button",a.title="지도를 드래그/확대하면 자동으로 꺼집니다",a.innerText=n?"추적: 켜짐":"추적: 꺼짐",a.className="leaflet-bar",a.style.minWidth="88px",a.onclick=c=>{c.preventDefault(),c.stopPropagation(),t(h=>!h)};const l=pf.control({position:"topright"});return l.onAdd=()=>a,l.addTo(e),r.current=a,o.current=l,()=>{try{o.current?.remove?.()}catch{}r.current=null,o.current=null}},[e]),Ce.useEffect(()=>{r.current&&(r.current.innerText=n?"추적: 켜짐":"추적: 꺼짐")},[n]),null}function jz(){const n=H2(o=>o.byId),t=Ya(o=>o.selectedId),e=Ya(o=>o.warningById),r=Ce.useMemo(()=>Object.values(n).filter(a=>Number.isFinite(a?.gnss?.lat)&&Number.isFinite(a?.gnss?.lon)),[n]);return r.length===0?null:X.jsx(X.Fragment,{children:r.map(o=>{const a=!!e?.[o.id],l=!!t&&o.id===t,c=Mz(a,l);return X.jsx(qE,{position:[o.gnss.lat,o.gnss.lon],icon:c,zIndexOffset:l?1e3:0,children:X.jsx(VE,{children:X.jsxs("div",{style:{fontSize:12,lineHeight:1.2},children:[X.jsx("div",{children:X.jsx("strong",{children:o.serial??o.id})}),X.jsxs("div",{children:["(",o.gnss.lat?.toFixed?.(6),", ",o.gnss.lon?.toFixed?.(6),")"]}),a&&X.jsx("div",{style:{color:"#dc2626"},children:"⚠ Health 비정상"}),l&&X.jsx("div",{style:{color:"#2563eb"},children:"✓ 선택됨"})]})})},o.id)})})}function Pz({latitude:n,longitude:t,heading:e=0}){const r=Oz(n,t),o={lat:r.lat,lon:r.lon},a=r.isFallback,[l,c]=Ce.useState(!0);return X.jsxs(iP,{center:[o.lat,o.lon],zoom:15,scrollWheelZoom:!0,style:{width:"100%",height:"100%",borderRadius:8},children:[X.jsx(Cz,{pmtilesPath:"/maps/seoulToGunsan.pmtiles"}),X.jsx(jz,{}),X.jsx(qE,{position:[o.lat,o.lon],icon:kz,rotationAngle:Number.isFinite(e)?e:0,rotationOrigin:"center",children:X.jsxs(VE,{children:["차량 위치",X.jsx("br",{}),o.lat.toFixed(6),", ",o.lon.toFixed(6)]})}),X.jsx(Lz,{lat:o.lat,lon:o.lon,autoFollow:l&&!a}),X.jsx(Nz,{onUserInteract:()=>c(!1)}),X.jsx(Dz,{autoFollow:l,setAutoFollow:c})]})}const Rz=Ce.memo(Pz);function zz({className:n="",mapProps:t={}}){const e=Zc(l=>l.parsed.gnss?.lat??null),r=Zc(l=>l.parsed.gnss?.lon??null),o=Zc(l=>l.parsed.gnss?.headingDeg??null),a=Ce.useMemo(()=>e==null||r==null?null:{latitude:Math.round(e*1e7),longitude:Math.round(r*1e7),heading:o??void 0},[e,r,o]);return X.jsx(Rz,{latitude:a?.latitude,longitude:a?.longitude,heading:a?.heading,...t})}const Bz=Ce.memo(zz,(n,t)=>n.className===t.className&&n.mapProps===t.mapProps);function Iz(){const[n,t]=Ce.useState("Home"),[e,r]=Ce.useState(!1),o=sa(c=>c.connect),a=sa(c=>c.disconnect);Ce.useEffect(()=>{o();const c=$O();return()=>{c?.(),a()}},[]);const l=()=>{switch(n){case"Home":return X.jsx(JC,{});case"DeviceList":return X.jsx(t3,{setActivePage:t});case"RegisterDevice":return X.jsx(n3,{setActivePage:t});case"DeviceMonitoring":return X.jsx(Ij,{setActivePage:t});case"V2XTest":return X.jsx(V2XTest,{});case"Settings":return X.jsx(Fj,{});default:return X.jsx("div",{children:"Page not found"})}};return X.jsx("div",{className:"h-dvh w-dvw bg-[#121d2d] flex items-center justify-center",children:X.jsxs("div",{className:"w-1/5 flex flex-1 h-full min-h-0",children:[X.jsx(VC,{activePage:n,setActivePage:t,isCollapsed:e,setIsCollapsed:r}),X.jsxs("div",{className:"w-4/5 flex flex-1 min-h-0 flex-col",children:[X.jsx(XC,{activePage:n}),X.jsx("main",{className:"w-full flex-1 min-h-0 p-7",children:n==="DeviceList"||n==="DeviceMonitoring"?X.jsxs("div",{className:"grid grid-cols-[2fr_1fr] w-full h-full gap-3",children:[l(),X.jsx(Bz,{})]}):l()})]})]})})}wk.createRoot(document.getElementById("root")).render(X.jsx(Ce.StrictMode,{children:X.jsx(Iz,{})}));
